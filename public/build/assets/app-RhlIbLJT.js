var l$=t=>{throw TypeError(t)};var UX=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var oE=(t,e,r)=>e.has(t)||l$("Cannot "+r);var le=(t,e,r)=>(oE(t,e,"read from private field"),r?r.call(t):e.get(t)),Et=(t,e,r)=>e.has(t)?l$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ke=(t,e,r,n)=>(oE(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ei=(t,e,r)=>(oE(t,e,"access private method"),r);var hb=(t,e,r,n)=>({set _(i){Ke(t,e,i,r)},get _(){return le(t,e,n)}});var rUe=UX((FUe,RC)=>{var da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function YX(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var TB={exports:{}},C_={},kB={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow=Symbol.for("react.element"),GX=Symbol.for("react.portal"),KX=Symbol.for("react.fragment"),qX=Symbol.for("react.strict_mode"),XX=Symbol.for("react.profiler"),QX=Symbol.for("react.provider"),JX=Symbol.for("react.context"),ZX=Symbol.for("react.forward_ref"),eQ=Symbol.for("react.suspense"),tQ=Symbol.for("react.memo"),rQ=Symbol.for("react.lazy"),c$=Symbol.iterator;function nQ(t){return t===null||typeof t!="object"?null:(t=c$&&t[c$]||t["@@iterator"],typeof t=="function"?t:null)}var PB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NB=Object.assign,MB={};function pp(t,e,r){this.props=t,this.context=e,this.refs=MB,this.updater=r||PB}pp.prototype.isReactComponent={};pp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function IB(){}IB.prototype=pp.prototype;function mA(t,e,r){this.props=t,this.context=e,this.refs=MB,this.updater=r||PB}var pA=mA.prototype=new IB;pA.constructor=mA;NB(pA,pp.prototype);pA.isPureReactComponent=!0;var u$=Array.isArray,AB=Object.prototype.hasOwnProperty,yA={current:null},OB={key:!0,ref:!0,__self:!0,__source:!0};function HB(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)AB.call(e,n)&&!OB.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:ow,type:t,key:s,ref:o,props:i,_owner:yA.current}}function iQ(t,e){return{$$typeof:ow,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vA(t){return typeof t=="object"&&t!==null&&t.$$typeof===ow}function sQ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var d$=/\/+/g;function aE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sQ(""+t.key):e.toString(36)}function Px(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ow:case GX:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+aE(o,0):n,u$(i)?(r="",t!=null&&(r=t.replace(d$,"$&/")+"/"),Px(i,e,r,"",function(c){return c})):i!=null&&(vA(i)&&(i=iQ(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(d$,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",u$(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+aE(s,a);o+=Px(s,e,r,l,i)}else if(l=nQ(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+aE(s,a++),o+=Px(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fb(t,e,r){if(t==null)return t;var n=[],i=0;return Px(t,n,"","",function(s){return e.call(r,s,i++)}),n}function oQ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $i={current:null},Nx={transition:null},aQ={ReactCurrentDispatcher:$i,ReactCurrentBatchConfig:Nx,ReactCurrentOwner:yA};function jB(){throw Error("act(...) is not supported in production builds of React.")}St.Children={map:fb,forEach:function(t,e,r){fb(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return fb(t,function(){e++}),e},toArray:function(t){return fb(t,function(e){return e})||[]},only:function(t){if(!vA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};St.Component=pp;St.Fragment=KX;St.Profiler=XX;St.PureComponent=mA;St.StrictMode=qX;St.Suspense=eQ;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aQ;St.act=jB;St.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=NB({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=yA.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)AB.call(e,l)&&!OB.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:ow,type:t.type,key:i,ref:s,props:n,_owner:o}};St.createContext=function(t){return t={$$typeof:JX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QX,_context:t},t.Consumer=t};St.createElement=HB;St.createFactory=function(t){var e=HB.bind(null,t);return e.type=t,e};St.createRef=function(){return{current:null}};St.forwardRef=function(t){return{$$typeof:ZX,render:t}};St.isValidElement=vA;St.lazy=function(t){return{$$typeof:rQ,_payload:{_status:-1,_result:t},_init:oQ}};St.memo=function(t,e){return{$$typeof:tQ,type:t,compare:e===void 0?null:e}};St.startTransition=function(t){var e=Nx.transition;Nx.transition={};try{t()}finally{Nx.transition=e}};St.unstable_act=jB;St.useCallback=function(t,e){return $i.current.useCallback(t,e)};St.useContext=function(t){return $i.current.useContext(t)};St.useDebugValue=function(){};St.useDeferredValue=function(t){return $i.current.useDeferredValue(t)};St.useEffect=function(t,e){return $i.current.useEffect(t,e)};St.useId=function(){return $i.current.useId()};St.useImperativeHandle=function(t,e,r){return $i.current.useImperativeHandle(t,e,r)};St.useInsertionEffect=function(t,e){return $i.current.useInsertionEffect(t,e)};St.useLayoutEffect=function(t,e){return $i.current.useLayoutEffect(t,e)};St.useMemo=function(t,e){return $i.current.useMemo(t,e)};St.useReducer=function(t,e,r){return $i.current.useReducer(t,e,r)};St.useRef=function(t){return $i.current.useRef(t)};St.useState=function(t){return $i.current.useState(t)};St.useSyncExternalStore=function(t,e,r){return $i.current.useSyncExternalStore(t,e,r)};St.useTransition=function(){return $i.current.useTransition()};St.version="18.3.1";kB.exports=St;var W=kB.exports;const bt=sw(W);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lQ=W,cQ=Symbol.for("react.element"),uQ=Symbol.for("react.fragment"),dQ=Object.prototype.hasOwnProperty,hQ=lQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fQ={key:!0,ref:!0,__self:!0,__source:!0};function DB(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)dQ.call(e,n)&&!fQ.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:cQ,type:t,key:s,ref:o,props:i,_owner:hQ.current}}C_.Fragment=uQ;C_.jsx=DB;C_.jsxs=DB;TB.exports=C_;var u=TB.exports;function $B(t,e){return function(){return t.apply(e,arguments)}}const{toString:gQ}=Object.prototype,{getPrototypeOf:wA}=Object,{iterator:__,toStringTag:LB}=Symbol,R_=(t=>e=>{const r=gQ.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ca=t=>(t=t.toLowerCase(),e=>R_(e)===t),E_=t=>e=>typeof e===t,{isArray:yp}=Array,Ym=E_("undefined");function aw(t){return t!==null&&!Ym(t)&&t.constructor!==null&&!Ym(t.constructor)&&as(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const FB=Ca("ArrayBuffer");function mQ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&FB(t.buffer),e}const pQ=E_("string"),as=E_("function"),VB=E_("number"),lw=t=>t!==null&&typeof t=="object",yQ=t=>t===!0||t===!1,Mx=t=>{if(R_(t)!=="object")return!1;const e=wA(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(LB in t)&&!(__ in t)},vQ=t=>{if(!lw(t)||aw(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},wQ=Ca("Date"),bQ=Ca("File"),SQ=Ca("Blob"),xQ=Ca("FileList"),CQ=t=>lw(t)&&as(t.pipe),_Q=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||as(t.append)&&((e=R_(t))==="formdata"||e==="object"&&as(t.toString)&&t.toString()==="[object FormData]"))},RQ=Ca("URLSearchParams"),[EQ,TQ,kQ,PQ]=["ReadableStream","Request","Response","Headers"].map(Ca),NQ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cw(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),yp(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(aw(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function WB(t,e){if(aw(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const kh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,BB=t=>!Ym(t)&&t!==kh;function CN(){const{caseless:t,skipUndefined:e}=BB(this)&&this||{},r={},n=(i,s)=>{const o=t&&WB(r,s)||s;Mx(r[o])&&Mx(i)?r[o]=CN(r[o],i):Mx(i)?r[o]=CN({},i):yp(i)?r[o]=i.slice():(!e||!Ym(i))&&(r[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&cw(arguments[i],n);return r}const MQ=(t,e,r,{allOwnKeys:n}={})=>(cw(e,(i,s)=>{r&&as(i)?t[s]=$B(i,r):t[s]=i},{allOwnKeys:n}),t),IQ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),AQ=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},OQ=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&wA(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},HQ=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},jQ=t=>{if(!t)return null;if(yp(t))return t;let e=t.length;if(!VB(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},DQ=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&wA(Uint8Array)),$Q=(t,e)=>{const n=(t&&t[__]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},LQ=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},FQ=Ca("HTMLFormElement"),VQ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),h$=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),WQ=Ca("RegExp"),zB=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};cw(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},BQ=t=>{zB(t,(e,r)=>{if(as(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(as(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},zQ=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return yp(t)?n(t):n(String(t).split(e)),r},UQ=()=>{},YQ=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function GQ(t){return!!(t&&as(t.append)&&t[LB]==="FormData"&&t[__])}const KQ=t=>{const e=new Array(10),r=(n,i)=>{if(lw(n)){if(e.indexOf(n)>=0)return;if(aw(n))return n;if(!("toJSON"in n)){e[i]=n;const s=yp(n)?[]:{};return cw(n,(o,a)=>{const l=r(o,i+1);!Ym(l)&&(s[a]=l)}),e[i]=void 0,s}}return n};return r(t,0)},qQ=Ca("AsyncFunction"),XQ=t=>t&&(lw(t)||as(t))&&as(t.then)&&as(t.catch),UB=((t,e)=>t?setImmediate:e?((r,n)=>(kh.addEventListener("message",({source:i,data:s})=>{i===kh&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),kh.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",as(kh.postMessage)),QQ=typeof queueMicrotask<"u"?queueMicrotask.bind(kh):typeof process<"u"&&process.nextTick||UB,JQ=t=>t!=null&&as(t[__]),ne={isArray:yp,isArrayBuffer:FB,isBuffer:aw,isFormData:_Q,isArrayBufferView:mQ,isString:pQ,isNumber:VB,isBoolean:yQ,isObject:lw,isPlainObject:Mx,isEmptyObject:vQ,isReadableStream:EQ,isRequest:TQ,isResponse:kQ,isHeaders:PQ,isUndefined:Ym,isDate:wQ,isFile:bQ,isBlob:SQ,isRegExp:WQ,isFunction:as,isStream:CQ,isURLSearchParams:RQ,isTypedArray:DQ,isFileList:xQ,forEach:cw,merge:CN,extend:MQ,trim:NQ,stripBOM:IQ,inherits:AQ,toFlatObject:OQ,kindOf:R_,kindOfTest:Ca,endsWith:HQ,toArray:jQ,forEachEntry:$Q,matchAll:LQ,isHTMLForm:FQ,hasOwnProperty:h$,hasOwnProp:h$,reduceDescriptors:zB,freezeMethods:BQ,toObjectSet:zQ,toCamelCase:VQ,noop:UQ,toFiniteNumber:YQ,findKey:WB,global:kh,isContextDefined:BB,isSpecCompliantForm:GQ,toJSONObject:KQ,isAsyncFn:qQ,isThenable:XQ,setImmediate:UB,asap:QQ,isIterable:JQ};function tt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ne.inherits(tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const YB=tt.prototype,GB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{GB[t]={value:t}});Object.defineProperties(tt,GB);Object.defineProperty(YB,"isAxiosError",{value:!0});tt.from=(t,e,r,n,i,s)=>{const o=Object.create(YB);ne.toFlatObject(t,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return tt.call(o,a,l,r,n,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",s&&Object.assign(o,s),o};const ZQ=null;function _N(t){return ne.isPlainObject(t)||ne.isArray(t)}function KB(t){return ne.endsWith(t,"[]")?t.slice(0,-2):t}function f$(t,e,r){return t?t.concat(e).map(function(i,s){return i=KB(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function eJ(t){return ne.isArray(t)&&!t.some(_N)}const tJ=ne.toFlatObject(ne,{},null,function(e){return/^is[A-Z]/.test(e)});function T_(t,e,r){if(!ne.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ne.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,y){return!ne.isUndefined(y[p])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(e);if(!ne.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(ne.isDate(m))return m.toISOString();if(ne.isBoolean(m))return m.toString();if(!l&&ne.isBlob(m))throw new tt("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(m)||ne.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,p,y){let S=m;if(m&&!y&&typeof m=="object"){if(ne.endsWith(p,"{}"))p=n?p:p.slice(0,-2),m=JSON.stringify(m);else if(ne.isArray(m)&&eJ(m)||(ne.isFileList(m)||ne.endsWith(p,"[]"))&&(S=ne.toArray(m)))return p=KB(p),S.forEach(function(b,C){!(ne.isUndefined(b)||b===null)&&e.append(o===!0?f$([p],C,s):o===null?p:p+"[]",c(b))}),!1}return _N(m)?!0:(e.append(f$(y,p,s),c(m)),!1)}const h=[],f=Object.assign(tJ,{defaultVisitor:d,convertValue:c,isVisitable:_N});function g(m,p){if(!ne.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(m),ne.forEach(m,function(S,w){(!(ne.isUndefined(S)||S===null)&&i.call(e,S,ne.isString(w)?w.trim():w,p,f))===!0&&g(S,p?p.concat(w):[w])}),h.pop()}}if(!ne.isObject(t))throw new TypeError("data must be an object");return g(t),e}function g$(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function bA(t,e){this._pairs=[],t&&T_(t,this,e)}const qB=bA.prototype;qB.append=function(e,r){this._pairs.push([e,r])};qB.toString=function(e){const r=e?function(n){return e.call(this,n,g$)}:g$;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function rJ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function XB(t,e,r){if(!e)return t;const n=r&&r.encode||rJ;ne.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=ne.isURLSearchParams(e)?e.toString():new bA(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class m${constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ne.forEach(this.handlers,function(n){n!==null&&e(n)})}}const QB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nJ=typeof URLSearchParams<"u"?URLSearchParams:bA,iJ=typeof FormData<"u"?FormData:null,sJ=typeof Blob<"u"?Blob:null,oJ={isBrowser:!0,classes:{URLSearchParams:nJ,FormData:iJ,Blob:sJ},protocols:["http","https","file","blob","url","data"]},SA=typeof window<"u"&&typeof document<"u",RN=typeof navigator=="object"&&navigator||void 0,aJ=SA&&(!RN||["ReactNative","NativeScript","NS"].indexOf(RN.product)<0),lJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cJ=SA&&window.location.href||"http://localhost",uJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:SA,hasStandardBrowserEnv:aJ,hasStandardBrowserWebWorkerEnv:lJ,navigator:RN,origin:cJ},Symbol.toStringTag,{value:"Module"})),gi={...uJ,...oJ};function dJ(t,e){return T_(t,new gi.classes.URLSearchParams,{visitor:function(r,n,i,s){return gi.isNode&&ne.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function hJ(t){return ne.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function fJ(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function JB(t){function e(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&ne.isArray(i)?i.length:o,l?(ne.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!ne.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&ne.isArray(i[o])&&(i[o]=fJ(i[o])),!a)}if(ne.isFormData(t)&&ne.isFunction(t.entries)){const r={};return ne.forEachEntry(t,(n,i)=>{e(hJ(n),i,r,0)}),r}return null}function gJ(t,e,r){if(ne.isString(t))try{return(e||JSON.parse)(t),ne.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const uw={transitional:QB,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=ne.isObject(e);if(s&&ne.isHTMLForm(e)&&(e=new FormData(e)),ne.isFormData(e))return i?JSON.stringify(JB(e)):e;if(ne.isArrayBuffer(e)||ne.isBuffer(e)||ne.isStream(e)||ne.isFile(e)||ne.isBlob(e)||ne.isReadableStream(e))return e;if(ne.isArrayBufferView(e))return e.buffer;if(ne.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return dJ(e,this.formSerializer).toString();if((a=ne.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return T_(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),gJ(e)):e}],transformResponse:[function(e){const r=this.transitional||uw.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ne.isResponse(e)||ne.isReadableStream(e))return e;if(e&&ne.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?tt.from(a,tt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gi.classes.FormData,Blob:gi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],t=>{uw.headers[t]={}});const mJ=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pJ=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&mJ[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},p$=Symbol("internals");function Kp(t){return t&&String(t).trim().toLowerCase()}function Ix(t){return t===!1||t==null?t:ne.isArray(t)?t.map(Ix):String(t)}function yJ(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const vJ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function lE(t,e,r,n,i){if(ne.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!ne.isString(e)){if(ne.isString(n))return e.indexOf(n)!==-1;if(ne.isRegExp(n))return n.test(e)}}function wJ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function bJ(t,e){const r=ne.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}let ls=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,l,c){const d=Kp(l);if(!d)throw new Error("header name must be a non-empty string");const h=ne.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=Ix(a))}const o=(a,l)=>ne.forEach(a,(c,d)=>s(c,d,l));if(ne.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(ne.isString(e)&&(e=e.trim())&&!vJ(e))o(pJ(e),r);else if(ne.isObject(e)&&ne.isIterable(e)){let a={},l,c;for(const d of e){if(!ne.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?ne.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Kp(e),e){const n=ne.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return yJ(i);if(ne.isFunction(r))return r.call(this,i,n);if(ne.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Kp(e),e){const n=ne.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||lE(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=Kp(o),o){const a=ne.findKey(n,o);a&&(!r||lE(n,n[a],a,r))&&(delete n[a],i=!0)}}return ne.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||lE(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return ne.forEach(this,(i,s)=>{const o=ne.findKey(n,s);if(o){r[o]=Ix(i),delete r[s];return}const a=e?wJ(s):String(s).trim();a!==s&&delete r[s],r[a]=Ix(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ne.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&ne.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[p$]=this[p$]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Kp(o);n[a]||(bJ(i,o),n[a]=!0)}return ne.isArray(e)?e.forEach(s):s(e),this}};ls.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(ls.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ne.freezeMethods(ls);function cE(t,e){const r=this||uw,n=e||r,i=ls.from(n.headers);let s=n.data;return ne.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function ZB(t){return!!(t&&t.__CANCEL__)}function vp(t,e,r){tt.call(this,t??"canceled",tt.ERR_CANCELED,e,r),this.name="CanceledError"}ne.inherits(vp,tt,{__CANCEL__:!0});function e5(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new tt("Request failed with status code "+r.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function SJ(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function xJ(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=n[s];o||(o=c),r[i]=l,n[i]=c;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const g=d&&c-d;return g?Math.round(f*1e3/g):void 0}}function CJ(t,e){let r=0,n=1e3/e,i,s;const o=(c,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const d=Date.now(),h=d-r;h>=n?o(c,d):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},n-h)))},()=>i&&o(i)]}const EC=(t,e,r=3)=>{let n=0;const i=xJ(50,250);return CJ(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-n,c=i(l),d=o<=a;n=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},r)},y$=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},v$=t=>(...e)=>ne.asap(()=>t(...e)),_J=gi.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,gi.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(gi.origin),gi.navigator&&/(msie|trident)/i.test(gi.navigator.userAgent)):()=>!0,RJ=gi.hasStandardBrowserEnv?{write(t,e,r,n,i,s,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];ne.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),ne.isString(n)&&a.push(`path=${n}`),ne.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),ne.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function EJ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function TJ(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function t5(t,e,r){let n=!EJ(e);return t&&(n||r==!1)?TJ(t,e):e}const w$=t=>t instanceof ls?{...t}:t;function of(t,e){e=e||{};const r={};function n(c,d,h,f){return ne.isPlainObject(c)&&ne.isPlainObject(d)?ne.merge.call({caseless:f},c,d):ne.isPlainObject(d)?ne.merge({},d):ne.isArray(d)?d.slice():d}function i(c,d,h,f){if(ne.isUndefined(d)){if(!ne.isUndefined(c))return n(void 0,c,h,f)}else return n(c,d,h,f)}function s(c,d){if(!ne.isUndefined(d))return n(void 0,d)}function o(c,d){if(ne.isUndefined(d)){if(!ne.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function a(c,d,h){if(h in e)return n(c,d);if(h in t)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,h)=>i(w$(c),w$(d),h,!0)};return ne.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);ne.isUndefined(f)&&h!==a||(r[d]=f)}),r}const r5=t=>{const e=of({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=ls.from(o),e.url=XB(t5(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),ne.isFormData(r)){if(gi.hasStandardBrowserEnv||gi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ne.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{c.includes(d.toLowerCase())&&o.set(d,h)})}}if(gi.hasStandardBrowserEnv&&(n&&ne.isFunction(n)&&(n=n(e)),n||n!==!1&&_J(e.url))){const l=i&&s&&RJ.read(s);l&&o.set(i,l)}return e},kJ=typeof XMLHttpRequest<"u",PJ=kJ&&function(t){return new Promise(function(r,n){const i=r5(t);let s=i.data;const o=ls.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,d,h,f,g,m;function p(){g&&g(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function S(){if(!y)return;const b=ls.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),N={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};e5(function(k){r(k),p()},function(k){n(k),p()},N),y=null}"onloadend"in y?y.onloadend=S:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(S)},y.onabort=function(){y&&(n(new tt("Request aborted",tt.ECONNABORTED,t,y)),y=null)},y.onerror=function(C){const N=C&&C.message?C.message:"Network Error",P=new tt(N,tt.ERR_NETWORK,t,y);P.event=C||null,n(P),y=null},y.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||QB;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),n(new tt(C,N.clarifyTimeoutError?tt.ETIMEDOUT:tt.ECONNABORTED,t,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&ne.forEach(o.toJSON(),function(C,N){y.setRequestHeader(N,C)}),ne.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,m]=EC(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([h,g]=EC(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=b=>{y&&(n(!b||b.type?new vp(null,t,y):b),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const w=SJ(i.url);if(w&&gi.protocols.indexOf(w)===-1){n(new tt("Unsupported protocol "+w+":",tt.ERR_BAD_REQUEST,t));return}y.send(s||null)})},NJ=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;n.abort(d instanceof tt?d:new vp(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new tt(`timeout ${e} of ms exceeded`,tt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>ne.asap(a),l}},MJ=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},IJ=async function*(t,e){for await(const r of AJ(t))yield*MJ(r,e)},AJ=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},b$=(t,e,r,n)=>{const i=IJ(t,e);let s=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){a(),l.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},S$=64*1024,{isFunction:gb}=ne,OJ=(({Request:t,Response:e})=>({Request:t,Response:e}))(ne.global),{ReadableStream:x$,TextEncoder:C$}=ne.global,_$=(t,...e)=>{try{return!!t(...e)}catch{return!1}},HJ=t=>{t=ne.merge.call({skipUndefined:!0},OJ,t);const{fetch:e,Request:r,Response:n}=t,i=e?gb(e):typeof fetch=="function",s=gb(r),o=gb(n);if(!i)return!1;const a=i&&gb(x$),l=i&&(typeof C$=="function"?(m=>p=>m.encode(p))(new C$):async m=>new Uint8Array(await new r(m).arrayBuffer())),c=s&&a&&_$(()=>{let m=!1;const p=new r(gi.origin,{body:new x$,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!p}),d=o&&a&&_$(()=>ne.isReadableStream(new n("").body)),h={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(p,y)=>{let S=p&&p[m];if(S)return S.call(p);throw new tt(`Response type '${m}' is not supported`,tt.ERR_NOT_SUPPORT,y)})});const f=async m=>{if(m==null)return 0;if(ne.isBlob(m))return m.size;if(ne.isSpecCompliantForm(m))return(await new r(gi.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(m)||ne.isArrayBuffer(m))return m.byteLength;if(ne.isURLSearchParams(m)&&(m=m+""),ne.isString(m))return(await l(m)).byteLength},g=async(m,p)=>{const y=ne.toFiniteNumber(m.getContentLength());return y??f(p)};return async m=>{let{url:p,method:y,data:S,signal:w,cancelToken:b,timeout:C,onDownloadProgress:N,onUploadProgress:P,responseType:k,headers:R,withCredentials:I="same-origin",fetchOptions:O}=r5(m),Z=e||fetch;k=k?(k+"").toLowerCase():"text";let q=NJ([w,b&&b.toAbortSignal()],C),J=null;const re=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let ue;try{if(P&&c&&y!=="get"&&y!=="head"&&(ue=await g(R,S))!==0){let ae=new r(p,{method:"POST",body:S,duplex:"half"}),ye;if(ne.isFormData(S)&&(ye=ae.headers.get("content-type"))&&R.setContentType(ye),ae.body){const[Q,F]=y$(ue,EC(v$(P)));S=b$(ae.body,S$,Q,F)}}ne.isString(I)||(I=I?"include":"omit");const ve=s&&"credentials"in r.prototype,be={...O,signal:q,method:y.toUpperCase(),headers:R.normalize().toJSON(),body:S,duplex:"half",credentials:ve?I:void 0};J=s&&new r(p,be);let ie=await(s?Z(J,O):Z(p,be));const ee=d&&(k==="stream"||k==="response");if(d&&(N||ee&&re)){const ae={};["status","statusText","headers"].forEach(v=>{ae[v]=ie[v]});const ye=ne.toFiniteNumber(ie.headers.get("content-length")),[Q,F]=N&&y$(ye,EC(v$(N),!0))||[];ie=new n(b$(ie.body,S$,Q,()=>{F&&F(),re&&re()}),ae)}k=k||"text";let ce=await h[ne.findKey(h,k)||"text"](ie,m);return!ee&&re&&re(),await new Promise((ae,ye)=>{e5(ae,ye,{data:ce,headers:ls.from(ie.headers),status:ie.status,statusText:ie.statusText,config:m,request:J})})}catch(ve){throw re&&re(),ve&&ve.name==="TypeError"&&/Load failed|fetch/i.test(ve.message)?Object.assign(new tt("Network Error",tt.ERR_NETWORK,m,J),{cause:ve.cause||ve}):tt.from(ve,ve&&ve.code,m,J)}}},jJ=new Map,n5=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let o=s.length,a=o,l,c,d=jJ;for(;a--;)l=s[a],c=d.get(l),c===void 0&&d.set(l,c=a?new Map:HJ(e)),d=c;return c};n5();const xA={http:ZQ,xhr:PJ,fetch:{get:n5}};ne.forEach(xA,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const R$=t=>`- ${t}`,DJ=t=>ne.isFunction(t)||t===null||t===!1;function $J(t,e){t=ne.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let o=0;o<r;o++){n=t[o];let a;if(i=n,!DJ(n)&&(i=xA[(a=String(n)).toLowerCase()],i===void 0))throw new tt(`Unknown adapter '${a}'`);if(i&&(ne.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=r?o.length>1?`since :
`+o.map(R$).join(`
`):" "+R$(o[0]):"as no adapter specified";throw new tt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const i5={getAdapter:$J,adapters:xA};function uE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vp(null,t)}function E$(t){return uE(t),t.headers=ls.from(t.headers),t.data=cE.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),i5.getAdapter(t.adapter||uw.adapter,t)(t).then(function(n){return uE(t),n.data=cE.call(t,t.transformResponse,n),n.headers=ls.from(n.headers),n},function(n){return ZB(n)||(uE(t),n&&n.response&&(n.response.data=cE.call(t,t.transformResponse,n.response),n.response.headers=ls.from(n.response.headers))),Promise.reject(n)})}const s5="1.13.2",k_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{k_[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const T$={};k_.transitional=function(e,r,n){function i(s,o){return"[Axios v"+s5+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new tt(i(o," has been removed"+(r?" in "+r:"")),tt.ERR_DEPRECATED);return r&&!T$[o]&&(T$[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};k_.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function LJ(t,e,r){if(typeof t!="object")throw new tt("options must be an object",tt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new tt("option "+s+" must be "+l,tt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new tt("Unknown option "+s,tt.ERR_BAD_OPTION)}}const Ax={assertOptions:LJ,validators:k_},Pa=Ax.validators;let qh=class{constructor(e){this.defaults=e||{},this.interceptors={request:new m$,response:new m$}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=of(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Ax.assertOptions(n,{silentJSONParsing:Pa.transitional(Pa.boolean),forcedJSONParsing:Pa.transitional(Pa.boolean),clarifyTimeoutError:Pa.transitional(Pa.boolean)},!1),i!=null&&(ne.isFunction(i)?r.paramsSerializer={serialize:i}:Ax.assertOptions(i,{encode:Pa.function,serialize:Pa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ax.assertOptions(r,{baseUrl:Pa.spelling("baseURL"),withXsrfToken:Pa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&ne.merge(s.common,s[r.method]);s&&ne.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=ls.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let d,h=0,f;if(!l){const m=[E$.bind(this),void 0];for(m.unshift(...a),m.push(...c),f=m.length,d=Promise.resolve(r);h<f;)d=d.then(m[h++],m[h++]);return d}f=a.length;let g=r;for(;h<f;){const m=a[h++],p=a[h++];try{g=m(g)}catch(y){p.call(this,y);break}}try{d=E$.call(this,g)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=of(this.defaults,e);const r=t5(e.baseURL,e.url,e.allowAbsoluteUrls);return XB(r,e.params,e.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(e){qh.prototype[e]=function(r,n){return this.request(of(n||{},{method:e,url:r,data:(n||{}).data}))}});ne.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(of(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}qh.prototype[e]=r(),qh.prototype[e+"Form"]=r(!0)});let FJ=class o5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new vp(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new o5(function(i){e=i}),cancel:e}}};function VJ(t){return function(r){return t.apply(null,r)}}function WJ(t){return ne.isObject(t)&&t.isAxiosError===!0}const EN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(EN).forEach(([t,e])=>{EN[e]=t});function a5(t){const e=new qh(t),r=$B(qh.prototype.request,e);return ne.extend(r,qh.prototype,e,{allOwnKeys:!0}),ne.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return a5(of(t,i))},r}const rr=a5(uw);rr.Axios=qh;rr.CanceledError=vp;rr.CancelToken=FJ;rr.isCancel=ZB;rr.VERSION=s5;rr.toFormData=T_;rr.AxiosError=tt;rr.Cancel=rr.CanceledError;rr.all=function(e){return Promise.all(e)};rr.spread=VJ;rr.isAxiosError=WJ;rr.mergeConfig=of;rr.AxiosHeaders=ls;rr.formToJSON=t=>JB(ne.isHTMLForm(t)?new FormData(t):t);rr.getAdapter=i5.getAdapter;rr.HttpStatusCode=EN;rr.default=rr;const{Axios:oUe,AxiosError:aUe,CanceledError:lUe,isCancel:cUe,CancelToken:uUe,VERSION:dUe,all:hUe,Cancel:fUe,isAxiosError:gUe,spread:mUe,toFormData:pUe,AxiosHeaders:yUe,HttpStatusCode:vUe,formToJSON:wUe,getAdapter:bUe,mergeConfig:SUe}=rr;var BJ=function(e){return zJ(e)&&!UJ(e)};function zJ(t){return!!t&&typeof t=="object"}function UJ(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||KJ(t)}var YJ=typeof Symbol=="function"&&Symbol.for,GJ=YJ?Symbol.for("react.element"):60103;function KJ(t){return t.$$typeof===GJ}function qJ(t){return Array.isArray(t)?[]:{}}function cv(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Gm(qJ(t),t,e):t}function XJ(t,e,r){return t.concat(e).map(function(n){return cv(n,r)})}function QJ(t,e){if(!e.customMerge)return Gm;var r=e.customMerge(t);return typeof r=="function"?r:Gm}function JJ(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function k$(t){return Object.keys(t).concat(JJ(t))}function l5(t,e){try{return e in t}catch{return!1}}function ZJ(t,e){return l5(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function eZ(t,e,r){var n={};return r.isMergeableObject(t)&&k$(t).forEach(function(i){n[i]=cv(t[i],r)}),k$(e).forEach(function(i){ZJ(t,i)||(l5(t,i)&&r.isMergeableObject(e[i])?n[i]=QJ(i,r)(t[i],e[i],r):n[i]=cv(e[i],r))}),n}function Gm(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||XJ,r.isMergeableObject=r.isMergeableObject||BJ,r.cloneUnlessOtherwiseSpecified=cv;var n=Array.isArray(e),i=Array.isArray(t),s=n===i;return s?n?r.arrayMerge(t,e,r):eZ(t,e,r):cv(e,r)}Gm.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,i){return Gm(n,i,r)},{})};var tZ=Gm,rZ=tZ;const nZ=sw(rZ);var wp=TypeError;const iZ={},sZ=Object.freeze(Object.defineProperty({__proto__:null,default:iZ},Symbol.toStringTag,{value:"Module"})),oZ=YX(sZ);var CA=typeof Map=="function"&&Map.prototype,dE=Object.getOwnPropertyDescriptor&&CA?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,TC=CA&&dE&&typeof dE.get=="function"?dE.get:null,P$=CA&&Map.prototype.forEach,_A=typeof Set=="function"&&Set.prototype,hE=Object.getOwnPropertyDescriptor&&_A?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,kC=_A&&hE&&typeof hE.get=="function"?hE.get:null,N$=_A&&Set.prototype.forEach,aZ=typeof WeakMap=="function"&&WeakMap.prototype,Ey=aZ?WeakMap.prototype.has:null,lZ=typeof WeakSet=="function"&&WeakSet.prototype,Ty=lZ?WeakSet.prototype.has:null,cZ=typeof WeakRef=="function"&&WeakRef.prototype,M$=cZ?WeakRef.prototype.deref:null,uZ=Boolean.prototype.valueOf,dZ=Object.prototype.toString,hZ=Function.prototype.toString,fZ=String.prototype.match,RA=String.prototype.slice,Lu=String.prototype.replace,gZ=String.prototype.toUpperCase,I$=String.prototype.toLowerCase,c5=RegExp.prototype.test,A$=Array.prototype.concat,hl=Array.prototype.join,mZ=Array.prototype.slice,O$=Math.floor,TN=typeof BigInt=="function"?BigInt.prototype.valueOf:null,fE=Object.getOwnPropertySymbols,kN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Km=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ky=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Km||!0)?Symbol.toStringTag:null,u5=Object.prototype.propertyIsEnumerable,H$=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function j$(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||c5.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-O$(-t):O$(t);if(n!==t){var i=String(n),s=RA.call(e,i.length+1);return Lu.call(i,r,"$&_")+"."+Lu.call(Lu.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Lu.call(e,r,"$&_")}var PN=oZ,D$=PN.custom,$$=f5(D$)?D$:null,d5={__proto__:null,double:'"',single:"'"},pZ={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},P_=function t(e,r,n,i){var s=r||{};if(tc(s,"quoteStyle")&&!tc(d5,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(tc(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=tc(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(tc(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(tc(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return m5(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?j$(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?j$(e,c):c}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return NN(e)?"[Array]":"[Object]";var h=OZ(s,n);if(typeof i>"u")i=[];else if(g5(i,e)>=0)return"[Circular]";function f(J,re,ue){if(re&&(i=mZ.call(i),i.push(re)),ue){var ve={depth:s.depth};return tc(s,"quoteStyle")&&(ve.quoteStyle=s.quoteStyle),t(J,ve,n+1,i)}return t(J,s,n+1,i)}if(typeof e=="function"&&!L$(e)){var g=RZ(e),m=mb(e,f);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(m.length>0?" { "+hl.call(m,", ")+" }":"")}if(f5(e)){var p=Km?Lu.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):kN.call(e);return typeof e=="object"&&!Km?qp(p):p}if(MZ(e)){for(var y="<"+I$.call(String(e.nodeName)),S=e.attributes||[],w=0;w<S.length;w++)y+=" "+S[w].name+"="+h5(yZ(S[w].value),"double",s);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+I$.call(String(e.nodeName))+">",y}if(NN(e)){if(e.length===0)return"[]";var b=mb(e,f);return h&&!AZ(b)?"["+MN(b,h)+"]":"[ "+hl.call(b,", ")+" ]"}if(wZ(e)){var C=mb(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!u5.call(e,"cause")?"{ ["+String(e)+"] "+hl.call(A$.call("[cause]: "+f(e.cause),C),", ")+" }":C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+hl.call(C,", ")+" }"}if(typeof e=="object"&&o){if($$&&typeof e[$$]=="function"&&PN)return PN(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(EZ(e)){var N=[];return P$&&P$.call(e,function(J,re){N.push(f(re,e,!0)+" => "+f(J,e))}),F$("Map",TC.call(e),N,h)}if(PZ(e)){var P=[];return N$&&N$.call(e,function(J){P.push(f(J,e))}),F$("Set",kC.call(e),P,h)}if(TZ(e))return gE("WeakMap");if(NZ(e))return gE("WeakSet");if(kZ(e))return gE("WeakRef");if(SZ(e))return qp(f(Number(e)));if(CZ(e))return qp(f(TN.call(e)));if(xZ(e))return qp(uZ.call(e));if(bZ(e))return qp(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof da<"u"&&e===da)return"{ [object globalThis] }";if(!vZ(e)&&!L$(e)){var k=mb(e,f),R=H$?H$(e)===Object.prototype:e instanceof Object||e.constructor===Object,I=e instanceof Object?"":"null prototype",O=!R&&ky&&Object(e)===e&&ky in e?RA.call(md(e),8,-1):I?"Object":"",Z=R||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",q=Z+(O||I?"["+hl.call(A$.call([],O||[],I||[]),": ")+"] ":"");return k.length===0?q+"{}":h?q+"{"+MN(k,h)+"}":q+"{ "+hl.call(k,", ")+" }"}return String(e)};function h5(t,e,r){var n=r.quoteStyle||e,i=d5[n];return i+t+i}function yZ(t){return Lu.call(String(t),/"/g,"&quot;")}function Rf(t){return!ky||!(typeof t=="object"&&(ky in t||typeof t[ky]<"u"))}function NN(t){return md(t)==="[object Array]"&&Rf(t)}function vZ(t){return md(t)==="[object Date]"&&Rf(t)}function L$(t){return md(t)==="[object RegExp]"&&Rf(t)}function wZ(t){return md(t)==="[object Error]"&&Rf(t)}function bZ(t){return md(t)==="[object String]"&&Rf(t)}function SZ(t){return md(t)==="[object Number]"&&Rf(t)}function xZ(t){return md(t)==="[object Boolean]"&&Rf(t)}function f5(t){if(Km)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!kN)return!1;try{return kN.call(t),!0}catch{}return!1}function CZ(t){if(!t||typeof t!="object"||!TN)return!1;try{return TN.call(t),!0}catch{}return!1}var _Z=Object.prototype.hasOwnProperty||function(t){return t in this};function tc(t,e){return _Z.call(t,e)}function md(t){return dZ.call(t)}function RZ(t){if(t.name)return t.name;var e=fZ.call(hZ.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function g5(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function EZ(t){if(!TC||!t||typeof t!="object")return!1;try{TC.call(t);try{kC.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function TZ(t){if(!Ey||!t||typeof t!="object")return!1;try{Ey.call(t,Ey);try{Ty.call(t,Ty)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function kZ(t){if(!M$||!t||typeof t!="object")return!1;try{return M$.call(t),!0}catch{}return!1}function PZ(t){if(!kC||!t||typeof t!="object")return!1;try{kC.call(t);try{TC.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function NZ(t){if(!Ty||!t||typeof t!="object")return!1;try{Ty.call(t,Ty);try{Ey.call(t,Ey)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function MZ(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function m5(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return m5(RA.call(t,0,e.maxStringLength),e)+n}var i=pZ[e.quoteStyle||"single"];i.lastIndex=0;var s=Lu.call(Lu.call(t,i,"\\$1"),/[\x00-\x1f]/g,IZ);return h5(s,"single",e)}function IZ(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+gZ.call(e.toString(16))}function qp(t){return"Object("+t+")"}function gE(t){return t+" { ? }"}function F$(t,e,r,n){var i=n?MN(r,n):hl.call(r,", ");return t+" ("+e+") {"+i+"}"}function AZ(t){for(var e=0;e<t.length;e++)if(g5(t[e],`
`)>=0)return!1;return!0}function OZ(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=hl.call(Array(t.indent+1)," ");else return null;return{base:r,prev:hl.call(Array(e+1),r)}}function MN(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+hl.call(t,","+r)+`
`+e.prev}function mb(t,e){var r=NN(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=tc(t,i)?e(t[i],t):""}var s=typeof fE=="function"?fE(t):[],o;if(Km){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)tc(t,l)&&(r&&String(Number(l))===l&&l<t.length||Km&&o["$"+l]instanceof Symbol||(c5.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof fE=="function")for(var c=0;c<s.length;c++)u5.call(t,s[c])&&n.push("["+e(s[c])+"]: "+e(t[s[c]],t));return n}var HZ=P_,jZ=wp,N_=function(t,e,r){for(var n=t,i;(i=n.next)!=null;n=i)if(i.key===e)return n.next=i.next,r||(i.next=t.next,t.next=i),i},DZ=function(t,e){if(t){var r=N_(t,e);return r&&r.value}},$Z=function(t,e,r){var n=N_(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},LZ=function(t,e){return t?!!N_(t,e):!1},FZ=function(t,e){if(t)return N_(t,e,!0)},VZ=function(){var e,r={assert:function(n){if(!r.has(n))throw new jZ("Side channel does not contain "+HZ(n))},delete:function(n){var i=e&&e.next,s=FZ(e,n);return s&&i&&i===s&&(e=void 0),!!s},get:function(n){return DZ(e,n)},has:function(n){return LZ(e,n)},set:function(n,i){e||(e={next:void 0}),$Z(e,n,i)}};return r},p5=Object,WZ=Error,BZ=EvalError,zZ=RangeError,UZ=ReferenceError,YZ=SyntaxError,GZ=URIError,KZ=Math.abs,qZ=Math.floor,XZ=Math.max,QZ=Math.min,JZ=Math.pow,ZZ=Math.round,eee=Number.isNaN||function(e){return e!==e},tee=eee,ree=function(e){return tee(e)||e===0?e:e<0?-1:1},nee=Object.getOwnPropertyDescriptor,Ox=nee;if(Ox)try{Ox([],"length")}catch{Ox=null}var y5=Ox,Hx=Object.defineProperty||!1;if(Hx)try{Hx({},"a",{value:1})}catch{Hx=!1}var iee=Hx,mE,V$;function see(){return V$||(V$=1,mE=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),mE}var pE,W$;function oee(){if(W$)return pE;W$=1;var t=typeof Symbol<"u"&&Symbol,e=see();return pE=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},pE}var yE,B$;function v5(){return B$||(B$=1,yE=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),yE}var vE,z$;function w5(){if(z$)return vE;z$=1;var t=p5;return vE=t.getPrototypeOf||null,vE}var aee="Function.prototype.bind called on incompatible ",lee=Object.prototype.toString,cee=Math.max,uee="[object Function]",U$=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},dee=function(e,r){for(var n=[],i=r,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},hee=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},fee=function(e){var r=this;if(typeof r!="function"||lee.apply(r)!==uee)throw new TypeError(aee+r);for(var n=dee(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,U$(n,arguments));return Object(d)===d?d:this}return r.apply(e,U$(n,arguments))},o=cee(0,r.length-n.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(i=Function("binder","return function ("+hee(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},gee=fee,M_=Function.prototype.bind||gee,EA=Function.prototype.call,wE,Y$;function b5(){return Y$||(Y$=1,wE=Function.prototype.apply),wE}var mee=typeof Reflect<"u"&&Reflect&&Reflect.apply,pee=M_,yee=b5(),vee=EA,wee=mee,bee=wee||pee.call(vee,yee),See=M_,xee=wp,Cee=EA,_ee=bee,S5=function(e){if(e.length<1||typeof e[0]!="function")throw new xee("a function is required");return _ee(See,Cee,e)},bE,G$;function Ree(){if(G$)return bE;G$=1;var t=S5,e=y5,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return bE=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,bE}var SE,K$;function Eee(){if(K$)return SE;K$=1;var t=v5(),e=w5(),r=Ree();return SE=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,SE}var xE,q$;function Tee(){if(q$)return xE;q$=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=M_;return xE=r.call(t,e),xE}var wt,kee=p5,Pee=WZ,Nee=BZ,Mee=zZ,Iee=UZ,qm=YZ,wm=wp,Aee=GZ,Oee=KZ,Hee=qZ,jee=XZ,Dee=QZ,$ee=JZ,Lee=ZZ,Fee=ree,x5=Function,CE=function(t){try{return x5('"use strict"; return ('+t+").constructor;")()}catch{}},uv=y5,Vee=iee,_E=function(){throw new wm},Wee=uv?function(){try{return arguments.callee,_E}catch{try{return uv(arguments,"callee").get}catch{return _E}}}():_E,Wf=oee()(),jn=Eee(),Bee=w5(),zee=v5(),C5=b5(),dw=EA,$g={},Uee=typeof Uint8Array>"u"||!jn?wt:jn(Uint8Array),Xh={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?wt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?wt:ArrayBuffer,"%ArrayIteratorPrototype%":Wf&&jn?jn([][Symbol.iterator]()):wt,"%AsyncFromSyncIteratorPrototype%":wt,"%AsyncFunction%":$g,"%AsyncGenerator%":$g,"%AsyncGeneratorFunction%":$g,"%AsyncIteratorPrototype%":$g,"%Atomics%":typeof Atomics>"u"?wt:Atomics,"%BigInt%":typeof BigInt>"u"?wt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?wt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?wt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?wt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Pee,"%eval%":eval,"%EvalError%":Nee,"%Float16Array%":typeof Float16Array>"u"?wt:Float16Array,"%Float32Array%":typeof Float32Array>"u"?wt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?wt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?wt:FinalizationRegistry,"%Function%":x5,"%GeneratorFunction%":$g,"%Int8Array%":typeof Int8Array>"u"?wt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?wt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?wt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Wf&&jn?jn(jn([][Symbol.iterator]())):wt,"%JSON%":typeof JSON=="object"?JSON:wt,"%Map%":typeof Map>"u"?wt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Wf||!jn?wt:jn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":kee,"%Object.getOwnPropertyDescriptor%":uv,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?wt:Promise,"%Proxy%":typeof Proxy>"u"?wt:Proxy,"%RangeError%":Mee,"%ReferenceError%":Iee,"%Reflect%":typeof Reflect>"u"?wt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?wt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Wf||!jn?wt:jn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?wt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Wf&&jn?jn(""[Symbol.iterator]()):wt,"%Symbol%":Wf?Symbol:wt,"%SyntaxError%":qm,"%ThrowTypeError%":Wee,"%TypedArray%":Uee,"%TypeError%":wm,"%Uint8Array%":typeof Uint8Array>"u"?wt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?wt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?wt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?wt:Uint32Array,"%URIError%":Aee,"%WeakMap%":typeof WeakMap>"u"?wt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?wt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?wt:WeakSet,"%Function.prototype.call%":dw,"%Function.prototype.apply%":C5,"%Object.defineProperty%":Vee,"%Object.getPrototypeOf%":Bee,"%Math.abs%":Oee,"%Math.floor%":Hee,"%Math.max%":jee,"%Math.min%":Dee,"%Math.pow%":$ee,"%Math.round%":Lee,"%Math.sign%":Fee,"%Reflect.getPrototypeOf%":zee};if(jn)try{null.error}catch(t){var Yee=jn(jn(t));Xh["%Error.prototype%"]=Yee}var Gee=function t(e){var r;if(e==="%AsyncFunction%")r=CE("async function () {}");else if(e==="%GeneratorFunction%")r=CE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=CE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&jn&&(r=jn(i.prototype))}return Xh[e]=r,r},X$={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},hw=M_,PC=Tee(),Kee=hw.call(dw,Array.prototype.concat),qee=hw.call(C5,Array.prototype.splice),Q$=hw.call(dw,String.prototype.replace),NC=hw.call(dw,String.prototype.slice),Xee=hw.call(dw,RegExp.prototype.exec),Qee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Jee=/\\(\\)?/g,Zee=function(e){var r=NC(e,0,1),n=NC(e,-1);if(r==="%"&&n!=="%")throw new qm("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new qm("invalid intrinsic syntax, expected opening `%`");var i=[];return Q$(e,Qee,function(s,o,a,l){i[i.length]=a?Q$(l,Jee,"$1"):o||s}),i},ete=function(e,r){var n=e,i;if(PC(X$,n)&&(i=X$[n],n="%"+i[0]+"%"),PC(Xh,n)){var s=Xh[n];if(s===$g&&(s=Gee(n)),typeof s>"u"&&!r)throw new wm("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new qm("intrinsic "+e+" does not exist!")},TA=function(e,r){if(typeof e!="string"||e.length===0)throw new wm("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new wm('"allowMissing" argument must be a boolean');if(Xee(/^%?[^%]*%?$/,e)===null)throw new qm("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Zee(e),i=n.length>0?n[0]:"",s=ete("%"+i+"%",r),o=s.name,a=s.value,l=!1,c=s.alias;c&&(i=c[0],qee(n,Kee([0,1],c)));for(var d=1,h=!0;d<n.length;d+=1){var f=n[d],g=NC(f,0,1),m=NC(f,-1);if((g==='"'||g==="'"||g==="`"||m==='"'||m==="'"||m==="`")&&g!==m)throw new qm("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(l=!0),i+="."+f,o="%"+i+"%",PC(Xh,o))a=Xh[o];else if(a!=null){if(!(f in a)){if(!r)throw new wm("base intrinsic for "+e+" exists, but the property is not available.");return}if(uv&&d+1>=n.length){var p=uv(a,f);h=!!p,h&&"get"in p&&!("originalValue"in p.get)?a=p.get:a=a[f]}else h=PC(a,f),a=a[f];h&&!l&&(Xh[o]=a)}}return a},_5=TA,R5=S5,tte=R5([_5("%String.prototype.indexOf%")]),E5=function(e,r){var n=_5(e,!!r);return typeof n=="function"&&tte(e,".prototype.")>-1?R5([n]):n},rte=TA,fw=E5,nte=P_,ite=wp,J$=rte("%Map%",!0),ste=fw("Map.prototype.get",!0),ote=fw("Map.prototype.set",!0),ate=fw("Map.prototype.has",!0),lte=fw("Map.prototype.delete",!0),cte=fw("Map.prototype.size",!0),T5=!!J$&&function(){var e,r={assert:function(n){if(!r.has(n))throw new ite("Side channel does not contain "+nte(n))},delete:function(n){if(e){var i=lte(e,n);return cte(e)===0&&(e=void 0),i}return!1},get:function(n){if(e)return ste(e,n)},has:function(n){return e?ate(e,n):!1},set:function(n,i){e||(e=new J$),ote(e,n,i)}};return r},ute=TA,I_=E5,dte=P_,pb=T5,hte=wp,Bf=ute("%WeakMap%",!0),fte=I_("WeakMap.prototype.get",!0),gte=I_("WeakMap.prototype.set",!0),mte=I_("WeakMap.prototype.has",!0),pte=I_("WeakMap.prototype.delete",!0),yte=Bf?function(){var e,r,n={assert:function(i){if(!n.has(i))throw new hte("Side channel does not contain "+dte(i))},delete:function(i){if(Bf&&i&&(typeof i=="object"||typeof i=="function")){if(e)return pte(e,i)}else if(pb&&r)return r.delete(i);return!1},get:function(i){return Bf&&i&&(typeof i=="object"||typeof i=="function")&&e?fte(e,i):r&&r.get(i)},has:function(i){return Bf&&i&&(typeof i=="object"||typeof i=="function")&&e?mte(e,i):!!r&&r.has(i)},set:function(i,s){Bf&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new Bf),gte(e,i,s)):pb&&(r||(r=pb()),r.set(i,s))}};return n}:pb,vte=wp,wte=P_,bte=VZ,Ste=T5,xte=yte,Cte=xte||Ste||bte,k5=function(){var e,r={assert:function(n){if(!r.has(n))throw new vte("Side channel does not contain "+wte(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,i){e||(e=Cte()),e.set(n,i)}};return r},_te=String.prototype.replace,Rte=/%20/g,RE={RFC1738:"RFC1738",RFC3986:"RFC3986"},kA={default:RE.RFC3986,formatters:{RFC1738:function(t){return _te.call(t,Rte,"+")},RFC3986:function(t){return String(t)}},RFC1738:RE.RFC1738,RFC3986:RE.RFC3986},Ete=kA,Tte=k5,EE=Object.prototype.hasOwnProperty,bh=Array.isArray,A_=Tte(),P5=function(e,r){return A_.set(e,r),e},MC=function(e){return A_.has(e)},IN=function(e){return A_.get(e)},N5=function(e,r){A_.set(e,r)},Na=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),kte=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(bh(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},PA=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Pte=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(bh(e))e.push(r);else if(e&&typeof e=="object")if(MC(e)){var i=IN(e)+1;e[i]=r,N5(e,i)}else(n&&(n.plainObjects||n.allowPrototypes)||!EE.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object"){if(MC(r)){for(var s=Object.keys(r),o=n&&n.plainObjects?{__proto__:null,0:e}:{0:e},a=0;a<s.length;a++){var l=parseInt(s[a],10);o[l+1]=r[s[a]]}return P5(o,IN(r)+1)}return[e].concat(r)}var c=e;return bh(e)&&!bh(r)&&(c=PA(e,n)),bh(e)&&bh(r)?(r.forEach(function(d,h){if(EE.call(e,h)){var f=e[h];f&&typeof f=="object"&&d&&typeof d=="object"?e[h]=t(f,d,n):e.push(d)}else e[h]=d}),e):Object.keys(r).reduce(function(d,h){var f=r[h];return EE.call(d,h)?d[h]=t(d[h],f,n):d[h]=f,d},c)},Nte=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Mte=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},TE=1024,Ite=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;l+=TE){for(var c=o.length>=TE?o.slice(l,l+TE):o,d=[],h=0;h<c.length;++h){var f=c.charCodeAt(h);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===Ete.RFC1738&&(f===40||f===41)){d[d.length]=c.charAt(h);continue}if(f<128){d[d.length]=Na[f];continue}if(f<2048){d[d.length]=Na[192|f>>6]+Na[128|f&63];continue}if(f<55296||f>=57344){d[d.length]=Na[224|f>>12]+Na[128|f>>6&63]+Na[128|f&63];continue}h+=1,f=65536+((f&1023)<<10|c.charCodeAt(h)&1023),d[d.length]=Na[240|f>>18]+Na[128|f>>12&63]+Na[128|f>>6&63]+Na[128|f&63]}a+=d.join("")}return a},Ate=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],d=o[c];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:c}),n.push(d))}return kte(r),e},Ote=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Hte=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},jte=function(e,r,n,i){if(MC(e)){var s=IN(e)+1;return e[s]=r,N5(e,s),e}var o=[].concat(e,r);return o.length>n?P5(PA(o,{plainObjects:i}),o.length-1):o},Dte=function(e,r){if(bh(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},M5={arrayToObject:PA,assign:Nte,combine:jte,compact:Ate,decode:Mte,encode:Ite,isBuffer:Hte,isOverflow:MC,isRegExp:Ote,maybeMap:Dte,merge:Pte},I5=k5,jx=M5,Py=kA,$te=Object.prototype.hasOwnProperty,A5={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},ol=Array.isArray,Lte=Array.prototype.push,O5=function(t,e){Lte.apply(t,ol(e)?e:[e])},Fte=Date.prototype.toISOString,Z$=Py.default,bn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:jx.encode,encodeValuesOnly:!1,filter:void 0,format:Z$,formatter:Py.formatters[Z$],indices:!1,serializeDate:function(e){return Fte.call(e)},skipNulls:!1,strictNullHandling:!1},Vte=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},kE={},Wte=function t(e,r,n,i,s,o,a,l,c,d,h,f,g,m,p,y,S,w){for(var b=e,C=w,N=0,P=!1;(C=C.get(kE))!==void 0&&!P;){var k=C.get(e);if(N+=1,typeof k<"u"){if(k===N)throw new RangeError("Cyclic object value");P=!0}typeof C.get(kE)>"u"&&(N=0)}if(typeof d=="function"?b=d(r,b):b instanceof Date?b=g(b):n==="comma"&&ol(b)&&(b=jx.maybeMap(b,function(ce){return ce instanceof Date?g(ce):ce})),b===null){if(o)return c&&!y?c(r,bn.encoder,S,"key",m):r;b=""}if(Vte(b)||jx.isBuffer(b)){if(c){var R=y?r:c(r,bn.encoder,S,"key",m);return[p(R)+"="+p(c(b,bn.encoder,S,"value",m))]}return[p(r)+"="+p(String(b))]}var I=[];if(typeof b>"u")return I;var O;if(n==="comma"&&ol(b))y&&c&&(b=jx.maybeMap(b,c)),O=[{value:b.length>0?b.join(",")||null:void 0}];else if(ol(d))O=d;else{var Z=Object.keys(b);O=h?Z.sort(h):Z}var q=l?String(r).replace(/\./g,"%2E"):String(r),J=i&&ol(b)&&b.length===1?q+"[]":q;if(s&&ol(b)&&b.length===0)return J+"[]";for(var re=0;re<O.length;++re){var ue=O[re],ve=typeof ue=="object"&&ue&&typeof ue.value<"u"?ue.value:b[ue];if(!(a&&ve===null)){var be=f&&l?String(ue).replace(/\./g,"%2E"):String(ue),ie=ol(b)?typeof n=="function"?n(J,be):J:J+(f?"."+be:"["+be+"]");w.set(e,N);var ee=I5();ee.set(kE,w),O5(I,t(ve,ie,n,i,s,o,a,l,n==="comma"&&y&&ol(b)?null:c,d,h,f,g,m,p,y,S,ee))}}return I},Bte=function(e){if(!e)return bn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||bn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Py.default;if(typeof e.format<"u"){if(!$te.call(Py.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Py.formatters[n],s=bn.filter;(typeof e.filter=="function"||ol(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in A5?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=bn.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:bn.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:bn.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:bn.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:bn.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?bn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:bn.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:bn.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:bn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:bn.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:bn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:bn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:bn.strictNullHandling}},zte=function(t,e){var r=t,n=Bte(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):ol(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=A5[n.arrayFormat],l=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=I5(),d=0;d<i.length;++d){var h=i[d],f=r[h];n.skipNulls&&f===null||O5(o,Wte(f,h,a,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var g=o.join(n.delimiter),m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),g.length>0?m+g:""},ld=M5,Dx=Object.prototype.hasOwnProperty,eL=Array.isArray,$r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ld.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Ute=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},H5=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},Yte="utf8=%26%2310003%3B",Gte="utf8=%E2%9C%93",Kte=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,r.throwOnLimitExceeded?s+1:s);if(r.throwOnLimitExceeded&&o.length>s)throw new RangeError("Parameter limit exceeded. Only "+s+" parameter"+(s===1?"":"s")+" allowed.");var a=-1,l,c=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===Gte?c="utf-8":o[l]===Yte&&(c="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var d=o[l],h=d.indexOf("]="),f=h===-1?d.indexOf("="):h+1,g,m;if(f===-1?(g=r.decoder(d,$r.decoder,c,"key"),m=r.strictNullHandling?null:""):(g=r.decoder(d.slice(0,f),$r.decoder,c,"key"),g!==null&&(m=ld.maybeMap(H5(d.slice(f+1),r,eL(n[g])?n[g].length:0),function(y){return r.decoder(y,$r.decoder,c,"value")}))),m&&r.interpretNumericEntities&&c==="iso-8859-1"&&(m=Ute(String(m))),d.indexOf("[]=")>-1&&(m=eL(m)?[m]:m),g!==null){var p=Dx.call(n,g);p&&r.duplicates==="combine"?n[g]=ld.combine(n[g],m,r.arrayLimit,r.plainObjects):(!p||r.duplicates==="last")&&(n[g]=m)}}return n},qte=function(t,e,r,n){var i=0;if(t.length>0&&t[t.length-1]==="[]"){var s=t.slice(0,-1).join("");i=Array.isArray(e)&&e[s]?e[s].length:0}for(var o=n?e:H5(e,r,i),a=t.length-1;a>=0;--a){var l,c=t[a];if(c==="[]"&&r.parseArrays)ld.isOverflow(o)?l=o:l=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:ld.combine([],o,r.arrayLimit,r.plainObjects);else{l=r.plainObjects?{__proto__:null}:{};var d=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,h=r.decodeDotInKeys?d.replace(/%2E/g,"."):d,f=parseInt(h,10);!r.parseArrays&&h===""?l={0:o}:!isNaN(f)&&c!==h&&String(f)===h&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(l=[],l[f]=o):h!=="__proto__"&&(l[h]=o)}o=l}return o},Xte=function(e,r){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e;if(r.depth<=0)return!r.plainObjects&&Dx.call(Object.prototype,n)&&!r.allowPrototypes?void 0:[n];var i=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,o=i.exec(n),a=o?n.slice(0,o.index):n,l=[];if(a){if(!r.plainObjects&&Dx.call(Object.prototype,a)&&!r.allowPrototypes)return;l.push(a)}for(var c=0;(o=s.exec(n))!==null&&c<r.depth;){c+=1;var d=o[1].slice(1,-1);if(!r.plainObjects&&Dx.call(Object.prototype,d)&&!r.allowPrototypes)return;l.push(o[1])}if(o){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");l.push("["+n.slice(o.index)+"]")}return l},Qte=function(e,r,n,i){if(e){var s=Xte(e,n);if(s)return qte(s,r,n,i)}},Jte=function(e){if(!e)return $r;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?$r.charset:e.charset,n=typeof e.duplicates>"u"?$r.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:$r.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:$r.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:$r.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:$r.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:$r.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:$r.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:$r.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:$r.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:$r.decoder,delimiter:typeof e.delimiter=="string"||ld.isRegExp(e.delimiter)?e.delimiter:$r.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:$r.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:$r.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:$r.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:$r.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:$r.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:$r.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},Zte=function(t,e){var r=Jte(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?Kte(t,r):t,i=r.plainObjects?{__proto__:null}:{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],l=Qte(a,n[a],r,typeof t=="string");i=ld.merge(i,l,r)}return r.allowSparse===!0?i:ld.compact(i)},ere=zte,tre=Zte,rre=kA,tL={formats:rre,parse:tre,stringify:ere},j5={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(t,e){(function(r,n){t.exports=n()})(da,function(){var r={};r.version="0.2.0";var n=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};r.configure=function(m){var p,y;for(p in m)y=m[p],y!==void 0&&m.hasOwnProperty(p)&&(n[p]=y);return this},r.status=null,r.set=function(m){var p=r.isStarted();m=i(m,n.minimum,1),r.status=m===1?null:m;var y=r.render(!p),S=y.querySelector(n.barSelector),w=n.speed,b=n.easing;return y.offsetWidth,a(function(C){n.positionUsing===""&&(n.positionUsing=r.getPositioningCSS()),l(S,o(m,w,b)),m===1?(l(y,{transition:"none",opacity:1}),y.offsetWidth,setTimeout(function(){l(y,{transition:"all "+w+"ms linear",opacity:0}),setTimeout(function(){r.remove(),C()},w)},w)):setTimeout(C,w)}),this},r.isStarted=function(){return typeof r.status=="number"},r.start=function(){r.status||r.set(0);var m=function(){setTimeout(function(){r.status&&(r.trickle(),m())},n.trickleSpeed)};return n.trickle&&m(),this},r.done=function(m){return!m&&!r.status?this:r.inc(.3+.5*Math.random()).set(1)},r.inc=function(m){var p=r.status;return p?(typeof m!="number"&&(m=(1-p)*i(Math.random()*p,.1,.95)),p=i(p+m,0,.994),r.set(p)):r.start()},r.trickle=function(){return r.inc(Math.random()*n.trickleRate)},function(){var m=0,p=0;r.promise=function(y){return!y||y.state()==="resolved"?this:(p===0&&r.start(),m++,p++,y.always(function(){p--,p===0?(m=0,r.done()):r.set((m-p)/m)}),this)}}(),r.render=function(m){if(r.isRendered())return document.getElementById("nprogress");d(document.documentElement,"nprogress-busy");var p=document.createElement("div");p.id="nprogress",p.innerHTML=n.template;var y=p.querySelector(n.barSelector),S=m?"-100":s(r.status||0),w=document.querySelector(n.parent),b;return l(y,{transition:"all 0 linear",transform:"translate3d("+S+"%,0,0)"}),n.showSpinner||(b=p.querySelector(n.spinnerSelector),b&&g(b)),w!=document.body&&d(w,"nprogress-custom-parent"),w.appendChild(p),p},r.remove=function(){h(document.documentElement,"nprogress-busy"),h(document.querySelector(n.parent),"nprogress-custom-parent");var m=document.getElementById("nprogress");m&&g(m)},r.isRendered=function(){return!!document.getElementById("nprogress")},r.getPositioningCSS=function(){var m=document.body.style,p="WebkitTransform"in m?"Webkit":"MozTransform"in m?"Moz":"msTransform"in m?"ms":"OTransform"in m?"O":"";return p+"Perspective"in m?"translate3d":p+"Transform"in m?"translate":"margin"};function i(m,p,y){return m<p?p:m>y?y:m}function s(m){return(-1+m)*100}function o(m,p,y){var S;return n.positionUsing==="translate3d"?S={transform:"translate3d("+s(m)+"%,0,0)"}:n.positionUsing==="translate"?S={transform:"translate("+s(m)+"%,0)"}:S={"margin-left":s(m)+"%"},S.transition="all "+p+"ms "+y,S}var a=function(){var m=[];function p(){var y=m.shift();y&&y(p)}return function(y){m.push(y),m.length==1&&p()}}(),l=function(){var m=["Webkit","O","Moz","ms"],p={};function y(C){return C.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(N,P){return P.toUpperCase()})}function S(C){var N=document.body.style;if(C in N)return C;for(var P=m.length,k=C.charAt(0).toUpperCase()+C.slice(1),R;P--;)if(R=m[P]+k,R in N)return R;return C}function w(C){return C=y(C),p[C]||(p[C]=S(C))}function b(C,N,P){N=w(N),C.style[N]=P}return function(C,N){var P=arguments,k,R;if(P.length==2)for(k in N)R=N[k],R!==void 0&&N.hasOwnProperty(k)&&b(C,k,R);else b(C,P[1],P[2])}}();function c(m,p){var y=typeof m=="string"?m:f(m);return y.indexOf(" "+p+" ")>=0}function d(m,p){var y=f(m),S=y+p;c(y,p)||(m.className=S.substring(1))}function h(m,p){var y=f(m),S;c(m,p)&&(S=y.replace(" "+p+" "," "),m.className=S.substring(1,S.length-1))}function f(m){return(" "+(m.className||"")+" ").replace(/\s+/gi," ")}function g(m){m&&m.parentNode&&m.parentNode.removeChild(m)}return r})})(j5);var nre=j5.exports;const fl=sw(nre);function D5(t,e){let r;return function(...n){clearTimeout(r),r=setTimeout(()=>t.apply(this,n),e)}}function jc(t,e){return document.dispatchEvent(new CustomEvent(`inertia:${t}`,e))}var ire=t=>jc("before",{cancelable:!0,detail:{visit:t}}),sre=t=>jc("error",{detail:{errors:t}}),ore=t=>jc("exception",{cancelable:!0,detail:{exception:t}}),rL=t=>jc("finish",{detail:{visit:t}}),are=t=>jc("invalid",{cancelable:!0,detail:{response:t}}),Xp=t=>jc("navigate",{detail:{page:t}}),lre=t=>jc("progress",{detail:{progress:t}}),cre=t=>jc("start",{detail:{visit:t}}),ure=t=>jc("success",{detail:{page:t}});function AN(t){return t instanceof File||t instanceof Blob||t instanceof FileList&&t.length>0||t instanceof FormData&&Array.from(t.values()).some(e=>AN(e))||typeof t=="object"&&t!==null&&Object.values(t).some(e=>AN(e))}function $5(t,e=new FormData,r=null){t=t||{};for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&F5(e,L5(r,n),t[n]);return e}function L5(t,e){return t?t+"["+e+"]":e}function F5(t,e,r){if(Array.isArray(r))return Array.from(r.keys()).forEach(n=>F5(t,L5(e,n.toString()),r[n]));if(r instanceof Date)return t.append(e,r.toISOString());if(r instanceof File)return t.append(e,r,r.name);if(r instanceof Blob)return t.append(e,r);if(typeof r=="boolean")return t.append(e,r?"1":"0");if(typeof r=="string")return t.append(e,r);if(typeof r=="number")return t.append(e,`${r}`);if(r==null)return t.append(e,"");$5(r,t,e)}var dre={modal:null,listener:null,show(t){typeof t=="object"&&(t=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(t)}`);let e=document.createElement("html");e.innerHTML=t,e.querySelectorAll("a").forEach(n=>n.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());let r=document.createElement("iframe");if(r.style.backgroundColor="white",r.style.borderRadius="5px",r.style.width="100%",r.style.height="100%",this.modal.appendChild(r),document.body.prepend(this.modal),document.body.style.overflow="hidden",!r.contentWindow)throw new Error("iframe not yet ready.");r.contentWindow.document.open(),r.contentWindow.document.write(e.outerHTML),r.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(t){t.keyCode===27&&this.hide()}};function zf(t){return new URL(t.toString(),window.location.toString())}function V5(t,e,r,n="brackets"){let i=/^https?:\/\//.test(e.toString()),s=i||e.toString().startsWith("/"),o=!s&&!e.toString().startsWith("#")&&!e.toString().startsWith("?"),a=e.toString().includes("?")||t==="get"&&Object.keys(r).length,l=e.toString().includes("#"),c=new URL(e.toString(),"http://localhost");return t==="get"&&Object.keys(r).length&&(c.search=tL.stringify(nZ(tL.parse(c.search,{ignoreQueryPrefix:!0}),r),{encodeValuesOnly:!0,arrayFormat:n}),r={}),[[i?`${c.protocol}//${c.host}`:"",s?c.pathname:"",o?c.pathname.substring(1):"",a?c.search:"",l?c.hash:""].join(""),r]}function Qp(t){return t=new URL(t.href),t.hash="",t}var $x=typeof window>"u",nL=!$x&&/CriOS/.test(window.navigator.userAgent),iL=t=>{requestAnimationFrame(()=>{requestAnimationFrame(t)})},hre=class{constructor(){this.visitId=null}init({initialPage:t,resolveComponent:e,swapComponent:r}){this.page=t,this.resolveComponent=e,this.swapComponent=r,this.setNavigationType(),this.clearRememberedStateOnReload(),this.isBackForwardVisit()?this.handleBackForwardVisit(this.page):this.isLocationVisit()?this.handleLocationVisit(this.page):this.handleInitialPageVisit(this.page),this.setupEventListeners()}setNavigationType(){this.navigationType=window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}clearRememberedStateOnReload(){var t;this.navigationType==="reload"&&((t=window.history.state)!=null&&t.rememberedState)&&delete window.history.state.rememberedState}handleInitialPageVisit(t){let e=window.location.hash;this.page.url.includes(e)||(this.page.url+=e),this.setPage(t,{preserveScroll:!0,preserveState:!0}).then(()=>Xp(t))}setupEventListeners(){window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",D5(this.handleScrollEvent.bind(this),100),!0)}scrollRegions(){return document.querySelectorAll("[scroll-region]")}handleScrollEvent(t){typeof t.target.hasAttribute=="function"&&t.target.hasAttribute("scroll-region")&&this.saveScrollPositions()}saveScrollPositions(){this.replaceState({...this.page,scrollRegions:Array.from(this.scrollRegions()).map(t=>({top:t.scrollTop,left:t.scrollLeft}))})}resetScrollPositions(){iL(()=>{var t;window.scrollTo(0,0),this.scrollRegions().forEach(e=>{typeof e.scrollTo=="function"?e.scrollTo(0,0):(e.scrollTop=0,e.scrollLeft=0)}),this.saveScrollPositions(),window.location.hash&&((t=document.getElementById(window.location.hash.slice(1)))==null||t.scrollIntoView())})}restoreScrollPositions(){iL(()=>{this.page.scrollRegions&&this.scrollRegions().forEach((t,e)=>{let r=this.page.scrollRegions[e];if(r)typeof t.scrollTo=="function"?t.scrollTo(r.left,r.top):(t.scrollTop=r.top,t.scrollLeft=r.left);else return})})}isBackForwardVisit(){return window.history.state&&this.navigationType==="back_forward"}handleBackForwardVisit(t){window.history.state.version=t.version,this.setPage(window.history.state,{preserveScroll:!0,preserveState:!0}).then(()=>{this.restoreScrollPositions(),Xp(t)})}locationVisit(t,e){try{let r={preserveScroll:e};window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify(r)),window.location.href=t.href,Qp(window.location).href===Qp(t).href&&window.location.reload()}catch{return!1}}isLocationVisit(){try{return window.sessionStorage.getItem("inertiaLocationVisit")!==null}catch{return!1}}handleLocationVisit(t){var r,n;let e=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit")||"");window.sessionStorage.removeItem("inertiaLocationVisit"),t.url+=window.location.hash,t.rememberedState=((r=window.history.state)==null?void 0:r.rememberedState)??{},t.scrollRegions=((n=window.history.state)==null?void 0:n.scrollRegions)??[],this.setPage(t,{preserveScroll:e.preserveScroll,preserveState:!0}).then(()=>{e.preserveScroll&&this.restoreScrollPositions(),Xp(t)})}isLocationVisitResponse(t){return!!(t&&t.status===409&&t.headers["x-inertia-location"])}isInertiaResponse(t){return!!(t!=null&&t.headers["x-inertia"])}createVisitId(){return this.visitId={},this.visitId}cancelVisit(t,{cancelled:e=!1,interrupted:r=!1}){t&&!t.completed&&!t.cancelled&&!t.interrupted&&(t.cancelToken.abort(),t.onCancel(),t.completed=!1,t.cancelled=e,t.interrupted=r,rL(t),t.onFinish(t))}finishVisit(t){!t.cancelled&&!t.interrupted&&(t.completed=!0,t.cancelled=!1,t.interrupted=!1,rL(t),t.onFinish(t))}resolvePreserveOption(t,e){return typeof t=="function"?t(e):t==="errors"?Object.keys(e.props.errors||{}).length>0:t}cancel(){this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}visit(t,{method:e="get",data:r={},replace:n=!1,preserveScroll:i=!1,preserveState:s=!1,only:o=[],except:a=[],headers:l={},errorBag:c="",forceFormData:d=!1,onCancelToken:h=()=>{},onBefore:f=()=>{},onStart:g=()=>{},onProgress:m=()=>{},onFinish:p=()=>{},onCancel:y=()=>{},onSuccess:S=()=>{},onError:w=()=>{},queryStringArrayFormat:b="brackets"}={}){let C=typeof t=="string"?zf(t):t;if((AN(r)||d)&&!(r instanceof FormData)&&(r=$5(r)),!(r instanceof FormData)){let[R,I]=V5(e,C,r,b);C=zf(R),r=I}let N={url:C,method:e,data:r,replace:n,preserveScroll:i,preserveState:s,only:o,except:a,headers:l,errorBag:c,forceFormData:d,queryStringArrayFormat:b,cancelled:!1,completed:!1,interrupted:!1};if(f(N)===!1||!ire(N))return;this.activeVisit&&this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();let P=this.createVisitId();this.activeVisit={...N,onCancelToken:h,onBefore:f,onStart:g,onProgress:m,onFinish:p,onCancel:y,onSuccess:S,onError:w,queryStringArrayFormat:b,cancelToken:new AbortController},h({cancel:()=>{this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}}),cre(N),g(N);let k=!!(o.length||a.length);rr({method:e,url:Qp(C).href,data:e==="get"?{}:r,params:e==="get"?r:{},signal:this.activeVisit.cancelToken.signal,headers:{...l,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,...k?{"X-Inertia-Partial-Component":this.page.component}:{},...o.length?{"X-Inertia-Partial-Data":o.join(",")}:{},...a.length?{"X-Inertia-Partial-Except":a.join(",")}:{},...c&&c.length?{"X-Inertia-Error-Bag":c}:{},...this.page.version?{"X-Inertia-Version":this.page.version}:{}},onUploadProgress:R=>{r instanceof FormData&&(R.percentage=R.progress?Math.round(R.progress*100):0,lre(R),m(R))}}).then(R=>{var q;if(!this.isInertiaResponse(R))return Promise.reject({response:R});let I=R.data;k&&I.component===this.page.component&&(I.props={...this.page.props,...I.props}),i=this.resolvePreserveOption(i,I),s=this.resolvePreserveOption(s,I),s&&((q=window.history.state)!=null&&q.rememberedState)&&I.component===this.page.component&&(I.rememberedState=window.history.state.rememberedState);let O=C,Z=zf(I.url);return O.hash&&!Z.hash&&Qp(O).href===Z.href&&(Z.hash=O.hash,I.url=Z.href),this.setPage(I,{visitId:P,replace:n,preserveScroll:i,preserveState:s})}).then(()=>{let R=this.page.props.errors||{};if(Object.keys(R).length>0){let I=c?R[c]?R[c]:{}:R;return sre(I),w(I)}return ure(this.page),S(this.page)}).catch(R=>{if(this.isInertiaResponse(R.response))return this.setPage(R.response.data,{visitId:P});if(this.isLocationVisitResponse(R.response)){let I=zf(R.response.headers["x-inertia-location"]),O=C;O.hash&&!I.hash&&Qp(O).href===I.href&&(I.hash=O.hash),this.locationVisit(I,i===!0)}else if(R.response)are(R.response)&&dre.show(R.response.data);else return Promise.reject(R)}).then(()=>{this.activeVisit&&this.finishVisit(this.activeVisit)}).catch(R=>{if(!rr.isCancel(R)){let I=ore(R);if(this.activeVisit&&this.finishVisit(this.activeVisit),I)return Promise.reject(R)}})}setPage(t,{visitId:e=this.createVisitId(),replace:r=!1,preserveScroll:n=!1,preserveState:i=!1}={}){return Promise.resolve(this.resolveComponent(t.component)).then(s=>{e===this.visitId&&(t.scrollRegions=this.page.scrollRegions||[],t.rememberedState=t.rememberedState||{},r=r||zf(t.url).href===window.location.href,r?this.replaceState(t):this.pushState(t),this.swapComponent({component:s,page:t,preserveState:i}).then(()=>{n?this.restoreScrollPositions():this.resetScrollPositions(),r||Xp(t)}))})}pushState(t){this.page=t,nL?setTimeout(()=>window.history.pushState(t,"",t.url)):window.history.pushState(t,"",t.url)}replaceState(t){this.page=t,nL?setTimeout(()=>window.history.replaceState(t,"",t.url)):window.history.replaceState(t,"",t.url)}handlePopstateEvent(t){if(t.state!==null){let e=t.state,r=this.createVisitId();Promise.resolve(this.resolveComponent(e.component)).then(n=>{r===this.visitId&&(this.page=e,this.swapComponent({component:n,page:e,preserveState:!1}).then(()=>{this.restoreScrollPositions(),Xp(e)}))})}else{let e=zf(this.page.url);e.hash=window.location.hash,this.replaceState({...this.page,url:e.href}),this.resetScrollPositions()}}get(t,e={},r={}){return this.visit(t,{...r,method:"get",data:e})}reload(t={}){return this.visit(window.location.href,{...t,preserveScroll:!0,preserveState:!0})}replace(t,e={}){return console.warn(`Inertia.replace() has been deprecated and will be removed in a future release. Please use Inertia.${e.method??"get"}() instead.`),this.visit(t,{preserveState:!0,...e,replace:!0})}post(t,e={},r={}){return this.visit(t,{preserveState:!0,...r,method:"post",data:e})}put(t,e={},r={}){return this.visit(t,{preserveState:!0,...r,method:"put",data:e})}patch(t,e={},r={}){return this.visit(t,{preserveState:!0,...r,method:"patch",data:e})}delete(t,e={}){return this.visit(t,{preserveState:!0,...e,method:"delete"})}remember(t,e="default"){var r;$x||this.replaceState({...this.page,rememberedState:{...(r=this.page)==null?void 0:r.rememberedState,[e]:t}})}restore(t="default"){var e,r;if(!$x)return(r=(e=window.history.state)==null?void 0:e.rememberedState)==null?void 0:r[t]}on(t,e){if($x)return()=>{};let r=n=>{let i=e(n);n.cancelable&&!n.defaultPrevented&&i===!1&&n.preventDefault()};return document.addEventListener(`inertia:${t}`,r),()=>document.removeEventListener(`inertia:${t}`,r)}},fre={buildDOMElement(t){let e=document.createElement("template");e.innerHTML=t;let r=e.content.firstChild;if(!t.startsWith("<script "))return r;let n=document.createElement("script");return n.innerHTML=r.innerHTML,r.getAttributeNames().forEach(i=>{n.setAttribute(i,r.getAttribute(i)||"")}),n},isInertiaManagedElement(t){return t.nodeType===Node.ELEMENT_NODE&&t.getAttribute("inertia")!==null},findMatchingElementIndex(t,e){let r=t.getAttribute("inertia");return r!==null?e.findIndex(n=>n.getAttribute("inertia")===r):-1},update:D5(function(t){let e=t.map(r=>this.buildDOMElement(r));Array.from(document.head.childNodes).filter(r=>this.isInertiaManagedElement(r)).forEach(r=>{var s,o;let n=this.findMatchingElementIndex(r,e);if(n===-1){(s=r==null?void 0:r.parentNode)==null||s.removeChild(r);return}let i=e.splice(n,1)[0];i&&!r.isEqualNode(i)&&((o=r==null?void 0:r.parentNode)==null||o.replaceChild(i,r))}),e.forEach(r=>document.head.appendChild(r))},1)};function gre(t,e,r){let n={},i=0;function s(){let d=i+=1;return n[d]=[],d.toString()}function o(d){d===null||Object.keys(n).indexOf(d)===-1||(delete n[d],c())}function a(d,h=[]){d!==null&&Object.keys(n).indexOf(d)>-1&&(n[d]=h),c()}function l(){let d=e(""),h={...d?{title:`<title inertia="">${d}</title>`}:{}},f=Object.values(n).reduce((g,m)=>g.concat(m),[]).reduce((g,m)=>{if(m.indexOf("<")===-1)return g;if(m.indexOf("<title ")===0){let y=m.match(/(<title [^>]+>)(.*?)(<\/title>)/);return g.title=y?`${y[1]}${e(y[2])}${y[3]}`:m,g}let p=m.match(/ inertia="[^"]+"/);return p?g[p[0]]=m:g[Object.keys(g).length]=m,g},h);return Object.values(f)}function c(){t?r(l()):fre.update(l())}return c(),{forceUpdate:c,createProvider:function(){let d=s();return{update:h=>a(d,h),disconnect:()=>o(d)}}}}var W5=null;function mre(t){document.addEventListener("inertia:start",pre.bind(null,t)),document.addEventListener("inertia:progress",yre),document.addEventListener("inertia:finish",vre)}function pre(t){W5=setTimeout(()=>fl.start(),t)}function yre(t){var e;fl.isStarted()&&((e=t.detail.progress)!=null&&e.percentage)&&fl.set(Math.max(fl.status,t.detail.progress.percentage/100*.9))}function vre(t){if(clearTimeout(W5),fl.isStarted())t.detail.visit.completed?fl.done():t.detail.visit.interrupted?fl.set(0):t.detail.visit.cancelled&&(fl.done(),fl.remove());else return}function wre(t){let e=document.createElement("style");e.type="text/css",e.textContent=`
    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: ${t};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${t}, 0 0 5px ${t};
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${t};
      border-left-color: ${t};
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(e)}function bre({delay:t=250,color:e="#29d",includeCSS:r=!0,showSpinner:n=!1}={}){mre(t),fl.configure({showSpinner:n}),r&&wre(e)}function Sre(t){let e=t.currentTarget.tagName.toLowerCase()==="a";return!(t.target&&(t==null?void 0:t.target).isContentEditable||t.defaultPrevented||e&&t.altKey||e&&t.ctrlKey||e&&t.metaKey||e&&t.shiftKey||e&&"button"in t&&t.button!==0)}var cd=new hre,IC={exports:{}};IC.exports;(function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",d="[object Boolean]",h="[object Date]",f="[object Error]",g="[object Function]",m="[object GeneratorFunction]",p="[object Map]",y="[object Number]",S="[object Null]",w="[object Object]",b="[object Promise]",C="[object Proxy]",N="[object RegExp]",P="[object Set]",k="[object String]",R="[object Symbol]",I="[object Undefined]",O="[object WeakMap]",Z="[object ArrayBuffer]",q="[object DataView]",J="[object Float32Array]",re="[object Float64Array]",ue="[object Int8Array]",ve="[object Int16Array]",be="[object Int32Array]",ie="[object Uint8Array]",ee="[object Uint8ClampedArray]",ce="[object Uint16Array]",ae="[object Uint32Array]",ye=/[\\^$.*+?()[\]{}|]/g,Q=/^\[object .+?Constructor\]$/,F=/^(?:0|[1-9]\d*)$/,v={};v[J]=v[re]=v[ue]=v[ve]=v[be]=v[ie]=v[ee]=v[ce]=v[ae]=!0,v[a]=v[l]=v[Z]=v[d]=v[q]=v[h]=v[f]=v[g]=v[p]=v[y]=v[w]=v[N]=v[P]=v[k]=v[O]=!1;var x=typeof da=="object"&&da&&da.Object===Object&&da,E=typeof self=="object"&&self&&self.Object===Object&&self,D=x||E||Function("return this")(),Y=e&&!e.nodeType&&e,_=Y&&!0&&t&&!t.nodeType&&t,T=_&&_.exports===Y,M=T&&x.process,$=function(){try{return M&&M.binding&&M.binding("util")}catch{}}(),j=$&&$.isTypedArray;function A(H,G){for(var de=-1,ke=H==null?0:H.length,ir=0,nt=[];++de<ke;){var jr=H[de];G(jr,de,H)&&(nt[ir++]=jr)}return nt}function U(H,G){for(var de=-1,ke=G.length,ir=H.length;++de<ke;)H[ir+de]=G[de];return H}function L(H,G){for(var de=-1,ke=H==null?0:H.length;++de<ke;)if(G(H[de],de,H))return!0;return!1}function V(H,G){for(var de=-1,ke=Array(H);++de<H;)ke[de]=G(de);return ke}function X(H){return function(G){return H(G)}}function K(H,G){return H.has(G)}function se(H,G){return H==null?void 0:H[G]}function we(H){var G=-1,de=Array(H.size);return H.forEach(function(ke,ir){de[++G]=[ir,ke]}),de}function pe(H,G){return function(de){return H(G(de))}}function He(H){var G=-1,de=Array(H.size);return H.forEach(function(ke){de[++G]=ke}),de}var Je=Array.prototype,ht=Function.prototype,Oe=Object.prototype,Ue=D["__core-js_shared__"],vt=ht.toString,_t=Oe.hasOwnProperty,te=function(){var H=/[^.]+$/.exec(Ue&&Ue.keys&&Ue.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),We=Oe.toString,Ye=RegExp("^"+vt.call(_t).replace(ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=T?D.Buffer:void 0,De=D.Symbol,rt=D.Uint8Array,qe=Oe.propertyIsEnumerable,Qn=Je.splice,Or=De?De.toStringTag:void 0,nr=Object.getOwnPropertySymbols,Gt=Nt?Nt.isBuffer:void 0,fr=pe(Object.keys,Object),Rt=Vf(D,"DataView"),gr=Vf(D,"Map"),an=Vf(D,"Promise"),Kt=Vf(D,"Set"),Ta=Vf(D,"WeakMap"),_d=Vf(Object,"create"),Qw=Rd(Rt),Bp=Rd(gr),Jw=Rd(an),Zw=Rd(Kt),nE=Rd(Ta),ms=De?De.prototype:void 0,Io=ms?ms.valueOf:void 0;function ka(H){var G=-1,de=H==null?0:H.length;for(this.clear();++G<de;){var ke=H[G];this.set(ke[0],ke[1])}}function eb(){this.__data__=_d?_d(null):{},this.size=0}function zp(H){var G=this.has(H)&&delete this.__data__[H];return this.size-=G?1:0,G}function tb(H){var G=this.__data__;if(_d){var de=G[H];return de===n?void 0:de}return _t.call(G,H)?G[H]:void 0}function Ao(H){var G=this.__data__;return _d?G[H]!==void 0:_t.call(G,H)}function rb(H,G){var de=this.__data__;return this.size+=this.has(H)?0:1,de[H]=_d&&G===void 0?n:G,this}ka.prototype.clear=eb,ka.prototype.delete=zp,ka.prototype.get=tb,ka.prototype.has=Ao,ka.prototype.set=rb;function Gs(H){var G=-1,de=H==null?0:H.length;for(this.clear();++G<de;){var ke=H[G];this.set(ke[0],ke[1])}}function nb(){this.__data__=[],this.size=0}function ib(H){var G=this.__data__,de=ab(G,H);if(de<0)return!1;var ke=G.length-1;return de==ke?G.pop():Qn.call(G,de,1),--this.size,!0}function iE(H){var G=this.__data__,de=ab(G,H);return de<0?void 0:G[de][1]}function je(H){return ab(this.__data__,H)>-1}function z(H,G){var de=this.__data__,ke=ab(de,H);return ke<0?(++this.size,de.push([H,G])):de[ke][1]=G,this}Gs.prototype.clear=nb,Gs.prototype.delete=ib,Gs.prototype.get=iE,Gs.prototype.has=je,Gs.prototype.set=z;function fe(H){var G=-1,de=H==null?0:H.length;for(this.clear();++G<de;){var ke=H[G];this.set(ke[0],ke[1])}}function Me(){this.size=0,this.__data__={hash:new ka,map:new(gr||Gs),string:new ka}}function Qt(H){var G=lb(this,H).delete(H);return this.size-=G?1:0,G}function kn(H){return lb(this,H).get(H)}function Hr(H){return lb(this,H).has(H)}function Jn(H,G){var de=lb(this,H),ke=de.size;return de.set(H,G),this.size+=de.size==ke?0:1,this}fe.prototype.clear=Me,fe.prototype.delete=Qt,fe.prototype.get=kn,fe.prototype.has=Hr,fe.prototype.set=Jn;function Vi(H){var G=-1,de=H==null?0:H.length;for(this.__data__=new fe;++G<de;)this.add(H[G])}function Yc(H){return this.__data__.set(H,n),this}function Up(H){return this.__data__.has(H)}Vi.prototype.add=Vi.prototype.push=Yc,Vi.prototype.has=Up;function Jt(H){var G=this.__data__=new Gs(H);this.size=G.size}function sb(){this.__data__=new Gs,this.size=0}function ob(H){var G=this.__data__,de=G.delete(H);return this.size=G.size,de}function SX(H){return this.__data__.get(H)}function xX(H){return this.__data__.has(H)}function CX(H,G){var de=this.__data__;if(de instanceof Gs){var ke=de.__data__;if(!gr||ke.length<r-1)return ke.push([H,G]),this.size=++de.size,this;de=this.__data__=new fe(ke)}return de.set(H,G),this.size=de.size,this}Jt.prototype.clear=sb,Jt.prototype.delete=ob,Jt.prototype.get=SX,Jt.prototype.has=xX,Jt.prototype.set=CX;function _X(H,G){var de=cb(H),ke=!de&&LX(H),ir=!de&&!ke&&sE(H),nt=!de&&!ke&&!ir&&o$(H),jr=de||ke||ir||nt,Pn=jr?V(H.length,String):[],Bn=Pn.length;for(var Sr in H)_t.call(H,Sr)&&!(jr&&(Sr=="length"||ir&&(Sr=="offset"||Sr=="parent")||nt&&(Sr=="buffer"||Sr=="byteLength"||Sr=="byteOffset")||OX(Sr,Bn)))&&Pn.push(Sr);return Pn}function ab(H,G){for(var de=H.length;de--;)if(r$(H[de][0],G))return de;return-1}function RX(H,G,de){var ke=G(H);return cb(H)?ke:U(ke,de(H))}function Yp(H){return H==null?H===void 0?I:S:Or&&Or in Object(H)?IX(H):$X(H)}function JD(H){return Gp(H)&&Yp(H)==a}function ZD(H,G,de,ke,ir){return H===G?!0:H==null||G==null||!Gp(H)&&!Gp(G)?H!==H&&G!==G:EX(H,G,de,ke,ZD,ir)}function EX(H,G,de,ke,ir,nt){var jr=cb(H),Pn=cb(G),Bn=jr?l:Gc(H),Sr=Pn?l:Gc(G);Bn=Bn==a?w:Bn,Sr=Sr==a?w:Sr;var ps=Bn==w,Oo=Sr==w,Zn=Bn==Sr;if(Zn&&sE(H)){if(!sE(G))return!1;jr=!0,ps=!1}if(Zn&&!ps)return nt||(nt=new Jt),jr||o$(H)?e$(H,G,de,ke,ir,nt):NX(H,G,Bn,de,ke,ir,nt);if(!(de&i)){var Ks=ps&&_t.call(H,"__wrapped__"),qs=Oo&&_t.call(G,"__wrapped__");if(Ks||qs){var Kc=Ks?H.value():H,Ol=qs?G.value():G;return nt||(nt=new Jt),ir(Kc,Ol,de,ke,nt)}}return Zn?(nt||(nt=new Jt),MX(H,G,de,ke,ir,nt)):!1}function TX(H){if(!s$(H)||jX(H))return!1;var G=n$(H)?Ye:Q;return G.test(Rd(H))}function kX(H){return Gp(H)&&i$(H.length)&&!!v[Yp(H)]}function PX(H){if(!DX(H))return fr(H);var G=[];for(var de in Object(H))_t.call(H,de)&&de!="constructor"&&G.push(de);return G}function e$(H,G,de,ke,ir,nt){var jr=de&i,Pn=H.length,Bn=G.length;if(Pn!=Bn&&!(jr&&Bn>Pn))return!1;var Sr=nt.get(H);if(Sr&&nt.get(G))return Sr==G;var ps=-1,Oo=!0,Zn=de&s?new Vi:void 0;for(nt.set(H,G),nt.set(G,H);++ps<Pn;){var Ks=H[ps],qs=G[ps];if(ke)var Kc=jr?ke(qs,Ks,ps,G,H,nt):ke(Ks,qs,ps,H,G,nt);if(Kc!==void 0){if(Kc)continue;Oo=!1;break}if(Zn){if(!L(G,function(Ol,Ed){if(!K(Zn,Ed)&&(Ks===Ol||ir(Ks,Ol,de,ke,nt)))return Zn.push(Ed)})){Oo=!1;break}}else if(!(Ks===qs||ir(Ks,qs,de,ke,nt))){Oo=!1;break}}return nt.delete(H),nt.delete(G),Oo}function NX(H,G,de,ke,ir,nt,jr){switch(de){case q:if(H.byteLength!=G.byteLength||H.byteOffset!=G.byteOffset)return!1;H=H.buffer,G=G.buffer;case Z:return!(H.byteLength!=G.byteLength||!nt(new rt(H),new rt(G)));case d:case h:case y:return r$(+H,+G);case f:return H.name==G.name&&H.message==G.message;case N:case k:return H==G+"";case p:var Pn=we;case P:var Bn=ke&i;if(Pn||(Pn=He),H.size!=G.size&&!Bn)return!1;var Sr=jr.get(H);if(Sr)return Sr==G;ke|=s,jr.set(H,G);var ps=e$(Pn(H),Pn(G),ke,ir,nt,jr);return jr.delete(H),ps;case R:if(Io)return Io.call(H)==Io.call(G)}return!1}function MX(H,G,de,ke,ir,nt){var jr=de&i,Pn=t$(H),Bn=Pn.length,Sr=t$(G),ps=Sr.length;if(Bn!=ps&&!jr)return!1;for(var Oo=Bn;Oo--;){var Zn=Pn[Oo];if(!(jr?Zn in G:_t.call(G,Zn)))return!1}var Ks=nt.get(H);if(Ks&&nt.get(G))return Ks==G;var qs=!0;nt.set(H,G),nt.set(G,H);for(var Kc=jr;++Oo<Bn;){Zn=Pn[Oo];var Ol=H[Zn],Ed=G[Zn];if(ke)var a$=jr?ke(Ed,Ol,Zn,G,H,nt):ke(Ol,Ed,Zn,H,G,nt);if(!(a$===void 0?Ol===Ed||ir(Ol,Ed,de,ke,nt):a$)){qs=!1;break}Kc||(Kc=Zn=="constructor")}if(qs&&!Kc){var ub=H.constructor,db=G.constructor;ub!=db&&"constructor"in H&&"constructor"in G&&!(typeof ub=="function"&&ub instanceof ub&&typeof db=="function"&&db instanceof db)&&(qs=!1)}return nt.delete(H),nt.delete(G),qs}function t$(H){return RX(H,WX,AX)}function lb(H,G){var de=H.__data__;return HX(G)?de[typeof G=="string"?"string":"hash"]:de.map}function Vf(H,G){var de=se(H,G);return TX(de)?de:void 0}function IX(H){var G=_t.call(H,Or),de=H[Or];try{H[Or]=void 0;var ke=!0}catch{}var ir=We.call(H);return ke&&(G?H[Or]=de:delete H[Or]),ir}var AX=nr?function(H){return H==null?[]:(H=Object(H),A(nr(H),function(G){return qe.call(H,G)}))}:BX,Gc=Yp;(Rt&&Gc(new Rt(new ArrayBuffer(1)))!=q||gr&&Gc(new gr)!=p||an&&Gc(an.resolve())!=b||Kt&&Gc(new Kt)!=P||Ta&&Gc(new Ta)!=O)&&(Gc=function(H){var G=Yp(H),de=G==w?H.constructor:void 0,ke=de?Rd(de):"";if(ke)switch(ke){case Qw:return q;case Bp:return p;case Jw:return b;case Zw:return P;case nE:return O}return G});function OX(H,G){return G=G??o,!!G&&(typeof H=="number"||F.test(H))&&H>-1&&H%1==0&&H<G}function HX(H){var G=typeof H;return G=="string"||G=="number"||G=="symbol"||G=="boolean"?H!=="__proto__":H===null}function jX(H){return!!te&&te in H}function DX(H){var G=H&&H.constructor,de=typeof G=="function"&&G.prototype||Oe;return H===de}function $X(H){return We.call(H)}function Rd(H){if(H!=null){try{return vt.call(H)}catch{}try{return H+""}catch{}}return""}function r$(H,G){return H===G||H!==H&&G!==G}var LX=JD(function(){return arguments}())?JD:function(H){return Gp(H)&&_t.call(H,"callee")&&!qe.call(H,"callee")},cb=Array.isArray;function FX(H){return H!=null&&i$(H.length)&&!n$(H)}var sE=Gt||zX;function VX(H,G){return ZD(H,G)}function n$(H){if(!s$(H))return!1;var G=Yp(H);return G==g||G==m||G==c||G==C}function i$(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=o}function s$(H){var G=typeof H;return H!=null&&(G=="object"||G=="function")}function Gp(H){return H!=null&&typeof H=="object"}var o$=j?X(j):kX;function WX(H){return FX(H)?_X(H):PX(H)}function BX(){return[]}function zX(){return!1}t.exports=VX})(IC,IC.exports);var xre=IC.exports;const Cre=sw(xre);var B5=W.createContext(void 0);B5.displayName="InertiaHeadContext";var ON=B5,z5=W.createContext(void 0);z5.displayName="InertiaPageContext";var HN=z5;function U5({children:t,initialPage:e,initialComponent:r,resolveComponent:n,titleCallback:i,onHeadUpdate:s}){let[o,a]=W.useState({component:r||null,page:e,key:null}),l=W.useMemo(()=>gre(typeof window>"u",i||(d=>d),s||(()=>{})),[]);if(W.useEffect(()=>{cd.init({initialPage:e,resolveComponent:n,swapComponent:async({component:d,page:h,preserveState:f})=>{a(g=>({component:d,page:h,key:f?g.key:Date.now()}))}}),cd.on("navigate",()=>l.forceUpdate())},[]),!o.component)return W.createElement(ON.Provider,{value:l},W.createElement(HN.Provider,{value:o.page},null));let c=t||(({Component:d,props:h,key:f})=>{let g=W.createElement(d,{key:f,...h});return typeof d.layout=="function"?d.layout(g):Array.isArray(d.layout)?d.layout.concat(g).reverse().reduce((m,p)=>W.createElement(p,{children:m,...h})):g});return W.createElement(ON.Provider,{value:l},W.createElement(HN.Provider,{value:o.page},c({Component:o.component,key:o.key,props:o.page.props})))}U5.displayName="Inertia";async function _re({id:t="app",resolve:e,setup:r,title:n,progress:i={},page:s,render:o}){let a=typeof window>"u",l=a?null:document.getElementById(t),c=s||JSON.parse(l.dataset.page),d=g=>Promise.resolve(e(g)).then(m=>m.default||m),h=[],f=await d(c.component).then(g=>r({el:l,App:U5,props:{initialPage:c,initialComponent:g,resolveComponent:d,titleCallback:n,onHeadUpdate:a?m=>h=m:null}}));if(!a&&i&&bre(i),a){let g=await o(W.createElement("div",{id:t,"data-page":JSON.stringify(c)},f));return{head:h,body:g}}}var Rre=function({children:t,title:e}){let r=W.useContext(ON),n=W.useMemo(()=>r.createProvider(),[r]);W.useEffect(()=>()=>{n.disconnect()},[n]);function i(h){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(h.type)>-1}function s(h){let f=Object.keys(h.props).reduce((g,m)=>{if(["head-key","children","dangerouslySetInnerHTML"].includes(m))return g;let p=h.props[m];return p===""?g+` ${m}`:g+` ${m}="${p}"`},"");return`<${h.type}${f}>`}function o(h){return typeof h.props.children=="string"?h.props.children:h.props.children.reduce((f,g)=>f+a(g),"")}function a(h){let f=s(h);return h.props.children&&(f+=o(h)),h.props.dangerouslySetInnerHTML&&(f+=h.props.dangerouslySetInnerHTML.__html),i(h)||(f+=`</${h.type}>`),f}function l(h){return bt.cloneElement(h,{inertia:h.props["head-key"]!==void 0?h.props["head-key"]:""})}function c(h){return a(l(h))}function d(h){let f=bt.Children.toArray(h).filter(g=>g).map(g=>c(g));return e&&!f.find(g=>g.startsWith("<title"))&&f.push(`<title inertia>${e}</title>`),f}return n.update(d(t)),null},O_=Rre,Hl=()=>{},Y5=W.forwardRef(({children:t,as:e="a",data:r={},href:n,method:i="get",preserveScroll:s=!1,preserveState:o=null,replace:a=!1,only:l=[],except:c=[],headers:d={},queryStringArrayFormat:h="brackets",onClick:f=Hl,onCancelToken:g=Hl,onBefore:m=Hl,onStart:p=Hl,onProgress:y=Hl,onFinish:S=Hl,onCancel:w=Hl,onSuccess:b=Hl,onError:C=Hl,...N},P)=>{let k=W.useCallback(O=>{f(O),Sre(O)&&(O.preventDefault(),cd.visit(n,{data:r,method:i,preserveScroll:s,preserveState:o??i!=="get",replace:a,only:l,except:c,headers:d,onCancelToken:g,onBefore:m,onStart:p,onProgress:y,onFinish:S,onCancel:w,onSuccess:b,onError:C}))},[r,n,i,s,o,a,l,c,d,f,g,m,p,y,S,w,b,C]);e=e.toLowerCase(),i=i.toLowerCase();let[R,I]=V5(i,n||"",r,h);return n=R,r=I,e==="a"&&i!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="${n}" method="${i}" as="button">...</Link>`),W.createElement(e,{...N,...e==="a"?{href:n}:{},ref:P,onClick:k},t)});Y5.displayName="InertiaLink";var pi=Y5;function sL(t,e){let[r,n]=W.useState(()=>{let i=cd.restore(e);return i!==void 0?i:t});return W.useEffect(()=>{cd.remember(r,e)},[r,e]),[r,n]}function Dc(t,e){let r=W.useRef(null),n=typeof t=="string"?t:null,[i,s]=W.useState((typeof t=="string"?e:t)||{}),o=W.useRef(null),a=W.useRef(null),[l,c]=n?sL(i,`${n}:data`):W.useState(i),[d,h]=n?sL({},`${n}:errors`):W.useState({}),[f,g]=W.useState(!1),[m,p]=W.useState(!1),[y,S]=W.useState(null),[w,b]=W.useState(!1),[C,N]=W.useState(!1),P=W.useRef(ae=>ae);W.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]);let k=W.useCallback((ae,ye,Q={})=>{let F={...Q,onCancelToken:v=>{if(o.current=v,Q.onCancelToken)return Q.onCancelToken(v)},onBefore:v=>{if(b(!1),N(!1),clearTimeout(a.current),Q.onBefore)return Q.onBefore(v)},onStart:v=>{if(p(!0),Q.onStart)return Q.onStart(v)},onProgress:v=>{if(S(v),Q.onProgress)return Q.onProgress(v)},onSuccess:v=>{if(r.current&&(p(!1),S(null),h({}),g(!1),b(!0),N(!0),a.current=setTimeout(()=>{r.current&&N(!1)},2e3)),Q.onSuccess)return Q.onSuccess(v)},onError:v=>{if(r.current&&(p(!1),S(null),h(v),g(!0)),Q.onError)return Q.onError(v)},onCancel:()=>{if(r.current&&(p(!1),S(null)),Q.onCancel)return Q.onCancel()},onFinish:()=>{if(r.current&&(p(!1),S(null)),o.current=null,Q.onFinish)return Q.onFinish()}};ae==="delete"?cd.delete(ye,{...F,data:P.current(l)}):cd[ae](ye,P.current(l),F)},[l,h]),R=W.useCallback((ae,ye)=>{c(typeof ae=="string"?Q=>({...Q,[ae]:ye}):typeof ae=="function"?Q=>ae(Q):ae)},[c]),I=W.useCallback((ae,ye)=>{s(typeof ae>"u"?()=>l:Q=>({...Q,...typeof ae=="string"?{[ae]:ye}:ae}))},[l,s]),O=W.useCallback((...ae)=>{ae.length===0?c(i):c(ye=>Object.keys(i).filter(Q=>ae.includes(Q)).reduce((Q,F)=>(Q[F]=i[F],Q),{...ye}))},[c,i]),Z=W.useCallback((ae,ye)=>{h(Q=>{let F={...Q,...typeof ae=="string"?{[ae]:ye}:ae};return g(Object.keys(F).length>0),F})},[h,g]),q=W.useCallback((...ae)=>{h(ye=>{let Q=Object.keys(ye).reduce((F,v)=>({...F,...ae.length>0&&!ae.includes(v)?{[v]:ye[v]}:{}}),{});return g(Object.keys(Q).length>0),Q})},[h,g]),J=ae=>(ye,Q)=>{k(ae,ye,Q)},re=W.useCallback(J("get"),[k]),ue=W.useCallback(J("post"),[k]),ve=W.useCallback(J("put"),[k]),be=W.useCallback(J("patch"),[k]),ie=W.useCallback(J("delete"),[k]),ee=W.useCallback(()=>{o.current&&o.current.cancel()},[]),ce=W.useCallback(ae=>{P.current=ae},[]);return{data:l,setData:R,isDirty:!Cre(l,i),errors:d,hasErrors:f,processing:m,progress:y,wasSuccessful:w,recentlySuccessful:C,transform:ce,setDefaults:I,reset:O,setError:Z,clearErrors:q,submit:k,get:re,post:ue,put:ve,patch:be,delete:ie,cancel:ee}}function bp(){let t=W.useContext(HN);if(!t)throw new Error("usePage must be used within the Inertia component");return t}var Gr=cd;const G5=()=>{const{auth:t}=bp().props;return{user:(t==null?void 0:t.user)||null,isAuthenticated:!!(t!=null&&t.user),isLoading:!1}},bm={SUPER_ADMIN:"superadmin",ADMIN:"admin",HEI:"hei"},Ere={[bm.SUPER_ADMIN]:"Super Administrator",[bm.ADMIN]:"CHED Administrator",[bm.HEI]:"HEI User"},Tre=()=>{const t=()=>{confirm("Are you sure you want to logout?")&&Gr.post("/logout")};return u.jsx("button",{onClick:t,className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Logout"})},kre=({user:t})=>{var i;const[e,r]=W.useState(!1),n=W.useRef(null);return W.useEffect(()=>{const s=o=>{n.current&&!n.current.contains(o.target)&&r(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]),u.jsxs("div",{className:"relative",ref:n,children:[u.jsxs("button",{onClick:()=>r(!e),className:"flex items-center gap-3 px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-semibold",children:((i=t.name)==null?void 0:i.charAt(0).toUpperCase())||"U"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.name}),u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Ere[t.role]||t.role})]}),u.jsx("svg",{className:`w-4 h-4 text-gray-500 dark:text-gray-400 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&u.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50",children:[u.jsx(pi,{href:"/profile",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Profile Settings"}),u.jsx(pi,{href:"/change-password",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Change Password"}),u.jsx("hr",{className:"my-2 border-gray-200 dark:border-gray-700"}),u.jsx(Tre,{})]})]})},rs={DRAFT:"draft",SUBMITTED:"submitted",APPROVED:"approved",REJECTED:"rejected",PUBLISHED:"published",REQUEST:"request",OVERWRITTEN:"overwritten"},Sm={PENDING:"pending",APPROVED:"approved",REJECTED:"rejected"},Pre={[rs.DRAFT]:"gray",[rs.SUBMITTED]:"blue",[rs.APPROVED]:"green",[rs.REJECTED]:"red",[rs.PUBLISHED]:"green",[rs.REQUEST]:"yellow",[rs.OVERWRITTEN]:"gray",[Sm.PENDING]:"yellow",[Sm.APPROVED]:"green",[Sm.REJECTED]:"red",not_started:"gray"},Nre={[rs.DRAFT]:"Draft",[rs.SUBMITTED]:"Submitted",[rs.APPROVED]:"Approved",[rs.REJECTED]:"Rejected",[rs.PUBLISHED]:"Published",[rs.REQUEST]:"Under Review",[rs.OVERWRITTEN]:"Overwritten",[Sm.PENDING]:"Pending",[Sm.APPROVED]:"Approved",[Sm.REJECTED]:"Rejected",not_started:"Not Started"};window.__ACADEMIC_YEAR_START__||new Date().getFullYear();const Jp={LIGHT:"light",DARK:"dark"},K5=W.createContext(),Mre=({children:t})=>{const[e,r]=W.useState(()=>localStorage.getItem("ched_theme_mode")||Jp.LIGHT);W.useEffect(()=>{localStorage.setItem("ched_theme_mode",e),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(e)},[e]);const n=()=>{r(i=>i===Jp.LIGHT?Jp.DARK:Jp.LIGHT)};return u.jsx(K5.Provider,{value:{mode:e,toggleMode:n,isDark:e===Jp.DARK},children:t})},q5=()=>{const t=W.useContext(K5);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t},Ire=()=>{const{isDark:t,toggleMode:e}=q5();return u.jsx("button",{onClick:e,className:"p-2 rounded-lg bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors","aria-label":"Toggle theme",children:t?u.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):u.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})})},Are=()=>{const{user:t}=G5();return u.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:"/images/ched_logo.png",alt:"CHED Logo",className:"h-10 w-10 object-contain"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"CHED HEI SASIS Management System - IX"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Student Affair and Sevices Information System"})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Ire,{}),t&&u.jsx(kre,{user:t})]})]})})},Ore=()=>{const{flash:t}=bp().props,[e,r]=W.useState([]);W.useEffect(()=>{t!=null&&t.success&&n("success",t.success),t!=null&&t.error&&n("error",t.error),t!=null&&t.info&&n("info",t.info),t!=null&&t.warning&&n("warning",t.warning)},[t]);const n=(s,o)=>{const a=Date.now();r(l=>[...l,{id:a,type:s,message:o}]),setTimeout(()=>{i(a)},5e3)},i=s=>{r(o=>o.filter(a=>a.id!==s))};return{notifications:e,addNotification:n,removeNotification:i}},Hre=({notification:t,onRemove:e})=>{W.useEffect(()=>{const i=setTimeout(()=>{e(t.id)},5e3);return()=>clearTimeout(i)},[t.id,e]);const r={success:"bg-green-500",error:"bg-red-500",warning:"bg-yellow-500",info:"bg-blue-500"},n={success:"",error:"",warning:"!",info:"i"};return u.jsxs("div",{className:`${r[t.type]} text-white p-4 rounded-lg shadow-lg flex items-center justify-between min-w-80`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"font-bold text-lg",children:n[t.type]}),u.jsx("span",{children:t.message})]}),u.jsx("button",{onClick:()=>e(t.id),className:"ml-4 hover:bg-white hover:bg-opacity-20 rounded p-1",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},gw=({title:t,children:e})=>{const{notifications:r,removeNotification:n}=Ore();return u.jsxs(u.Fragment,{children:[u.jsx(O_,{title:t}),u.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-800",children:[u.jsx(Are,{}),u.jsx("main",{children:e}),u.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(i=>u.jsx(Hre,{notification:i,onRemove:n},i.id))})]})]})};var X5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},oL=bt.createContext&&bt.createContext(X5),jre=["attr","size","title"];function Dre(t,e){if(t==null)return{};var r=$re(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $re(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function AC(){return AC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AC.apply(this,arguments)}function aL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(r),!0).forEach(function(n){Lre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lre(t,e,r){return e=Fre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fre(t){var e=Vre(t,"string");return typeof e=="symbol"?e:e+""}function Vre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q5(t){return t&&t.map((e,r)=>bt.createElement(e.tag,OC({key:r},e.attr),Q5(e.child)))}function ze(t){return e=>bt.createElement(Wre,AC({attr:OC({},t.attr)},e),Q5(t.child))}function Wre(t){var e=r=>{var{attr:n,size:i,title:s}=t,o=Dre(t,jre),a=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),bt.createElement("svg",AC({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:OC(OC({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&bt.createElement("title",null,s),t.children)};return oL!==void 0?bt.createElement(oL.Consumer,null,r=>e(r)):e(X5)}function Qh(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224h-64v64a16 16 0 0 1-32 0v-64h-64a16 16 0 0 1 0-32h64v-64a16 16 0 0 1 32 0v64h64a16 16 0 0 1 0 32z"},child:[]}]})(t)}function J5(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"},child:[]}]})(t)}function Bre(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m112 268 144 144 144-144M256 392V100"},child:[]}]})(t)}function zre(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m112 244 144-144 144 144M256 120v292"},child:[]}]})(t)}function Ure(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 496H48a32 32 0 0 1-32-32V32a16 16 0 0 1 32 0v432h432a16 16 0 0 1 0 32z"},child:[]},{tag:"path",attr:{d:"M156 432h-40a36 36 0 0 1-36-36V244a36 36 0 0 1 36-36h40a36 36 0 0 1 36 36v152a36 36 0 0 1-36 36zm144 0h-40a36 36 0 0 1-36-36V196a36 36 0 0 1 36-36h40a36 36 0 0 1 36 36v200a36 36 0 0 1-36 36zm143.64 0h-40a36 36 0 0 1-36-36V132a36 36 0 0 1 36-36h40a36 36 0 0 1 36 36v264a36 36 0 0 1-36 36z"},child:[]}]})(t)}function Z5(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M202.24 74C166.11 56.75 115.61 48.3 48 48a31.36 31.36 0 0 0-17.92 5.33A32 32 0 0 0 16 79.9V366c0 19.34 13.76 33.93 32 33.93 71.07 0 142.36 6.64 185.06 47a4.11 4.11 0 0 0 6.94-3V106.82a15.89 15.89 0 0 0-5.46-12A143 143 0 0 0 202.24 74zm279.68-20.7A31.33 31.33 0 0 0 464 48c-67.61.3-118.11 8.71-154.24 26a143.31 143.31 0 0 0-32.31 20.78 15.93 15.93 0 0 0-5.45 12v337.13a3.93 3.93 0 0 0 6.68 2.81c25.67-25.5 70.72-46.82 185.36-46.81a32 32 0 0 0 32-32v-288a32 32 0 0 0-14.12-26.61z"},child:[]}]})(t)}function Yre(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 80a48.05 48.05 0 0 0-48-48H144a48.05 48.05 0 0 0-48 48v352a48.05 48.05 0 0 0 48 48h224a48.05 48.05 0 0 0 48-48zM168 432a24 24 0 1 1 24-24 24 24 0 0 1-24 24zm0-80a24 24 0 1 1 24-24 24 24 0 0 1-24 24zm0-80a24 24 0 1 1 24-24 24 24 0 0 1-24 24zm88 160a24 24 0 1 1 24-24 24 24 0 0 1-24 24zm0-80a24 24 0 1 1 24-24 24 24 0 0 1-24 24zm0-80a24 24 0 1 1 24-24 24 24 0 0 1-24 24zm112 136a24 24 0 0 1-48 0v-80a24 24 0 0 1 48 0zm-24-136a24 24 0 1 1 24-24 24 24 0 0 1-24 24zm19.31-100.69A16 16 0 0 1 352 176H160a16 16 0 0 1-16-16V96a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16v64a16 16 0 0 1-4.69 11.31z"},child:[]}]})(t)}function Gre(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 128a64 64 0 0 0-64-64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 112 48v16H96a64 64 0 0 0-64 64v12a4 4 0 0 0 4 4h440a4 4 0 0 0 4-4zM32 416a64 64 0 0 0 64 64h320a64 64 0 0 0 64-64V179a3 3 0 0 0-3-3H35a3 3 0 0 0-3 3zm344-208a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm-80-80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm-80-80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm-80-80a24 24 0 1 1-24 24 24 24 0 0 1 24-24zm0 80a24 24 0 1 1-24 24 24 24 0 0 1 24-24z"},child:[]}]})(t)}function Xm(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M391 480c-19.52 0-46.94-7.06-88-30-49.93-28-88.55-53.85-138.21-103.38C116.91 298.77 93.61 267.79 61 208.45c-36.84-67-30.56-102.12-23.54-117.13C45.82 73.38 58.16 62.65 74.11 52a176.3 176.3 0 0 1 28.64-15.2c1-.43 1.93-.84 2.76-1.21 4.95-2.23 12.45-5.6 21.95-2 6.34 2.38 12 7.25 20.86 16 18.17 17.92 43 57.83 52.16 77.43 6.15 13.21 10.22 21.93 10.23 31.71 0 11.45-5.76 20.28-12.75 29.81-1.31 1.79-2.61 3.5-3.87 5.16-7.61 10-9.28 12.89-8.18 18.05 2.23 10.37 18.86 41.24 46.19 68.51s57.31 42.85 67.72 45.07c5.38 1.15 8.33-.59 18.65-8.47 1.48-1.13 3-2.3 4.59-3.47 10.66-7.93 19.08-13.54 30.26-13.54h.06c9.73 0 18.06 4.22 31.86 11.18 18 9.08 59.11 33.59 77.14 51.78 8.77 8.84 13.66 14.48 16.05 20.81 3.6 9.53.21 17-2 22-.37.83-.78 1.74-1.21 2.75a176.49 176.49 0 0 1-15.29 28.58c-10.63 15.9-21.4 28.21-39.38 36.58A67.42 67.42 0 0 1 391 480z"},child:[]}]})(t)}function ez(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M352 176 217.6 336 160 272"},child:[]}]})(t)}function mw(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm108.25 138.29-134.4 160a16 16 0 0 1-12 5.71h-.27a16 16 0 0 1-11.89-5.3l-57.6-64a16 16 0 1 1 23.78-21.4l45.29 50.32 122.59-145.91a16 16 0 0 1 24.5 20.58z"},child:[]}]})(t)}function Kre(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(t)}function HC(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m112 184 144 144 144-144"},child:[]}]})(t)}function jC(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(t)}function qre(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m112 328 144-144 144 144"},child:[]}]})(t)}function tz(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 320 192 192m0 128 128-128"},child:[]}]})(t)}function Xre(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 1 1-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 0 1-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0 1 22.62-22.62L256 233.37l52.69-52.68a16 16 0 0 1 22.62 22.62L278.63 256z"},child:[]}]})(t)}function H_(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function Qre(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M384 224v184a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V168a40 40 0 0 1 40-40h167.48"},child:[]},{tag:"path",attr:{d:"M459.94 53.25a16.06 16.06 0 0 0-23.22-.56L424.35 65a8 8 0 0 0 0 11.31l11.34 11.32a8 8 0 0 0 11.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90 218.82 270.2a9 9 0 0 0-2.31 3.93L208.16 299a3.91 3.91 0 0 0 4.86 4.86l24.85-8.35a9 9 0 0 0 3.93-2.31L422 112.66a9 9 0 0 0 0-12.66l-9.95-10a9 9 0 0 0-12.71 0z"},child:[]}]})(t)}function lL(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.94 53.25a16.06 16.06 0 0 0-23.22-.56L424.35 65a8 8 0 0 0 0 11.31l11.34 11.32a8 8 0 0 0 11.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90 218.82 270.2a9 9 0 0 0-2.31 3.93L208.16 299a3.91 3.91 0 0 0 4.86 4.86l24.85-8.35a9 9 0 0 0 3.93-2.31L422 112.66a9 9 0 0 0 0-12.66l-9.95-10a9 9 0 0 0-12.71 0z"},child:[]},{tag:"path",attr:{d:"M386.34 193.66 264.45 315.79A41.08 41.08 0 0 1 247.58 326l-25.9 8.67a35.92 35.92 0 0 1-44.33-44.33l8.67-25.9a41.08 41.08 0 0 1 10.19-16.87l122.13-121.91a8 8 0 0 0-5.65-13.66H104a56 56 0 0 0-56 56v240a56 56 0 0 0 56 56h240a56 56 0 0 0 56-56V199.31a8 8 0 0 0-13.66-5.65z"},child:[]}]})(t)}function Qm(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M428 224H288a48 48 0 0 1-48-48V36a4 4 0 0 0-4-4h-92a64 64 0 0 0-64 64v320a64 64 0 0 0 64 64h224a64 64 0 0 0 64-64V228a4 4 0 0 0-4-4zm-92 160H176a16 16 0 0 1 0-32h160a16 16 0 0 1 0 32zm0-80H176a16 16 0 0 1 0-32h160a16 16 0 0 1 0 32z"},child:[]},{tag:"path",attr:{d:"M419.22 188.59 275.41 44.78a2 2 0 0 0-3.41 1.41V176a16 16 0 0 0 16 16h129.81a2 2 0 0 0 1.41-3.41z"},child:[]}]})(t)}function Sp(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M428 224H288a48 48 0 0 1-48-48V36a4 4 0 0 0-4-4h-92a64 64 0 0 0-64 64v320a64 64 0 0 0 64 64h224a64 64 0 0 0 64-64V228a4 4 0 0 0-4-4z"},child:[]},{tag:"path",attr:{d:"M419.22 188.59 275.41 44.78a2 2 0 0 0-3.41 1.41V176a16 16 0 0 0 16 16h129.81a2 2 0 0 0 1.41-3.41z"},child:[]}]})(t)}function dv(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448zM248 315.85l-51.79-51.79a2 2 0 0 0-3.39 1.69 64.11 64.11 0 0 0 53.49 53.49 2 2 0 0 0 1.69-3.39zm16-119.7L315.87 248a2 2 0 0 0 3.4-1.69 64.13 64.13 0 0 0-53.55-53.55 2 2 0 0 0-1.72 3.39z"},child:[]},{tag:"path",attr:{d:"M491 273.36a32.2 32.2 0 0 0-.1-34.76c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.68 96a226.54 226.54 0 0 0-71.82 11.79 4 4 0 0 0-1.56 6.63l47.24 47.24a4 4 0 0 0 3.82 1.05 96 96 0 0 1 116 116 4 4 0 0 0 1.05 3.81l67.95 68a4 4 0 0 0 5.4.24 343.81 343.81 0 0 0 67.24-77.4zM256 352a96 96 0 0 1-93.3-118.63 4 4 0 0 0-1.05-3.81l-66.84-66.87a4 4 0 0 0-5.41-.23c-24.39 20.81-47 46.13-67.67 75.72a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.39 76.14 98.28 100.65C162.06 402 207.92 416 255.68 416a238.22 238.22 0 0 0 72.64-11.55 4 4 0 0 0 1.61-6.64l-47.47-47.46a4 4 0 0 0-3.81-1.05A96 96 0 0 1 256 352z"},child:[]}]})(t)}function rz(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"80",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]}]})(t)}function hv(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"256",r:"64"},child:[]},{tag:"path",attr:{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 0 0-.1-34.76zM256 352a96 96 0 1 1 96-96 96.11 96.11 0 0 1-96 96z"},child:[]}]})(t)}function Jre(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M430 190c0-95.94-78.06-174-174-174S82 94.06 82 190c0 88.49 66.4 161.77 152 172.61V394h-36a22 22 0 0 0 0 44h36v36a22 22 0 0 0 44 0v-36h36a22 22 0 0 0 0-44h-36v-31.39c85.6-10.84 152-84.12 152-172.61zm-304 0c0-71.68 58.32-130 130-130s130 58.32 130 130-58.32 130-130 130-130-58.32-130-130z"},child:[]}]})(t)}function Zre(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M340.75 344.49c5.91-20.7 9.82-44.75 11.31-67.84a4.41 4.41 0 0 0-4.46-4.65h-71.06a4.43 4.43 0 0 0-4.47 4.39v55.3a4.44 4.44 0 0 0 4.14 4.38 273.51 273.51 0 0 1 59 11.39 4.45 4.45 0 0 0 5.54-2.97zm-17.17 32.82a260.05 260.05 0 0 0-46.6-9.09 4.42 4.42 0 0 0-4.91 4.29v65.24a4.47 4.47 0 0 0 6.76 3.7c15.9-9.27 29-24.84 40.84-45.43 1.94-3.36 4.89-9.15 6.67-12.69a4.29 4.29 0 0 0-2.76-6.02zm-88.29-8.91a256.85 256.85 0 0 0-46.56 8.82c-2.64.76-3.75 4.4-2.55 6.79 1.79 3.56 4 8.11 5.89 11.51 13 23 26.84 37.5 41.24 45.93a4.47 4.47 0 0 0 6.76-3.7v-65.27a4.16 4.16 0 0 0-4.78-4.08zm.31-96.4h-71.06a4.41 4.41 0 0 0-4.46 4.64c1.48 23.06 5.37 47.16 11.26 67.84a4.46 4.46 0 0 0 5.59 3 272.2 272.2 0 0 1 59-11.36 4.44 4.44 0 0 0 4.15-4.38V276.4a4.43 4.43 0 0 0-4.48-4.4zM277 143.78a235.8 235.8 0 0 0 46.5-9.14 4.3 4.3 0 0 0 2.76-6c-1.79-3.57-4.27-8.68-6.17-12.09-12.29-22-26.14-37.35-41.24-46a4.48 4.48 0 0 0-6.76 3.7v65.23a4.43 4.43 0 0 0 4.91 4.3zm-.46 96.22h71.06a4.39 4.39 0 0 0 4.46-4.58c-1.48-22.77-5.27-47.8-11.16-68.22a4.46 4.46 0 0 0-5.59-2.95c-19 5.74-38.79 10.43-59.09 12a4.4 4.4 0 0 0-4.15 4.32v55.11a4.4 4.4 0 0 0 4.47 4.32zM233.31 70.56c-15.42 8.57-29.17 24.43-41.47 46.37-1.91 3.41-4.19 8.11-6 11.67a4.31 4.31 0 0 0 2.76 6 225.42 225.42 0 0 0 46.54 9.17 4.43 4.43 0 0 0 4.91-4.29V74.26a4.49 4.49 0 0 0-6.74-3.7zm2.61 105.7c-20.3-1.55-40.11-6.24-59.09-12a4.46 4.46 0 0 0-5.59 2.95c-5.89 20.42-9.68 45.45-11.16 68.22a4.39 4.39 0 0 0 4.46 4.58h71.06a4.4 4.4 0 0 0 4.47-4.34v-55.09a4.4 4.4 0 0 0-4.15-4.32z"},child:[]},{tag:"path",attr:{d:"M414.39 97.61A224 224 0 1 0 97.61 414.39 224 224 0 1 0 414.39 97.61zM176.6 430.85a219.08 219.08 0 0 1-12.48-19.66c-2-3.69-4.84-9.26-6.73-13.13a7.29 7.29 0 0 0-10.31-3.16c-4.3 2.41-10 5.72-14.13 8.43a147.29 147.29 0 0 1-23.57-22.43 248.83 248.83 0 0 1 30.41-18.36c1.86-1 2.77-2.14 2.18-4.18a374.8 374.8 0 0 1-14.09-82.17 4.36 4.36 0 0 0-4.3-4.17H66.84a2 2 0 0 1-2-1.7A98.28 98.28 0 0 1 64 256a96.27 96.27 0 0 1 .86-14.29 2 2 0 0 1 2-1.7h56.74c2.29 0 4.17-1.32 4.29-3.63a372.71 372.71 0 0 1 14-81.83 4.36 4.36 0 0 0-2.19-5.11 260.63 260.63 0 0 1-29.84-17.9 169.82 169.82 0 0 1 23.14-22.8c4.08 2.68 9.4 5.71 13.66 8.11a7.89 7.89 0 0 0 11-3.42c1.88-3.87 4-8.18 6.06-11.88a221.93 221.93 0 0 1 12.54-19.91A185 185 0 0 1 256 64c28.94 0 55.9 7 80.53 18.46a202.23 202.23 0 0 1 12 19c2.59 4.66 5.34 10.37 7.66 15.32a4.29 4.29 0 0 0 5.92 1.94c5.38-2.91 11.21-6.26 16.34-9.63a171.36 171.36 0 0 1 23.2 23 244.89 244.89 0 0 1-29.06 17.31 4.35 4.35 0 0 0-2.18 5.12 348.68 348.68 0 0 1 13.85 81.4 4.33 4.33 0 0 0 4.3 4.12l56.62-.07a2 2 0 0 1 2 1.7 117.46 117.46 0 0 1 0 28.62 2 2 0 0 1-2 1.72h-56.67a4.35 4.35 0 0 0-4.3 4.17 367.4 367.4 0 0 1-13.87 81.3 4.45 4.45 0 0 0 2.19 5.19c5 2.59 10.57 5.48 15.37 8.42s9.55 6.08 14.13 9.34a172.73 172.73 0 0 1-23 22.93c-2.44-1.61-5.34-3.44-7.84-4.94-1.72-1-4.89-2.77-6.65-3.76-3.82-2.14-7.88-.54-9.79 3.4s-4.83 9.59-6.87 13.25a212.42 212.42 0 0 1-12.35 19.53C310.91 442.37 284.94 448 256 448s-54.77-5.63-79.4-17.15z"},child:[]}]})(t)}function NA(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204 240H68a36 36 0 0 1-36-36V68a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zm240 0H308a36 36 0 0 1-36-36V68a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zM204 480H68a36 36 0 0 1-36-36V308a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36zm240 0H308a36 36 0 0 1-36-36V308a36 36 0 0 1 36-36h136a36 36 0 0 1 36 36v136a36 36 0 0 1-36 36z"},child:[]}]})(t)}function ene(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M145.61 464h220.78c19.8 0 35.55-16.29 33.42-35.06C386.06 308 304 310 304 256s83.11-51 95.8-172.94c2-18.78-13.61-35.06-33.41-35.06H145.61c-19.8 0-35.37 16.28-33.41 35.06C124.89 205 208 201 208 256s-82.06 52-95.8 172.94c-2.14 18.77 13.61 35.06 33.41 35.06z"},child:[]},{tag:"path",attr:{d:"M343.3 432H169.13c-15.6 0-20-18-9.06-29.16C186.55 376 240 356.78 240 326V224c0-19.85-38-35-61.51-67.2-3.88-5.31-3.49-12.8 6.37-12.8h142.73c8.41 0 10.23 7.43 6.4 12.75C310.82 189 272 204.05 272 224v102c0 30.53 55.71 47 80.4 76.87 9.95 12.04 6.47 29.13-9.1 29.13z"},child:[]}]})(t)}function nz(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 56C145.72 56 56 145.72 56 256s89.72 200 200 200 200-89.72 200-200S366.28 56 256 56zm0 82a26 26 0 1 1-26 26 26 26 0 0 1 26-26zm48 226h-88a16 16 0 0 1 0-32h28v-88h-16a16 16 0 0 1 0-32h32a16 16 0 0 1 16 16v104h28a16 16 0 0 1 0 32z"},child:[]}]})(t)}function iz(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"192",r:"32"},child:[]},{tag:"path",attr:{d:"M256 32c-88.22 0-160 68.65-160 153 0 40.17 18.31 93.59 54.42 158.78 29 52.34 62.55 99.67 80 123.22a31.75 31.75 0 0 0 51.22 0c17.42-23.55 51-70.88 80-123.22C397.69 278.61 416 225.19 416 185c0-84.35-71.78-153-160-153zm0 224a64 64 0 1 1 64-64 64.07 64.07 0 0 1-64 64z"},child:[]}]})(t)}function MA(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M424 80H88a56.06 56.06 0 0 0-56 56v240a56.06 56.06 0 0 0 56 56h336a56.06 56.06 0 0 0 56-56V136a56.06 56.06 0 0 0-56-56zm-14.18 92.63-144 112a16 16 0 0 1-19.64 0l-144-112a16 16 0 1 1 19.64-25.26L256 251.73l134.18-104.36a16 16 0 0 1 19.64 25.26z"},child:[]}]})(t)}function tne(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M426 16h-74a22 22 0 0 0 0 44h20.89l-37.1 37.09A157.68 157.68 0 0 0 216 42c-87.12 0-158 70.88-158 158 0 79.66 59.26 145.72 136 156.46V394h-28a22 22 0 0 0 0 44h28v36a22 22 0 0 0 44 0v-36h28a22 22 0 0 0 0-44h-28v-37.54c76.74-10.74 136-76.8 136-156.46a157.15 157.15 0 0 0-14-64.92l44-44V112a22 22 0 0 0 44 0V38a22 22 0 0 0-22-22zM216 314a114 114 0 1 1 114-114 114.13 114.13 0 0 1-114 114z"},child:[]}]})(t)}function rne(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M442 48h-90a22 22 0 0 0 0 44h36.89l-60.39 60.39c-68.19-52.86-167-48-229.54 14.57C31.12 234.81 31.12 345.19 99 413a174.21 174.21 0 0 0 246 0c62.57-62.58 67.43-161.35 14.57-229.54L420 123.11V160a22 22 0 0 0 44 0V70a22 22 0 0 0-22-22zM313.92 381.92a130.13 130.13 0 0 1-183.84 0c-50.69-50.68-50.69-133.16 0-183.84s133.16-50.69 183.84 0 50.69 133.16 0 183.84z"},child:[]}]})(t)}function sz(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M364.13 125.25 87 403l-23 45 44.99-23 277.76-277.13-22.62-22.62zm56.56-56.56-22.62 22.62 22.62 22.63 22.62-22.63a16 16 0 0 0 0-22.62h0a16 16 0 0 0-22.62 0z"},child:[]}]})(t)}function nne(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"44",d:"M358.62 129.28 86.49 402.08 70 442l39.92-16.49 272.8-272.13-24.1-24.1zm54.45-54.44-11.79 11.78 24.1 24.1 11.79-11.79a16.51 16.51 0 0 0 0-23.34l-.75-.75a16.51 16.51 0 0 0-23.35 0z"},child:[]}]})(t)}function IA(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 256c-20.56 0-40.44-9.18-56-25.84-15.13-16.25-24.37-37.92-26-61-1.74-24.62 5.77-47.26 21.14-63.76S312 80 336 80c23.83 0 45.38 9.06 60.7 25.52 15.47 16.62 23 39.22 21.26 63.63-1.67 23.11-10.9 44.77-26 61C376.44 246.82 356.57 256 336 256zm66-88zm65.83 264H204.18a27.71 27.71 0 0 1-22-10.67 30.22 30.22 0 0 1-5.26-25.79c8.42-33.81 29.28-61.85 60.32-81.08C264.79 297.4 299.86 288 336 288c36.85 0 71 9 98.71 26.05 31.11 19.13 52 47.33 60.38 81.55a30.27 30.27 0 0 1-5.32 25.78A27.68 27.68 0 0 1 467.83 432zM147 260c-35.19 0-66.13-32.72-69-72.93-1.42-20.6 5-39.65 18-53.62 12.86-13.83 31-21.45 51-21.45s38 7.66 50.93 21.57c13.1 14.08 19.5 33.09 18 53.52-2.87 40.2-33.8 72.91-68.93 72.91zm65.66 31.45c-17.59-8.6-40.42-12.9-65.65-12.9-29.46 0-58.07 7.68-80.57 21.62-25.51 15.83-42.67 38.88-49.6 66.71a27.39 27.39 0 0 0 4.79 23.36A25.32 25.32 0 0 0 41.72 400h111a8 8 0 0 0 7.87-6.57c.11-.63.25-1.26.41-1.88 8.48-34.06 28.35-62.84 57.71-83.82a8 8 0 0 0-.63-13.39c-1.57-.92-3.37-1.89-5.42-2.89z"},child:[]}]})(t)}function pw(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m465.94 119.76-73.7-73.7A47.68 47.68 0 0 0 358.3 32H96a64 64 0 0 0-64 64v320a64 64 0 0 0 64 64h320a64 64 0 0 0 64-64V153.7a47.68 47.68 0 0 0-14.06-33.94zM120 112h176a8 8 0 0 1 8 8v48a8 8 0 0 1-8 8H120a8 8 0 0 1-8-8v-48a8 8 0 0 1 8-8zm139.75 319.91a80 80 0 1 1 76.16-76.16 80.06 80.06 0 0 1-76.16 76.16z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"352",r:"48"},child:[]}]})(t)}function oz(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 368a16 16 0 0 1-7.94-2.11L108 285.84a8 8 0 0 0-12 6.94V368a16 16 0 0 0 8.23 14l144 80a16 16 0 0 0 15.54 0l144-80a16 16 0 0 0 8.23-14v-75.22a8 8 0 0 0-12-6.94l-140.06 80.05A16 16 0 0 1 256 368z"},child:[]},{tag:"path",attr:{d:"M495.92 190.5v-.11a16 16 0 0 0-8-12.28l-224-128a16 16 0 0 0-15.88 0l-224 128a16 16 0 0 0 0 27.78l224 128a16 16 0 0 0 15.88 0L461 221.28a2 2 0 0 1 3 1.74v144.53c0 8.61 6.62 16 15.23 16.43A16 16 0 0 0 496 368V192a14.76 14.76 0 0 0-.08-1.5z"},child:[]}]})(t)}function ine(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(t)}function az(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}function sne(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"256",r:"48"},child:[]},{tag:"path",attr:{d:"m470.39 300-.47-.38-31.56-24.75a16.11 16.11 0 0 1-6.1-13.33v-11.56a16 16 0 0 1 6.11-13.22L469.92 212l.47-.38a26.68 26.68 0 0 0 5.9-34.06l-42.71-73.9a1.59 1.59 0 0 1-.13-.22A26.86 26.86 0 0 0 401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 0 1-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 0 1-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 0 0 298.76 26h-85.52a26.92 26.92 0 0 0-26.45 22.39l-.09.56-5.57 39.67a16 16 0 0 1-8.13 11.82 175.21 175.21 0 0 0-10 5.82 15.92 15.92 0 0 1-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 0 0-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 0 0 5.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 0 1 6.1 13.33v11.56a16 16 0 0 1-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 0 0-5.9 34.06l42.71 73.9a1.59 1.59 0 0 1 .13.22 26.86 26.86 0 0 0 32.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0 1 14.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 0 1 8.19 11.82l5.56 39.59.12.72A27.22 27.22 0 0 0 213.24 486h85.52a26.92 26.92 0 0 0 26.45-22.39l.09-.56 5.57-39.67a16 16 0 0 1 8.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0 1 14.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0 0 32.48-11.34 2.53 2.53 0 0 1 .13-.22l42.71-73.89a26.7 26.7 0 0 0-5.89-34.11zm-134.48-40.24a80 80 0 1 1-83.66-83.67 80.21 80.21 0 0 1 83.66 83.67z"},child:[]}]})(t)}function PE(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 496H72a24 24 0 0 1-24-24V328a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v144a24 24 0 0 1-24 24zm224 0h-32a24 24 0 0 1-24-24V232a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v240a24 24 0 0 1-24 24zm112 0h-32a24 24 0 0 1-24-24V120a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v352a24 24 0 0 1-24 24zm-224 0h-32a24 24 0 0 1-24-24V40a24 24 0 0 1 24-24h32a24 24 0 0 1 24 24v432a24 24 0 0 1-24 24z"},child:[]}]})(t)}function one(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48zm96 240h-96a16 16 0 0 1-16-16V128a16 16 0 0 1 32 0v128h80a16 16 0 0 1 0 32z"},child:[]}]})(t)}function AA(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m112 112 20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M80 112h352"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M192 112V72h0a23.93 23.93 0 0 1 24-24h80a23.93 23.93 0 0 1 24 24h0v40m-64 64v224m-72-224 8 224m136-224-8 224"},child:[]}]})(t)}function DC(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",d:"M296 64h-80a7.91 7.91 0 0 0-8 8v24h96V72a7.91 7.91 0 0 0-8-8z"},child:[]},{tag:"path",attr:{d:"M432 96h-96V72a40 40 0 0 0-40-40h-80a40 40 0 0 0-40 40v24H80a16 16 0 0 0 0 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 0 0 0-32zM192.57 416H192a16 16 0 0 1-16-15.43l-8-224a16 16 0 1 1 32-1.14l8 224A16 16 0 0 1 192.57 416zM272 400a16 16 0 0 1-32 0V176a16 16 0 0 1 32 0zm32-304h-96V72a7.91 7.91 0 0 1 8-8h80a7.91 7.91 0 0 1 8 8zm32 304.57A16 16 0 0 1 320 416h-.58A16 16 0 0 1 304 399.43l8-224a16 16 0 1 1 32 1.14z"},child:[]}]})(t)}function ane(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M85.57 446.25h340.86a32 32 0 0 0 28.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0 0 28.17 47.17z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m250.26 195.39 5.74 122 5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 5.95z"},child:[]},{tag:"path",attr:{d:"M256 397.25a20 20 0 1 1 20-20 20 20 0 0 1-20 20z"},child:[]}]})(t)}function jN(t){return ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M449.07 399.08 278.64 82.58c-12.08-22.44-44.26-22.44-56.35 0L51.87 399.08A32 32 0 0 0 80 446.25h340.89a32 32 0 0 0 28.18-47.17zm-198.6-1.83a20 20 0 1 1 20-20 20 20 0 0 1-20 20zm21.72-201.15-5.74 122a16 16 0 0 1-32 0l-5.74-121.95a21.73 21.73 0 0 1 21.5-22.69h.21a21.74 21.74 0 0 1 21.73 22.7z"},child:[]}]})(t)}const OA=({links:t})=>{const{url:e}=bp(),[r,n]=W.useState({}),i=a=>{const l=e.split("?")[0],c=a.split("?")[0];return l===c||l.startsWith(c+"/")},s=a=>a.some(l=>l.href?i(l.href):l.children?s(l.children):!1),o=a=>{n(l=>({...l,[a]:!l[a]}))};return u.jsx("aside",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 h-screen sticky top-0",children:u.jsx("nav",{className:"p-4 space-y-2 overflow-y-auto h-full",children:t.map(a=>{if(a.divider)return u.jsxs("div",{className:"pt-4 first:pt-0 pb-3",children:[u.jsx("div",{className:"px-4 pb-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:a.label}),u.jsx("div",{className:"space-y-1 ml-2 pl-3 border-l-2 border-gray-200 dark:border-gray-700",children:a.children.map(l=>{if(l.children){const c=r[l.label]??s(l.children),d=s(l.children);return u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>o(l.label),className:`flex items-center gap-3 px-4 py-2 rounded-lg transition-colors w-full ${d?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[l.icon&&u.jsx("span",{className:"text-lg",children:(typeof l.icon=="string",l.icon)}),u.jsx("span",{className:"flex-1 text-left",children:l.label}),c?u.jsx(HC,{className:"text-sm"}):u.jsx(jC,{className:"text-sm"})]}),c&&u.jsx("div",{className:"ml-4 mt-1 space-y-1",children:l.children.map(h=>u.jsxs(pi,{href:h.href,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg transition-colors text-sm ${i(h.href)?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[h.icon&&u.jsx("span",{className:"text-base",children:(typeof h.icon=="string",h.icon)}),u.jsx("span",{children:h.label})]},h.href))})]},l.label)}return u.jsxs(pi,{href:l.href,className:`flex items-center gap-3 px-4 py-2 rounded-lg transition-colors ${i(l.href)?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[l.icon&&u.jsx("span",{className:"text-lg",children:(typeof l.icon=="string",l.icon)}),u.jsx("span",{children:l.label}),l.badge&&u.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:l.badge})]},l.href)})})]},a.label);if(a.children){const l=r[a.label]??s(a.children),c=s(a.children);return u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>o(a.label),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors w-full ${c?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[a.icon&&u.jsx("span",{className:"text-xl",children:(typeof a.icon=="string",a.icon)}),u.jsx("span",{className:"flex-1 text-left",children:a.label}),l?u.jsx(HC,{className:"text-lg"}):u.jsx(jC,{className:"text-lg"})]}),l&&u.jsx("div",{className:"ml-4 mt-1 space-y-1",children:a.children.map(d=>u.jsxs(pi,{href:d.href,className:`flex items-center gap-3 px-4 py-2 rounded-lg transition-colors ${i(d.href)?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[d.icon&&u.jsx("span",{className:"text-lg",children:(typeof d.icon=="string",d.icon)}),u.jsx("span",{children:d.label}),d.badge&&u.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:d.badge})]},d.href))})]},a.label)}return u.jsxs(pi,{href:a.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${i(a.href)?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[a.icon&&u.jsx("span",{className:"text-xl",children:(typeof a.icon=="string",a.icon)}),u.jsx("span",{children:a.label}),a.badge&&u.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:a.badge})]},a.href)})})})},cn={MANAGE_ADMINS:"manage_admins",VIEW_SYSTEM_AUDIT:"view_system_audit",MANAGE_SYSTEM_SETTINGS:"manage_system_settings",MANAGE_HEI_ACCOUNTS:"manage_hei_accounts",REVIEW_SUBMISSIONS:"review_submissions",APPROVE_OVERWRITES:"approve_overwrites",VIEW_AUDIT_LOGS:"view_audit_logs",EXPORT_DATA:"export_data",CREATE_SUBMISSION:"create_submission",VIEW_OWN_SUBMISSIONS:"view_own_submissions",REQUEST_OVERWRITE:"request_overwrite",VIEW_NOTIFICATIONS:"view_notifications"},lne={[bm.SUPER_ADMIN]:[cn.MANAGE_ADMINS,cn.VIEW_SYSTEM_AUDIT,cn.MANAGE_SYSTEM_SETTINGS,cn.MANAGE_HEI_ACCOUNTS,cn.REVIEW_SUBMISSIONS,cn.APPROVE_OVERWRITES,cn.VIEW_AUDIT_LOGS,cn.EXPORT_DATA],[bm.ADMIN]:[cn.MANAGE_HEI_ACCOUNTS,cn.REVIEW_SUBMISSIONS,cn.APPROVE_OVERWRITES,cn.VIEW_AUDIT_LOGS,cn.EXPORT_DATA],[bm.HEI]:[cn.CREATE_SUBMISSION,cn.VIEW_OWN_SUBMISSIONS,cn.REQUEST_OVERWRITE,cn.VIEW_NOTIFICATIONS]},cL=(t,e)=>!t||!t.role?!1:(lne[t.role]||[]).includes(e),cne=()=>{const{user:t}=G5();return{hasPermission:e=>cL(t,e),checkPermissions:e=>e.every(r=>cL(t,r))}},HA=({permission:t,permissions:e,children:r,fallback:n=null})=>{const{hasPermission:i,checkPermissions:s}=cne();return t&&!i(t)||e&&!s(e)?n:u.jsx(u.Fragment,{children:r})},Ef=({title:t,children:e,pendingCount:r=0})=>{const n=[{href:"/admin/dashboard",label:"Dashboard",icon:u.jsx(NA,{})},{href:"/admin/hei-accounts",label:"HEI Accounts",icon:u.jsx(oz,{})},{href:"/admin/submissions",label:"Submissions",icon:u.jsx(Qm,{}),badge:r>0?r:null},{label:"M&E Reports",divider:!0,children:[{href:"/admin/mer/form1",label:"Student Welfare Services (A-D)",icon:u.jsx(PE,{})},{href:"/admin/mer/form2",label:"Student Welfare Services (E-G)",icon:u.jsx(PE,{})},{href:"/admin/mer/form3",label:"Institutional Programs (H-O)",icon:u.jsx(PE,{})}]},{href:"/admin/audit-logs",label:"Audit Logs",icon:u.jsx(Sp,{})},{href:"/admin/ched-contacts",label:"CHED Contacts",icon:u.jsx(Xm,{})}];return u.jsx(HA,{permission:cn.MANAGE_HEI_ACCOUNTS,children:u.jsx(gw,{title:t,children:u.jsxs("div",{className:"flex",children:[u.jsx(OA,{links:n}),u.jsx("div",{className:"flex-1 p-6",children:e})]})})})};function j_({columns:t,data:e,searchValue:r,onSearchChange:n,searchPlaceholder:i="Search...",emptyMessage:s="No data found",className:o=""}){return u.jsxs("div",{className:`space-y-4 ${o}`,children:[u.jsx("div",{className:"mb-6",children:u.jsx("input",{type:"text",placeholder:i,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r,onChange:a=>n(a.target.value)})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:u.jsx("tr",{children:t.map((a,l)=>u.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider ${a.align==="center"?"text-center":a.align==="right"?"text-right":"text-left"}`,children:a.label},l))})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:t.length,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:s})}):e.map((a,l)=>u.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:t.map((c,d)=>u.jsx("td",{className:`px-6 py-4 text-sm ${c.align==="center"?"text-center":c.align==="right"?"text-right":"text-left"} ${c.className||""}`,children:c.render?c.render(a):a[c.key]},d))},l))})]})})]})}function yo({children:t,onClick:e,variant:r="blue",title:n,className:i="",disabled:s=!1,type:o="button",...a}){const l={blue:"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/50",green:"bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/50",red:"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/50",yellow:"bg-yellow-50 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400 hover:bg-yellow-100 dark:hover:bg-yellow-900/50",gray:"bg-gray-50 dark:bg-gray-900/30 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-900/50"};return u.jsx("button",{type:o,onClick:e,disabled:s,title:n,className:`p-2 rounded-lg transition-colors ${l[r]} ${s?"opacity-50 cursor-not-allowed":""} ${i}`,...a,children:t})}const aa=({status:t,label:e=null,color:r=null})=>{const n={gray:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300",blue:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300",green:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300",red:"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-300",yellow:"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300",purple:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300",orange:"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-300",indigo:"bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-300"},i=r||Pre[t]||"gray",s=e||Nre[t]||t;return u.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${n[i]}`,children:s})};function lz({Layout:t,pageTitle:e,headerTitle:r,headerDescription:n,logs:i,filters:s,queryParams:o,routeName:a,showUserRoleFilter:l=!1}){var k;const[c,d]=W.useState(""),[h,f]=W.useState((o==null?void 0:o.user_role)||""),[g,m]=W.useState((o==null?void 0:o.action)||""),[p,y]=W.useState((o==null?void 0:o.entity_type)||""),[S,w]=W.useState(null);W.useEffect(()=>{const R={};l&&h&&(R.user_role=h),g&&(R.action=g),p&&(R.entity_type=p),(l&&h!==((o==null?void 0:o.user_role)||"")||g!==((o==null?void 0:o.action)||"")||p!==((o==null?void 0:o.entity_type)||""))&&Gr.get(window.location.pathname,R,{preserveState:!0,preserveScroll:!0})},[h,g,p]);const b=i.data.filter(R=>{var O;const I=c.toLowerCase();return R.user_name.toLowerCase().includes(I)||((O=R.entity_name)==null?void 0:O.toLowerCase().includes(I))||R.description.toLowerCase().includes(I)}),C=R=>({green:"green",blue:"blue",red:"red",orange:"orange",gray:"gray"})[R]||"gray",N=R=>({purple:"purple",blue:"blue",indigo:"indigo",gray:"gray"})[R]||"gray",P=[{key:"created_at",label:"Date & Time",render:R=>u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:R.created_at}),u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:R.created_at_relative})]})},{key:"user_name",label:"User",render:R=>u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:R.user_name}),u.jsx("div",{className:"text-xs mt-1",children:u.jsx(aa,{color:R.user_role==="superadmin"?"purple":"blue",label:R.user_role.charAt(0).toUpperCase()+R.user_role.slice(1)})})]})},{key:"action",label:"Action",render:R=>u.jsx(aa,{color:C(R.action_color),label:R.action.charAt(0).toUpperCase()+R.action.slice(1)})},{key:"entity_type",label:"Entity Type",render:R=>u.jsx(aa,{color:N(R.entity_type_color),label:R.entity_type})},{key:"entity_name",label:"Entity",render:R=>u.jsx("div",{className:"text-gray-900 dark:text-white",children:R.entity_name||"N/A"})},{key:"description",label:"Description",render:R=>u.jsx("div",{className:"max-w-md",children:u.jsx("div",{className:"text-gray-900 dark:text-white",children:R.description})})},{key:"actions",label:"Details",align:"center",render:R=>u.jsx(yo,{variant:"blue",onClick:()=>w(R),title:"View details",children:u.jsx(rz,{size:18})})}];return u.jsxs(t,{children:[u.jsx(O_,{title:e}),u.jsx("div",{className:"py-8",children:u.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r}),u.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:n})]}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 mb-6 border border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:`grid grid-cols-1 ${l?"md:grid-cols-3":"md:grid-cols-2"} gap-4`,children:[l&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"User Role"}),u.jsxs("select",{value:h,onChange:R=>f(R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[u.jsx("option",{value:"",children:"All Roles"}),(k=s.user_roles)==null?void 0:k.map(R=>u.jsx("option",{value:R,children:R.charAt(0).toUpperCase()+R.slice(1)},R))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Action"}),u.jsxs("select",{value:g,onChange:R=>m(R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[u.jsx("option",{value:"",children:"All Actions"}),s.actions.map(R=>u.jsx("option",{value:R,children:R.charAt(0).toUpperCase()+R.slice(1)},R))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Entity Type"}),u.jsxs("select",{value:p,onChange:R=>y(R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[u.jsx("option",{value:"",children:"All Types"}),s.entity_types.map(R=>u.jsx("option",{value:R,children:R},R))]})]})]})}),u.jsx(j_,{columns:P,data:b,searchValue:c,onSearchChange:d,searchPlaceholder:"Search by user, entity, or description...",emptyMessage:"No audit logs found"}),i.links&&i.links.length>3&&u.jsx("div",{className:"mt-6 flex justify-center",children:u.jsx("nav",{className:"inline-flex rounded-md shadow-sm -space-x-px",children:i.links.map((R,I)=>u.jsx("a",{href:R.url||"#",className:`px-3 py-2 text-sm font-medium ${R.active?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${I===0?"rounded-l-md":""} ${I===i.links.length-1?"rounded-r-md":""} border border-gray-300 dark:border-gray-600`,dangerouslySetInnerHTML:{__html:R.label}},I))})})]})}),S&&u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[u.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75",onClick:()=>w(null)}),u.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Audit Log Details"}),u.jsx(yo,{variant:"gray",onClick:()=>w(null),title:"Close",children:u.jsx(H_,{size:20})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"User"}),u.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:S.user_name}),u.jsx("div",{className:"mt-1",children:u.jsx(aa,{color:S.user_role==="superadmin"?"purple":"blue",label:S.user_role.charAt(0).toUpperCase()+S.user_role.slice(1)})})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"IP Address"}),u.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:S.ip_address||"N/A"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Action"}),u.jsx("div",{className:"mt-1",children:u.jsx(aa,{color:C(S.action_color),label:S.action.charAt(0).toUpperCase()+S.action.slice(1)})})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Entity Type"}),u.jsx("div",{className:"mt-1",children:u.jsx(aa,{color:N(S.entity_type_color),label:S.entity_type})})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Entity Name"}),u.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:S.entity_name||"N/A"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Date & Time"}),u.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:S.created_at}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:S.created_at_relative})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Description"}),u.jsx("p",{className:"text-gray-900 dark:text-white",children:S.description})]}),S.old_values&&u.jsxs("div",{children:[u.jsx("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-2",children:"Old Values"}),u.jsx("pre",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg text-xs overflow-x-auto max-h-64",children:JSON.stringify(S.old_values,null,2)})]}),S.new_values&&u.jsxs("div",{children:[u.jsx("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-2",children:"New Values"}),u.jsx("pre",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg text-xs overflow-x-auto max-h-64",children:JSON.stringify(S.new_values,null,2)})]})]})]}),u.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:u.jsx("button",{type:"button",onClick:()=>w(null),className:"w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:w-auto sm:text-sm",children:"Close"})})]})]})})]})}function une({logs:t,filters:e,queryParams:r}){return u.jsx(lz,{Layout:Ef,pageTitle:"Audit Logs",headerTitle:"Audit Logs",headerDescription:"View all administrative actions performed in the system.",logs:t,filters:e,queryParams:r,routeName:"admin.audit-logs",showUserRoleFilter:!1})}const dne=Object.freeze(Object.defineProperty({__proto__:null,default:une},Symbol.toStringTag,{value:"Module"})),cz=({isOpen:t,onClose:e,onConfirm:r,title:n="Confirm Action",message:i="Are you sure you want to proceed?",confirmText:s="Confirm",cancelText:o="Cancel",variant:a="danger",processing:l=!1})=>{if(!t)return null;const c={danger:{icon:AA,iconBg:"bg-red-100 dark:bg-red-900/20",iconColor:"text-red-600 dark:text-red-400",buttonBg:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},warning:{icon:ane,iconBg:"bg-yellow-100 dark:bg-yellow-900/20",iconColor:"text-yellow-600 dark:text-yellow-400",buttonBg:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"},info:{icon:tz,iconBg:"bg-blue-100 dark:bg-blue-900/20",iconColor:"text-blue-600 dark:text-blue-400",buttonBg:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"},success:{icon:ez,iconBg:"bg-green-100 dark:bg-green-900/20",iconColor:"text-green-600 dark:text-green-400",buttonBg:"bg-green-600 hover:bg-green-700 focus:ring-green-500"}},d=c[a]||c.danger,h=d.icon;return u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[u.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75",onClick:e}),u.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:u.jsxs("div",{className:"sm:flex sm:items-start",children:[u.jsx("div",{className:`mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ${d.iconBg} sm:mx-0 sm:h-10 sm:w-10`,children:u.jsx(h,{className:`h-6 w-6 ${d.iconColor}`})}),u.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1",children:[u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:n}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i})})]})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-2",children:[u.jsx("button",{type:"button",onClick:r,disabled:l,className:`w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 ${d.buttonBg} text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors`,children:l?u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Processing..."]}):s}),u.jsx("button",{type:"button",onClick:e,disabled:l,className:"w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o})]})]})]})})},uz=({value:t,onChange:e,placeholder:r="Start typing to search for an address...",className:n="",error:i=null,required:s=!1,debounceMs:o=500,minSearchLength:a=3,maxResults:l=5})=>{const[c,d]=W.useState([]),[h,f]=W.useState(!1),[g,m]=W.useState(!1),[p,y]=W.useState(!1),S=W.useRef(null);W.useEffect(()=>()=>{S.current&&clearTimeout(S.current)},[]);const w=async k=>{if(k.length<a){d([]),m(!1),y(!1);return}f(!0),m(!0),y(!1);try{const I=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(k)}&limit=${l}&countrycodes=ph`,{headers:{Accept:"application/json"}})).json();d(I),y(!0)}catch(R){console.error("Error searching address:",R),d([]),y(!0)}finally{f(!1)}},b=k=>{const R=k.target.value;e(R),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{w(R)},o)},C=k=>{e(k.display_name),d([]),m(!1)},N=()=>{t.length>=a&&m(!0)},P=()=>{setTimeout(()=>m(!1),200)};return u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:t,onChange:b,onFocus:N,onBlur:P,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white ${n}`,placeholder:r,required:s}),h&&u.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:u.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-blue-500 border-t-transparent rounded-full"})})]}),i&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i}),g&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:h?u.jsxs("div",{className:"px-4 py-3 text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[u.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"}),"Searching..."]}):p&&c.length===0?u.jsxs("div",{className:"px-4 py-3 text-gray-500 dark:text-gray-400 text-center",children:[u.jsx("p",{className:"text-sm",children:"No addresses found"}),u.jsx("p",{className:"text-xs mt-1",children:"Try a different search term"})]}):c.map((k,R)=>u.jsx("button",{type:"button",onMouseDown:I=>I.preventDefault(),onClick:()=>C(k),className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-600 last:border-0 transition-colors",children:u.jsx("div",{className:"text-sm",children:k.display_name})},R))})]})},hne=({contacts:t=[]})=>{const[e,r]=W.useState(!1),[n,i]=W.useState(!1),[s,o]=W.useState(null),[a,l]=W.useState(null),[c,d]=W.useState(""),[h,f]=W.useState([...t].sort((ee,ce)=>ee.order-ce.order)),[g,m]=W.useState(!1),[p,y]=W.useState(!1);W.useEffect(()=>{g||f([...t].sort((ee,ce)=>ee.order-ce.order))},[t,g]);const{data:S,setData:w,post:b,put:C,delete:N,processing:P,errors:k,reset:R}=Dc({name:"",address:"",phone:"",email:"",is_active:!0}),O=[...h].sort((ee,ce)=>ee.order-ce.order).filter(ee=>ee.name.toLowerCase().includes(c.toLowerCase())||ee.email&&ee.email.toLowerCase().includes(c.toLowerCase())||ee.phone&&ee.phone.toLowerCase().includes(c.toLowerCase())),Z=ee=>{ee.preventDefault(),n&&s?C(`/admin/ched-contacts/${s.id}`,{onSuccess:()=>{r(!1),i(!1),o(null),R()}}):b("/admin/ched-contacts",{onSuccess:()=>{r(!1),R()}})},q=ee=>{o(ee),i(!0),w({name:ee.name,address:ee.address||"",phone:ee.phone||"",email:ee.email||"",is_active:ee.is_active}),r(!0)},J=()=>{N(`/admin/ched-contacts/${a.id}`,{onSuccess:()=>{l(null)}})},re=()=>{i(!1),o(null),R(),r(!0)},ue=(ee,ce)=>{const ae=[...h].sort((v,x)=>v.order-x.order),ye=ae.findIndex(v=>v.id===ee);if(ye===-1)return;const Q=ce==="up"?ye-1:ye+1;if(Q<0||Q>=ae.length)return;[ae[ye],ae[Q]]=[ae[Q],ae[ye]];const F=ae.map((v,x)=>({...v,order:x+1}));f(F),m(!0)},ve=async()=>{y(!0);try{const ee=h.map(ce=>({id:ce.id,order:ce.order}));await rr.post("/admin/ched-contacts/reorder",{contacts:ee}),m(!1),Gr.reload({only:["contacts"]})}catch(ee){console.error("Error saving order:",ee),alert("Failed to save order changes. Please try again.")}finally{y(!1)}},be=()=>{f([...t].sort((ee,ce)=>ee.order-ce.order)),m(!1)},ie=[{key:"reorder",label:"Reorder",align:"center",render:ee=>{const ce=[...h].sort((F,v)=>F.order-v.order),ae=ce.findIndex(F=>F.id===ee.id),ye=ae===0,Q=ae===ce.length-1;return u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx(yo,{variant:"blue",onClick:()=>ue(ee.id,"up"),disabled:ye,title:"Move up",children:u.jsx(zre,{size:16})}),u.jsx(yo,{variant:"blue",onClick:()=>ue(ee.id,"down"),disabled:Q,title:"Move down",children:u.jsx(Bre,{size:16})})]})}},{key:"order",label:"Load Order",align:"center",render:ee=>u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ee.order})},{key:"name",label:"Office Name",render:ee=>u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ee.name})},{key:"address",label:"Address",render:ee=>u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:ee.address||"N/A"})},{key:"phone",label:"Phone",render:ee=>u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:ee.phone||"N/A"})},{key:"email",label:"Email",render:ee=>u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:ee.email||"N/A"})},{key:"is_active",label:"Status",align:"center",render:ee=>u.jsx(aa,{color:ee.is_active?"green":"red",label:ee.is_active?"Active":"Inactive"})},{key:"actions",label:"Actions",align:"center",render:ee=>u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(yo,{variant:"blue",onClick:()=>q(ee),title:"Edit Contact",children:u.jsx(sz,{size:18})}),u.jsx(yo,{variant:"red",onClick:()=>l(ee),title:"Delete Contact",children:u.jsx(AA,{size:18})})]})}];return u.jsx(Ef,{title:"CHED Contacts",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"CHED Contact Management"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage CHED contact information displayed to HEI users"})]}),u.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(J5,{size:20}),"Add New Contact"]})]}),g&&u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(mw,{className:"text-blue-600 dark:text-blue-400",size:20}),u.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"You have unsaved order changes"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:be,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),u.jsx("button",{onClick:ve,disabled:p,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:p?"Saving...":"Save Order"})]})]})}),u.jsx(j_,{columns:ie,data:O,searchValue:c,onSearchChange:d,searchPlaceholder:"Search by name, email, or phone...",emptyMessage:"No CHED contacts found."}),e&&u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[u.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75",onClick:()=>r(!1)}),u.jsx("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:u.jsxs("form",{onSubmit:Z,children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:n?"Edit CHED Contact":"Add New CHED Contact"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.jsx(Xm,{className:"text-gray-400"}),"Office Name *"]}),u.jsx("input",{type:"text",value:S.name,onChange:ee=>w("name",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., CHED Regional Office IX",required:!0}),k.name&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:k.name})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.jsx(iz,{className:"text-gray-400"}),"Address"]}),u.jsx(uz,{value:S.address,onChange:ee=>w("address",ee),error:k.address,placeholder:"Start typing to search for an address..."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.jsx(Xm,{className:"text-gray-400"}),"Phone Number"]}),u.jsx("input",{type:"text",value:S.phone,onChange:ee=>w("phone",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"(082) 123-4567"}),k.phone&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:k.phone})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.jsx(MA,{className:"text-gray-400"}),"Email Address"]}),u.jsx("input",{type:"email",value:S.email,onChange:ee=>w("email",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"region9@ched.gov.ph"}),k.email&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:k.email})]})]}),n&&u.jsx("div",{children:u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:S.is_active,onChange:ee=>w("is_active",ee.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),u.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active (visible to HEI users)"})]})})]})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[u.jsx("button",{type:"submit",disabled:P,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:P?n?"Updating...":"Creating...":n?"Update Contact":"Create Contact"}),u.jsx("button",{type:"button",onClick:()=>r(!1),className:"mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})}),u.jsx(cz,{isOpen:!!a,onClose:()=>l(null),onConfirm:J,title:"Delete CHED Contact",message:`Are you sure you want to delete "${a==null?void 0:a.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger",processing:P})]})})},fne=Object.freeze(Object.defineProperty({__proto__:null,default:hne},Symbol.toStringTag,{value:"Module"})),uc=({title:t,value:e,icon:r,color:n="blue",trend:i=null})=>{const s={blue:"bg-blue-100 dark:bg-blue-900/30",green:"bg-green-100 dark:bg-green-900/30",red:"bg-red-100 dark:bg-red-900/30",yellow:"bg-yellow-100 dark:bg-yellow-900/30",purple:"bg-purple-100 dark:bg-purple-900/30",indigo:"bg-indigo-100 dark:bg-indigo-900/30",gray:"bg-gray-100 dark:bg-gray-700"},o={blue:"text-blue-600 dark:text-blue-400",green:"text-green-600 dark:text-green-400",red:"text-red-600 dark:text-red-400",yellow:"text-yellow-600 dark:text-yellow-400",purple:"text-purple-600 dark:text-purple-400",indigo:"text-indigo-600 dark:text-indigo-400",gray:"text-gray-600 dark:text-gray-400"};return u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:t}),u.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:e}),i&&u.jsx("p",{className:`mt-2 text-sm font-medium ${i.positive?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:i.value})]}),r&&u.jsx("div",{className:`p-3 rounded-lg ${s[n]||s.blue}`,children:u.jsx("span",{className:o[n]||o.blue,children:r})})]})})},$c=({type:t="info",title:e,message:r,children:n,className:i=""})=>{const s={info:{bg:"bg-blue-50 dark:bg-blue-900",border:"border-blue-400",text:"text-blue-700 dark:text-blue-300",icon:"text-blue-400"},success:{bg:"bg-green-50 dark:bg-green-900",border:"border-green-400",text:"text-green-700 dark:text-green-300",icon:"text-green-400"},warning:{bg:"bg-yellow-50 dark:bg-yellow-900",border:"border-yellow-400",text:"text-yellow-700 dark:text-yellow-300",icon:"text-yellow-400"},error:{bg:"bg-red-50 dark:bg-red-900",border:"border-red-400",text:"text-red-700 dark:text-red-300",icon:"text-red-400"}},o={info:u.jsx(nz,{className:"text-xl"}),success:u.jsx(mw,{className:"text-xl"}),warning:u.jsx(jN,{className:"text-xl"}),error:u.jsx(Xre,{className:"text-xl"})},a=s[t];return u.jsx("div",{className:`${a.bg} border-l-4 ${a.border} p-4 ${i}`,children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:`flex-shrink-0 ${a.icon}`,children:o[t]}),u.jsxs("div",{className:"ml-3",children:[e&&u.jsx("h3",{className:`text-sm font-medium ${a.text}`,children:e}),r&&u.jsx("div",{className:`text-sm ${a.text} ${e?"mt-2":""}`,children:r}),n&&u.jsx("div",{className:`text-sm ${a.text} ${e||r?"mt-2":""}`,children:n})]})]})})},gne=({academicYears:t,selectedYear:e,onYearChange:r})=>{const n=i=>{const s=i.target.value;r?r(s):Gr.get(window.location.pathname,{year:s},{preserveState:!1,preserveScroll:!0})};return u.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 sticky top-0 z-10",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[u.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Academic Year:"}),u.jsx("select",{value:e,onChange:n,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:t.map(i=>u.jsx("option",{value:i,children:i},i))})]}),u.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:u.jsx("span",{children:"All HEI Overview"})})]})})},dz=({data:t,title:e,emptyStateMessage:r,emptyStateSubtext:n,gradientPrefix:i="chart",centerLabelFormatter:s=l=>l.toLocaleString(),legendItemFormatter:o=null,chartConfig:a=[{key:"SUC",label:"SUC",colorLight:"rgba(239, 68, 68, 0.9)",colorDark:"rgba(185, 28, 28, 0.95)",legendColor:"bg-red-500"},{key:"LUC",label:"LUC",colorLight:"rgba(234, 179, 8, 0.9)",colorDark:"rgba(161, 98, 7, 0.95)",legendColor:"bg-yellow-500"},{key:"Private",label:"Private",colorLight:"rgba(59, 130, 246, 0.9)",colorDark:"rgba(29, 78, 216, 0.95)",legendColor:"bg-blue-500"}]})=>{const l=a.reduce((m,p)=>m+(t[p.key]||0),0);if(l===0)return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 h-full",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:e}),u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:r}),u.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs mt-1",children:n})]})})]});const d=a.map(m=>{const p=t[m.key]||0,y=p/l*100;return{label:m.label,value:p,percentage:y,percentageDisplay:y.toFixed(1),gradientId:`gradient-${i}-${m.key.toLowerCase()}`,colorLight:m.colorLight,colorDark:m.colorDark,legendColor:m.legendColor}}).filter(m=>m.percentage>=.1),h=d.length===1;let f=0;const g=d.map(m=>{const p=m.percentage/100*360,y={...m,startAngle:f,endAngle:f+p};return f+=p,y});return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 h-full",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:e}),u.jsxs("div",{className:"flex flex-col items-center justify-center gap-6",children:[u.jsxs("div",{className:"relative w-56 h-56",children:[u.jsxs("svg",{viewBox:"0 0 200 200",className:"transform -rotate-90",children:[u.jsx("defs",{children:g.map((m,p)=>u.jsxs("linearGradient",{id:m.gradientId,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",style:{stopColor:m.colorLight,stopOpacity:1}}),u.jsx("stop",{offset:"100%",style:{stopColor:m.colorDark,stopOpacity:1}})]},p))}),h?u.jsx("circle",{cx:"100",cy:"100",r:"85",fill:`url(#${g[0].gradientId})`,className:"transition-all duration-300 hover:opacity-80 cursor-pointer stroke-white dark:stroke-gray-800",strokeWidth:"1.5"}):g.map((m,p)=>{const y=m.endAngle-m.startAngle>180?1:0,S=100+85*Math.cos(m.startAngle*Math.PI/180),w=100+85*Math.sin(m.startAngle*Math.PI/180),b=100+85*Math.cos(m.endAngle*Math.PI/180),C=100+85*Math.sin(m.endAngle*Math.PI/180),N=["M 100 100",`L ${S} ${w}`,`A 85 85 0 ${y} 1 ${b} ${C}`,"Z"].join(" ");return u.jsx("g",{children:u.jsx("path",{d:N,fill:`url(#${m.gradientId})`,className:"transition-all duration-300 hover:opacity-80 cursor-pointer stroke-white dark:stroke-gray-800",strokeWidth:"1.5"})},p)})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-full w-24 h-24 flex items-center justify-center shadow-inner border-2 border-gray-100 dark:border-gray-700",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Total"}),u.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:s(l)})]})})})]}),u.jsx("div",{className:"w-full space-y-3",children:a.map((m,p)=>{const y=t[m.key]||0,S=l>0?(y/l*100).toFixed(1):0;return u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`w-4 h-4 rounded ${m.legendColor} flex-shrink-0 mt-0.5 ${y===0?"opacity-30":"opacity-90"}`}),u.jsx("div",{className:"flex-1 min-w-0",children:o?o(m,y,S,l):u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsx("span",{className:`text-sm font-medium ${y===0?"text-gray-400 dark:text-gray-600":"text-gray-900 dark:text-white"}`,children:m.label}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:`text-base font-bold ${y===0?"text-gray-400 dark:text-gray-600":"text-gray-900 dark:text-white"}`,children:y}),u.jsxs("p",{className:`text-xs ${y===0?"text-gray-400 dark:text-gray-600":"text-gray-500 dark:text-gray-400"}`,children:[S,"%"]})]})]})})]},p)})})]})]})},mne=({data:t})=>{const e=i=>i>=1e6?(i/1e6).toFixed(2)+"M":i>=1e3?(i/1e3).toFixed(1)+"K":i.toLocaleString(),r=[{key:"SUC",label:"SUC",colorLight:"rgba(239, 68, 68, 0.9)",colorDark:"rgba(185, 28, 28, 0.95)",legendColor:"bg-red-500"},{key:"LUC",label:"LUC",colorLight:"rgba(234, 179, 8, 0.9)",colorDark:"rgba(161, 98, 7, 0.95)",legendColor:"bg-yellow-500"},{key:"Private",label:"Private",colorLight:"rgba(59, 130, 246, 0.9)",colorDark:"rgba(29, 78, 216, 0.95)",legendColor:"bg-blue-500"}],n=(i,s,o)=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsx("span",{className:`text-sm font-medium ${s===0?"text-gray-400 dark:text-gray-600":"text-gray-900 dark:text-white"}`,children:i.label}),u.jsxs("span",{className:`text-sm font-bold ${s===0?"text-gray-400 dark:text-gray-600":"text-gray-900 dark:text-white"}`,children:[o,"%"]})]}),u.jsx("p",{className:`text-xs mt-0.5 ${s===0?"text-gray-400 dark:text-gray-600":"text-gray-500 dark:text-gray-400"}`,children:s===0?"No data":`${s.toLocaleString()} students`})]});return u.jsx(dz,{data:t,title:"Enrollment Distribution by HEI Type",emptyStateMessage:"No enrollment data available",emptyStateSubtext:"Submit Summary forms to see enrollment statistics",gradientPrefix:"enroll",chartConfig:r,centerLabelFormatter:e,legendItemFormatter:n})},pne=({data:t})=>{const e=[{key:"SUC",label:"SUC",colorLight:"rgba(239, 68, 68, 0.9)",colorDark:"rgba(185, 28, 28, 0.95)",legendColor:"bg-red-500"},{key:"LUC",label:"LUC",colorLight:"rgba(255, 230, 0, 0.9)",colorDark:"rgba(248, 147, 5, 0.99)",legendColor:"bg-yellow-500"},{key:"Private",label:"Private",colorLight:"rgba(59, 130, 246, 0.9)",colorDark:"rgba(29, 78, 216, 0.95)",legendColor:"bg-blue-500"}],r=(n,i,s)=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsx("span",{className:`text-sm font-medium ${i===0?"text-gray-400 dark:text-gray-600":"text-gray-900 dark:text-white"}`,children:n.label}),u.jsxs("span",{className:`text-sm font-bold ${i===0?"text-gray-400 dark:text-gray-600":"text-gray-900 dark:text-white"}`,children:[s,"%"]})]}),u.jsx("p",{className:`text-xs mt-0.5 ${i===0?"text-gray-400 dark:text-gray-600":"text-gray-500 dark:text-gray-400"}`,children:i===0?"No data":`${i.toLocaleString()} ${i===1?"HEI":"HEIs"}`})]});return u.jsx(dz,{data:t,title:"HEI Type Distribution",emptyStateMessage:"No HEI data available",emptyStateSubtext:"Add HEI accounts to see distribution",gradientPrefix:"hei",chartConfig:e,centerLabelFormatter:n=>n.toString(),legendItemFormatter:r})},yne=({submissions:t})=>{const e=n=>{if(n==="Summary")return"SUMMARY";const i=n.match(/Annex ([A-O])/);return i?i[1]:""},r=n=>{const i=e(n.annex),s=new URLSearchParams({annex:i,status:n.status,year:n.academic_year});window.location.href=`/admin/submissions/${n.hei_id}?${s.toString()}`};return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Recent Submissions"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Latest submissions across all HEIs"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"HEI"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Form"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Submitted"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Action"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.map(n=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.hei_name}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:n.hei_code})]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.annex})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.submitted_at})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx(aa,{status:n.status})}),u.jsx("td",{className:"px-6 py-4 text-right",children:u.jsx("button",{onClick:()=>r(n),className:"text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors",children:"View Details"})})]},n.id))})]})}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/30",children:u.jsx("a",{href:"/admin/submissions",className:"text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors",children:"View all submissions "})})]})},vne=({heis:t,allHEIs:e=[]})=>{const[r,n]=W.useState(!1),[i,s]=W.useState(""),o=h=>{switch(h){case"SUC":return"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400";case"LUC":return"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400";case"Private":return"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400";default:return"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400"}},a=h=>{switch(h){case 0:return"text-yellow-500";case 1:return"text-gray-400";case 2:return"text-orange-600";default:return"text-gray-300"}},l=h=>{switch(h){case 0:return"";case 1:return"";case 2:return"";default:return`#${h+1}`}},c=(e.length>0?e:t).filter(h=>h.name.toLowerCase().includes(i.toLowerCase())||h.code.toLowerCase().includes(i.toLowerCase())),d=({hei:h,index:f,showRank:g=!0})=>u.jsxs("div",{className:"group relative bg-gradient-to-r from-gray-50 to-white dark:from-gray-700/50 dark:to-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-700 hover:shadow-md transition-all",children:[g&&u.jsx("div",{className:"absolute -left-2 -top-2 w-7 h-7 flex items-center justify-center bg-white dark:bg-gray-800 rounded-full border-2 border-gray-200 dark:border-gray-700 shadow-sm",children:u.jsx("span",{className:`text-xs font-bold ${a(f)}`,children:f<3?l(f):`#${f+1}`})}),u.jsxs("div",{className:g?"ml-3":"",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white line-clamp-1 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:h.name}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:h.code})]}),u.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium whitespace-nowrap ${o(h.type)}`,children:h.type})]}),u.jsxs("div",{className:"flex items-center justify-between mt-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[h.completedForms,"/",h.totalForms," forms"]})}),u.jsx("div",{className:"relative bg-gray-200 dark:bg-gray-700 rounded-full h-1.5 overflow-hidden",children:u.jsx("div",{className:`h-full transition-all duration-500 rounded-full ${h.completionRate===100?"bg-gradient-to-r from-green-400 to-green-600":h.completionRate>=80?"bg-gradient-to-r from-blue-400 to-blue-600":"bg-gradient-to-r from-yellow-400 to-yellow-600"}`,style:{width:`${h.completionRate}%`},children:u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"})})})]}),u.jsxs("span",{className:"ml-3 text-base font-bold text-gray-900 dark:text-white",children:[h.completionRate,"%"]})]})]})]});return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 h-full flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Top Performing HEIs"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Highest completion rates"})]}),u.jsx("div",{className:"p-6 space-y-3 overflow-y-auto flex-1",children:t.map((h,f)=>u.jsx(d,{hei:h,index:f},h.id))}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/30 flex-shrink-0",children:u.jsx("button",{onClick:()=>n(!0),className:"text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors",children:"View all HEIs "})})]}),r&&u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[u.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75",onClick:()=>n(!1)}),u.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"All HEIs Performance"}),u.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 transition-colors",children:u.jsx(H_,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"mt-4 relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(ine,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",placeholder:"Search by HEI name or code...",value:i,onChange:h=>s(h.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md leading-5 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),u.jsx("div",{className:"bg-white dark:bg-gray-800 px-6 py-4 max-h-96 overflow-y-auto",children:c.length>0?u.jsx("div",{className:"space-y-3",children:c.map((h,f)=>u.jsx(d,{hei:h,index:f},h.id))}):u.jsx("div",{className:"text-center py-8",children:u.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:['No HEIs found matching "',i,'"']})})}),u.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/30 px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[u.jsxs("span",{children:["Showing ",c.length," of ",(e.length>0?e:t).length," HEIs"]}),u.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors font-medium",children:"Close"})]})})]})]})})]})},wne=({data:t})=>{const e=Object.entries(t).map(([i,s])=>({name:i,percentage:s})).sort((i,s)=>s.percentage-i.percentage),r=i=>i>=80?"from-green-400 to-green-600":i>=60?"from-blue-400 to-blue-600":i>=40?"from-yellow-400 to-yellow-600":"from-red-400 to-red-600",n=(e.reduce((i,s)=>i+s.percentage,0)/e.length).toFixed(1);return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 h-full flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Form Completion Rate"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Percentage of HEIs that completed each form"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Average"}),u.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[n,"%"]})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2",style:{maxHeight:"calc(100% - 80px)"},children:e.map((i,s)=>u.jsxs("div",{className:"group",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white min-w-[70px]",children:i.name}),u.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${i.percentage>=80?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":i.percentage>=60?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":i.percentage>=40?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:i.percentage>=80?"Excellent":i.percentage>=60?"Good":i.percentage>=40?"Fair":"Needs Attention"})]}),u.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[i.percentage,"%"]})]}),u.jsx("div",{className:"relative bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden",children:u.jsx("div",{className:`h-full bg-gradient-to-r ${r(i.percentage)} transition-all duration-700 ease-out rounded-full group-hover:opacity-90`,style:{width:`${i.percentage}%`},children:u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"})})})]},s))})]})},bne=({academicYears:t,selectedYear:e,stats:r})=>u.jsx(Ef,{title:"Admin Dashboard",pendingCount:r.pendingReviews,children:u.jsxs("div",{className:"space-y-6",children:[u.jsx(gne,{academicYears:t,selectedYear:e}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Overview of all HEI submissions for AY ",e]})]}),r.pendingReviews>0&&u.jsx($c,{type:"warning",title:"Pending Reviews",message:`You have ${r.pendingReviews} pending review request(s) that require attention.`}),u.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[u.jsxs("div",{className:"w-full lg:w-2/3 flex flex-col gap-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(uc,{title:"Pending Reviews",value:r.pendingReviews,icon:u.jsx(ene,{}),color:"yellow"}),u.jsx(uc,{title:"Total Completion Percentage",value:`${r.completionRate}%`,icon:u.jsx(Ure,{}),color:"purple"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(mne,{data:r.enrollmentByType}),u.jsx(pne,{data:r.heisByType})]}),u.jsx(yne,{submissions:r.recentSubmissions})]}),u.jsxs("div",{className:"w-full lg:w-1/3 flex flex-col gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Quick Actions"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("a",{href:"/admin/hei-accounts",className:"block p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400",children:"Manage HEI Accounts"}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Add, edit, or remove accounts"})]}),u.jsxs("a",{href:"/admin/submissions",className:"block p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400",children:"Review Submissions"}),u.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:[r.pendingReviews," pending review(s)"]})]}),u.jsxs("a",{href:"/admin/audit-logs",className:"block p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400",children:"View Audit Logs"}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Track all system changes"})]})]})]}),u.jsx("div",{style:{maxHeight:"400px"},children:u.jsx(vne,{heis:r.topHEIs,allHEIs:r.allHEIs})}),u.jsx("div",{style:{maxHeight:"450px"},children:u.jsx(wne,{data:r.formCompletion})})]})]})]})}),Sne=Object.freeze(Object.defineProperty({__proto__:null,default:bne},Symbol.toStringTag,{value:"Module"})),xne=({heis:t=[]})=>{const[e,r]=W.useState(!1),[n,i]=W.useState(!1),[s,o]=W.useState(null),[a,l]=W.useState(null),[c,d]=W.useState(!1),[h,f]=W.useState(!1),[g,m]=W.useState(""),{data:p,setData:y,post:S,put:w,delete:b,processing:C,errors:N,reset:P}=Dc({uii:"",name:"",type:"",code:"",email:"",address:"",established_at:"2000-01-01",password:"",password_confirmation:"",is_active:!0}),k=t.filter(J=>J.name.toLowerCase().includes(g.toLowerCase())||J.code.toLowerCase().includes(g.toLowerCase())||J.email.toLowerCase().includes(g.toLowerCase())||J.uii.toLowerCase().includes(g.toLowerCase())),R=J=>{J.preventDefault(),n&&s?w(`/admin/heis/${s.id}`,{onSuccess:()=>{r(!1),i(!1),o(null),P()}}):S("/admin/heis",{onSuccess:()=>{r(!1),P()}})},I=J=>{o(J),i(!0),y({uii:J.uii,name:J.name,type:J.type,code:J.code,email:J.email,address:J.address||"",established_at:J.established_at||"2000-01-01",password:"",password_confirmation:"",is_active:J.is_active}),r(!0)},O=()=>{b(`/admin/heis/${a.id}`,{onSuccess:()=>{l(null)}})},Z=()=>{i(!1),o(null),P(),r(!0)},q=[{key:"uii",label:"UII",render:J=>u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:J.uii})},{key:"name",label:"Institution Name",render:J=>u.jsx("span",{className:"text-gray-900 dark:text-white",children:J.name})},{key:"type",label:"Type",render:J=>u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:J.type})},{key:"code",label:"HEI Code",render:J=>u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:J.code})},{key:"email",label:"Email",render:J=>u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:J.email})},{key:"is_active",label:"Status",align:"center",render:J=>u.jsx(aa,{color:J.is_active?"green":"red",label:J.is_active?"Active":"Inactive"})},{key:"actions",label:"Actions",align:"center",render:J=>u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(yo,{variant:"blue",onClick:()=>I(J),title:"Edit HEI",children:u.jsx(sz,{size:18})}),u.jsx(yo,{variant:"red",onClick:()=>l(J),title:"Delete HEI",children:u.jsx(AA,{size:18})})]})}];return u.jsx(Ef,{title:"HEI Accounts",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"HEI Account Management"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage all Higher Education Institution accounts"})]}),u.jsx("button",{onClick:Z,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add New HEI"})]}),u.jsx(j_,{columns:q,data:k,searchValue:g,onSearchChange:m,searchPlaceholder:"Search by UII, name, code, or email...",emptyMessage:"No HEI accounts found."}),e&&u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[u.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75",onClick:()=>r(!1)}),u.jsx("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:u.jsxs("form",{onSubmit:R,children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:n?"Edit HEI Account":"Add New HEI Account"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"UII"}),u.jsx("input",{type:"text",value:p.uii,onChange:J=>{const re=J.target.value.slice(0,6);y("uii",re)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"09001a",maxLength:"8",required:!0}),N.uii&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:N.uii})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name of HEI"}),u.jsx("input",{type:"text",value:p.name,onChange:J=>y("name",J.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0}),N.name&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:N.name})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),u.jsxs("select",{value:p.type,onChange:J=>y("type",J.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0,children:[u.jsx("option",{value:"",children:"Select Type"}),u.jsx("option",{value:"Private",children:"Private"}),u.jsx("option",{value:"SUC",children:"SUC"}),u.jsx("option",{value:"LUC",children:"LUC"})]}),N.type&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:N.type})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"HEI Code"}),u.jsx("input",{type:"text",value:p.code,onChange:J=>y("code",J.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0}),N.code&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:N.code})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),u.jsx("input",{type:"email",value:p.email,onChange:J=>y("email",J.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0}),N.email&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:N.email})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Established Date"}),u.jsx("input",{type:"date",value:p.established_at,onChange:J=>y("established_at",J.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"}),N.established_at&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:N.established_at})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),u.jsx(uz,{value:p.address,onChange:J=>y("address",J),error:N.address})]}),n&&u.jsx("div",{className:"md:col-span-2",children:u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:p.is_active,onChange:J=>y("is_active",J.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),u.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:c?"text":"password",value:p.password,onChange:J=>y("password",J.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:n?"Leave blank to keep current password":"password"}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none transition-colors",children:c?u.jsx(dv,{size:20}):u.jsx(hv,{size:20})})]}),u.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:n?"If left blank, current password will be kept":`If left blank, it'll default to "password"`}),N.password&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:N.password})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:h?"text":"password",value:p.password_confirmation,onChange:J=>y("password_confirmation",J.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:n?"Leave blank to keep current password":"Confirm password"}),u.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none transition-colors",children:h?u.jsx(dv,{size:20}):u.jsx(hv,{size:20})})]}),N.password_confirmation&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:N.password_confirmation})]})]})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[u.jsx("button",{type:"submit",disabled:C,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:C?n?"Updating...":"Creating...":n?"Update HEI":"Create HEI"}),u.jsx("button",{type:"button",onClick:()=>r(!1),className:"mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})}),u.jsx(cz,{isOpen:!!a,onClose:()=>l(null),onConfirm:O,title:"Delete HEI Account",message:`Are you sure you want to delete "${a==null?void 0:a.name}"? This will also delete all associated user accounts. This action cannot be undone.`,confirmText:"Delete",variant:"danger",processing:C})]})})},Cne=Object.freeze(Object.defineProperty({__proto__:null,default:xne},Symbol.toStringTag,{value:"Module"}));var hz={exports:{}},Ws={},fz={exports:{}},gz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ie,ee){var ce=ie.length;ie.push(ee);e:for(;0<ce;){var ae=ce-1>>>1,ye=ie[ae];if(0<i(ye,ee))ie[ae]=ee,ie[ce]=ye,ce=ae;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var ee=ie[0],ce=ie.pop();if(ce!==ee){ie[0]=ce;e:for(var ae=0,ye=ie.length,Q=ye>>>1;ae<Q;){var F=2*(ae+1)-1,v=ie[F],x=F+1,E=ie[x];if(0>i(v,ce))x<ye&&0>i(E,v)?(ie[ae]=E,ie[x]=ce,ae=x):(ie[ae]=v,ie[F]=ce,ae=F);else if(x<ye&&0>i(E,ce))ie[ae]=E,ie[x]=ce,ae=x;else break e}}return ee}function i(ie,ee){var ce=ie.sortIndex-ee.sortIndex;return ce!==0?ce:ie.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,m=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(ie){for(var ee=r(c);ee!==null;){if(ee.callback===null)n(c);else if(ee.startTime<=ie)n(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=r(c)}}function C(ie){if(p=!1,b(ie),!m)if(r(l)!==null)m=!0,ve(N);else{var ee=r(c);ee!==null&&be(C,ee.startTime-ie)}}function N(ie,ee){m=!1,p&&(p=!1,S(R),R=-1),g=!0;var ce=f;try{for(b(ee),h=r(l);h!==null&&(!(h.expirationTime>ee)||ie&&!Z());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var ye=ae(h.expirationTime<=ee);ee=t.unstable_now(),typeof ye=="function"?h.callback=ye:h===r(l)&&n(l),b(ee)}else n(l);h=r(l)}if(h!==null)var Q=!0;else{var F=r(c);F!==null&&be(C,F.startTime-ee),Q=!1}return Q}finally{h=null,f=ce,g=!1}}var P=!1,k=null,R=-1,I=5,O=-1;function Z(){return!(t.unstable_now()-O<I)}function q(){if(k!==null){var ie=t.unstable_now();O=ie;var ee=!0;try{ee=k(!0,ie)}finally{ee?J():(P=!1,k=null)}}else P=!1}var J;if(typeof w=="function")J=function(){w(q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ue=re.port2;re.port1.onmessage=q,J=function(){ue.postMessage(null)}}else J=function(){y(q,0)};function ve(ie){k=ie,P||(P=!0,J())}function be(ie,ee){R=y(function(){ie(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,ve(N))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ie){switch(f){case 1:case 2:case 3:var ee=3;break;default:ee=f}var ce=f;f=ee;try{return ie()}finally{f=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,ee){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ce=f;f=ie;try{return ee()}finally{f=ce}},t.unstable_scheduleCallback=function(ie,ee,ce){var ae=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ae+ce:ae):ce=ae,ie){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=ce+ye,ie={id:d++,callback:ee,priorityLevel:ie,startTime:ce,expirationTime:ye,sortIndex:-1},ce>ae?(ie.sortIndex=ce,e(c,ie),r(l)===null&&ie===r(c)&&(p?(S(R),R=-1):p=!0,be(C,ce-ae))):(ie.sortIndex=ye,e(l,ie),m||g||(m=!0,ve(N))),ie},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(ie){var ee=f;return function(){var ce=f;f=ee;try{return ie.apply(this,arguments)}finally{f=ce}}}})(gz);fz.exports=gz;var _ne=fz.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rne=W,Vs=_ne;function ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mz=new Set,fv={};function Tf(t,e){Jm(t,e),Jm(t+"Capture",e)}function Jm(t,e){for(fv[t]=e,t=0;t<e.length;t++)mz.add(e[t])}var Tc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),DN=Object.prototype.hasOwnProperty,Ene=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uL={},dL={};function Tne(t){return DN.call(dL,t)?!0:DN.call(uL,t)?!1:Ene.test(t)?dL[t]=!0:(uL[t]=!0,!1)}function kne(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Pne(t,e,r,n){if(e===null||typeof e>"u"||kne(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Li(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xn[t]=new Li(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xn[e]=new Li(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xn[t]=new Li(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xn[t]=new Li(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xn[t]=new Li(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xn[t]=new Li(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xn[t]=new Li(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xn[t]=new Li(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xn[t]=new Li(t,5,!1,t.toLowerCase(),null,!1,!1)});var jA=/[\-:]([a-z])/g;function DA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jA,DA);Xn[e]=new Li(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jA,DA);Xn[e]=new Li(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jA,DA);Xn[e]=new Li(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xn[t]=new Li(t,1,!1,t.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new Li("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xn[t]=new Li(t,1,!1,t.toLowerCase(),null,!0,!0)});function $A(t,e,r,n){var i=Xn.hasOwnProperty(e)?Xn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Pne(e,r,i,n)&&(r=null),n||i===null?Tne(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Lc=Rne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yb=Symbol.for("react.element"),Xg=Symbol.for("react.portal"),Qg=Symbol.for("react.fragment"),LA=Symbol.for("react.strict_mode"),$N=Symbol.for("react.profiler"),pz=Symbol.for("react.provider"),yz=Symbol.for("react.context"),FA=Symbol.for("react.forward_ref"),LN=Symbol.for("react.suspense"),FN=Symbol.for("react.suspense_list"),VA=Symbol.for("react.memo"),xu=Symbol.for("react.lazy"),vz=Symbol.for("react.offscreen"),hL=Symbol.iterator;function Zp(t){return t===null||typeof t!="object"?null:(t=hL&&t[hL]||t["@@iterator"],typeof t=="function"?t:null)}var Ir=Object.assign,NE;function hy(t){if(NE===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);NE=e&&e[1]||""}return`
`+NE+t}var ME=!1;function IE(t,e){if(!t||ME)return"";ME=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ME=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?hy(t):""}function Nne(t){switch(t.tag){case 5:return hy(t.type);case 16:return hy("Lazy");case 13:return hy("Suspense");case 19:return hy("SuspenseList");case 0:case 2:case 15:return t=IE(t.type,!1),t;case 11:return t=IE(t.type.render,!1),t;case 1:return t=IE(t.type,!0),t;default:return""}}function VN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qg:return"Fragment";case Xg:return"Portal";case $N:return"Profiler";case LA:return"StrictMode";case LN:return"Suspense";case FN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yz:return(t.displayName||"Context")+".Consumer";case pz:return(t._context.displayName||"Context")+".Provider";case FA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case VA:return e=t.displayName||null,e!==null?e:VN(t.type)||"Memo";case xu:e=t._payload,t=t._init;try{return VN(t(e))}catch{}}return null}function Mne(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return VN(e);case 8:return e===LA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ud(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wz(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ine(t){var e=wz(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vb(t){t._valueTracker||(t._valueTracker=Ine(t))}function bz(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=wz(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function $C(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function WN(t,e){var r=e.checked;return Ir({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function fL(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ud(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sz(t,e){e=e.checked,e!=null&&$A(t,"checked",e,!1)}function BN(t,e){Sz(t,e);var r=ud(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zN(t,e.type,r):e.hasOwnProperty("defaultValue")&&zN(t,e.type,ud(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gL(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function zN(t,e,r){(e!=="number"||$C(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var fy=Array.isArray;function xm(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ud(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function UN(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ge(91));return Ir({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mL(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ge(92));if(fy(r)){if(1<r.length)throw Error(ge(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ud(r)}}function xz(t,e){var r=ud(e.value),n=ud(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function pL(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cz(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function YN(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cz(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wb,_z=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wb=wb||document.createElement("div"),wb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wb.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gv(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ny={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ane=["Webkit","ms","Moz","O"];Object.keys(Ny).forEach(function(t){Ane.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ny[e]=Ny[t]})});function Rz(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ny.hasOwnProperty(t)&&Ny[t]?(""+e).trim():e+"px"}function Ez(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Rz(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var One=Ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function GN(t,e){if(e){if(One[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ge(62))}}function KN(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qN=null;function WA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var XN=null,Cm=null,_m=null;function yL(t){if(t=ww(t)){if(typeof XN!="function")throw Error(ge(280));var e=t.stateNode;e&&(e=V_(e),XN(t.stateNode,t.type,e))}}function Tz(t){Cm?_m?_m.push(t):_m=[t]:Cm=t}function kz(){if(Cm){var t=Cm,e=_m;if(_m=Cm=null,yL(t),e)for(t=0;t<e.length;t++)yL(e[t])}}function Pz(t,e){return t(e)}function Nz(){}var AE=!1;function Mz(t,e,r){if(AE)return t(e,r);AE=!0;try{return Pz(t,e,r)}finally{AE=!1,(Cm!==null||_m!==null)&&(Nz(),kz())}}function mv(t,e){var r=t.stateNode;if(r===null)return null;var n=V_(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ge(231,e,typeof r));return r}var QN=!1;if(Tc)try{var e0={};Object.defineProperty(e0,"passive",{get:function(){QN=!0}}),window.addEventListener("test",e0,e0),window.removeEventListener("test",e0,e0)}catch{QN=!1}function Hne(t,e,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var My=!1,LC=null,FC=!1,JN=null,jne={onError:function(t){My=!0,LC=t}};function Dne(t,e,r,n,i,s,o,a,l){My=!1,LC=null,Hne.apply(jne,arguments)}function $ne(t,e,r,n,i,s,o,a,l){if(Dne.apply(this,arguments),My){if(My){var c=LC;My=!1,LC=null}else throw Error(ge(198));FC||(FC=!0,JN=c)}}function kf(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Iz(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vL(t){if(kf(t)!==t)throw Error(ge(188))}function Lne(t){var e=t.alternate;if(!e){if(e=kf(t),e===null)throw Error(ge(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return vL(i),t;if(s===n)return vL(i),e;s=s.sibling}throw Error(ge(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?t:e}function Az(t){return t=Lne(t),t!==null?Oz(t):null}function Oz(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Oz(t);if(e!==null)return e;t=t.sibling}return null}var Hz=Vs.unstable_scheduleCallback,wL=Vs.unstable_cancelCallback,Fne=Vs.unstable_shouldYield,Vne=Vs.unstable_requestPaint,Zr=Vs.unstable_now,Wne=Vs.unstable_getCurrentPriorityLevel,BA=Vs.unstable_ImmediatePriority,jz=Vs.unstable_UserBlockingPriority,VC=Vs.unstable_NormalPriority,Bne=Vs.unstable_LowPriority,Dz=Vs.unstable_IdlePriority,D_=null,Sl=null;function zne(t){if(Sl&&typeof Sl.onCommitFiberRoot=="function")try{Sl.onCommitFiberRoot(D_,t,void 0,(t.current.flags&128)===128)}catch{}}var fa=Math.clz32?Math.clz32:Gne,Une=Math.log,Yne=Math.LN2;function Gne(t){return t>>>=0,t===0?32:31-(Une(t)/Yne|0)|0}var bb=64,Sb=4194304;function gy(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function WC(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=gy(a):(s&=o,s!==0&&(n=gy(s)))}else o=r&~i,o!==0?n=gy(o):s!==0&&(n=gy(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-fa(e),i=1<<r,n|=t[r],e&=~i;return n}function Kne(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qne(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fa(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=Kne(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function ZN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $z(){var t=bb;return bb<<=1,!(bb&4194240)&&(bb=64),t}function OE(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function yw(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fa(e),t[e]=r}function Xne(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-fa(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function zA(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-fa(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ut=0;function Lz(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Fz,UA,Vz,Wz,Bz,eM=!1,xb=[],qu=null,Xu=null,Qu=null,pv=new Map,yv=new Map,ku=[],Qne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bL(t,e){switch(t){case"focusin":case"focusout":qu=null;break;case"dragenter":case"dragleave":Xu=null;break;case"mouseover":case"mouseout":Qu=null;break;case"pointerover":case"pointerout":pv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yv.delete(e.pointerId)}}function t0(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ww(e),e!==null&&UA(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Jne(t,e,r,n,i){switch(e){case"focusin":return qu=t0(qu,t,e,r,n,i),!0;case"dragenter":return Xu=t0(Xu,t,e,r,n,i),!0;case"mouseover":return Qu=t0(Qu,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return pv.set(s,t0(pv.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,yv.set(s,t0(yv.get(s)||null,t,e,r,n,i)),!0}return!1}function zz(t){var e=Ph(t.target);if(e!==null){var r=kf(e);if(r!==null){if(e=r.tag,e===13){if(e=Iz(r),e!==null){t.blockedOn=e,Bz(t.priority,function(){Vz(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lx(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=tM(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);qN=n,r.target.dispatchEvent(n),qN=null}else return e=ww(r),e!==null&&UA(e),t.blockedOn=r,!1;e.shift()}return!0}function SL(t,e,r){Lx(t)&&r.delete(e)}function Zne(){eM=!1,qu!==null&&Lx(qu)&&(qu=null),Xu!==null&&Lx(Xu)&&(Xu=null),Qu!==null&&Lx(Qu)&&(Qu=null),pv.forEach(SL),yv.forEach(SL)}function r0(t,e){t.blockedOn===e&&(t.blockedOn=null,eM||(eM=!0,Vs.unstable_scheduleCallback(Vs.unstable_NormalPriority,Zne)))}function vv(t){function e(i){return r0(i,t)}if(0<xb.length){r0(xb[0],t);for(var r=1;r<xb.length;r++){var n=xb[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qu!==null&&r0(qu,t),Xu!==null&&r0(Xu,t),Qu!==null&&r0(Qu,t),pv.forEach(e),yv.forEach(e),r=0;r<ku.length;r++)n=ku[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ku.length&&(r=ku[0],r.blockedOn===null);)zz(r),r.blockedOn===null&&ku.shift()}var Rm=Lc.ReactCurrentBatchConfig,BC=!0;function eie(t,e,r,n){var i=Ut,s=Rm.transition;Rm.transition=null;try{Ut=1,YA(t,e,r,n)}finally{Ut=i,Rm.transition=s}}function tie(t,e,r,n){var i=Ut,s=Rm.transition;Rm.transition=null;try{Ut=4,YA(t,e,r,n)}finally{Ut=i,Rm.transition=s}}function YA(t,e,r,n){if(BC){var i=tM(t,e,r,n);if(i===null)zE(t,e,n,zC,r),bL(t,n);else if(Jne(i,t,e,r,n))n.stopPropagation();else if(bL(t,n),e&4&&-1<Qne.indexOf(t)){for(;i!==null;){var s=ww(i);if(s!==null&&Fz(s),s=tM(t,e,r,n),s===null&&zE(t,e,n,zC,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else zE(t,e,n,null,r)}}var zC=null;function tM(t,e,r,n){if(zC=null,t=WA(n),t=Ph(t),t!==null)if(e=kf(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Iz(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zC=t,null}function Uz(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wne()){case BA:return 1;case jz:return 4;case VC:case Bne:return 16;case Dz:return 536870912;default:return 16}default:return 16}}var Fu=null,GA=null,Fx=null;function Yz(){if(Fx)return Fx;var t,e=GA,r=e.length,n,i="value"in Fu?Fu.value:Fu.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Fx=i.slice(t,1<n?1-n:void 0)}function Vx(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cb(){return!0}function xL(){return!1}function Bs(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cb:xL,this.isPropagationStopped=xL,this}return Ir(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cb)},persist:function(){},isPersistent:Cb}),e}var xp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},KA=Bs(xp),vw=Ir({},xp,{view:0,detail:0}),rie=Bs(vw),HE,jE,n0,$_=Ir({},vw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==n0&&(n0&&t.type==="mousemove"?(HE=t.screenX-n0.screenX,jE=t.screenY-n0.screenY):jE=HE=0,n0=t),HE)},movementY:function(t){return"movementY"in t?t.movementY:jE}}),CL=Bs($_),nie=Ir({},$_,{dataTransfer:0}),iie=Bs(nie),sie=Ir({},vw,{relatedTarget:0}),DE=Bs(sie),oie=Ir({},xp,{animationName:0,elapsedTime:0,pseudoElement:0}),aie=Bs(oie),lie=Ir({},xp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cie=Bs(lie),uie=Ir({},xp,{data:0}),_L=Bs(uie),die={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gie(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fie[t])?!!e[t]:!1}function qA(){return gie}var mie=Ir({},vw,{key:function(t){if(t.key){var e=die[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vx(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hie[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qA,charCode:function(t){return t.type==="keypress"?Vx(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vx(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pie=Bs(mie),yie=Ir({},$_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RL=Bs(yie),vie=Ir({},vw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qA}),wie=Bs(vie),bie=Ir({},xp,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sie=Bs(bie),xie=Ir({},$_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cie=Bs(xie),_ie=[9,13,27,32],XA=Tc&&"CompositionEvent"in window,Iy=null;Tc&&"documentMode"in document&&(Iy=document.documentMode);var Rie=Tc&&"TextEvent"in window&&!Iy,Gz=Tc&&(!XA||Iy&&8<Iy&&11>=Iy),EL=" ",TL=!1;function Kz(t,e){switch(t){case"keyup":return _ie.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qz(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jg=!1;function Eie(t,e){switch(t){case"compositionend":return qz(e);case"keypress":return e.which!==32?null:(TL=!0,EL);case"textInput":return t=e.data,t===EL&&TL?null:t;default:return null}}function Tie(t,e){if(Jg)return t==="compositionend"||!XA&&Kz(t,e)?(t=Yz(),Fx=GA=Fu=null,Jg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gz&&e.locale!=="ko"?null:e.data;default:return null}}var kie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kL(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kie[t.type]:e==="textarea"}function Xz(t,e,r,n){Tz(n),e=UC(e,"onChange"),0<e.length&&(r=new KA("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ay=null,wv=null;function Pie(t){aU(t,0)}function L_(t){var e=tm(t);if(bz(e))return t}function Nie(t,e){if(t==="change")return e}var Qz=!1;if(Tc){var $E;if(Tc){var LE="oninput"in document;if(!LE){var PL=document.createElement("div");PL.setAttribute("oninput","return;"),LE=typeof PL.oninput=="function"}$E=LE}else $E=!1;Qz=$E&&(!document.documentMode||9<document.documentMode)}function NL(){Ay&&(Ay.detachEvent("onpropertychange",Jz),wv=Ay=null)}function Jz(t){if(t.propertyName==="value"&&L_(wv)){var e=[];Xz(e,wv,t,WA(t)),Mz(Pie,e)}}function Mie(t,e,r){t==="focusin"?(NL(),Ay=e,wv=r,Ay.attachEvent("onpropertychange",Jz)):t==="focusout"&&NL()}function Iie(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return L_(wv)}function Aie(t,e){if(t==="click")return L_(e)}function Oie(t,e){if(t==="input"||t==="change")return L_(e)}function Hie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pa=typeof Object.is=="function"?Object.is:Hie;function bv(t,e){if(pa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!DN.call(e,i)||!pa(t[i],e[i]))return!1}return!0}function ML(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IL(t,e){var r=ML(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ML(r)}}function Zz(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Zz(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eU(){for(var t=window,e=$C();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=$C(t.document)}return e}function QA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jie(t){var e=eU(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Zz(r.ownerDocument.documentElement,r)){if(n!==null&&QA(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=IL(r,s);var o=IL(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Die=Tc&&"documentMode"in document&&11>=document.documentMode,Zg=null,rM=null,Oy=null,nM=!1;function AL(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nM||Zg==null||Zg!==$C(n)||(n=Zg,"selectionStart"in n&&QA(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Oy&&bv(Oy,n)||(Oy=n,n=UC(rM,"onSelect"),0<n.length&&(e=new KA("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Zg)))}function _b(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var em={animationend:_b("Animation","AnimationEnd"),animationiteration:_b("Animation","AnimationIteration"),animationstart:_b("Animation","AnimationStart"),transitionend:_b("Transition","TransitionEnd")},FE={},tU={};Tc&&(tU=document.createElement("div").style,"AnimationEvent"in window||(delete em.animationend.animation,delete em.animationiteration.animation,delete em.animationstart.animation),"TransitionEvent"in window||delete em.transitionend.transition);function F_(t){if(FE[t])return FE[t];if(!em[t])return t;var e=em[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in tU)return FE[t]=e[r];return t}var rU=F_("animationend"),nU=F_("animationiteration"),iU=F_("animationstart"),sU=F_("transitionend"),oU=new Map,OL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pd(t,e){oU.set(t,e),Tf(e,[t])}for(var VE=0;VE<OL.length;VE++){var WE=OL[VE],$ie=WE.toLowerCase(),Lie=WE[0].toUpperCase()+WE.slice(1);pd($ie,"on"+Lie)}pd(rU,"onAnimationEnd");pd(nU,"onAnimationIteration");pd(iU,"onAnimationStart");pd("dblclick","onDoubleClick");pd("focusin","onFocus");pd("focusout","onBlur");pd(sU,"onTransitionEnd");Jm("onMouseEnter",["mouseout","mouseover"]);Jm("onMouseLeave",["mouseout","mouseover"]);Jm("onPointerEnter",["pointerout","pointerover"]);Jm("onPointerLeave",["pointerout","pointerover"]);Tf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var my="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fie=new Set("cancel close invalid load scroll toggle".split(" ").concat(my));function HL(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,$ne(n,e,void 0,t),t.currentTarget=null}function aU(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;HL(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;HL(i,a,c),s=l}}}if(FC)throw t=JN,FC=!1,JN=null,t}function or(t,e){var r=e[lM];r===void 0&&(r=e[lM]=new Set);var n=t+"__bubble";r.has(n)||(lU(e,t,2,!1),r.add(n))}function BE(t,e,r){var n=0;e&&(n|=4),lU(r,t,n,e)}var Rb="_reactListening"+Math.random().toString(36).slice(2);function Sv(t){if(!t[Rb]){t[Rb]=!0,mz.forEach(function(r){r!=="selectionchange"&&(Fie.has(r)||BE(r,!1,t),BE(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rb]||(e[Rb]=!0,BE("selectionchange",!1,e))}}function lU(t,e,r,n){switch(Uz(e)){case 1:var i=eie;break;case 4:i=tie;break;default:i=YA}r=i.bind(null,e,r,t),i=void 0,!QN||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function zE(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ph(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}Mz(function(){var c=s,d=WA(r),h=[];e:{var f=oU.get(t);if(f!==void 0){var g=KA,m=t;switch(t){case"keypress":if(Vx(r)===0)break e;case"keydown":case"keyup":g=pie;break;case"focusin":m="focus",g=DE;break;case"focusout":m="blur",g=DE;break;case"beforeblur":case"afterblur":g=DE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=CL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=iie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=wie;break;case rU:case nU:case iU:g=aie;break;case sU:g=Sie;break;case"scroll":g=rie;break;case"wheel":g=Cie;break;case"copy":case"cut":case"paste":g=cie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=RL}var p=(e&4)!==0,y=!p&&t==="scroll",S=p?f!==null?f+"Capture":null:f;p=[];for(var w=c,b;w!==null;){b=w;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,S!==null&&(C=mv(w,S),C!=null&&p.push(xv(w,C,b)))),y)break;w=w.return}0<p.length&&(f=new g(f,m,null,r,d),h.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==qN&&(m=r.relatedTarget||r.fromElement)&&(Ph(m)||m[kc]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=c,m=m?Ph(m):null,m!==null&&(y=kf(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=c),g!==m)){if(p=CL,C="onMouseLeave",S="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(p=RL,C="onPointerLeave",S="onPointerEnter",w="pointer"),y=g==null?f:tm(g),b=m==null?f:tm(m),f=new p(C,w+"leave",g,r,d),f.target=y,f.relatedTarget=b,C=null,Ph(d)===c&&(p=new p(S,w+"enter",m,r,d),p.target=b,p.relatedTarget=y,C=p),y=C,g&&m)t:{for(p=g,S=m,w=0,b=p;b;b=Uf(b))w++;for(b=0,C=S;C;C=Uf(C))b++;for(;0<w-b;)p=Uf(p),w--;for(;0<b-w;)S=Uf(S),b--;for(;w--;){if(p===S||S!==null&&p===S.alternate)break t;p=Uf(p),S=Uf(S)}p=null}else p=null;g!==null&&jL(h,f,g,p,!1),m!==null&&y!==null&&jL(h,y,m,p,!0)}}e:{if(f=c?tm(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var N=Nie;else if(kL(f))if(Qz)N=Oie;else{N=Iie;var P=Mie}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=Aie);if(N&&(N=N(t,c))){Xz(h,N,r,d);break e}P&&P(t,f,c),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&zN(f,"number",f.value)}switch(P=c?tm(c):window,t){case"focusin":(kL(P)||P.contentEditable==="true")&&(Zg=P,rM=c,Oy=null);break;case"focusout":Oy=rM=Zg=null;break;case"mousedown":nM=!0;break;case"contextmenu":case"mouseup":case"dragend":nM=!1,AL(h,r,d);break;case"selectionchange":if(Die)break;case"keydown":case"keyup":AL(h,r,d)}var k;if(XA)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Jg?Kz(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Gz&&r.locale!=="ko"&&(Jg||R!=="onCompositionStart"?R==="onCompositionEnd"&&Jg&&(k=Yz()):(Fu=d,GA="value"in Fu?Fu.value:Fu.textContent,Jg=!0)),P=UC(c,R),0<P.length&&(R=new _L(R,t,null,r,d),h.push({event:R,listeners:P}),k?R.data=k:(k=qz(r),k!==null&&(R.data=k)))),(k=Rie?Eie(t,r):Tie(t,r))&&(c=UC(c,"onBeforeInput"),0<c.length&&(d=new _L("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=k))}aU(h,e)})}function xv(t,e,r){return{instance:t,listener:e,currentTarget:r}}function UC(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mv(t,r),s!=null&&n.unshift(xv(t,s,i)),s=mv(t,e),s!=null&&n.push(xv(t,s,i))),t=t.return}return n}function Uf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jL(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=mv(r,s),l!=null&&o.unshift(xv(r,l,a))):i||(l=mv(r,s),l!=null&&o.push(xv(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Vie=/\r\n?/g,Wie=/\u0000|\uFFFD/g;function DL(t){return(typeof t=="string"?t:""+t).replace(Vie,`
`).replace(Wie,"")}function Eb(t,e,r){if(e=DL(e),DL(t)!==e&&r)throw Error(ge(425))}function YC(){}var iM=null,sM=null;function oM(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var aM=typeof setTimeout=="function"?setTimeout:void 0,Bie=typeof clearTimeout=="function"?clearTimeout:void 0,$L=typeof Promise=="function"?Promise:void 0,zie=typeof queueMicrotask=="function"?queueMicrotask:typeof $L<"u"?function(t){return $L.resolve(null).then(t).catch(Uie)}:aM;function Uie(t){setTimeout(function(){throw t})}function UE(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),vv(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);vv(e)}function Ju(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function LL(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Cp=Math.random().toString(36).slice(2),gl="__reactFiber$"+Cp,Cv="__reactProps$"+Cp,kc="__reactContainer$"+Cp,lM="__reactEvents$"+Cp,Yie="__reactListeners$"+Cp,Gie="__reactHandles$"+Cp;function Ph(t){var e=t[gl];if(e)return e;for(var r=t.parentNode;r;){if(e=r[kc]||r[gl]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=LL(t);t!==null;){if(r=t[gl])return r;t=LL(t)}return e}t=r,r=t.parentNode}return null}function ww(t){return t=t[gl]||t[kc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tm(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ge(33))}function V_(t){return t[Cv]||null}var cM=[],rm=-1;function yd(t){return{current:t}}function ur(t){0>rm||(t.current=cM[rm],cM[rm]=null,rm--)}function er(t,e){rm++,cM[rm]=t.current,t.current=e}var dd={},vi=yd(dd),cs=yd(!1),af=dd;function Zm(t,e){var r=t.type.contextTypes;if(!r)return dd;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function us(t){return t=t.childContextTypes,t!=null}function GC(){ur(cs),ur(vi)}function FL(t,e,r){if(vi.current!==dd)throw Error(ge(168));er(vi,e),er(cs,r)}function cU(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ge(108,Mne(t)||"Unknown",i));return Ir({},r,n)}function KC(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||dd,af=vi.current,er(vi,t),er(cs,cs.current),!0}function VL(t,e,r){var n=t.stateNode;if(!n)throw Error(ge(169));r?(t=cU(t,e,af),n.__reactInternalMemoizedMergedChildContext=t,ur(cs),ur(vi),er(vi,t)):ur(cs),er(cs,r)}var lc=null,W_=!1,YE=!1;function uU(t){lc===null?lc=[t]:lc.push(t)}function Kie(t){W_=!0,uU(t)}function vd(){if(!YE&&lc!==null){YE=!0;var t=0,e=Ut;try{var r=lc;for(Ut=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}lc=null,W_=!1}catch(i){throw lc!==null&&(lc=lc.slice(t+1)),Hz(BA,vd),i}finally{Ut=e,YE=!1}}return null}var nm=[],im=0,qC=null,XC=0,ho=[],fo=0,lf=null,dc=1,hc="";function gh(t,e){nm[im++]=XC,nm[im++]=qC,qC=t,XC=e}function dU(t,e,r){ho[fo++]=dc,ho[fo++]=hc,ho[fo++]=lf,lf=t;var n=dc;t=hc;var i=32-fa(n)-1;n&=~(1<<i),r+=1;var s=32-fa(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,dc=1<<32-fa(e)+i|r<<i|n,hc=s+t}else dc=1<<s|r<<i|n,hc=t}function JA(t){t.return!==null&&(gh(t,1),dU(t,1,0))}function ZA(t){for(;t===qC;)qC=nm[--im],nm[im]=null,XC=nm[--im],nm[im]=null;for(;t===lf;)lf=ho[--fo],ho[fo]=null,hc=ho[--fo],ho[fo]=null,dc=ho[--fo],ho[fo]=null}var Ls=null,js=null,br=!1,la=null;function hU(t,e){var r=vo(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function WL(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ls=t,js=Ju(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ls=t,js=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=lf!==null?{id:dc,overflow:hc}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=vo(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ls=t,js=null,!0):!1;default:return!1}}function uM(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dM(t){if(br){var e=js;if(e){var r=e;if(!WL(t,e)){if(uM(t))throw Error(ge(418));e=Ju(r.nextSibling);var n=Ls;e&&WL(t,e)?hU(n,r):(t.flags=t.flags&-4097|2,br=!1,Ls=t)}}else{if(uM(t))throw Error(ge(418));t.flags=t.flags&-4097|2,br=!1,Ls=t}}}function BL(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ls=t}function Tb(t){if(t!==Ls)return!1;if(!br)return BL(t),br=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oM(t.type,t.memoizedProps)),e&&(e=js)){if(uM(t))throw fU(),Error(ge(418));for(;e;)hU(t,e),e=Ju(e.nextSibling)}if(BL(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){js=Ju(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}js=null}}else js=Ls?Ju(t.stateNode.nextSibling):null;return!0}function fU(){for(var t=js;t;)t=Ju(t.nextSibling)}function ep(){js=Ls=null,br=!1}function eO(t){la===null?la=[t]:la.push(t)}var qie=Lc.ReactCurrentBatchConfig;function i0(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,t))}return t}function kb(t,e){throw t=Object.prototype.toString.call(e),Error(ge(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zL(t){var e=t._init;return e(t._payload)}function gU(t){function e(S,w){if(t){var b=S.deletions;b===null?(S.deletions=[w],S.flags|=16):b.push(w)}}function r(S,w){if(!t)return null;for(;w!==null;)e(S,w),w=w.sibling;return null}function n(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function i(S,w){return S=rd(S,w),S.index=0,S.sibling=null,S}function s(S,w,b){return S.index=b,t?(b=S.alternate,b!==null?(b=b.index,b<w?(S.flags|=2,w):b):(S.flags|=2,w)):(S.flags|=1048576,w)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,w,b,C){return w===null||w.tag!==6?(w=ZE(b,S.mode,C),w.return=S,w):(w=i(w,b),w.return=S,w)}function l(S,w,b,C){var N=b.type;return N===Qg?d(S,w,b.props.children,C,b.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xu&&zL(N)===w.type)?(C=i(w,b.props),C.ref=i0(S,w,b),C.return=S,C):(C=Kx(b.type,b.key,b.props,null,S.mode,C),C.ref=i0(S,w,b),C.return=S,C)}function c(S,w,b,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=eT(b,S.mode,C),w.return=S,w):(w=i(w,b.children||[]),w.return=S,w)}function d(S,w,b,C,N){return w===null||w.tag!==7?(w=Zh(b,S.mode,C,N),w.return=S,w):(w=i(w,b),w.return=S,w)}function h(S,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ZE(""+w,S.mode,b),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yb:return b=Kx(w.type,w.key,w.props,null,S.mode,b),b.ref=i0(S,null,w),b.return=S,b;case Xg:return w=eT(w,S.mode,b),w.return=S,w;case xu:var C=w._init;return h(S,C(w._payload),b)}if(fy(w)||Zp(w))return w=Zh(w,S.mode,b,null),w.return=S,w;kb(S,w)}return null}function f(S,w,b,C){var N=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:a(S,w,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yb:return b.key===N?l(S,w,b,C):null;case Xg:return b.key===N?c(S,w,b,C):null;case xu:return N=b._init,f(S,w,N(b._payload),C)}if(fy(b)||Zp(b))return N!==null?null:d(S,w,b,C,null);kb(S,b)}return null}function g(S,w,b,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return S=S.get(b)||null,a(w,S,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yb:return S=S.get(C.key===null?b:C.key)||null,l(w,S,C,N);case Xg:return S=S.get(C.key===null?b:C.key)||null,c(w,S,C,N);case xu:var P=C._init;return g(S,w,b,P(C._payload),N)}if(fy(C)||Zp(C))return S=S.get(b)||null,d(w,S,C,N,null);kb(w,C)}return null}function m(S,w,b,C){for(var N=null,P=null,k=w,R=w=0,I=null;k!==null&&R<b.length;R++){k.index>R?(I=k,k=null):I=k.sibling;var O=f(S,k,b[R],C);if(O===null){k===null&&(k=I);break}t&&k&&O.alternate===null&&e(S,k),w=s(O,w,R),P===null?N=O:P.sibling=O,P=O,k=I}if(R===b.length)return r(S,k),br&&gh(S,R),N;if(k===null){for(;R<b.length;R++)k=h(S,b[R],C),k!==null&&(w=s(k,w,R),P===null?N=k:P.sibling=k,P=k);return br&&gh(S,R),N}for(k=n(S,k);R<b.length;R++)I=g(k,S,R,b[R],C),I!==null&&(t&&I.alternate!==null&&k.delete(I.key===null?R:I.key),w=s(I,w,R),P===null?N=I:P.sibling=I,P=I);return t&&k.forEach(function(Z){return e(S,Z)}),br&&gh(S,R),N}function p(S,w,b,C){var N=Zp(b);if(typeof N!="function")throw Error(ge(150));if(b=N.call(b),b==null)throw Error(ge(151));for(var P=N=null,k=w,R=w=0,I=null,O=b.next();k!==null&&!O.done;R++,O=b.next()){k.index>R?(I=k,k=null):I=k.sibling;var Z=f(S,k,O.value,C);if(Z===null){k===null&&(k=I);break}t&&k&&Z.alternate===null&&e(S,k),w=s(Z,w,R),P===null?N=Z:P.sibling=Z,P=Z,k=I}if(O.done)return r(S,k),br&&gh(S,R),N;if(k===null){for(;!O.done;R++,O=b.next())O=h(S,O.value,C),O!==null&&(w=s(O,w,R),P===null?N=O:P.sibling=O,P=O);return br&&gh(S,R),N}for(k=n(S,k);!O.done;R++,O=b.next())O=g(k,S,R,O.value,C),O!==null&&(t&&O.alternate!==null&&k.delete(O.key===null?R:O.key),w=s(O,w,R),P===null?N=O:P.sibling=O,P=O);return t&&k.forEach(function(q){return e(S,q)}),br&&gh(S,R),N}function y(S,w,b,C){if(typeof b=="object"&&b!==null&&b.type===Qg&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case yb:e:{for(var N=b.key,P=w;P!==null;){if(P.key===N){if(N=b.type,N===Qg){if(P.tag===7){r(S,P.sibling),w=i(P,b.props.children),w.return=S,S=w;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xu&&zL(N)===P.type){r(S,P.sibling),w=i(P,b.props),w.ref=i0(S,P,b),w.return=S,S=w;break e}r(S,P);break}else e(S,P);P=P.sibling}b.type===Qg?(w=Zh(b.props.children,S.mode,C,b.key),w.return=S,S=w):(C=Kx(b.type,b.key,b.props,null,S.mode,C),C.ref=i0(S,w,b),C.return=S,S=C)}return o(S);case Xg:e:{for(P=b.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(S,w.sibling),w=i(w,b.children||[]),w.return=S,S=w;break e}else{r(S,w);break}else e(S,w);w=w.sibling}w=eT(b,S.mode,C),w.return=S,S=w}return o(S);case xu:return P=b._init,y(S,w,P(b._payload),C)}if(fy(b))return m(S,w,b,C);if(Zp(b))return p(S,w,b,C);kb(S,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(S,w.sibling),w=i(w,b),w.return=S,S=w):(r(S,w),w=ZE(b,S.mode,C),w.return=S,S=w),o(S)):r(S,w)}return y}var tp=gU(!0),mU=gU(!1),QC=yd(null),JC=null,sm=null,tO=null;function rO(){tO=sm=JC=null}function nO(t){var e=QC.current;ur(QC),t._currentValue=e}function hM(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Em(t,e){JC=t,tO=sm=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(os=!0),t.firstContext=null)}function Co(t){var e=t._currentValue;if(tO!==t)if(t={context:t,memoizedValue:e,next:null},sm===null){if(JC===null)throw Error(ge(308));sm=t,JC.dependencies={lanes:0,firstContext:t}}else sm=sm.next=t;return e}var Nh=null;function iO(t){Nh===null?Nh=[t]:Nh.push(t)}function pU(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,iO(e)):(r.next=i.next,i.next=r),e.interleaved=r,Pc(t,n)}function Pc(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Cu=!1;function sO(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yU(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zu(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Mt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Pc(t,r)}return i=n.interleaved,i===null?(e.next=e,iO(n)):(e.next=i.next,i.next=e),n.interleaved=e,Pc(t,r)}function Wx(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zA(t,r)}}function UL(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ZC(t,e,r,n){var i=t.updateQueue;Cu=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,p=a;switch(f=e,g=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){h=m.call(g,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(g,h,f):m,f==null)break e;h=Ir({},h,f);break e;case 2:Cu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);uf|=o,t.lanes=o,t.memoizedState=h}}function YL(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ge(191,i));i.call(n)}}}var bw={},xl=yd(bw),_v=yd(bw),Rv=yd(bw);function Mh(t){if(t===bw)throw Error(ge(174));return t}function oO(t,e){switch(er(Rv,e),er(_v,t),er(xl,bw),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:YN(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=YN(e,t)}ur(xl),er(xl,e)}function rp(){ur(xl),ur(_v),ur(Rv)}function vU(t){Mh(Rv.current);var e=Mh(xl.current),r=YN(e,t.type);e!==r&&(er(_v,t),er(xl,r))}function aO(t){_v.current===t&&(ur(xl),ur(_v))}var Tr=yd(0);function e1(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var GE=[];function lO(){for(var t=0;t<GE.length;t++)GE[t]._workInProgressVersionPrimary=null;GE.length=0}var Bx=Lc.ReactCurrentDispatcher,KE=Lc.ReactCurrentBatchConfig,cf=0,Mr=null,xn=null,Fn=null,t1=!1,Hy=!1,Ev=0,Xie=0;function ti(){throw Error(ge(321))}function cO(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!pa(t[r],e[r]))return!1;return!0}function uO(t,e,r,n,i,s){if(cf=s,Mr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bx.current=t===null||t.memoizedState===null?ese:tse,t=r(n,i),Hy){s=0;do{if(Hy=!1,Ev=0,25<=s)throw Error(ge(301));s+=1,Fn=xn=null,e.updateQueue=null,Bx.current=rse,t=r(n,i)}while(Hy)}if(Bx.current=r1,e=xn!==null&&xn.next!==null,cf=0,Fn=xn=Mr=null,t1=!1,e)throw Error(ge(300));return t}function dO(){var t=Ev!==0;return Ev=0,t}function tl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?Mr.memoizedState=Fn=t:Fn=Fn.next=t,Fn}function _o(){if(xn===null){var t=Mr.alternate;t=t!==null?t.memoizedState:null}else t=xn.next;var e=Fn===null?Mr.memoizedState:Fn.next;if(e!==null)Fn=e,xn=t;else{if(t===null)throw Error(ge(310));xn=t,t={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},Fn===null?Mr.memoizedState=Fn=t:Fn=Fn.next=t}return Fn}function Tv(t,e){return typeof e=="function"?e(t):e}function qE(t){var e=_o(),r=e.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=t;var n=xn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((cf&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Mr.lanes|=d,uf|=d}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,pa(n,e.memoizedState)||(os=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Mr.lanes|=s,uf|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function XE(t){var e=_o(),r=e.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);pa(s,e.memoizedState)||(os=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function wU(){}function bU(t,e){var r=Mr,n=_o(),i=e(),s=!pa(n.memoizedState,i);if(s&&(n.memoizedState=i,os=!0),n=n.queue,hO(CU.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Fn!==null&&Fn.memoizedState.tag&1){if(r.flags|=2048,kv(9,xU.bind(null,r,n,i,e),void 0,null),Wn===null)throw Error(ge(349));cf&30||SU(r,e,i)}return i}function SU(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Mr.updateQueue,e===null?(e={lastEffect:null,stores:null},Mr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function xU(t,e,r,n){e.value=r,e.getSnapshot=n,_U(e)&&RU(t)}function CU(t,e,r){return r(function(){_U(e)&&RU(t)})}function _U(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!pa(t,r)}catch{return!0}}function RU(t){var e=Pc(t,1);e!==null&&ga(e,t,1,-1)}function GL(t){var e=tl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tv,lastRenderedState:t},e.queue=t,t=t.dispatch=Zie.bind(null,Mr,t),[e.memoizedState,t]}function kv(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Mr.updateQueue,e===null?(e={lastEffect:null,stores:null},Mr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function EU(){return _o().memoizedState}function zx(t,e,r,n){var i=tl();Mr.flags|=t,i.memoizedState=kv(1|e,r,void 0,n===void 0?null:n)}function B_(t,e,r,n){var i=_o();n=n===void 0?null:n;var s=void 0;if(xn!==null){var o=xn.memoizedState;if(s=o.destroy,n!==null&&cO(n,o.deps)){i.memoizedState=kv(e,r,s,n);return}}Mr.flags|=t,i.memoizedState=kv(1|e,r,s,n)}function KL(t,e){return zx(8390656,8,t,e)}function hO(t,e){return B_(2048,8,t,e)}function TU(t,e){return B_(4,2,t,e)}function kU(t,e){return B_(4,4,t,e)}function PU(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NU(t,e,r){return r=r!=null?r.concat([t]):null,B_(4,4,PU.bind(null,e,t),r)}function fO(){}function MU(t,e){var r=_o();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&cO(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function IU(t,e){var r=_o();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&cO(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function AU(t,e,r){return cf&21?(pa(r,e)||(r=$z(),Mr.lanes|=r,uf|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,os=!0),t.memoizedState=r)}function Qie(t,e){var r=Ut;Ut=r!==0&&4>r?r:4,t(!0);var n=KE.transition;KE.transition={};try{t(!1),e()}finally{Ut=r,KE.transition=n}}function OU(){return _o().memoizedState}function Jie(t,e,r){var n=td(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},HU(t))jU(e,r);else if(r=pU(t,e,r,n),r!==null){var i=Oi();ga(r,t,n,i),DU(r,e,n)}}function Zie(t,e,r){var n=td(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(HU(t))jU(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,pa(a,o)){var l=e.interleaved;l===null?(i.next=i,iO(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=pU(t,e,i,n),r!==null&&(i=Oi(),ga(r,t,n,i),DU(r,e,n))}}function HU(t){var e=t.alternate;return t===Mr||e!==null&&e===Mr}function jU(t,e){Hy=t1=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function DU(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zA(t,r)}}var r1={readContext:Co,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useInsertionEffect:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useSyncExternalStore:ti,useId:ti,unstable_isNewReconciler:!1},ese={readContext:Co,useCallback:function(t,e){return tl().memoizedState=[t,e===void 0?null:e],t},useContext:Co,useEffect:KL,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,zx(4194308,4,PU.bind(null,e,t),r)},useLayoutEffect:function(t,e){return zx(4194308,4,t,e)},useInsertionEffect:function(t,e){return zx(4,2,t,e)},useMemo:function(t,e){var r=tl();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=tl();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Jie.bind(null,Mr,t),[n.memoizedState,t]},useRef:function(t){var e=tl();return t={current:t},e.memoizedState=t},useState:GL,useDebugValue:fO,useDeferredValue:function(t){return tl().memoizedState=t},useTransition:function(){var t=GL(!1),e=t[0];return t=Qie.bind(null,t[1]),tl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Mr,i=tl();if(br){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=e(),Wn===null)throw Error(ge(349));cf&30||SU(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,KL(CU.bind(null,n,s,t),[t]),n.flags|=2048,kv(9,xU.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=tl(),e=Wn.identifierPrefix;if(br){var r=hc,n=dc;r=(n&~(1<<32-fa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ev++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Xie++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tse={readContext:Co,useCallback:MU,useContext:Co,useEffect:hO,useImperativeHandle:NU,useInsertionEffect:TU,useLayoutEffect:kU,useMemo:IU,useReducer:qE,useRef:EU,useState:function(){return qE(Tv)},useDebugValue:fO,useDeferredValue:function(t){var e=_o();return AU(e,xn.memoizedState,t)},useTransition:function(){var t=qE(Tv)[0],e=_o().memoizedState;return[t,e]},useMutableSource:wU,useSyncExternalStore:bU,useId:OU,unstable_isNewReconciler:!1},rse={readContext:Co,useCallback:MU,useContext:Co,useEffect:hO,useImperativeHandle:NU,useInsertionEffect:TU,useLayoutEffect:kU,useMemo:IU,useReducer:XE,useRef:EU,useState:function(){return XE(Tv)},useDebugValue:fO,useDeferredValue:function(t){var e=_o();return xn===null?e.memoizedState=t:AU(e,xn.memoizedState,t)},useTransition:function(){var t=XE(Tv)[0],e=_o().memoizedState;return[t,e]},useMutableSource:wU,useSyncExternalStore:bU,useId:OU,unstable_isNewReconciler:!1};function Qo(t,e){if(t&&t.defaultProps){e=Ir({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function fM(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ir({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var z_={isMounted:function(t){return(t=t._reactInternals)?kf(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Oi(),i=td(t),s=bc(n,i);s.payload=e,r!=null&&(s.callback=r),e=Zu(t,s,i),e!==null&&(ga(e,t,i,n),Wx(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Oi(),i=td(t),s=bc(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Zu(t,s,i),e!==null&&(ga(e,t,i,n),Wx(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Oi(),n=td(t),i=bc(r,n);i.tag=2,e!=null&&(i.callback=e),e=Zu(t,i,n),e!==null&&(ga(e,t,n,r),Wx(e,t,n))}};function qL(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!bv(r,n)||!bv(i,s):!0}function $U(t,e,r){var n=!1,i=dd,s=e.contextType;return typeof s=="object"&&s!==null?s=Co(s):(i=us(e)?af:vi.current,n=e.contextTypes,s=(n=n!=null)?Zm(t,i):dd),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=z_,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function XL(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&z_.enqueueReplaceState(e,e.state,null)}function gM(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},sO(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Co(s):(s=us(e)?af:vi.current,i.context=Zm(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fM(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&z_.enqueueReplaceState(i,i.state,null),ZC(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function np(t,e){try{var r="",n=e;do r+=Nne(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function QE(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function mM(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var nse=typeof WeakMap=="function"?WeakMap:Map;function LU(t,e,r){r=bc(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){i1||(i1=!0,RM=n),mM(t,e)},r}function FU(t,e,r){r=bc(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){mM(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){mM(t,e),typeof n!="function"&&(ed===null?ed=new Set([this]):ed.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function QL(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new nse;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=yse.bind(null,t,e,r),e.then(t,t))}function JL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZL(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=bc(-1,1),e.tag=2,Zu(r,e,1))),r.lanes|=1),t)}var ise=Lc.ReactCurrentOwner,os=!1;function Ti(t,e,r,n){e.child=t===null?mU(e,null,r,n):tp(e,t.child,r,n)}function e4(t,e,r,n,i){r=r.render;var s=e.ref;return Em(e,i),n=uO(t,e,r,n,s,i),r=dO(),t!==null&&!os?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nc(t,e,i)):(br&&r&&JA(e),e.flags|=1,Ti(t,e,n,i),e.child)}function t4(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!SO(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,VU(t,e,s,n,i)):(t=Kx(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:bv,r(o,n)&&t.ref===e.ref)return Nc(t,e,i)}return e.flags|=1,t=rd(s,n),t.ref=e.ref,t.return=e,e.child=t}function VU(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(bv(s,n)&&t.ref===e.ref)if(os=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(os=!0);else return e.lanes=t.lanes,Nc(t,e,i)}return pM(t,e,r,n,i)}function WU(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},er(am,Is),Is|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,er(am,Is),Is|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,er(am,Is),Is|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,er(am,Is),Is|=n;return Ti(t,e,i,r),e.child}function BU(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function pM(t,e,r,n,i){var s=us(r)?af:vi.current;return s=Zm(e,s),Em(e,i),r=uO(t,e,r,n,s,i),n=dO(),t!==null&&!os?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nc(t,e,i)):(br&&n&&JA(e),e.flags|=1,Ti(t,e,r,i),e.child)}function r4(t,e,r,n,i){if(us(r)){var s=!0;KC(e)}else s=!1;if(Em(e,i),e.stateNode===null)Ux(t,e),$U(e,r,n),gM(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Co(c):(c=us(r)?af:vi.current,c=Zm(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&XL(e,o,n,c),Cu=!1;var f=e.memoizedState;o.state=f,ZC(e,n,o,i),l=e.memoizedState,a!==n||f!==l||cs.current||Cu?(typeof d=="function"&&(fM(e,r,d,n),l=e.memoizedState),(a=Cu||qL(e,r,a,n,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,yU(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Qo(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Co(l):(l=us(r)?af:vi.current,l=Zm(e,l));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&XL(e,o,n,l),Cu=!1,f=e.memoizedState,o.state=f,ZC(e,n,o,i);var m=e.memoizedState;a!==h||f!==m||cs.current||Cu?(typeof g=="function"&&(fM(e,r,g,n),m=e.memoizedState),(c=Cu||qL(e,r,c,n,f,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return yM(t,e,r,n,s,i)}function yM(t,e,r,n,i,s){BU(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&VL(e,r,!1),Nc(t,e,s);n=e.stateNode,ise.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=tp(e,t.child,null,s),e.child=tp(e,null,a,s)):Ti(t,e,a,s),e.memoizedState=n.state,i&&VL(e,r,!0),e.child}function zU(t){var e=t.stateNode;e.pendingContext?FL(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FL(t,e.context,!1),oO(t,e.containerInfo)}function n4(t,e,r,n,i){return ep(),eO(i),e.flags|=256,Ti(t,e,r,n),e.child}var vM={dehydrated:null,treeContext:null,retryLane:0};function wM(t){return{baseLanes:t,cachePool:null,transitions:null}}function UU(t,e,r){var n=e.pendingProps,i=Tr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),er(Tr,i&1),t===null)return dM(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=G_(o,n,0,null),t=Zh(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=wM(r),e.memoizedState=vM,t):gO(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sse(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=rd(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=rd(a,s):(s=Zh(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?wM(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=vM,n}return s=t.child,t=s.sibling,n=rd(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function gO(t,e){return e=G_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pb(t,e,r,n){return n!==null&&eO(n),tp(e,t.child,null,r),t=gO(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sse(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=QE(Error(ge(422))),Pb(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=G_({mode:"visible",children:n.children},i,0,null),s=Zh(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&tp(e,t.child,null,o),e.child.memoizedState=wM(o),e.memoizedState=vM,s);if(!(e.mode&1))return Pb(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(ge(419)),n=QE(s,n,void 0),Pb(t,e,o,n)}if(a=(o&t.childLanes)!==0,os||a){if(n=Wn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pc(t,i),ga(n,t,i,-1))}return bO(),n=QE(Error(ge(421))),Pb(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vse.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,js=Ju(i.nextSibling),Ls=e,br=!0,la=null,t!==null&&(ho[fo++]=dc,ho[fo++]=hc,ho[fo++]=lf,dc=t.id,hc=t.overflow,lf=e),e=gO(e,n.children),e.flags|=4096,e)}function i4(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),hM(t.return,e,r)}function JE(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function YU(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Ti(t,e,n.children,r),n=Tr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i4(t,r,e);else if(t.tag===19)i4(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(er(Tr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&e1(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),JE(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&e1(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}JE(e,!0,r,null,s);break;case"together":JE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ux(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nc(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),uf|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ge(153));if(e.child!==null){for(t=e.child,r=rd(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=rd(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ose(t,e,r){switch(e.tag){case 3:zU(e),ep();break;case 5:vU(e);break;case 1:us(e.type)&&KC(e);break;case 4:oO(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;er(QC,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(er(Tr,Tr.current&1),e.flags|=128,null):r&e.child.childLanes?UU(t,e,r):(er(Tr,Tr.current&1),t=Nc(t,e,r),t!==null?t.sibling:null);er(Tr,Tr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return YU(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),er(Tr,Tr.current),n)break;return null;case 22:case 23:return e.lanes=0,WU(t,e,r)}return Nc(t,e,r)}var GU,bM,KU,qU;GU=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bM=function(){};KU=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Mh(xl.current);var s=null;switch(r){case"input":i=WN(t,i),n=WN(t,n),s=[];break;case"select":i=Ir({},i,{value:void 0}),n=Ir({},n,{value:void 0}),s=[];break;case"textarea":i=UN(t,i),n=UN(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=YC)}GN(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fv.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&or("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};qU=function(t,e,r,n){r!==n&&(e.flags|=4)};function s0(t,e){if(!br)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ri(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ase(t,e,r){var n=e.pendingProps;switch(ZA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(e),null;case 1:return us(e.type)&&GC(),ri(e),null;case 3:return n=e.stateNode,rp(),ur(cs),ur(vi),lO(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Tb(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,la!==null&&(kM(la),la=null))),bM(t,e),ri(e),null;case 5:aO(e);var i=Mh(Rv.current);if(r=e.type,t!==null&&e.stateNode!=null)KU(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ge(166));return ri(e),null}if(t=Mh(xl.current),Tb(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[gl]=e,n[Cv]=s,t=(e.mode&1)!==0,r){case"dialog":or("cancel",n),or("close",n);break;case"iframe":case"object":case"embed":or("load",n);break;case"video":case"audio":for(i=0;i<my.length;i++)or(my[i],n);break;case"source":or("error",n);break;case"img":case"image":case"link":or("error",n),or("load",n);break;case"details":or("toggle",n);break;case"input":fL(n,s),or("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},or("invalid",n);break;case"textarea":mL(n,s),or("invalid",n)}GN(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Eb(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Eb(n.textContent,a,t),i=["children",""+a]):fv.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&or("scroll",n)}switch(r){case"input":vb(n),gL(n,s,!0);break;case"textarea":vb(n),pL(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=YC)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cz(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[gl]=e,t[Cv]=n,GU(t,e,!1,!1),e.stateNode=t;e:{switch(o=KN(r,n),r){case"dialog":or("cancel",t),or("close",t),i=n;break;case"iframe":case"object":case"embed":or("load",t),i=n;break;case"video":case"audio":for(i=0;i<my.length;i++)or(my[i],t);i=n;break;case"source":or("error",t),i=n;break;case"img":case"image":case"link":or("error",t),or("load",t),i=n;break;case"details":or("toggle",t),i=n;break;case"input":fL(t,n),i=WN(t,n),or("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ir({},n,{value:void 0}),or("invalid",t);break;case"textarea":mL(t,n),i=UN(t,n),or("invalid",t);break;default:i=n}GN(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ez(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_z(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&gv(t,l):typeof l=="number"&&gv(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fv.hasOwnProperty(s)?l!=null&&s==="onScroll"&&or("scroll",t):l!=null&&$A(t,s,l,o))}switch(r){case"input":vb(t),gL(t,n,!1);break;case"textarea":vb(t),pL(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ud(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?xm(t,!!n.multiple,s,!1):n.defaultValue!=null&&xm(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=YC)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ri(e),null;case 6:if(t&&e.stateNode!=null)qU(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ge(166));if(r=Mh(Rv.current),Mh(xl.current),Tb(e)){if(n=e.stateNode,r=e.memoizedProps,n[gl]=e,(s=n.nodeValue!==r)&&(t=Ls,t!==null))switch(t.tag){case 3:Eb(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Eb(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[gl]=e,e.stateNode=n}return ri(e),null;case 13:if(ur(Tr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(br&&js!==null&&e.mode&1&&!(e.flags&128))fU(),ep(),e.flags|=98560,s=!1;else if(s=Tb(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ge(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ge(317));s[gl]=e}else ep(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ri(e),s=!1}else la!==null&&(kM(la),la=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Tr.current&1?_n===0&&(_n=3):bO())),e.updateQueue!==null&&(e.flags|=4),ri(e),null);case 4:return rp(),bM(t,e),t===null&&Sv(e.stateNode.containerInfo),ri(e),null;case 10:return nO(e.type._context),ri(e),null;case 17:return us(e.type)&&GC(),ri(e),null;case 19:if(ur(Tr),s=e.memoizedState,s===null)return ri(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)s0(s,!1);else{if(_n!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=e1(t),o!==null){for(e.flags|=128,s0(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return er(Tr,Tr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Zr()>ip&&(e.flags|=128,n=!0,s0(s,!1),e.lanes=4194304)}else{if(!n)if(t=e1(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),s0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!br)return ri(e),null}else 2*Zr()-s.renderingStartTime>ip&&r!==1073741824&&(e.flags|=128,n=!0,s0(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Zr(),e.sibling=null,r=Tr.current,er(Tr,n?r&1|2:r&1),e):(ri(e),null);case 22:case 23:return wO(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Is&1073741824&&(ri(e),e.subtreeFlags&6&&(e.flags|=8192)):ri(e),null;case 24:return null;case 25:return null}throw Error(ge(156,e.tag))}function lse(t,e){switch(ZA(e),e.tag){case 1:return us(e.type)&&GC(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rp(),ur(cs),ur(vi),lO(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return aO(e),null;case 13:if(ur(Tr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ge(340));ep()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ur(Tr),null;case 4:return rp(),null;case 10:return nO(e.type._context),null;case 22:case 23:return wO(),null;case 24:return null;default:return null}}var Nb=!1,hi=!1,cse=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function om(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){zr(t,e,n)}else r.current=null}function SM(t,e,r){try{r()}catch(n){zr(t,e,n)}}var s4=!1;function use(t,e){if(iM=BC,t=eU(),QA(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===r&&++c===i&&(a=o),f===s&&++d===n&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(sM={focusedElem:t,selectionRange:r},BC=!1,Pe=e;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){e=Pe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,y=m.memoizedState,S=e.stateNode,w=S.getSnapshotBeforeUpdate(e.elementType===e.type?p:Qo(e.type,p),y);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(C){zr(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}return m=s4,s4=!1,m}function jy(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&SM(e,r,s)}i=i.next}while(i!==n)}}function U_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function xM(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function XU(t){var e=t.alternate;e!==null&&(t.alternate=null,XU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gl],delete e[Cv],delete e[lM],delete e[Yie],delete e[Gie])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QU(t){return t.tag===5||t.tag===3||t.tag===4}function o4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function CM(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=YC));else if(n!==4&&(t=t.child,t!==null))for(CM(t,e,r),t=t.sibling;t!==null;)CM(t,e,r),t=t.sibling}function _M(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(_M(t,e,r),t=t.sibling;t!==null;)_M(t,e,r),t=t.sibling}var Yn=null,ia=!1;function qc(t,e,r){for(r=r.child;r!==null;)JU(t,e,r),r=r.sibling}function JU(t,e,r){if(Sl&&typeof Sl.onCommitFiberUnmount=="function")try{Sl.onCommitFiberUnmount(D_,r)}catch{}switch(r.tag){case 5:hi||om(r,e);case 6:var n=Yn,i=ia;Yn=null,qc(t,e,r),Yn=n,ia=i,Yn!==null&&(ia?(t=Yn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Yn.removeChild(r.stateNode));break;case 18:Yn!==null&&(ia?(t=Yn,r=r.stateNode,t.nodeType===8?UE(t.parentNode,r):t.nodeType===1&&UE(t,r),vv(t)):UE(Yn,r.stateNode));break;case 4:n=Yn,i=ia,Yn=r.stateNode.containerInfo,ia=!0,qc(t,e,r),Yn=n,ia=i;break;case 0:case 11:case 14:case 15:if(!hi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&SM(r,e,o),i=i.next}while(i!==n)}qc(t,e,r);break;case 1:if(!hi&&(om(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){zr(r,e,a)}qc(t,e,r);break;case 21:qc(t,e,r);break;case 22:r.mode&1?(hi=(n=hi)||r.memoizedState!==null,qc(t,e,r),hi=n):qc(t,e,r);break;default:qc(t,e,r)}}function a4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new cse),e.forEach(function(n){var i=wse.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ho(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Yn=a.stateNode,ia=!1;break e;case 3:Yn=a.stateNode.containerInfo,ia=!0;break e;case 4:Yn=a.stateNode.containerInfo,ia=!0;break e}a=a.return}if(Yn===null)throw Error(ge(160));JU(s,o,i),Yn=null,ia=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){zr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ZU(e,t),e=e.sibling}function ZU(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ho(e,t),Ma(t),n&4){try{jy(3,t,t.return),U_(3,t)}catch(p){zr(t,t.return,p)}try{jy(5,t,t.return)}catch(p){zr(t,t.return,p)}}break;case 1:Ho(e,t),Ma(t),n&512&&r!==null&&om(r,r.return);break;case 5:if(Ho(e,t),Ma(t),n&512&&r!==null&&om(r,r.return),t.flags&32){var i=t.stateNode;try{gv(i,"")}catch(p){zr(t,t.return,p)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Sz(i,s),KN(a,o);var c=KN(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Ez(i,h):d==="dangerouslySetInnerHTML"?_z(i,h):d==="children"?gv(i,h):$A(i,d,h,c)}switch(a){case"input":BN(i,s);break;case"textarea":xz(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?xm(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?xm(i,!!s.multiple,s.defaultValue,!0):xm(i,!!s.multiple,s.multiple?[]:"",!1))}i[Cv]=s}catch(p){zr(t,t.return,p)}}break;case 6:if(Ho(e,t),Ma(t),n&4){if(t.stateNode===null)throw Error(ge(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){zr(t,t.return,p)}}break;case 3:if(Ho(e,t),Ma(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vv(e.containerInfo)}catch(p){zr(t,t.return,p)}break;case 4:Ho(e,t),Ma(t);break;case 13:Ho(e,t),Ma(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(yO=Zr())),n&4&&a4(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(hi=(c=hi)||d,Ho(e,t),hi=c):Ho(e,t),Ma(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Pe=t,d=t.child;d!==null;){for(h=Pe=d;Pe!==null;){switch(f=Pe,g=f.child,f.tag){case 0:case 11:case 14:case 15:jy(4,f,f.return);break;case 1:om(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){zr(n,r,p)}}break;case 5:om(f,f.return);break;case 22:if(f.memoizedState!==null){c4(h);continue}}g!==null?(g.return=f,Pe=g):c4(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Rz("display",o))}catch(p){zr(t,t.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(p){zr(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ho(e,t),Ma(t),n&4&&a4(t);break;case 21:break;default:Ho(e,t),Ma(t)}}function Ma(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(QU(r)){var n=r;break e}r=r.return}throw Error(ge(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(gv(i,""),n.flags&=-33);var s=o4(t);_M(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=o4(t);CM(t,a,o);break;default:throw Error(ge(161))}}catch(l){zr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dse(t,e,r){Pe=t,e8(t)}function e8(t,e,r){for(var n=(t.mode&1)!==0;Pe!==null;){var i=Pe,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Nb;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||hi;a=Nb;var c=hi;if(Nb=o,(hi=l)&&!c)for(Pe=i;Pe!==null;)o=Pe,l=o.child,o.tag===22&&o.memoizedState!==null?u4(i):l!==null?(l.return=o,Pe=l):u4(i);for(;s!==null;)Pe=s,e8(s),s=s.sibling;Pe=i,Nb=a,hi=c}l4(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Pe=s):l4(t)}}function l4(t){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hi||U_(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!hi)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Qo(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&YL(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}YL(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&vv(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}hi||e.flags&512&&xM(e)}catch(f){zr(e,e.return,f)}}if(e===t){Pe=null;break}if(r=e.sibling,r!==null){r.return=e.return,Pe=r;break}Pe=e.return}}function c4(t){for(;Pe!==null;){var e=Pe;if(e===t){Pe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Pe=r;break}Pe=e.return}}function u4(t){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{U_(4,e)}catch(l){zr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){zr(e,i,l)}}var s=e.return;try{xM(e)}catch(l){zr(e,s,l)}break;case 5:var o=e.return;try{xM(e)}catch(l){zr(e,o,l)}}}catch(l){zr(e,e.return,l)}if(e===t){Pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Pe=a;break}Pe=e.return}}var hse=Math.ceil,n1=Lc.ReactCurrentDispatcher,mO=Lc.ReactCurrentOwner,bo=Lc.ReactCurrentBatchConfig,Mt=0,Wn=null,hn=null,qn=0,Is=0,am=yd(0),_n=0,Pv=null,uf=0,Y_=0,pO=0,Dy=null,ss=null,yO=0,ip=1/0,rc=null,i1=!1,RM=null,ed=null,Mb=!1,Vu=null,s1=0,$y=0,EM=null,Yx=-1,Gx=0;function Oi(){return Mt&6?Zr():Yx!==-1?Yx:Yx=Zr()}function td(t){return t.mode&1?Mt&2&&qn!==0?qn&-qn:qie.transition!==null?(Gx===0&&(Gx=$z()),Gx):(t=Ut,t!==0||(t=window.event,t=t===void 0?16:Uz(t.type)),t):1}function ga(t,e,r,n){if(50<$y)throw $y=0,EM=null,Error(ge(185));yw(t,r,n),(!(Mt&2)||t!==Wn)&&(t===Wn&&(!(Mt&2)&&(Y_|=r),_n===4&&Pu(t,qn)),ds(t,n),r===1&&Mt===0&&!(e.mode&1)&&(ip=Zr()+500,W_&&vd()))}function ds(t,e){var r=t.callbackNode;qne(t,e);var n=WC(t,t===Wn?qn:0);if(n===0)r!==null&&wL(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&wL(r),e===1)t.tag===0?Kie(d4.bind(null,t)):uU(d4.bind(null,t)),zie(function(){!(Mt&6)&&vd()}),r=null;else{switch(Lz(n)){case 1:r=BA;break;case 4:r=jz;break;case 16:r=VC;break;case 536870912:r=Dz;break;default:r=VC}r=l8(r,t8.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function t8(t,e){if(Yx=-1,Gx=0,Mt&6)throw Error(ge(327));var r=t.callbackNode;if(Tm()&&t.callbackNode!==r)return null;var n=WC(t,t===Wn?qn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=o1(t,n);else{e=n;var i=Mt;Mt|=2;var s=n8();(Wn!==t||qn!==e)&&(rc=null,ip=Zr()+500,Jh(t,e));do try{mse();break}catch(a){r8(t,a)}while(!0);rO(),n1.current=s,Mt=i,hn!==null?e=0:(Wn=null,qn=0,e=_n)}if(e!==0){if(e===2&&(i=ZN(t),i!==0&&(n=i,e=TM(t,i))),e===1)throw r=Pv,Jh(t,0),Pu(t,n),ds(t,Zr()),r;if(e===6)Pu(t,n);else{if(i=t.current.alternate,!(n&30)&&!fse(i)&&(e=o1(t,n),e===2&&(s=ZN(t),s!==0&&(n=s,e=TM(t,s))),e===1))throw r=Pv,Jh(t,0),Pu(t,n),ds(t,Zr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ge(345));case 2:mh(t,ss,rc);break;case 3:if(Pu(t,n),(n&130023424)===n&&(e=yO+500-Zr(),10<e)){if(WC(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Oi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=aM(mh.bind(null,t,ss,rc),e);break}mh(t,ss,rc);break;case 4:if(Pu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-fa(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Zr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hse(n/1960))-n,10<n){t.timeoutHandle=aM(mh.bind(null,t,ss,rc),n);break}mh(t,ss,rc);break;case 5:mh(t,ss,rc);break;default:throw Error(ge(329))}}}return ds(t,Zr()),t.callbackNode===r?t8.bind(null,t):null}function TM(t,e){var r=Dy;return t.current.memoizedState.isDehydrated&&(Jh(t,e).flags|=256),t=o1(t,e),t!==2&&(e=ss,ss=r,e!==null&&kM(e)),t}function kM(t){ss===null?ss=t:ss.push.apply(ss,t)}function fse(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!pa(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pu(t,e){for(e&=~pO,e&=~Y_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-fa(e),n=1<<r;t[r]=-1,e&=~n}}function d4(t){if(Mt&6)throw Error(ge(327));Tm();var e=WC(t,0);if(!(e&1))return ds(t,Zr()),null;var r=o1(t,e);if(t.tag!==0&&r===2){var n=ZN(t);n!==0&&(e=n,r=TM(t,n))}if(r===1)throw r=Pv,Jh(t,0),Pu(t,e),ds(t,Zr()),r;if(r===6)throw Error(ge(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mh(t,ss,rc),ds(t,Zr()),null}function vO(t,e){var r=Mt;Mt|=1;try{return t(e)}finally{Mt=r,Mt===0&&(ip=Zr()+500,W_&&vd())}}function df(t){Vu!==null&&Vu.tag===0&&!(Mt&6)&&Tm();var e=Mt;Mt|=1;var r=bo.transition,n=Ut;try{if(bo.transition=null,Ut=1,t)return t()}finally{Ut=n,bo.transition=r,Mt=e,!(Mt&6)&&vd()}}function wO(){Is=am.current,ur(am)}function Jh(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Bie(r)),hn!==null)for(r=hn.return;r!==null;){var n=r;switch(ZA(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&GC();break;case 3:rp(),ur(cs),ur(vi),lO();break;case 5:aO(n);break;case 4:rp();break;case 13:ur(Tr);break;case 19:ur(Tr);break;case 10:nO(n.type._context);break;case 22:case 23:wO()}r=r.return}if(Wn=t,hn=t=rd(t.current,null),qn=Is=e,_n=0,Pv=null,pO=Y_=uf=0,ss=Dy=null,Nh!==null){for(e=0;e<Nh.length;e++)if(r=Nh[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Nh=null}return t}function r8(t,e){do{var r=hn;try{if(rO(),Bx.current=r1,t1){for(var n=Mr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}t1=!1}if(cf=0,Fn=xn=Mr=null,Hy=!1,Ev=0,mO.current=null,r===null||r.return===null){_n=1,Pv=e,hn=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=qn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=JL(o);if(g!==null){g.flags&=-257,ZL(g,o,a,s,e),g.mode&1&&QL(s,c,e),e=g,l=c;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){QL(s,c,e),bO();break e}l=Error(ge(426))}}else if(br&&a.mode&1){var y=JL(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ZL(y,o,a,s,e),eO(np(l,a));break e}}s=l=np(l,a),_n!==4&&(_n=2),Dy===null?Dy=[s]:Dy.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=LU(s,l,e);UL(s,S);break e;case 1:a=l;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ed===null||!ed.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=FU(s,a,e);UL(s,C);break e}}s=s.return}while(s!==null)}s8(r)}catch(N){e=N,hn===r&&r!==null&&(hn=r=r.return);continue}break}while(!0)}function n8(){var t=n1.current;return n1.current=r1,t===null?r1:t}function bO(){(_n===0||_n===3||_n===2)&&(_n=4),Wn===null||!(uf&268435455)&&!(Y_&268435455)||Pu(Wn,qn)}function o1(t,e){var r=Mt;Mt|=2;var n=n8();(Wn!==t||qn!==e)&&(rc=null,Jh(t,e));do try{gse();break}catch(i){r8(t,i)}while(!0);if(rO(),Mt=r,n1.current=n,hn!==null)throw Error(ge(261));return Wn=null,qn=0,_n}function gse(){for(;hn!==null;)i8(hn)}function mse(){for(;hn!==null&&!Fne();)i8(hn)}function i8(t){var e=a8(t.alternate,t,Is);t.memoizedProps=t.pendingProps,e===null?s8(t):hn=e,mO.current=null}function s8(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=lse(r,e),r!==null){r.flags&=32767,hn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_n=6,hn=null;return}}else if(r=ase(r,e,Is),r!==null){hn=r;return}if(e=e.sibling,e!==null){hn=e;return}hn=e=t}while(e!==null);_n===0&&(_n=5)}function mh(t,e,r){var n=Ut,i=bo.transition;try{bo.transition=null,Ut=1,pse(t,e,r,n)}finally{bo.transition=i,Ut=n}return null}function pse(t,e,r,n){do Tm();while(Vu!==null);if(Mt&6)throw Error(ge(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ge(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(Xne(t,s),t===Wn&&(hn=Wn=null,qn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Mb||(Mb=!0,l8(VC,function(){return Tm(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=bo.transition,bo.transition=null;var o=Ut;Ut=1;var a=Mt;Mt|=4,mO.current=null,use(t,r),ZU(r,t),jie(sM),BC=!!iM,sM=iM=null,t.current=r,dse(r),Vne(),Mt=a,Ut=o,bo.transition=s}else t.current=r;if(Mb&&(Mb=!1,Vu=t,s1=i),s=t.pendingLanes,s===0&&(ed=null),zne(r.stateNode),ds(t,Zr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(i1)throw i1=!1,t=RM,RM=null,t;return s1&1&&t.tag!==0&&Tm(),s=t.pendingLanes,s&1?t===EM?$y++:($y=0,EM=t):$y=0,vd(),null}function Tm(){if(Vu!==null){var t=Lz(s1),e=bo.transition,r=Ut;try{if(bo.transition=null,Ut=16>t?16:t,Vu===null)var n=!1;else{if(t=Vu,Vu=null,s1=0,Mt&6)throw Error(ge(331));var i=Mt;for(Mt|=4,Pe=t.current;Pe!==null;){var s=Pe,o=s.child;if(Pe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Pe=c;Pe!==null;){var d=Pe;switch(d.tag){case 0:case 11:case 15:jy(8,d,s)}var h=d.child;if(h!==null)h.return=d,Pe=h;else for(;Pe!==null;){d=Pe;var f=d.sibling,g=d.return;if(XU(d),d===c){Pe=null;break}if(f!==null){f.return=g,Pe=f;break}Pe=g}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}Pe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Pe=o;else e:for(;Pe!==null;){if(s=Pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jy(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,Pe=S;break e}Pe=s.return}}var w=t.current;for(Pe=w;Pe!==null;){o=Pe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Pe=b;else e:for(o=w;Pe!==null;){if(a=Pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:U_(9,a)}}catch(N){zr(a,a.return,N)}if(a===o){Pe=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Pe=C;break e}Pe=a.return}}if(Mt=i,vd(),Sl&&typeof Sl.onPostCommitFiberRoot=="function")try{Sl.onPostCommitFiberRoot(D_,t)}catch{}n=!0}return n}finally{Ut=r,bo.transition=e}}return!1}function h4(t,e,r){e=np(r,e),e=LU(t,e,1),t=Zu(t,e,1),e=Oi(),t!==null&&(yw(t,1,e),ds(t,e))}function zr(t,e,r){if(t.tag===3)h4(t,t,r);else for(;e!==null;){if(e.tag===3){h4(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ed===null||!ed.has(n))){t=np(r,t),t=FU(e,t,1),e=Zu(e,t,1),t=Oi(),e!==null&&(yw(e,1,t),ds(e,t));break}}e=e.return}}function yse(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Oi(),t.pingedLanes|=t.suspendedLanes&r,Wn===t&&(qn&r)===r&&(_n===4||_n===3&&(qn&130023424)===qn&&500>Zr()-yO?Jh(t,0):pO|=r),ds(t,e)}function o8(t,e){e===0&&(t.mode&1?(e=Sb,Sb<<=1,!(Sb&130023424)&&(Sb=4194304)):e=1);var r=Oi();t=Pc(t,e),t!==null&&(yw(t,e,r),ds(t,r))}function vse(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),o8(t,r)}function wse(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ge(314))}n!==null&&n.delete(e),o8(t,r)}var a8;a8=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||cs.current)os=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return os=!1,ose(t,e,r);os=!!(t.flags&131072)}else os=!1,br&&e.flags&1048576&&dU(e,XC,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ux(t,e),t=e.pendingProps;var i=Zm(e,vi.current);Em(e,r),i=uO(null,e,n,t,i,r);var s=dO();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,us(n)?(s=!0,KC(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sO(e),i.updater=z_,e.stateNode=i,i._reactInternals=e,gM(e,n,t,r),e=yM(null,e,n,!0,s,r)):(e.tag=0,br&&s&&JA(e),Ti(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ux(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Sse(n),t=Qo(n,t),i){case 0:e=pM(null,e,n,t,r);break e;case 1:e=r4(null,e,n,t,r);break e;case 11:e=e4(null,e,n,t,r);break e;case 14:e=t4(null,e,n,Qo(n.type,t),r);break e}throw Error(ge(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qo(n,i),pM(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qo(n,i),r4(t,e,n,i,r);case 3:e:{if(zU(e),t===null)throw Error(ge(387));n=e.pendingProps,s=e.memoizedState,i=s.element,yU(t,e),ZC(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=np(Error(ge(423)),e),e=n4(t,e,n,r,i);break e}else if(n!==i){i=np(Error(ge(424)),e),e=n4(t,e,n,r,i);break e}else for(js=Ju(e.stateNode.containerInfo.firstChild),Ls=e,br=!0,la=null,r=mU(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ep(),n===i){e=Nc(t,e,r);break e}Ti(t,e,n,r)}e=e.child}return e;case 5:return vU(e),t===null&&dM(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,oM(n,i)?o=null:s!==null&&oM(n,s)&&(e.flags|=32),BU(t,e),Ti(t,e,o,r),e.child;case 6:return t===null&&dM(e),null;case 13:return UU(t,e,r);case 4:return oO(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=tp(e,null,n,r):Ti(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qo(n,i),e4(t,e,n,i,r);case 7:return Ti(t,e,e.pendingProps,r),e.child;case 8:return Ti(t,e,e.pendingProps.children,r),e.child;case 12:return Ti(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,er(QC,n._currentValue),n._currentValue=o,s!==null)if(pa(s.value,o)){if(s.children===i.children&&!cs.current){e=Nc(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=bc(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),hM(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ge(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),hM(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ti(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Em(e,r),i=Co(i),n=n(i),e.flags|=1,Ti(t,e,n,r),e.child;case 14:return n=e.type,i=Qo(n,e.pendingProps),i=Qo(n.type,i),t4(t,e,n,i,r);case 15:return VU(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qo(n,i),Ux(t,e),e.tag=1,us(n)?(t=!0,KC(e)):t=!1,Em(e,r),$U(e,n,i),gM(e,n,i,r),yM(null,e,n,!0,t,r);case 19:return YU(t,e,r);case 22:return WU(t,e,r)}throw Error(ge(156,e.tag))};function l8(t,e){return Hz(t,e)}function bse(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vo(t,e,r,n){return new bse(t,e,r,n)}function SO(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sse(t){if(typeof t=="function")return SO(t)?1:0;if(t!=null){if(t=t.$$typeof,t===FA)return 11;if(t===VA)return 14}return 2}function rd(t,e){var r=t.alternate;return r===null?(r=vo(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Kx(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")SO(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qg:return Zh(r.children,i,s,e);case LA:o=8,i|=8;break;case $N:return t=vo(12,r,e,i|2),t.elementType=$N,t.lanes=s,t;case LN:return t=vo(13,r,e,i),t.elementType=LN,t.lanes=s,t;case FN:return t=vo(19,r,e,i),t.elementType=FN,t.lanes=s,t;case vz:return G_(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pz:o=10;break e;case yz:o=9;break e;case FA:o=11;break e;case VA:o=14;break e;case xu:o=16,n=null;break e}throw Error(ge(130,t==null?t:typeof t,""))}return e=vo(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Zh(t,e,r,n){return t=vo(7,t,n,e),t.lanes=r,t}function G_(t,e,r,n){return t=vo(22,t,n,e),t.elementType=vz,t.lanes=r,t.stateNode={isHidden:!1},t}function ZE(t,e,r){return t=vo(6,t,null,e),t.lanes=r,t}function eT(t,e,r){return e=vo(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xse(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=OE(0),this.expirationTimes=OE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=OE(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xO(t,e,r,n,i,s,o,a,l){return t=new xse(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vo(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sO(s),t}function Cse(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xg,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function c8(t){if(!t)return dd;t=t._reactInternals;e:{if(kf(t)!==t||t.tag!==1)throw Error(ge(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(us(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ge(171))}if(t.tag===1){var r=t.type;if(us(r))return cU(t,r,e)}return e}function u8(t,e,r,n,i,s,o,a,l){return t=xO(r,n,!0,t,i,s,o,a,l),t.context=c8(null),r=t.current,n=Oi(),i=td(r),s=bc(n,i),s.callback=e??null,Zu(r,s,i),t.current.lanes=i,yw(t,i,n),ds(t,n),t}function K_(t,e,r,n){var i=e.current,s=Oi(),o=td(i);return r=c8(r),e.context===null?e.context=r:e.pendingContext=r,e=bc(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Zu(i,e,o),t!==null&&(ga(t,i,o,s),Wx(t,i,o)),o}function a1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function f4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function CO(t,e){f4(t,e),(t=t.alternate)&&f4(t,e)}function _se(){return null}var d8=typeof reportError=="function"?reportError:function(t){console.error(t)};function _O(t){this._internalRoot=t}q_.prototype.render=_O.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ge(409));K_(t,e,null,null)};q_.prototype.unmount=_O.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;df(function(){K_(null,t,null,null)}),e[kc]=null}};function q_(t){this._internalRoot=t}q_.prototype.unstable_scheduleHydration=function(t){if(t){var e=Wz();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ku.length&&e!==0&&e<ku[r].priority;r++);ku.splice(r,0,t),r===0&&zz(t)}};function RO(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function X_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g4(){}function Rse(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=a1(o);s.call(c)}}var o=u8(e,n,t,0,null,!1,!1,"",g4);return t._reactRootContainer=o,t[kc]=o.current,Sv(t.nodeType===8?t.parentNode:t),df(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=a1(l);a.call(c)}}var l=xO(t,0,!1,null,null,!1,!1,"",g4);return t._reactRootContainer=l,t[kc]=l.current,Sv(t.nodeType===8?t.parentNode:t),df(function(){K_(e,l,r,n)}),l}function Q_(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=a1(o);a.call(l)}}K_(e,o,t,i)}else o=Rse(r,e,t,i,n);return a1(o)}Fz=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=gy(e.pendingLanes);r!==0&&(zA(e,r|1),ds(e,Zr()),!(Mt&6)&&(ip=Zr()+500,vd()))}break;case 13:df(function(){var n=Pc(t,1);if(n!==null){var i=Oi();ga(n,t,1,i)}}),CO(t,1)}};UA=function(t){if(t.tag===13){var e=Pc(t,134217728);if(e!==null){var r=Oi();ga(e,t,134217728,r)}CO(t,134217728)}};Vz=function(t){if(t.tag===13){var e=td(t),r=Pc(t,e);if(r!==null){var n=Oi();ga(r,t,e,n)}CO(t,e)}};Wz=function(){return Ut};Bz=function(t,e){var r=Ut;try{return Ut=t,e()}finally{Ut=r}};XN=function(t,e,r){switch(e){case"input":if(BN(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=V_(n);if(!i)throw Error(ge(90));bz(n),BN(n,i)}}}break;case"textarea":xz(t,r);break;case"select":e=r.value,e!=null&&xm(t,!!r.multiple,e,!1)}};Pz=vO;Nz=df;var Ese={usingClientEntryPoint:!1,Events:[ww,tm,V_,Tz,kz,vO]},o0={findFiberByHostInstance:Ph,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tse={bundleType:o0.bundleType,version:o0.version,rendererPackageName:o0.rendererPackageName,rendererConfig:o0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Az(t),t===null?null:t.stateNode},findFiberByHostInstance:o0.findFiberByHostInstance||_se,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ib=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ib.isDisabled&&Ib.supportsFiber)try{D_=Ib.inject(Tse),Sl=Ib}catch{}}Ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ese;Ws.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RO(e))throw Error(ge(200));return Cse(t,e,null,r)};Ws.createRoot=function(t,e){if(!RO(t))throw Error(ge(299));var r=!1,n="",i=d8;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=xO(t,1,!1,null,null,r,!1,n,i),t[kc]=e.current,Sv(t.nodeType===8?t.parentNode:t),new _O(e)};Ws.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ge(188)):(t=Object.keys(t).join(","),Error(ge(268,t)));return t=Az(e),t=t===null?null:t.stateNode,t};Ws.flushSync=function(t){return df(t)};Ws.hydrate=function(t,e,r){if(!X_(e))throw Error(ge(200));return Q_(null,t,e,!0,r)};Ws.hydrateRoot=function(t,e,r){if(!RO(t))throw Error(ge(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=d8;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=u8(e,null,t,1,r??null,i,!1,s,o),t[kc]=e.current,Sv(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new q_(e)};Ws.render=function(t,e,r){if(!X_(e))throw Error(ge(200));return Q_(null,t,e,!1,r)};Ws.unmountComponentAtNode=function(t){if(!X_(t))throw Error(ge(40));return t._reactRootContainer?(df(function(){Q_(null,null,t,!1,function(){t._reactRootContainer=null,t[kc]=null})}),!0):!1};Ws.unstable_batchedUpdates=vO;Ws.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!X_(r))throw Error(ge(200));if(t==null||t._reactInternals===void 0)throw Error(ge(38));return Q_(t,e,r,!1,n)};Ws.version="18.3.1-next-f1338f8080-20240426";function h8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h8)}catch(t){console.error(t)}}h8(),hz.exports=Ws;var f8=hz.exports;const g8=sw(f8);var a0=function(t){return t&&t.Math===Math&&t},rn=a0(typeof globalThis=="object"&&globalThis)||a0(typeof window=="object"&&window)||a0(typeof self=="object"&&self)||a0(typeof da=="object"&&da)||a0(typeof da=="object"&&da)||function(){return this}()||Function("return this")(),EO={},nn=function(t){try{return!!t()}catch{return!0}},kse=nn,To=!kse(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Pse=nn,J_=!Pse(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Nse=J_,Ab=Function.prototype.call,mn=Nse?Ab.bind(Ab):function(){return Ab.apply(Ab,arguments)},m8={},p8={}.propertyIsEnumerable,y8=Object.getOwnPropertyDescriptor,Mse=y8&&!p8.call({1:2},1);m8.f=Mse?function(e){var r=y8(this,e);return!!r&&r.enumerable}:p8;var Z_=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},v8=J_,w8=Function.prototype,PM=w8.call,Ise=v8&&w8.bind.bind(PM,PM),sn=v8?Ise:function(t){return function(){return PM.apply(t,arguments)}},b8=sn,Ase=b8({}.toString),Ose=b8("".slice),Pf=function(t){return Ose(Ase(t),8,-1)},Hse=sn,jse=nn,Dse=Pf,tT=Object,$se=Hse("".split),Lse=jse(function(){return!tT("z").propertyIsEnumerable(0)})?function(t){return Dse(t)==="String"?$se(t,""):tT(t)}:tT,TO=function(t){return t==null},Fse=TO,Vse=TypeError,Sw=function(t){if(Fse(t))throw new Vse("Can't call method on "+t);return t},Wse=Lse,Bse=Sw,xw=function(t){return Wse(Bse(t))},rT=typeof document=="object"&&document.all,En=typeof rT>"u"&&rT!==void 0?function(t){return typeof t=="function"||t===rT}:function(t){return typeof t=="function"},zse=En,zs=function(t){return typeof t=="object"?t!==null:zse(t)},nT=rn,Use=En,Yse=function(t){return Use(t)?t:void 0},_p=function(t,e){return arguments.length<2?Yse(nT[t]):nT[t]&&nT[t][e]},Gse=sn,Cw=Gse({}.isPrototypeOf),Kse=rn,m4=Kse.navigator,p4=m4&&m4.userAgent,eR=p4?String(p4):"",S8=rn,iT=eR,y4=S8.process,v4=S8.Deno,w4=y4&&y4.versions||v4&&v4.version,b4=w4&&w4.v8,ca,l1;b4&&(ca=b4.split("."),l1=ca[0]>0&&ca[0]<4?1:+(ca[0]+ca[1]));!l1&&iT&&(ca=iT.match(/Edge\/(\d+)/),(!ca||ca[1]>=74)&&(ca=iT.match(/Chrome\/(\d+)/),ca&&(l1=+ca[1])));var qse=l1,S4=qse,Xse=nn,Qse=rn,Jse=Qse.String,kO=!!Object.getOwnPropertySymbols&&!Xse(function(){var t=Symbol("symbol detection");return!Jse(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&S4&&S4<41}),Zse=kO,x8=Zse&&!Symbol.sham&&typeof Symbol.iterator=="symbol",eoe=_p,toe=En,roe=Cw,noe=x8,ioe=Object,PO=noe?function(t){return typeof t=="symbol"}:function(t){var e=eoe("Symbol");return toe(e)&&roe(e.prototype,ioe(t))},soe=String,tR=function(t){try{return soe(t)}catch{return"Object"}},ooe=En,aoe=tR,loe=TypeError,hs=function(t){if(ooe(t))return t;throw new loe(aoe(t)+" is not a function")},coe=hs,uoe=TO,_w=function(t,e){var r=t[e];return uoe(r)?void 0:coe(r)},sT=mn,oT=En,aT=zs,doe=TypeError,hoe=function(t,e){var r,n;if(e==="string"&&oT(r=t.toString)&&!aT(n=sT(r,t))||oT(r=t.valueOf)&&!aT(n=sT(r,t))||e!=="string"&&oT(r=t.toString)&&!aT(n=sT(r,t)))return n;throw new doe("Can't convert object to primitive value")},C8={exports:{}},x4=rn,foe=Object.defineProperty,NO=function(t,e){try{foe(x4,t,{value:e,configurable:!0,writable:!0})}catch{x4[t]=e}return e},goe=rn,moe=NO,C4="__core-js_shared__",_4=C8.exports=goe[C4]||moe(C4,{});(_4.versions||(_4.versions=[])).push({version:"3.47.0",mode:"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"});var MO=C8.exports,R4=MO,_8=function(t,e){return R4[t]||(R4[t]=e||{})},poe=Sw,yoe=Object,Rp=function(t){return yoe(poe(t))},voe=sn,woe=Rp,boe=voe({}.hasOwnProperty),Us=Object.hasOwn||function(e,r){return boe(woe(e),r)},Soe=sn,xoe=0,Coe=Math.random(),_oe=Soe(1.1.toString),IO=function(t){return"Symbol("+(t===void 0?"":t)+")_"+_oe(++xoe+Coe,36)},Roe=rn,Eoe=_8,E4=Us,Toe=IO,koe=kO,Poe=x8,lm=Roe.Symbol,lT=Eoe("wks"),Noe=Poe?lm.for||lm:lm&&lm.withoutSetter||Toe,_a=function(t){return E4(lT,t)||(lT[t]=koe&&E4(lm,t)?lm[t]:Noe("Symbol."+t)),lT[t]},Moe=mn,T4=zs,k4=PO,Ioe=_w,Aoe=hoe,Ooe=_a,Hoe=TypeError,joe=Ooe("toPrimitive"),Doe=function(t,e){if(!T4(t)||k4(t))return t;var r=Ioe(t,joe),n;if(r){if(e===void 0&&(e="default"),n=Moe(r,t,e),!T4(n)||k4(n))return n;throw new Hoe("Can't convert object to primitive value")}return e===void 0&&(e="number"),Aoe(t,e)},$oe=Doe,Loe=PO,R8=function(t){var e=$oe(t,"string");return Loe(e)?e:e+""},Foe=rn,P4=zs,NM=Foe.document,Voe=P4(NM)&&P4(NM.createElement),AO=function(t){return Voe?NM.createElement(t):{}},Woe=To,Boe=nn,zoe=AO,E8=!Woe&&!Boe(function(){return Object.defineProperty(zoe("div"),"a",{get:function(){return 7}}).a!==7}),Uoe=To,Yoe=mn,Goe=m8,Koe=Z_,qoe=xw,Xoe=R8,Qoe=Us,Joe=E8,N4=Object.getOwnPropertyDescriptor;EO.f=Uoe?N4:function(e,r){if(e=qoe(e),r=Xoe(r),Joe)try{return N4(e,r)}catch{}if(Qoe(e,r))return Koe(!Yoe(Goe.f,e,r),e[r])};var Fc={},Zoe=To,eae=nn,T8=Zoe&&eae(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),tae=zs,rae=String,nae=TypeError,pn=function(t){if(tae(t))return t;throw new nae(rae(t)+" is not an object")},iae=To,sae=E8,oae=T8,Ob=pn,M4=R8,aae=TypeError,cT=Object.defineProperty,lae=Object.getOwnPropertyDescriptor,uT="enumerable",dT="configurable",hT="writable";Fc.f=iae?oae?function(e,r,n){if(Ob(e),r=M4(r),Ob(n),typeof e=="function"&&r==="prototype"&&"value"in n&&hT in n&&!n[hT]){var i=lae(e,r);i&&i[hT]&&(e[r]=n.value,n={configurable:dT in n?n[dT]:i[dT],enumerable:uT in n?n[uT]:i[uT],writable:!1})}return cT(e,r,n)}:cT:function(e,r,n){if(Ob(e),r=M4(r),Ob(n),sae)try{return cT(e,r,n)}catch{}if("get"in n||"set"in n)throw new aae("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var cae=To,uae=Fc,dae=Z_,Ep=cae?function(t,e,r){return uae.f(t,e,dae(1,r))}:function(t,e,r){return t[e]=r,t},k8={exports:{}},MM=To,hae=Us,P8=Function.prototype,fae=MM&&Object.getOwnPropertyDescriptor,gae=hae(P8,"name"),mae=gae&&(!MM||MM&&fae(P8,"name").configurable),pae={CONFIGURABLE:mae},yae=sn,vae=En,IM=MO,wae=yae(Function.toString);vae(IM.inspectSource)||(IM.inspectSource=function(t){return wae(t)});var bae=IM.inspectSource,Sae=rn,xae=En,I4=Sae.WeakMap,Cae=xae(I4)&&/native code/.test(String(I4)),_ae=_8,Rae=IO,A4=_ae("keys"),OO=function(t){return A4[t]||(A4[t]=Rae(t))},HO={},Eae=Cae,N8=rn,Tae=zs,kae=Ep,fT=Us,gT=MO,Pae=OO,Nae=HO,O4="Object already initialized",AM=N8.TypeError,Mae=N8.WeakMap,c1,Nv,u1,Iae=function(t){return u1(t)?Nv(t):c1(t,{})},Aae=function(t){return function(e){var r;if(!Tae(e)||(r=Nv(e)).type!==t)throw new AM("Incompatible receiver, "+t+" required");return r}};if(Eae||gT.state){var Ia=gT.state||(gT.state=new Mae);Ia.get=Ia.get,Ia.has=Ia.has,Ia.set=Ia.set,c1=function(t,e){if(Ia.has(t))throw new AM(O4);return e.facade=t,Ia.set(t,e),e},Nv=function(t){return Ia.get(t)||{}},u1=function(t){return Ia.has(t)}}else{var Yf=Pae("state");Nae[Yf]=!0,c1=function(t,e){if(fT(t,Yf))throw new AM(O4);return e.facade=t,kae(t,Yf,e),e},Nv=function(t){return fT(t,Yf)?t[Yf]:{}},u1=function(t){return fT(t,Yf)}}var jO={set:c1,get:Nv,has:u1,enforce:Iae,getterFor:Aae},DO=sn,Oae=nn,Hae=En,Hb=Us,OM=To,jae=pae.CONFIGURABLE,Dae=bae,M8=jO,$ae=M8.enforce,Lae=M8.get,H4=String,qx=Object.defineProperty,Fae=DO("".slice),Vae=DO("".replace),Wae=DO([].join),Bae=OM&&!Oae(function(){return qx(function(){},"length",{value:8}).length!==8}),zae=String(String).split("String"),Uae=k8.exports=function(t,e,r){Fae(H4(e),0,7)==="Symbol("&&(e="["+Vae(H4(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Hb(t,"name")||jae&&t.name!==e)&&(OM?qx(t,"name",{value:e,configurable:!0}):t.name=e),Bae&&r&&Hb(r,"arity")&&t.length!==r.arity&&qx(t,"length",{value:r.arity});try{r&&Hb(r,"constructor")&&r.constructor?OM&&qx(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=$ae(t);return Hb(n,"source")||(n.source=Wae(zae,typeof e=="string"?e:"")),t};Function.prototype.toString=Uae(function(){return Hae(this)&&Lae(this).source||Dae(this)},"toString");var I8=k8.exports,Yae=En,Gae=Fc,Kae=I8,qae=NO,$O=function(t,e,r,n){n||(n={});var i=n.enumerable,s=n.name!==void 0?n.name:e;if(Yae(r)&&Kae(r,s,n),n.global)i?t[e]=r:qae(e,r);else{try{n.unsafe?t[e]&&(i=!0):delete t[e]}catch{}i?t[e]=r:Gae.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},A8={},Xae=Math.ceil,Qae=Math.floor,Jae=Math.trunc||function(e){var r=+e;return(r>0?Qae:Xae)(r)},Zae=Jae,Rw=function(t){var e=+t;return e!==e||e===0?0:Zae(e)},ele=Rw,tle=Math.max,rle=Math.min,nle=function(t,e){var r=ele(t);return r<0?tle(r+e,0):rle(r,e)},ile=Rw,sle=Math.min,ole=function(t){var e=ile(t);return e>0?sle(e,9007199254740991):0},ale=ole,Tp=function(t){return ale(t.length)},lle=xw,cle=nle,ule=Tp,dle=function(t){return function(e,r,n){var i=lle(e),s=ule(i);if(s===0)return!t&&-1;var o=cle(n,s),a;if(t&&r!==r){for(;s>o;)if(a=i[o++],a!==a)return!0}else for(;s>o;o++)if((t||o in i)&&i[o]===r)return t||o||0;return!t&&-1}},hle={indexOf:dle(!1)},fle=sn,mT=Us,gle=xw,mle=hle.indexOf,ple=HO,j4=fle([].push),O8=function(t,e){var r=gle(t),n=0,i=[],s;for(s in r)!mT(ple,s)&&mT(r,s)&&j4(i,s);for(;e.length>n;)mT(r,s=e[n++])&&(~mle(i,s)||j4(i,s));return i},LO=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],yle=O8,vle=LO,wle=vle.concat("length","prototype");A8.f=Object.getOwnPropertyNames||function(e){return yle(e,wle)};var H8={};H8.f=Object.getOwnPropertySymbols;var ble=_p,Sle=sn,xle=A8,Cle=H8,_le=pn,Rle=Sle([].concat),Ele=ble("Reflect","ownKeys")||function(e){var r=xle.f(_le(e)),n=Cle.f;return n?Rle(r,n(e)):r},D4=Us,Tle=Ele,kle=EO,Ple=Fc,j8=function(t,e,r){for(var n=Tle(e),i=Ple.f,s=kle.f,o=0;o<n.length;o++){var a=n[o];!D4(t,a)&&!(r&&D4(r,a))&&i(t,a,s(e,a))}},Nle=nn,Mle=En,Ile=/#|\.prototype\./,Ew=function(t,e){var r=Ole[Ale(t)];return r===jle?!0:r===Hle?!1:Mle(e)?Nle(e):!!e},Ale=Ew.normalize=function(t){return String(t).replace(Ile,".").toLowerCase()},Ole=Ew.data={},Hle=Ew.NATIVE="N",jle=Ew.POLYFILL="P",Dle=Ew,jb=rn,$le=EO.f,Lle=Ep,Fle=$O,Vle=NO,Wle=j8,Ble=Dle,Xt=function(t,e){var r=t.target,n=t.global,i=t.stat,s,o,a,l,c,d;if(n?o=jb:i?o=jb[r]||Vle(r,{}):o=jb[r]&&jb[r].prototype,o)for(a in e){if(c=e[a],t.dontCallGetSet?(d=$le(o,a),l=d&&d.value):l=o[a],s=Ble(n?a:r+(i?".":"#")+a,t.forced),!s&&l!==void 0){if(typeof c==typeof l)continue;Wle(c,l)}(t.sham||l&&l.sham)&&Lle(c,"sham",!0),Fle(o,a,c,t)}},zle=J_,D8=Function.prototype,$4=D8.apply,L4=D8.call,Tw=typeof Reflect=="object"&&Reflect.apply||(zle?L4.bind($4):function(){return L4.apply($4,arguments)}),Ule=sn,Yle=hs,$8=function(t,e,r){try{return Ule(Yle(Object.getOwnPropertyDescriptor(t,e)[r]))}catch{}},Gle=zs,Kle=function(t){return Gle(t)||t===null},qle=Kle,Xle=String,Qle=TypeError,Jle=function(t){if(qle(t))return t;throw new Qle("Can't set "+Xle(t)+" as a prototype")},Zle=$8,ece=zs,tce=Sw,rce=Jle,L8=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=Zle(Object.prototype,"__proto__","set"),r(e,[]),t=e instanceof Array}catch{}return function(i,s){return tce(i),rce(s),ece(i)&&(t?r(i,s):i.__proto__=s),i}}():void 0),nce=Fc.f,ice=function(t,e,r){r in t||nce(t,r,{configurable:!0,get:function(){return e[r]},set:function(n){e[r]=n}})},sce=En,oce=zs,F4=L8,ace=function(t,e,r){var n,i;return F4&&sce(n=e.constructor)&&n!==r&&oce(i=n.prototype)&&i!==r.prototype&&F4(t,i),t},lce=_a,cce=lce("toStringTag"),F8={};F8[cce]="z";var uce=String(F8)==="[object z]",dce=uce,hce=En,Xx=Pf,fce=_a,gce=fce("toStringTag"),mce=Object,pce=Xx(function(){return arguments}())==="Arguments",yce=function(t,e){try{return t[e]}catch{}},V8=dce?Xx:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=yce(e=mce(t),gce))=="string"?r:pce?Xx(e):(n=Xx(e))==="Object"&&hce(e.callee)?"Arguments":n},vce=V8,wce=String,rR=function(t){if(vce(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return wce(t)},bce=rR,Sce=function(t,e){return t===void 0?arguments.length<2?"":e:bce(t)},xce=zs,Cce=Ep,_ce=function(t,e){xce(e)&&"cause"in e&&Cce(t,"cause",e.cause)},Rce=sn,W8=Error,Ece=Rce("".replace),Tce=function(t){return String(new W8(t).stack)}("zxcasd"),B8=/\n\s*at [^:]*:[^\n]*/,kce=B8.test(Tce),Pce=function(t,e){if(kce&&typeof t=="string"&&!W8.prepareStackTrace)for(;e--;)t=Ece(t,B8,"");return t},Nce=nn,Mce=Z_,Ice=!Nce(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",Mce(1,7)),t.stack!==7):!0}),Ace=Ep,Oce=Pce,Hce=Ice,V4=Error.captureStackTrace,jce=function(t,e,r,n){Hce&&(V4?V4(t,e):Ace(t,"stack",Oce(r,n)))},W4=_p,Dce=Us,B4=Ep,$ce=Cw,z4=L8,U4=j8,Y4=ice,Lce=ace,Fce=Sce,Vce=_ce,Wce=jce,Bce=To,zce=function(t,e,r,n){var i="stackTraceLimit",s=n?2:1,o=t.split("."),a=o[o.length-1],l=W4.apply(null,o);if(l){var c=l.prototype;if(Dce(c,"cause")&&delete c.cause,!r)return l;var d=W4("Error"),h=e(function(f,g){var m=Fce(n?g:f,void 0),p=n?new l(f):new l;return m!==void 0&&B4(p,"message",m),Wce(p,h,p.stack,2),this&&$ce(c,this)&&Lce(p,this,h),arguments.length>s&&Vce(p,arguments[s]),p});h.prototype=c,a!=="Error"?z4?z4(h,d):U4(h,d,{name:!0}):Bce&&i in l&&(Y4(h,l,i),Y4(h,l,"prepareStackTrace")),U4(h,l);try{c.name!==a&&B4(c,"name",a),c.constructor=h}catch{}return h}},z8=Xt,Uce=rn,Tl=Tw,U8=zce,HM="WebAssembly",G4=Uce[HM],d1=new Error("e",{cause:7}).cause!==7,Nf=function(t,e){var r={};r[t]=U8(t,e,d1),z8({global:!0,constructor:!0,arity:1,forced:d1},r)},FO=function(t,e){if(G4&&G4[t]){var r={};r[t]=U8(HM+"."+t,e,d1),z8({target:HM,stat:!0,constructor:!0,arity:1,forced:d1},r)}};Nf("Error",function(t){return function(r){return Tl(t,this,arguments)}});Nf("EvalError",function(t){return function(r){return Tl(t,this,arguments)}});Nf("RangeError",function(t){return function(r){return Tl(t,this,arguments)}});Nf("ReferenceError",function(t){return function(r){return Tl(t,this,arguments)}});Nf("SyntaxError",function(t){return function(r){return Tl(t,this,arguments)}});Nf("TypeError",function(t){return function(r){return Tl(t,this,arguments)}});Nf("URIError",function(t){return function(r){return Tl(t,this,arguments)}});FO("CompileError",function(t){return function(r){return Tl(t,this,arguments)}});FO("LinkError",function(t){return function(r){return Tl(t,this,arguments)}});FO("RuntimeError",function(t){return function(r){return Tl(t,this,arguments)}});var Yce=Pf,Y8=Array.isArray||function(e){return Yce(e)==="Array"},Gce=To,Kce=Y8,qce=TypeError,Xce=Object.getOwnPropertyDescriptor,Qce=Gce&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),G8=Qce?function(t,e){if(Kce(t)&&!Xce(t,"length").writable)throw new qce("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Jce=TypeError,Zce=9007199254740991,K8=function(t){if(t>Zce)throw Jce("Maximum allowed index exceeded");return t},eue=Xt,tue=Rp,rue=Tp,nue=G8,iue=K8,sue=nn,oue=sue(function(){return[].push.call({length:4294967296},1)!==4294967297}),aue=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},lue=oue||!aue();eue({target:"Array",proto:!0,arity:1,forced:lue},{push:function(e){var r=tue(this),n=rue(r),i=arguments.length;iue(n+i);for(var s=0;s<i;s++)r[n]=arguments[s],n++;return nue(r,n),n}});var cue=Pf,uue=sn,due=function(t){if(cue(t)==="Function")return uue(t)},K4=due,hue=hs,fue=J_,gue=K4(K4.bind),q8=function(t,e){return hue(t),e===void 0?t:fue?gue(t,e):function(){return t.apply(e,arguments)}},X8={},mue=_a,pue=X8,yue=mue("iterator"),vue=Array.prototype,wue=function(t){return t!==void 0&&(pue.Array===t||vue[yue]===t)},bue=V8,q4=_w,Sue=TO,xue=X8,Cue=_a,_ue=Cue("iterator"),VO=function(t){if(!Sue(t))return q4(t,_ue)||q4(t,"@@iterator")||xue[bue(t)]},Rue=mn,Eue=hs,Tue=pn,kue=tR,Pue=VO,Nue=TypeError,Mue=function(t,e){var r=arguments.length<2?Pue(t):e;if(Eue(r))return Tue(Rue(r,t));throw new Nue(kue(t)+" is not iterable")},Iue=mn,X4=pn,Aue=_w,fs=function(t,e,r){var n,i;X4(t);try{if(n=Aue(t,"return"),!n){if(e==="throw")throw r;return r}n=Iue(n,t)}catch(s){i=!0,n=s}if(e==="throw")throw r;if(i)throw n;return X4(n),r},Oue=q8,Hue=mn,jue=pn,Due=tR,$ue=wue,Lue=Tp,Q4=Cw,Fue=Mue,Vue=VO,J4=fs,Wue=TypeError,Qx=function(t,e){this.stopped=t,this.result=e},Z4=Qx.prototype,kp=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),s=!!(r&&r.IS_RECORD),o=!!(r&&r.IS_ITERATOR),a=!!(r&&r.INTERRUPTED),l=Oue(e,n),c,d,h,f,g,m,p,y=function(w){return c&&J4(c,"normal"),new Qx(!0,w)},S=function(w){return i?(jue(w),a?l(w[0],w[1],y):l(w[0],w[1])):a?l(w,y):l(w)};if(s)c=t.iterator;else if(o)c=t;else{if(d=Vue(t),!d)throw new Wue(Due(t)+" is not iterable");if($ue(d)){for(h=0,f=Lue(t);f>h;h++)if(g=S(t[h]),g&&Q4(Z4,g))return g;return new Qx(!1)}c=Fue(t,d)}for(m=s?t.next:c.next;!(p=Hue(m,c)).done;){try{g=S(p.value)}catch(w){J4(c,"throw",w)}if(typeof g=="object"&&g&&Q4(Z4,g))return g}return new Qx(!1)},Bue=To,zue=Fc,Uue=Z_,Q8=function(t,e,r){Bue?zue.f(t,e,Uue(0,r)):t[e]=r},Yue=Xt,Gue=kp,Kue=Q8;Yue({target:"Object",stat:!0},{fromEntries:function(e){var r={};return Gue(e,function(n,i){Kue(r,n,i)},{AS_ENTRIES:!0}),r}});var pT=sn,Db=Set.prototype,kl={Set,add:pT(Db.add),has:pT(Db.has),remove:pT(Db.delete),proto:Db},que=kl.has,Mf=function(t){return que(t),t},Xue=mn,If=function(t,e,r){for(var n=r?t:t.iterator,i=t.next,s,o;!(s=Xue(i,n)).done;)if(o=e(s.value),o!==void 0)return o},J8=sn,Que=If,Z8=kl,Jue=Z8.Set,e7=Z8.proto,Zue=J8(e7.forEach),t7=J8(e7.keys),ede=t7(new Jue).next,kw=function(t,e,r){return r?Que({iterator:t7(t),next:ede},e):Zue(t,e)},r7=kl,tde=kw,rde=r7.Set,nde=r7.add,WO=function(t){var e=new rde;return tde(t,function(r){nde(e,r)}),e},ide=$8,sde=kl,Pw=ide(sde.proto,"size","get")||function(t){return t.size},Pl=function(t){return{iterator:t,next:t.next,done:!1}},eF=hs,n7=pn,tF=mn,ode=Rw,ade=Pl,rF="Invalid size",lde=RangeError,cde=TypeError,ude=Math.max,i7=function(t,e){this.set=t,this.size=ude(e,0),this.has=eF(t.has),this.keys=eF(t.keys)};i7.prototype={getIterator:function(){return ade(n7(tF(this.keys,this.set)))},includes:function(t){return tF(this.has,this.set,t)}};var Af=function(t){n7(t);var e=+t.size;if(e!==e)throw new cde(rF);var r=ode(e);if(r<0)throw new lde(rF);return new i7(t,r)},dde=Mf,s7=kl,hde=WO,fde=Pw,gde=Af,mde=kw,pde=If,yde=s7.has,nF=s7.remove,vde=function(e){var r=dde(this),n=gde(e),i=hde(r);return fde(r)<=n.size?mde(r,function(s){n.includes(s)&&nF(i,s)}):pde(n.getIterator(),function(s){yde(i,s)&&nF(i,s)}),i},wde=_p,iF=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},sF=function(t){return{size:t,has:function(){return!0},keys:function(){throw new Error("e")}}},Of=function(t,e){var r=wde("Set");try{new r()[t](iF(0));try{return new r()[t](iF(-1)),!1}catch{if(!e)return!0;try{return new r()[t](sF(-1/0)),!1}catch{var n=new r([1,2]);return e(n[t](sF(1/0)))}}}catch{return!1}},bde=Xt,Sde=vde,xde=nn,Cde=Of,_de=!Cde("difference",function(t){return t.size===0}),Rde=_de||xde(function(){var t={size:1,has:function(){return!0},keys:function(){var r=0;return{next:function(){var n=r++>1;return e.has(1)&&e.clear(),{done:n,value:2}}}}},e=new Set([1,2,3,4]);return e.difference(t).size!==3});bde({target:"Set",proto:!0,real:!0,forced:Rde},{difference:Sde});var Ede=Mf,BO=kl,Tde=Pw,kde=Af,Pde=kw,Nde=If,Mde=BO.Set,oF=BO.add,Ide=BO.has,Ade=function(e){var r=Ede(this),n=kde(e),i=new Mde;return Tde(r)>n.size?Nde(n.getIterator(),function(s){Ide(r,s)&&oF(i,s)}):Pde(r,function(s){n.includes(s)&&oF(i,s)}),i},Ode=Xt,Hde=nn,jde=Ade,Dde=Of,$de=!Dde("intersection",function(t){return t.size===2&&t.has(1)&&t.has(2)})||Hde(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});Ode({target:"Set",proto:!0,real:!0,forced:$de},{intersection:jde});var Lde=Mf,Fde=kl.has,Vde=Pw,Wde=Af,Bde=kw,zde=If,Ude=fs,Yde=function(e){var r=Lde(this),n=Wde(e);if(Vde(r)<=n.size)return Bde(r,function(s){if(n.includes(s))return!1},!0)!==!1;var i=n.getIterator();return zde(i,function(s){if(Fde(r,s))return Ude(i,"normal",!1)})!==!1},Gde=Xt,Kde=Yde,qde=Of,Xde=!qde("isDisjointFrom",function(t){return!t});Gde({target:"Set",proto:!0,real:!0,forced:Xde},{isDisjointFrom:Kde});var Qde=Mf,Jde=Pw,Zde=kw,ehe=Af,the=function(e){var r=Qde(this),n=ehe(e);return Jde(r)>n.size?!1:Zde(r,function(i){if(!n.includes(i))return!1},!0)!==!1},rhe=Xt,nhe=the,ihe=Of,she=!ihe("isSubsetOf",function(t){return t});rhe({target:"Set",proto:!0,real:!0,forced:she},{isSubsetOf:nhe});var ohe=Mf,ahe=kl.has,lhe=Pw,che=Af,uhe=If,dhe=fs,hhe=function(e){var r=ohe(this),n=che(e);if(lhe(r)<n.size)return!1;var i=n.getIterator();return uhe(i,function(s){if(!ahe(r,s))return dhe(i,"normal",!1)})!==!1},fhe=Xt,ghe=hhe,mhe=Of,phe=!mhe("isSupersetOf",function(t){return!t});fhe({target:"Set",proto:!0,real:!0,forced:phe},{isSupersetOf:ghe});var yhe=Mf,zO=kl,vhe=WO,whe=Af,bhe=If,She=zO.add,xhe=zO.has,Che=zO.remove,_he=function(e){var r=yhe(this),n=whe(e).getIterator(),i=vhe(r);return bhe(n,function(s){xhe(r,s)?Che(i,s):She(i,s)}),i},o7=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}},Rhe=Xt,Ehe=_he,The=o7,khe=Of,Phe=!khe("symmetricDifference")||!The("symmetricDifference");Rhe({target:"Set",proto:!0,real:!0,forced:Phe},{symmetricDifference:Ehe});var Nhe=Mf,Mhe=kl.add,Ihe=WO,Ahe=Af,Ohe=If,Hhe=function(e){var r=Nhe(this),n=Ahe(e).getIterator(),i=Ihe(r);return Ohe(n,function(s){Mhe(i,s)}),i},jhe=Xt,Dhe=Hhe,$he=o7,Lhe=Of,Fhe=!Lhe("union")||!$he("union");jhe({target:"Set",proto:!0,real:!0,forced:Fhe},{union:Dhe});var Vhe=Cw,Whe=TypeError,Bhe=function(t,e){if(Vhe(e,t))return t;throw new Whe("Incorrect invocation")},zhe=nn,Uhe=!zhe(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Yhe=Us,Ghe=En,Khe=Rp,qhe=OO,Xhe=Uhe,aF=qhe("IE_PROTO"),jM=Object,Qhe=jM.prototype,a7=Xhe?jM.getPrototypeOf:function(t){var e=Khe(t);if(Yhe(e,aF))return e[aF];var r=e.constructor;return Ghe(r)&&e instanceof r?r.prototype:e instanceof jM?Qhe:null},lF=I8,Jhe=Fc,Zhe=function(t,e,r){return r.get&&lF(r.get,e,{getter:!0}),r.set&&lF(r.set,e,{setter:!0}),Jhe.f(t,e,r)},l7={},efe=O8,tfe=LO,rfe=Object.keys||function(e){return efe(e,tfe)},nfe=To,ife=T8,sfe=Fc,ofe=pn,afe=xw,lfe=rfe;l7.f=nfe&&!ife?Object.defineProperties:function(e,r){ofe(e);for(var n=afe(r),i=lfe(r),s=i.length,o=0,a;s>o;)sfe.f(e,a=i[o++],n[a]);return e};var cfe=_p,c7=cfe("document","documentElement"),ufe=pn,dfe=l7,cF=LO,hfe=HO,ffe=c7,gfe=AO,mfe=OO,uF=">",dF="<",DM="prototype",$M="script",u7=mfe("IE_PROTO"),yT=function(){},d7=function(t){return dF+$M+uF+t+dF+"/"+$M+uF},hF=function(t){t.write(d7("")),t.close();var e=t.parentWindow.Object;return t=null,e},pfe=function(){var t=gfe("iframe"),e="java"+$M+":",r;return t.style.display="none",ffe.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(d7("document.F=Object")),r.close(),r.F},$b,Jx=function(){try{$b=new ActiveXObject("htmlfile")}catch{}Jx=typeof document<"u"?document.domain&&$b?hF($b):pfe():hF($b);for(var t=cF.length;t--;)delete Jx[DM][cF[t]];return Jx()};hfe[u7]=!0;var h7=Object.create||function(e,r){var n;return e!==null?(yT[DM]=ufe(e),n=new yT,yT[DM]=null,n[u7]=e):n=Jx(),r===void 0?n:dfe.f(n,r)},yfe=nn,vfe=En,wfe=zs,fF=a7,bfe=$O,Sfe=_a,LM=Sfe("iterator"),hf,vT,wT;[].keys&&(wT=[].keys(),"next"in wT&&(vT=fF(fF(wT)),vT!==Object.prototype&&(hf=vT)));var xfe=!wfe(hf)||yfe(function(){var t={};return hf[LM].call(t)!==t});xfe&&(hf={});vfe(hf[LM])||bfe(hf,LM,function(){return this});var f7={IteratorPrototype:hf},Cfe=Xt,_fe=rn,Rfe=Bhe,Efe=pn,Tfe=En,kfe=a7,Pfe=Zhe,Nfe=Q8,Mfe=nn,UO=Us,Ife=_a,Cl=f7.IteratorPrototype,Afe=To,bT="constructor",g7="Iterator",gF=Ife("toStringTag"),m7=TypeError,ST=_fe[g7],p7=!Tfe(ST)||ST.prototype!==Cl||!Mfe(function(){ST({})}),YO=function(){if(Rfe(this,Cl),kfe(this)===Cl)throw new m7("Abstract class Iterator not directly constructable")},y7=function(t,e){Afe?Pfe(Cl,t,{configurable:!0,get:function(){return e},set:function(r){if(Efe(this),this===Cl)throw new m7("You can't redefine this property");UO(this,t)?this[t]=r:Nfe(this,t,r)}}):Cl[t]=e};UO(Cl,gF)||y7(gF,g7);(p7||!UO(Cl,bT)||Cl[bT]===Object)&&y7(bT,YO);YO.prototype=Cl;Cfe({global:!0,constructor:!0,forced:p7},{Iterator:YO});var Ofe=$O,Hfe=function(t,e,r){for(var n in e)Ofe(t,n,e[n],r);return t},jfe=function(t,e){return{value:t,done:e}},Dfe=fs,$fe=function(t,e,r){for(var n=t.length-1;n>=0;n--)if(t[n]!==void 0)try{r=Dfe(t[n].iterator,e,r)}catch(i){e="throw",r=i}if(e==="throw")throw r;return r},Lfe=mn,Ffe=h7,Vfe=Ep,Wfe=Hfe,Bfe=_a,v7=jO,zfe=_w,Ufe=f7.IteratorPrototype,Lb=jfe,Fb=fs,Yfe=$fe,Gfe=Bfe("toStringTag"),w7="IteratorHelper",b7="WrapForValidIterator",xT="normal",mF="throw",Kfe=v7.set,S7=function(t){var e=v7.getterFor(t?b7:w7);return Wfe(Ffe(Ufe),{next:function(){var n=e(this);if(t)return n.nextHandler();if(n.done)return Lb(void 0,!0);try{var i=n.nextHandler();return n.returnHandlerResult?i:Lb(i,n.done)}catch(s){throw n.done=!0,s}},return:function(){var r=e(this),n=r.iterator;if(r.done=!0,t){var i=zfe(n,"return");return i?Lfe(i,n):Lb(void 0,!0)}if(r.inner)try{Fb(r.inner.iterator,xT)}catch(s){return Fb(n,mF,s)}if(r.openIters)try{Yfe(r.openIters,xT)}catch(s){return Fb(n,mF,s)}return n&&Fb(n,xT),Lb(void 0,!0)}})},qfe=S7(!0),x7=S7(!1);Vfe(x7,Gfe,"Iterator Helper");var GO=function(t,e,r){var n=function(s,o){o?(o.iterator=s.iterator,o.next=s.next):o=s,o.type=e?b7:w7,o.returnHandlerResult=!!r,o.nextHandler=t,o.counter=0,o.done=!1,Kfe(this,o)};return n.prototype=e?qfe:x7,n},Xfe=pn,Qfe=fs,C7=function(t,e,r,n){try{return n?e(Xfe(r)[0],r[1]):e(r)}catch(i){Qfe(t,"throw",i)}},KO=function(t,e){var r=typeof Iterator=="function"&&Iterator.prototype[t];if(r)try{r.call({next:null},e).next()}catch{return!0}},Jfe=rn,wd=function(t,e){var r=Jfe.Iterator,n=r&&r.prototype,i=n&&n[t],s=!1;if(i)try{i.call({next:function(){return{done:!0}},return:function(){s=!0}},-1)}catch(o){o instanceof e||(s=!1)}if(!s)return i},Zfe=Xt,_7=mn,ege=hs,R7=pn,tge=Pl,rge=GO,nge=C7,ige=fs,sge=KO,oge=wd,E7=!sge("filter",function(){}),FM=!E7&&oge("filter",TypeError),age=E7||FM,lge=rge(function(){for(var t=this.iterator,e=this.predicate,r=this.next,n,i,s;;){if(n=R7(_7(r,t)),i=this.done=!!n.done,i)return;if(s=n.value,nge(t,e,[s,this.counter++],!0))return s}});Zfe({target:"Iterator",proto:!0,real:!0,forced:age},{filter:function(e){R7(this);try{ege(e)}catch(r){ige(this,"throw",r)}return FM?_7(FM,this,e):new lge(tge(this),{predicate:e})}});var cge=Xt,uge=mn,dge=kp,hge=hs,fge=pn,gge=Pl,mge=fs,pge=wd,CT=pge("forEach",TypeError);cge({target:"Iterator",proto:!0,real:!0,forced:CT},{forEach:function(e){fge(this);try{hge(e)}catch(i){mge(this,"throw",i)}if(CT)return uge(CT,this,e);var r=gge(this),n=0;dge(r,function(i){e(i,n++)},{IS_RECORD:!0})}});var yge=Xt,T7=mn,vge=hs,k7=pn,wge=Pl,bge=GO,Sge=C7,xge=fs,Cge=KO,_ge=wd,P7=!Cge("map",function(){}),VM=!P7&&_ge("map",TypeError),Rge=P7||VM,Ege=bge(function(){var t=this.iterator,e=k7(T7(this.next,t)),r=this.done=!!e.done;if(!r)return Sge(t,this.mapper,[e.value,this.counter++],!0)});yge({target:"Iterator",proto:!0,real:!0,forced:Rge},{map:function(e){k7(this);try{vge(e)}catch(r){xge(this,"throw",r)}return VM?T7(VM,this,e):new Ege(wge(this),{mapper:e})}});var Tge=sn,qO=Tge([].slice),kge=TypeError,N7=function(t,e){if(t<e)throw new kge("Not enough arguments");return t},Pge=eR,Nge=/(?:ipad|iphone|ipod).*applewebkit/i.test(Pge),l0=rn,Mge=eR,Ige=Pf,Vb=function(t){return Mge.slice(0,t.length)===t},M7=function(){return Vb("Bun/")?"BUN":Vb("Cloudflare-Workers")?"CLOUDFLARE":Vb("Deno/")?"DENO":Vb("Node.js/")?"NODE":l0.Bun&&typeof Bun.version=="string"?"BUN":l0.Deno&&typeof Deno.version=="object"?"DENO":Ige(l0.process)==="process"?"NODE":l0.window&&l0.document?"BROWSER":"REST"}(),Age=M7,Oge=Age==="NODE",Ds=rn,Hge=Tw,jge=q8,pF=En,Dge=Us,I7=nn,yF=c7,$ge=qO,vF=AO,Lge=N7,Fge=Nge,Vge=Oge,WM=Ds.setImmediate,BM=Ds.clearImmediate,Wge=Ds.process,_T=Ds.Dispatch,Bge=Ds.Function,wF=Ds.MessageChannel,zge=Ds.String,RT=0,Ly={},bF="onreadystatechange",Mv,Td,ET,TT;I7(function(){Mv=Ds.location});var XO=function(t){if(Dge(Ly,t)){var e=Ly[t];delete Ly[t],e()}},kT=function(t){return function(){XO(t)}},SF=function(t){XO(t.data)},xF=function(t){Ds.postMessage(zge(t),Mv.protocol+"//"+Mv.host)};(!WM||!BM)&&(WM=function(e){Lge(arguments.length,1);var r=pF(e)?e:Bge(e),n=$ge(arguments,1);return Ly[++RT]=function(){Hge(r,void 0,n)},Td(RT),RT},BM=function(e){delete Ly[e]},Vge?Td=function(t){Wge.nextTick(kT(t))}:_T&&_T.now?Td=function(t){_T.now(kT(t))}:wF&&!Fge?(ET=new wF,TT=ET.port2,ET.port1.onmessage=SF,Td=jge(TT.postMessage,TT)):Ds.addEventListener&&pF(Ds.postMessage)&&!Ds.importScripts&&Mv&&Mv.protocol!=="file:"&&!I7(xF)?(Td=xF,Ds.addEventListener("message",SF,!1)):bF in vF("script")?Td=function(t){yF.appendChild(vF("script"))[bF]=function(){yF.removeChild(this),XO(t)}}:Td=function(t){setTimeout(kT(t),0)});var A7={set:WM,clear:BM},Uge=Xt,Yge=rn,CF=A7.clear;Uge({global:!0,bind:!0,enumerable:!0,forced:Yge.clearImmediate!==CF},{clearImmediate:CF});var O7=rn,Gge=Tw,Kge=En,qge=M7,Xge=eR,Qge=qO,Jge=N7,Zge=O7.Function,eme=/MSIE .\./.test(Xge)||qge==="BUN"&&function(){var t=O7.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}(),tme=function(t,e){var r=e?2:1;return eme?function(n,i){var s=Jge(arguments.length,1)>r,o=Kge(n)?n:Zge(n),a=s?Qge(arguments,r):[],l=s?function(){Gge(o,this,a)}:o;return e?t(l,i):t(l)}:t},rme=Xt,H7=rn,_F=A7.set,nme=tme,RF=H7.setImmediate?nme(_F,!1):_F;rme({global:!0,bind:!0,enumerable:!0,forced:H7.setImmediate!==RF},{setImmediate:RF});/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:j7,setPrototypeOf:EF,isFrozen:ime,getPrototypeOf:sme,getOwnPropertyDescriptor:ome}=Object;let{freeze:Hi,seal:Ro,create:zM}=Object,{apply:UM,construct:YM}=typeof Reflect<"u"&&Reflect;Hi||(Hi=function(e){return e});Ro||(Ro=function(e){return e});UM||(UM=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return e.apply(r,i)});YM||(YM=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new e(...n)});const Wb=ji(Array.prototype.forEach),ame=ji(Array.prototype.lastIndexOf),TF=ji(Array.prototype.pop),c0=ji(Array.prototype.push),lme=ji(Array.prototype.splice),Zx=ji(String.prototype.toLowerCase),PT=ji(String.prototype.toString),NT=ji(String.prototype.match),u0=ji(String.prototype.replace),cme=ji(String.prototype.indexOf),ume=ji(String.prototype.trim),Go=ji(Object.prototype.hasOwnProperty),wi=ji(RegExp.prototype.test),d0=dme(TypeError);function ji(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return UM(t,e,n)}}function dme(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return YM(t,r)}}function gt(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zx;EF&&EF(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const s=r(i);s!==i&&(ime(e)||(e[n]=s),i=s)}t[i]=!0}return t}function hme(t){for(let e=0;e<t.length;e++)Go(t,e)||(t[e]=null);return t}function Qa(t){const e=zM(null);for(const[r,n]of j7(t))Go(t,r)&&(Array.isArray(n)?e[r]=hme(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=Qa(n):e[r]=n);return e}function h0(t,e){for(;t!==null;){const n=ome(t,e);if(n){if(n.get)return ji(n.get);if(typeof n.value=="function")return ji(n.value)}t=sme(t)}function r(){return null}return r}const kF=Hi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),MT=Hi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),IT=Hi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fme=Hi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),AT=Hi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),gme=Hi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),PF=Hi(["#text"]),NF=Hi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),OT=Hi(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),MF=Hi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Bb=Hi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),mme=Ro(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pme=Ro(/<%[\w\W]*|[\w\W]*%>/gm),yme=Ro(/\$\{[\w\W]*/gm),vme=Ro(/^data-[\-\w.\u00B7-\uFFFF]+$/),wme=Ro(/^aria-[\-\w]+$/),D7=Ro(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),bme=Ro(/^(?:\w+script|data):/i),Sme=Ro(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$7=Ro(/^html$/i),xme=Ro(/^[a-z][.\w]*(-[.\w]+)+$/i);var IF=Object.freeze({__proto__:null,ARIA_ATTR:wme,ATTR_WHITESPACE:Sme,CUSTOM_ELEMENT:xme,DATA_ATTR:vme,DOCTYPE_NAME:$7,ERB_EXPR:pme,IS_ALLOWED_URI:D7,IS_SCRIPT_OR_DATA:bme,MUSTACHE_EXPR:mme,TMPLIT_EXPR:yme});const f0={element:1,text:3,progressingInstruction:7,comment:8,document:9},Cme=function(){return typeof window>"u"?null:window},_me=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},AF=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function L7(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cme();const e=je=>L7(je);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==f0.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,i=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:g}=t,m=l.prototype,p=h0(m,"cloneNode"),y=h0(m,"remove"),S=h0(m,"nextSibling"),w=h0(m,"childNodes"),b=h0(m,"parentNode");if(typeof o=="function"){const je=r.createElement("template");je.content&&je.content.ownerDocument&&(r=je.content.ownerDocument)}let C,N="";const{implementation:P,createNodeIterator:k,createDocumentFragment:R,getElementsByTagName:I}=r,{importNode:O}=n;let Z=AF();e.isSupported=typeof j7=="function"&&typeof b=="function"&&P&&P.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:q,ERB_EXPR:J,TMPLIT_EXPR:re,DATA_ATTR:ue,ARIA_ATTR:ve,IS_SCRIPT_OR_DATA:be,ATTR_WHITESPACE:ie,CUSTOM_ELEMENT:ee}=IF;let{IS_ALLOWED_URI:ce}=IF,ae=null;const ye=gt({},[...kF,...MT,...IT,...AT,...PF]);let Q=null;const F=gt({},[...NF,...OT,...MF,...Bb]);let v=Object.seal(zM(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),x=null,E=null;const D=Object.seal(zM(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Y=!0,_=!0,T=!1,M=!0,$=!1,j=!0,A=!1,U=!1,L=!1,V=!1,X=!1,K=!1,se=!0,we=!1;const pe="user-content-";let He=!0,Je=!1,ht={},Oe=null;const Ue=gt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let vt=null;const _t=gt({},["audio","video","img","source","image","track"]);let te=null;const We=gt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ye="http://www.w3.org/1998/Math/MathML",Nt="http://www.w3.org/2000/svg",De="http://www.w3.org/1999/xhtml";let rt=De,qe=!1,Qn=null;const Or=gt({},[Ye,Nt,De],PT);let nr=gt({},["mi","mo","mn","ms","mtext"]),Gt=gt({},["annotation-xml"]);const fr=gt({},["title","style","font","a","script"]);let Rt=null;const gr=["application/xhtml+xml","text/html"],an="text/html";let Kt=null,Ta=null;const _d=r.createElement("form"),Qw=function(z){return z instanceof RegExp||z instanceof Function},Bp=function(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ta&&Ta===z)){if((!z||typeof z!="object")&&(z={}),z=Qa(z),Rt=gr.indexOf(z.PARSER_MEDIA_TYPE)===-1?an:z.PARSER_MEDIA_TYPE,Kt=Rt==="application/xhtml+xml"?PT:Zx,ae=Go(z,"ALLOWED_TAGS")?gt({},z.ALLOWED_TAGS,Kt):ye,Q=Go(z,"ALLOWED_ATTR")?gt({},z.ALLOWED_ATTR,Kt):F,Qn=Go(z,"ALLOWED_NAMESPACES")?gt({},z.ALLOWED_NAMESPACES,PT):Or,te=Go(z,"ADD_URI_SAFE_ATTR")?gt(Qa(We),z.ADD_URI_SAFE_ATTR,Kt):We,vt=Go(z,"ADD_DATA_URI_TAGS")?gt(Qa(_t),z.ADD_DATA_URI_TAGS,Kt):_t,Oe=Go(z,"FORBID_CONTENTS")?gt({},z.FORBID_CONTENTS,Kt):Ue,x=Go(z,"FORBID_TAGS")?gt({},z.FORBID_TAGS,Kt):Qa({}),E=Go(z,"FORBID_ATTR")?gt({},z.FORBID_ATTR,Kt):Qa({}),ht=Go(z,"USE_PROFILES")?z.USE_PROFILES:!1,Y=z.ALLOW_ARIA_ATTR!==!1,_=z.ALLOW_DATA_ATTR!==!1,T=z.ALLOW_UNKNOWN_PROTOCOLS||!1,M=z.ALLOW_SELF_CLOSE_IN_ATTR!==!1,$=z.SAFE_FOR_TEMPLATES||!1,j=z.SAFE_FOR_XML!==!1,A=z.WHOLE_DOCUMENT||!1,V=z.RETURN_DOM||!1,X=z.RETURN_DOM_FRAGMENT||!1,K=z.RETURN_TRUSTED_TYPE||!1,L=z.FORCE_BODY||!1,se=z.SANITIZE_DOM!==!1,we=z.SANITIZE_NAMED_PROPS||!1,He=z.KEEP_CONTENT!==!1,Je=z.IN_PLACE||!1,ce=z.ALLOWED_URI_REGEXP||D7,rt=z.NAMESPACE||De,nr=z.MATHML_TEXT_INTEGRATION_POINTS||nr,Gt=z.HTML_INTEGRATION_POINTS||Gt,v=z.CUSTOM_ELEMENT_HANDLING||{},z.CUSTOM_ELEMENT_HANDLING&&Qw(z.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(v.tagNameCheck=z.CUSTOM_ELEMENT_HANDLING.tagNameCheck),z.CUSTOM_ELEMENT_HANDLING&&Qw(z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(v.attributeNameCheck=z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),z.CUSTOM_ELEMENT_HANDLING&&typeof z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(v.allowCustomizedBuiltInElements=z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$&&(_=!1),X&&(V=!0),ht&&(ae=gt({},PF),Q=[],ht.html===!0&&(gt(ae,kF),gt(Q,NF)),ht.svg===!0&&(gt(ae,MT),gt(Q,OT),gt(Q,Bb)),ht.svgFilters===!0&&(gt(ae,IT),gt(Q,OT),gt(Q,Bb)),ht.mathMl===!0&&(gt(ae,AT),gt(Q,MF),gt(Q,Bb))),z.ADD_TAGS&&(typeof z.ADD_TAGS=="function"?D.tagCheck=z.ADD_TAGS:(ae===ye&&(ae=Qa(ae)),gt(ae,z.ADD_TAGS,Kt))),z.ADD_ATTR&&(typeof z.ADD_ATTR=="function"?D.attributeCheck=z.ADD_ATTR:(Q===F&&(Q=Qa(Q)),gt(Q,z.ADD_ATTR,Kt))),z.ADD_URI_SAFE_ATTR&&gt(te,z.ADD_URI_SAFE_ATTR,Kt),z.FORBID_CONTENTS&&(Oe===Ue&&(Oe=Qa(Oe)),gt(Oe,z.FORBID_CONTENTS,Kt)),z.ADD_FORBID_CONTENTS&&(Oe===Ue&&(Oe=Qa(Oe)),gt(Oe,z.ADD_FORBID_CONTENTS,Kt)),He&&(ae["#text"]=!0),A&&gt(ae,["html","head","body"]),ae.table&&(gt(ae,["tbody"]),delete x.tbody),z.TRUSTED_TYPES_POLICY){if(typeof z.TRUSTED_TYPES_POLICY.createHTML!="function")throw d0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof z.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw d0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=z.TRUSTED_TYPES_POLICY,N=C.createHTML("")}else C===void 0&&(C=_me(g,i)),C!==null&&typeof N=="string"&&(N=C.createHTML(""));Hi&&Hi(z),Ta=z}},Jw=gt({},[...MT,...IT,...fme]),Zw=gt({},[...AT,...gme]),nE=function(z){let fe=b(z);(!fe||!fe.tagName)&&(fe={namespaceURI:rt,tagName:"template"});const Me=Zx(z.tagName),Qt=Zx(fe.tagName);return Qn[z.namespaceURI]?z.namespaceURI===Nt?fe.namespaceURI===De?Me==="svg":fe.namespaceURI===Ye?Me==="svg"&&(Qt==="annotation-xml"||nr[Qt]):!!Jw[Me]:z.namespaceURI===Ye?fe.namespaceURI===De?Me==="math":fe.namespaceURI===Nt?Me==="math"&&Gt[Qt]:!!Zw[Me]:z.namespaceURI===De?fe.namespaceURI===Nt&&!Gt[Qt]||fe.namespaceURI===Ye&&!nr[Qt]?!1:!Zw[Me]&&(fr[Me]||!Jw[Me]):!!(Rt==="application/xhtml+xml"&&Qn[z.namespaceURI]):!1},ms=function(z){c0(e.removed,{element:z});try{b(z).removeChild(z)}catch{y(z)}},Io=function(z,fe){try{c0(e.removed,{attribute:fe.getAttributeNode(z),from:fe})}catch{c0(e.removed,{attribute:null,from:fe})}if(fe.removeAttribute(z),z==="is")if(V||X)try{ms(fe)}catch{}else try{fe.setAttribute(z,"")}catch{}},ka=function(z){let fe=null,Me=null;if(L)z="<remove></remove>"+z;else{const Hr=NT(z,/^[\r\n\t ]+/);Me=Hr&&Hr[0]}Rt==="application/xhtml+xml"&&rt===De&&(z='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+z+"</body></html>");const Qt=C?C.createHTML(z):z;if(rt===De)try{fe=new f().parseFromString(Qt,Rt)}catch{}if(!fe||!fe.documentElement){fe=P.createDocument(rt,"template",null);try{fe.documentElement.innerHTML=qe?N:Qt}catch{}}const kn=fe.body||fe.documentElement;return z&&Me&&kn.insertBefore(r.createTextNode(Me),kn.childNodes[0]||null),rt===De?I.call(fe,A?"html":"body")[0]:A?fe.documentElement:kn},eb=function(z){return k.call(z.ownerDocument||z,z,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},zp=function(z){return z instanceof h&&(typeof z.nodeName!="string"||typeof z.textContent!="string"||typeof z.removeChild!="function"||!(z.attributes instanceof d)||typeof z.removeAttribute!="function"||typeof z.setAttribute!="function"||typeof z.namespaceURI!="string"||typeof z.insertBefore!="function"||typeof z.hasChildNodes!="function")},tb=function(z){return typeof a=="function"&&z instanceof a};function Ao(je,z,fe){Wb(je,Me=>{Me.call(e,z,fe,Ta)})}const rb=function(z){let fe=null;if(Ao(Z.beforeSanitizeElements,z,null),zp(z))return ms(z),!0;const Me=Kt(z.nodeName);if(Ao(Z.uponSanitizeElement,z,{tagName:Me,allowedTags:ae}),j&&z.hasChildNodes()&&!tb(z.firstElementChild)&&wi(/<[/\w!]/g,z.innerHTML)&&wi(/<[/\w!]/g,z.textContent)||z.nodeType===f0.progressingInstruction||j&&z.nodeType===f0.comment&&wi(/<[/\w]/g,z.data))return ms(z),!0;if(!(D.tagCheck instanceof Function&&D.tagCheck(Me))&&(!ae[Me]||x[Me])){if(!x[Me]&&nb(Me)&&(v.tagNameCheck instanceof RegExp&&wi(v.tagNameCheck,Me)||v.tagNameCheck instanceof Function&&v.tagNameCheck(Me)))return!1;if(He&&!Oe[Me]){const Qt=b(z)||z.parentNode,kn=w(z)||z.childNodes;if(kn&&Qt){const Hr=kn.length;for(let Jn=Hr-1;Jn>=0;--Jn){const Vi=p(kn[Jn],!0);Vi.__removalCount=(z.__removalCount||0)+1,Qt.insertBefore(Vi,S(z))}}}return ms(z),!0}return z instanceof l&&!nE(z)||(Me==="noscript"||Me==="noembed"||Me==="noframes")&&wi(/<\/no(script|embed|frames)/i,z.innerHTML)?(ms(z),!0):($&&z.nodeType===f0.text&&(fe=z.textContent,Wb([q,J,re],Qt=>{fe=u0(fe,Qt," ")}),z.textContent!==fe&&(c0(e.removed,{element:z.cloneNode()}),z.textContent=fe)),Ao(Z.afterSanitizeElements,z,null),!1)},Gs=function(z,fe,Me){if(se&&(fe==="id"||fe==="name")&&(Me in r||Me in _d))return!1;if(!(_&&!E[fe]&&wi(ue,fe))){if(!(Y&&wi(ve,fe))){if(!(D.attributeCheck instanceof Function&&D.attributeCheck(fe,z))){if(!Q[fe]||E[fe]){if(!(nb(z)&&(v.tagNameCheck instanceof RegExp&&wi(v.tagNameCheck,z)||v.tagNameCheck instanceof Function&&v.tagNameCheck(z))&&(v.attributeNameCheck instanceof RegExp&&wi(v.attributeNameCheck,fe)||v.attributeNameCheck instanceof Function&&v.attributeNameCheck(fe,z))||fe==="is"&&v.allowCustomizedBuiltInElements&&(v.tagNameCheck instanceof RegExp&&wi(v.tagNameCheck,Me)||v.tagNameCheck instanceof Function&&v.tagNameCheck(Me))))return!1}else if(!te[fe]){if(!wi(ce,u0(Me,ie,""))){if(!((fe==="src"||fe==="xlink:href"||fe==="href")&&z!=="script"&&cme(Me,"data:")===0&&vt[z])){if(!(T&&!wi(be,u0(Me,ie,"")))){if(Me)return!1}}}}}}}return!0},nb=function(z){return z!=="annotation-xml"&&NT(z,ee)},ib=function(z){Ao(Z.beforeSanitizeAttributes,z,null);const{attributes:fe}=z;if(!fe||zp(z))return;const Me={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Q,forceKeepAttr:void 0};let Qt=fe.length;for(;Qt--;){const kn=fe[Qt],{name:Hr,namespaceURI:Jn,value:Vi}=kn,Yc=Kt(Hr),Up=Vi;let Jt=Hr==="value"?Up:ume(Up);if(Me.attrName=Yc,Me.attrValue=Jt,Me.keepAttr=!0,Me.forceKeepAttr=void 0,Ao(Z.uponSanitizeAttribute,z,Me),Jt=Me.attrValue,we&&(Yc==="id"||Yc==="name")&&(Io(Hr,z),Jt=pe+Jt),j&&wi(/((--!?|])>)|<\/(style|title|textarea)/i,Jt)){Io(Hr,z);continue}if(Yc==="attributename"&&NT(Jt,"href")){Io(Hr,z);continue}if(Me.forceKeepAttr)continue;if(!Me.keepAttr){Io(Hr,z);continue}if(!M&&wi(/\/>/i,Jt)){Io(Hr,z);continue}$&&Wb([q,J,re],ob=>{Jt=u0(Jt,ob," ")});const sb=Kt(z.nodeName);if(!Gs(sb,Yc,Jt)){Io(Hr,z);continue}if(C&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!Jn)switch(g.getAttributeType(sb,Yc)){case"TrustedHTML":{Jt=C.createHTML(Jt);break}case"TrustedScriptURL":{Jt=C.createScriptURL(Jt);break}}if(Jt!==Up)try{Jn?z.setAttributeNS(Jn,Hr,Jt):z.setAttribute(Hr,Jt),zp(z)?ms(z):TF(e.removed)}catch{Io(Hr,z)}}Ao(Z.afterSanitizeAttributes,z,null)},iE=function je(z){let fe=null;const Me=eb(z);for(Ao(Z.beforeSanitizeShadowDOM,z,null);fe=Me.nextNode();)Ao(Z.uponSanitizeShadowNode,fe,null),rb(fe),ib(fe),fe.content instanceof s&&je(fe.content);Ao(Z.afterSanitizeShadowDOM,z,null)};return e.sanitize=function(je){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fe=null,Me=null,Qt=null,kn=null;if(qe=!je,qe&&(je="<!-->"),typeof je!="string"&&!tb(je))if(typeof je.toString=="function"){if(je=je.toString(),typeof je!="string")throw d0("dirty is not a string, aborting")}else throw d0("toString is not a function");if(!e.isSupported)return je;if(U||Bp(z),e.removed=[],typeof je=="string"&&(Je=!1),Je){if(je.nodeName){const Vi=Kt(je.nodeName);if(!ae[Vi]||x[Vi])throw d0("root node is forbidden and cannot be sanitized in-place")}}else if(je instanceof a)fe=ka("<!---->"),Me=fe.ownerDocument.importNode(je,!0),Me.nodeType===f0.element&&Me.nodeName==="BODY"||Me.nodeName==="HTML"?fe=Me:fe.appendChild(Me);else{if(!V&&!$&&!A&&je.indexOf("<")===-1)return C&&K?C.createHTML(je):je;if(fe=ka(je),!fe)return V?null:K?N:""}fe&&L&&ms(fe.firstChild);const Hr=eb(Je?je:fe);for(;Qt=Hr.nextNode();)rb(Qt),ib(Qt),Qt.content instanceof s&&iE(Qt.content);if(Je)return je;if(V){if(X)for(kn=R.call(fe.ownerDocument);fe.firstChild;)kn.appendChild(fe.firstChild);else kn=fe;return(Q.shadowroot||Q.shadowrootmode)&&(kn=O.call(n,kn,!0)),kn}let Jn=A?fe.outerHTML:fe.innerHTML;return A&&ae["!doctype"]&&fe.ownerDocument&&fe.ownerDocument.doctype&&fe.ownerDocument.doctype.name&&wi($7,fe.ownerDocument.doctype.name)&&(Jn="<!DOCTYPE "+fe.ownerDocument.doctype.name+`>
`+Jn),$&&Wb([q,J,re],Vi=>{Jn=u0(Jn,Vi," ")}),C&&K?C.createHTML(Jn):Jn},e.setConfig=function(){let je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Bp(je),U=!0},e.clearConfig=function(){Ta=null,U=!1},e.isValidAttribute=function(je,z,fe){Ta||Bp({});const Me=Kt(je),Qt=Kt(z);return Gs(Me,Qt,fe)},e.addHook=function(je,z){typeof z=="function"&&c0(Z[je],z)},e.removeHook=function(je,z){if(z!==void 0){const fe=ame(Z[je],z);return fe===-1?void 0:lme(Z[je],fe,1)[0]}return TF(Z[je])},e.removeHooks=function(je){Z[je]=[]},e.removeAllHooks=function(){Z=AF()},e}var Rme=L7();//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var F7;function he(){return F7.apply(null,arguments)}function Eme(t){F7=t}function ya(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function ef(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function At(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function QO(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(At(t,e))return!1;return!0}function Xi(t){return t===void 0}function Mc(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Nw(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function V7(t,e){var r=[],n,i=t.length;for(n=0;n<i;++n)r.push(e(t[n],n));return r}function Wu(t,e){for(var r in e)At(e,r)&&(t[r]=e[r]);return At(e,"toString")&&(t.toString=e.toString),At(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Nl(t,e,r,n){return u9(t,e,r,n,!0).utc()}function Tme(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ot(t){return t._pf==null&&(t._pf=Tme()),t._pf}var GM;Array.prototype.some?GM=Array.prototype.some:GM=function(t){var e=Object(this),r=e.length>>>0,n;for(n=0;n<r;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function JO(t){var e=null,r=!1,n=t._d&&!isNaN(t._d.getTime());if(n&&(e=ot(t),r=GM.call(e.parsedDateParts,function(i){return i!=null}),n=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r),t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n;return t._isValid}function nR(t){var e=Nl(NaN);return t!=null?Wu(ot(e),t):ot(e).userInvalidated=!0,e}var OF=he.momentProperties=[],HT=!1;function ZO(t,e){var r,n,i,s=OF.length;if(Xi(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Xi(e._i)||(t._i=e._i),Xi(e._f)||(t._f=e._f),Xi(e._l)||(t._l=e._l),Xi(e._strict)||(t._strict=e._strict),Xi(e._tzm)||(t._tzm=e._tzm),Xi(e._isUTC)||(t._isUTC=e._isUTC),Xi(e._offset)||(t._offset=e._offset),Xi(e._pf)||(t._pf=ot(e)),Xi(e._locale)||(t._locale=e._locale),s>0)for(r=0;r<s;r++)n=OF[r],i=e[n],Xi(i)||(t[n]=i);return t}function Mw(t){ZO(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),HT===!1&&(HT=!0,he.updateOffset(this),HT=!1)}function va(t){return t instanceof Mw||t!=null&&t._isAMomentObject!=null}function W7(t){he.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function ko(t,e){var r=!0;return Wu(function(){if(he.deprecationHandler!=null&&he.deprecationHandler(null,t),r){var n=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])At(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];n.push(i)}W7(t+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return e.apply(this,arguments)},e)}var HF={};function B7(t,e){he.deprecationHandler!=null&&he.deprecationHandler(t,e),HF[t]||(W7(e),HF[t]=!0)}he.suppressDeprecationWarnings=!1;he.deprecationHandler=null;function Ml(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function kme(t){var e,r;for(r in t)At(t,r)&&(e=t[r],Ml(e)?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function KM(t,e){var r=Wu({},t),n;for(n in e)At(e,n)&&(ef(t[n])&&ef(e[n])?(r[n]={},Wu(r[n],t[n]),Wu(r[n],e[n])):e[n]!=null?r[n]=e[n]:delete r[n]);for(n in t)At(t,n)&&!At(e,n)&&ef(t[n])&&(r[n]=Wu({},r[n]));return r}function e2(t){t!=null&&this.set(t)}var qM;Object.keys?qM=Object.keys:qM=function(t){var e,r=[];for(e in t)At(t,e)&&r.push(e);return r};var Pme={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Nme(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return Ml(n)?n.call(e,r):n}function Rl(t,e,r){var n=""+Math.abs(t),i=e-n.length,s=t>=0;return(s?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var t2=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,jT={},km={};function Fe(t,e,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),t&&(km[t]=i),e&&(km[e[0]]=function(){return Rl(i.apply(this,arguments),e[1],e[2])}),r&&(km[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Mme(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Ime(t){var e=t.match(t2),r,n;for(r=0,n=e.length;r<n;r++)km[e[r]]?e[r]=km[e[r]]:e[r]=Mme(e[r]);return function(i){var s="",o;for(o=0;o<n;o++)s+=Ml(e[o])?e[o].call(i,t):e[o];return s}}function eC(t,e){return t.isValid()?(e=z7(e,t.localeData()),jT[e]=jT[e]||Ime(e),jT[e](t)):t.localeData().invalidDate()}function z7(t,e){var r=5;function n(i){return e.longDateFormat(i)||i}for(zb.lastIndex=0;r>=0&&zb.test(t);)t=t.replace(zb,n),zb.lastIndex=0,r-=1;return t}var Ame={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ome(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(t2).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var Hme="Invalid date";function jme(){return this._invalidDate}var Dme="%d",$me=/\d{1,2}/;function Lme(t){return this._ordinal.replace("%d",t)}var Fme={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Vme(t,e,r,n){var i=this._relativeTime[r];return Ml(i)?i(t,e,r,n):i.replace(/%d/i,t)}function Wme(t,e){var r=this._relativeTime[t>0?"future":"past"];return Ml(r)?r(e):r.replace(/%s/i,e)}var jF={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Po(t){return typeof t=="string"?jF[t]||jF[t.toLowerCase()]:void 0}function r2(t){var e={},r,n;for(n in t)At(t,n)&&(r=Po(n),r&&(e[r]=t[n]));return e}var Bme={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function zme(t){var e=[],r;for(r in t)At(t,r)&&e.push({unit:r,priority:Bme[r]});return e.sort(function(n,i){return n.priority-i.priority}),e}var U7=/\d/,Ys=/\d\d/,Y7=/\d{3}/,n2=/\d{4}/,iR=/[+-]?\d{6}/,hr=/\d\d?/,G7=/\d\d\d\d?/,K7=/\d\d\d\d\d\d?/,sR=/\d{1,3}/,i2=/\d{1,4}/,oR=/[+-]?\d{1,6}/,Pp=/\d+/,aR=/[+-]?\d+/,Ume=/Z|[+-]\d\d:?\d\d/gi,lR=/Z|[+-]\d\d(?::?\d\d)?/gi,Yme=/[+-]?\d+(\.\d{1,3})?/,Iw=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Np=/^[1-9]\d?/,s2=/^([1-9]\d|\d)/,h1;h1={};function Te(t,e,r){h1[t]=Ml(e)?e:function(n,i){return n&&r?r:e}}function Gme(t,e){return At(h1,t)?h1[t](e._strict,e._locale):new RegExp(Kme(t))}function Kme(t){return Sc(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,r,n,i,s){return r||n||i||s}))}function Sc(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function go(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ct(t){var e=+t,r=0;return e!==0&&isFinite(e)&&(r=go(e)),r}var XM={};function Yt(t,e){var r,n=e,i;for(typeof t=="string"&&(t=[t]),Mc(e)&&(n=function(s,o){o[e]=Ct(s)}),i=t.length,r=0;r<i;r++)XM[t[r]]=n}function Aw(t,e){Yt(t,function(r,n,i,s){i._w=i._w||{},e(r,i._w,i,s)})}function qme(t,e,r){e!=null&&At(XM,t)&&XM[t](e,r._a,r,t)}function cR(t){return t%4===0&&t%100!==0||t%400===0}var yi=0,fc=1,ml=2,Rn=3,ha=4,gc=5,Ih=6,Xme=7,Qme=8;Fe("Y",0,0,function(){var t=this.year();return t<=9999?Rl(t,4):"+"+t});Fe(0,["YY",2],0,function(){return this.year()%100});Fe(0,["YYYY",4],0,"year");Fe(0,["YYYYY",5],0,"year");Fe(0,["YYYYYY",6,!0],0,"year");Te("Y",aR);Te("YY",hr,Ys);Te("YYYY",i2,n2);Te("YYYYY",oR,iR);Te("YYYYYY",oR,iR);Yt(["YYYYY","YYYYYY"],yi);Yt("YYYY",function(t,e){e[yi]=t.length===2?he.parseTwoDigitYear(t):Ct(t)});Yt("YY",function(t,e){e[yi]=he.parseTwoDigitYear(t)});Yt("Y",function(t,e){e[yi]=parseInt(t,10)});function Fy(t){return cR(t)?366:365}he.parseTwoDigitYear=function(t){return Ct(t)+(Ct(t)>68?1900:2e3)};var q7=Mp("FullYear",!0);function Jme(){return cR(this.year())}function Mp(t,e){return function(r){return r!=null?(X7(this,t,r),he.updateOffset(this,e),this):Iv(this,t)}}function Iv(t,e){if(!t.isValid())return NaN;var r=t._d,n=t._isUTC;switch(e){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function X7(t,e,r){var n,i,s,o,a;if(!(!t.isValid()||isNaN(r))){switch(n=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(i?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(i?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(i?n.setUTCHours(r):n.setHours(r));case"Date":return void(i?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}s=r,o=t.month(),a=t.date(),a=a===29&&o===1&&!cR(s)?28:a,i?n.setUTCFullYear(s,o,a):n.setFullYear(s,o,a)}}function Zme(t){return t=Po(t),Ml(this[t])?this[t]():this}function epe(t,e){if(typeof t=="object"){t=r2(t);var r=zme(t),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](t[r[n].unit])}else if(t=Po(t),Ml(this[t]))return this[t](e);return this}function tpe(t,e){return(t%e+e)%e}var Qr;Array.prototype.indexOf?Qr=Array.prototype.indexOf:Qr=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function o2(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=tpe(e,12);return t+=(e-r)/12,r===1?cR(t)?29:28:31-r%7%2}Fe("M",["MM",2],"Mo",function(){return this.month()+1});Fe("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Fe("MMMM",0,0,function(t){return this.localeData().months(this,t)});Te("M",hr,Np);Te("MM",hr,Ys);Te("MMM",function(t,e){return e.monthsShortRegex(t)});Te("MMMM",function(t,e){return e.monthsRegex(t)});Yt(["M","MM"],function(t,e){e[fc]=Ct(t)-1});Yt(["MMM","MMMM"],function(t,e,r,n){var i=r._locale.monthsParse(t,n,r._strict);i!=null?e[fc]=i:ot(r).invalidMonth=t});var rpe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Q7="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),J7=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,npe=Iw,ipe=Iw;function spe(t,e){return t?ya(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||J7).test(e)?"format":"standalone"][t.month()]:ya(this._months)?this._months:this._months.standalone}function ope(t,e){return t?ya(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[J7.test(e)?"format":"standalone"][t.month()]:ya(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ape(t,e,r){var n,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=Nl([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?e==="MMM"?(i=Qr.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Qr.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=Qr.call(this._shortMonthsParse,o),i!==-1?i:(i=Qr.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Qr.call(this._longMonthsParse,o),i!==-1?i:(i=Qr.call(this._shortMonthsParse,o),i!==-1?i:null))}function lpe(t,e,r){var n,i,s;if(this._monthsParseExact)return ape.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=Nl([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(r&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}}function Z7(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ct(e);else if(e=t.localeData().monthsParse(e),!Mc(e))return t}var r=e,n=t.date();return n=n<29?n:Math.min(n,o2(t.year(),r)),t._isUTC?t._d.setUTCMonth(r,n):t._d.setMonth(r,n),t}function e9(t){return t!=null?(Z7(this,t),he.updateOffset(this,!0),this):Iv(this,"Month")}function cpe(){return o2(this.year(),this.month())}function upe(t){return this._monthsParseExact?(At(this,"_monthsRegex")||t9.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(At(this,"_monthsShortRegex")||(this._monthsShortRegex=npe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function dpe(t){return this._monthsParseExact?(At(this,"_monthsRegex")||t9.call(this),t?this._monthsStrictRegex:this._monthsRegex):(At(this,"_monthsRegex")||(this._monthsRegex=ipe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function t9(){function t(l,c){return c.length-l.length}var e=[],r=[],n=[],i,s,o,a;for(i=0;i<12;i++)s=Nl([2e3,i]),o=Sc(this.monthsShort(s,"")),a=Sc(this.months(s,"")),e.push(o),r.push(a),n.push(a),n.push(o);e.sort(t),r.sort(t),n.sort(t),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function hpe(t,e,r,n,i,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,r,n,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,r,n,i,s,o),a}function Av(t){var e,r;return t<100&&t>=0?(r=Array.prototype.slice.call(arguments),r[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function f1(t,e,r){var n=7+e-r,i=(7+Av(t,0,n).getUTCDay()-e)%7;return-i+n-1}function r9(t,e,r,n,i){var s=(7+r-n)%7,o=f1(t,n,i),a=1+7*(e-1)+s+o,l,c;return a<=0?(l=t-1,c=Fy(l)+a):a>Fy(t)?(l=t+1,c=a-Fy(t)):(l=t,c=a),{year:l,dayOfYear:c}}function Ov(t,e,r){var n=f1(t.year(),e,r),i=Math.floor((t.dayOfYear()-n-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+xc(o,e,r)):i>xc(t.year(),e,r)?(s=i-xc(t.year(),e,r),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function xc(t,e,r){var n=f1(t,e,r),i=f1(t+1,e,r);return(Fy(t)-n+i)/7}Fe("w",["ww",2],"wo","week");Fe("W",["WW",2],"Wo","isoWeek");Te("w",hr,Np);Te("ww",hr,Ys);Te("W",hr,Np);Te("WW",hr,Ys);Aw(["w","ww","W","WW"],function(t,e,r,n){e[n.substr(0,1)]=Ct(t)});function fpe(t){return Ov(t,this._week.dow,this._week.doy).week}var gpe={dow:0,doy:6};function mpe(){return this._week.dow}function ppe(){return this._week.doy}function ype(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function vpe(t){var e=Ov(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Fe("d",0,"do","day");Fe("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Fe("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Fe("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Fe("e",0,0,"weekday");Fe("E",0,0,"isoWeekday");Te("d",hr);Te("e",hr);Te("E",hr);Te("dd",function(t,e){return e.weekdaysMinRegex(t)});Te("ddd",function(t,e){return e.weekdaysShortRegex(t)});Te("dddd",function(t,e){return e.weekdaysRegex(t)});Aw(["dd","ddd","dddd"],function(t,e,r,n){var i=r._locale.weekdaysParse(t,n,r._strict);i!=null?e.d=i:ot(r).invalidWeekday=t});Aw(["d","e","E"],function(t,e,r,n){e[n]=Ct(t)});function wpe(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function bpe(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function a2(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Spe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),n9="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xpe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Cpe=Iw,_pe=Iw,Rpe=Iw;function Epe(t,e){var r=ya(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?a2(r,this._week.dow):t?r[t.day()]:r}function Tpe(t){return t===!0?a2(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function kpe(t){return t===!0?a2(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Ppe(t,e,r){var n,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=Nl([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?e==="dddd"?(i=Qr.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=Qr.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Qr.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=Qr.call(this._weekdaysParse,o),i!==-1||(i=Qr.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Qr.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=Qr.call(this._shortWeekdaysParse,o),i!==-1||(i=Qr.call(this._weekdaysParse,o),i!==-1)?i:(i=Qr.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Qr.call(this._minWeekdaysParse,o),i!==-1||(i=Qr.call(this._weekdaysParse,o),i!==-1)?i:(i=Qr.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function Npe(t,e,r){var n,i,s;if(this._weekdaysParseExact)return Ppe.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=Nl([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(r&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(r&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}}function Mpe(t){if(!this.isValid())return t!=null?this:NaN;var e=Iv(this,"Day");return t!=null?(t=wpe(t,this.localeData()),this.add(t-e,"d")):e}function Ipe(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Ape(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=bpe(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Ope(t){return this._weekdaysParseExact?(At(this,"_weekdaysRegex")||l2.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(At(this,"_weekdaysRegex")||(this._weekdaysRegex=Cpe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Hpe(t){return this._weekdaysParseExact?(At(this,"_weekdaysRegex")||l2.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(At(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=_pe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function jpe(t){return this._weekdaysParseExact?(At(this,"_weekdaysRegex")||l2.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(At(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Rpe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function l2(){function t(d,h){return h.length-d.length}var e=[],r=[],n=[],i=[],s,o,a,l,c;for(s=0;s<7;s++)o=Nl([2e3,1]).day(s),a=Sc(this.weekdaysMin(o,"")),l=Sc(this.weekdaysShort(o,"")),c=Sc(this.weekdays(o,"")),e.push(a),r.push(l),n.push(c),i.push(a),i.push(l),i.push(c);e.sort(t),r.sort(t),n.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function c2(){return this.hours()%12||12}function Dpe(){return this.hours()||24}Fe("H",["HH",2],0,"hour");Fe("h",["hh",2],0,c2);Fe("k",["kk",2],0,Dpe);Fe("hmm",0,0,function(){return""+c2.apply(this)+Rl(this.minutes(),2)});Fe("hmmss",0,0,function(){return""+c2.apply(this)+Rl(this.minutes(),2)+Rl(this.seconds(),2)});Fe("Hmm",0,0,function(){return""+this.hours()+Rl(this.minutes(),2)});Fe("Hmmss",0,0,function(){return""+this.hours()+Rl(this.minutes(),2)+Rl(this.seconds(),2)});function i9(t,e){Fe(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}i9("a",!0);i9("A",!1);function s9(t,e){return e._meridiemParse}Te("a",s9);Te("A",s9);Te("H",hr,s2);Te("h",hr,Np);Te("k",hr,Np);Te("HH",hr,Ys);Te("hh",hr,Ys);Te("kk",hr,Ys);Te("hmm",G7);Te("hmmss",K7);Te("Hmm",G7);Te("Hmmss",K7);Yt(["H","HH"],Rn);Yt(["k","kk"],function(t,e,r){var n=Ct(t);e[Rn]=n===24?0:n});Yt(["a","A"],function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t});Yt(["h","hh"],function(t,e,r){e[Rn]=Ct(t),ot(r).bigHour=!0});Yt("hmm",function(t,e,r){var n=t.length-2;e[Rn]=Ct(t.substr(0,n)),e[ha]=Ct(t.substr(n)),ot(r).bigHour=!0});Yt("hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[Rn]=Ct(t.substr(0,n)),e[ha]=Ct(t.substr(n,2)),e[gc]=Ct(t.substr(i)),ot(r).bigHour=!0});Yt("Hmm",function(t,e,r){var n=t.length-2;e[Rn]=Ct(t.substr(0,n)),e[ha]=Ct(t.substr(n))});Yt("Hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[Rn]=Ct(t.substr(0,n)),e[ha]=Ct(t.substr(n,2)),e[gc]=Ct(t.substr(i))});function $pe(t){return(t+"").toLowerCase().charAt(0)==="p"}var Lpe=/[ap]\.?m?\.?/i,Fpe=Mp("Hours",!0);function Vpe(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"}var o9={calendar:Pme,longDateFormat:Ame,invalidDate:Hme,ordinal:Dme,dayOfMonthOrdinalParse:$me,relativeTime:Fme,months:rpe,monthsShort:Q7,week:gpe,weekdays:Spe,weekdaysMin:xpe,weekdaysShort:n9,meridiemParse:Lpe},wr={},g0={},Hv;function Wpe(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function DF(t){return t&&t.toLowerCase().replace("_","-")}function Bpe(t){for(var e=0,r,n,i,s;e<t.length;){for(s=DF(t[e]).split("-"),r=s.length,n=DF(t[e+1]),n=n?n.split("-"):null;r>0;){if(i=uR(s.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&Wpe(s,n)>=r-1)break;r--}e++}return Hv}function zpe(t){return!!(t&&t.match("^[^/\\\\]*$"))}function uR(t){var e=null,r;if(wr[t]===void 0&&typeof RC<"u"&&RC&&RC.exports&&zpe(t))try{e=Hv._abbr,r=require,r("./locale/"+t),nd(e)}catch{wr[t]=null}return wr[t]}function nd(t,e){var r;return t&&(Xi(e)?r=Vc(t):r=u2(t,e),r?Hv=r:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Hv._abbr}function u2(t,e){if(e!==null){var r,n=o9;if(e.abbr=t,wr[t]!=null)B7("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=wr[t]._config;else if(e.parentLocale!=null)if(wr[e.parentLocale]!=null)n=wr[e.parentLocale]._config;else if(r=uR(e.parentLocale),r!=null)n=r._config;else return g0[e.parentLocale]||(g0[e.parentLocale]=[]),g0[e.parentLocale].push({name:t,config:e}),null;return wr[t]=new e2(KM(n,e)),g0[t]&&g0[t].forEach(function(i){u2(i.name,i.config)}),nd(t),wr[t]}else return delete wr[t],null}function Upe(t,e){if(e!=null){var r,n,i=o9;wr[t]!=null&&wr[t].parentLocale!=null?wr[t].set(KM(wr[t]._config,e)):(n=uR(t),n!=null&&(i=n._config),e=KM(i,e),n==null&&(e.abbr=t),r=new e2(e),r.parentLocale=wr[t],wr[t]=r),nd(t)}else wr[t]!=null&&(wr[t].parentLocale!=null?(wr[t]=wr[t].parentLocale,t===nd()&&nd(t)):wr[t]!=null&&delete wr[t]);return wr[t]}function Vc(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Hv;if(!ya(t)){if(e=uR(t),e)return e;t=[t]}return Bpe(t)}function Ype(){return qM(wr)}function d2(t){var e,r=t._a;return r&&ot(t).overflow===-2&&(e=r[fc]<0||r[fc]>11?fc:r[ml]<1||r[ml]>o2(r[yi],r[fc])?ml:r[Rn]<0||r[Rn]>24||r[Rn]===24&&(r[ha]!==0||r[gc]!==0||r[Ih]!==0)?Rn:r[ha]<0||r[ha]>59?ha:r[gc]<0||r[gc]>59?gc:r[Ih]<0||r[Ih]>999?Ih:-1,ot(t)._overflowDayOfYear&&(e<yi||e>ml)&&(e=ml),ot(t)._overflowWeeks&&e===-1&&(e=Xme),ot(t)._overflowWeekday&&e===-1&&(e=Qme),ot(t).overflow=e),t}var Gpe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Kpe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qpe=/Z|[+-]\d\d(?::?\d\d)?/,Ub=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],DT=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Xpe=/^\/?Date\((-?\d+)/i,Qpe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Jpe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function a9(t){var e,r,n=t._i,i=Gpe.exec(n)||Kpe.exec(n),s,o,a,l,c=Ub.length,d=DT.length;if(i){for(ot(t).iso=!0,e=0,r=c;e<r;e++)if(Ub[e][1].exec(i[1])){o=Ub[e][0],s=Ub[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,r=d;e<r;e++)if(DT[e][1].exec(i[3])){a=(i[2]||" ")+DT[e][0];break}if(a==null){t._isValid=!1;return}}if(!s&&a!=null){t._isValid=!1;return}if(i[4])if(qpe.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),f2(t)}else t._isValid=!1}function Zpe(t,e,r,n,i,s){var o=[e0e(t),Q7.indexOf(e),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function e0e(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function t0e(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function r0e(t,e,r){if(t){var n=n9.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(n!==i)return ot(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function n0e(t,e,r){if(t)return Jpe[t];if(e)return 0;var n=parseInt(r,10),i=n%100,s=(n-i)/100;return s*60+i}function l9(t){var e=Qpe.exec(t0e(t._i)),r;if(e){if(r=Zpe(e[4],e[3],e[2],e[5],e[6],e[7]),!r0e(e[1],r,t))return;t._a=r,t._tzm=n0e(e[8],e[9],e[10]),t._d=Av.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ot(t).rfc2822=!0}else t._isValid=!1}function i0e(t){var e=Xpe.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(a9(t),t._isValid===!1)delete t._isValid;else return;if(l9(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:he.createFromInputFallback(t)}he.createFromInputFallback=ko("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Lg(t,e,r){return t??e??r}function s0e(t){var e=new Date(he.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function h2(t){var e,r,n=[],i,s,o;if(!t._d){for(i=s0e(t),t._w&&t._a[ml]==null&&t._a[fc]==null&&o0e(t),t._dayOfYear!=null&&(o=Lg(t._a[yi],i[yi]),(t._dayOfYear>Fy(o)||t._dayOfYear===0)&&(ot(t)._overflowDayOfYear=!0),r=Av(o,0,t._dayOfYear),t._a[fc]=r.getUTCMonth(),t._a[ml]=r.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=i[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Rn]===24&&t._a[ha]===0&&t._a[gc]===0&&t._a[Ih]===0&&(t._nextDay=!0,t._a[Rn]=0),t._d=(t._useUTC?Av:hpe).apply(null,n),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Rn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(ot(t).weekdayMismatch=!0)}}function o0e(t){var e,r,n,i,s,o,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,r=Lg(e.GG,t._a[yi],Ov(dr(),1,4).year),n=Lg(e.W,1),i=Lg(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,c=Ov(dr(),s,o),r=Lg(e.gg,t._a[yi],c.year),n=Lg(e.w,c.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),n<1||n>xc(r,s,o)?ot(t)._overflowWeeks=!0:l!=null?ot(t)._overflowWeekday=!0:(a=r9(r,n,i,s,o),t._a[yi]=a.year,t._dayOfYear=a.dayOfYear)}he.ISO_8601=function(){};he.RFC_2822=function(){};function f2(t){if(t._f===he.ISO_8601){a9(t);return}if(t._f===he.RFC_2822){l9(t);return}t._a=[],ot(t).empty=!0;var e=""+t._i,r,n,i,s,o,a=e.length,l=0,c,d;for(i=z7(t._f,t._locale).match(t2)||[],d=i.length,r=0;r<d;r++)s=i[r],n=(e.match(Gme(s,t))||[])[0],n&&(o=e.substr(0,e.indexOf(n)),o.length>0&&ot(t).unusedInput.push(o),e=e.slice(e.indexOf(n)+n.length),l+=n.length),km[s]?(n?ot(t).empty=!1:ot(t).unusedTokens.push(s),qme(s,n,t)):t._strict&&!n&&ot(t).unusedTokens.push(s);ot(t).charsLeftOver=a-l,e.length>0&&ot(t).unusedInput.push(e),t._a[Rn]<=12&&ot(t).bigHour===!0&&t._a[Rn]>0&&(ot(t).bigHour=void 0),ot(t).parsedDateParts=t._a.slice(0),ot(t).meridiem=t._meridiem,t._a[Rn]=a0e(t._locale,t._a[Rn],t._meridiem),c=ot(t).era,c!==null&&(t._a[yi]=t._locale.erasConvertYear(c,t._a[yi])),h2(t),d2(t)}function a0e(t,e,r){var n;return r==null?e:t.meridiemHour!=null?t.meridiemHour(e,r):(t.isPM!=null&&(n=t.isPM(r),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function l0e(t){var e,r,n,i,s,o,a=!1,l=t._f.length;if(l===0){ot(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=ZO({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],f2(e),JO(e)&&(o=!0),s+=ot(e).charsLeftOver,s+=ot(e).unusedTokens.length*10,ot(e).score=s,a?s<n&&(n=s,r=e):(n==null||s<n||o)&&(n=s,r=e,o&&(a=!0));Wu(t,r||e)}function c0e(t){if(!t._d){var e=r2(t._i),r=e.day===void 0?e.date:e.day;t._a=V7([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),h2(t)}}function u0e(t){var e=new Mw(d2(c9(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function c9(t){var e=t._i,r=t._f;return t._locale=t._locale||Vc(t._l),e===null||r===void 0&&e===""?nR({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),va(e)?new Mw(d2(e)):(Nw(e)?t._d=e:ya(r)?l0e(t):r?f2(t):d0e(t),JO(t)||(t._d=null),t))}function d0e(t){var e=t._i;Xi(e)?t._d=new Date(he.now()):Nw(e)?t._d=new Date(e.valueOf()):typeof e=="string"?i0e(t):ya(e)?(t._a=V7(e.slice(0),function(r){return parseInt(r,10)}),h2(t)):ef(e)?c0e(t):Mc(e)?t._d=new Date(e):he.createFromInputFallback(t)}function u9(t,e,r,n,i){var s={};return(e===!0||e===!1)&&(n=e,e=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(ef(t)&&QO(t)||ya(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=r,s._i=t,s._f=e,s._strict=n,u0e(s)}function dr(t,e,r,n){return u9(t,e,r,n,!1)}var h0e=ko("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=dr.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:nR()}),f0e=ko("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=dr.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:nR()});function d9(t,e){var r,n;if(e.length===1&&ya(e[0])&&(e=e[0]),!e.length)return dr();for(r=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](r))&&(r=e[n]);return r}function g0e(){var t=[].slice.call(arguments,0);return d9("isBefore",t)}function m0e(){var t=[].slice.call(arguments,0);return d9("isAfter",t)}var p0e=function(){return Date.now?Date.now():+new Date},m0=["year","quarter","month","week","day","hour","minute","second","millisecond"];function y0e(t){var e,r=!1,n,i=m0.length;for(e in t)if(At(t,e)&&!(Qr.call(m0,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<i;++n)if(t[m0[n]]){if(r)return!1;parseFloat(t[m0[n]])!==Ct(t[m0[n]])&&(r=!0)}return!0}function v0e(){return this._isValid}function w0e(){return Ra(NaN)}function dR(t){var e=r2(t),r=e.year||0,n=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,d=e.millisecond||0;this._isValid=y0e(e),this._milliseconds=+d+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+n*3+r*12,this._data={},this._locale=Vc(),this._bubble()}function tC(t){return t instanceof dR}function QM(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function b0e(t,e,r){var n=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<n;o++)Ct(t[o])!==Ct(e[o])&&s++;return s+i}function h9(t,e){Fe(t,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+Rl(~~(r/60),2)+e+Rl(~~r%60,2)})}h9("Z",":");h9("ZZ","");Te("Z",lR);Te("ZZ",lR);Yt(["Z","ZZ"],function(t,e,r){r._useUTC=!0,r._tzm=g2(lR,t)});var S0e=/([\+\-]|\d\d)/gi;function g2(t,e){var r=(e||"").match(t),n,i,s;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(S0e)||["-",0,0],s=+(i[1]*60)+Ct(i[2]),s===0?0:i[0]==="+"?s:-s)}function m2(t,e){var r,n;return e._isUTC?(r=e.clone(),n=(va(t)||Nw(t)?t.valueOf():dr(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),he.updateOffset(r,!1),r):dr(t).local()}function JM(t){return-Math.round(t._d.getTimezoneOffset())}he.updateOffset=function(){};function x0e(t,e,r){var n=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=g2(lR,t),t===null)return this}else Math.abs(t)<16&&!r&&(t=t*60);return!this._isUTC&&e&&(i=JM(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?m9(this,Ra(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,he.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:JM(this)}function C0e(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function _0e(t){return this.utcOffset(0,t)}function R0e(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(JM(this),"m")),this}function E0e(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=g2(Ume,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function T0e(t){return this.isValid()?(t=t?dr(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function k0e(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function P0e(){if(!Xi(this._isDSTShifted))return this._isDSTShifted;var t={},e;return ZO(t,this),t=c9(t),t._a?(e=t._isUTC?Nl(t._a):dr(t._a),this._isDSTShifted=this.isValid()&&b0e(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function N0e(){return this.isValid()?!this._isUTC:!1}function M0e(){return this.isValid()?this._isUTC:!1}function f9(){return this.isValid()?this._isUTC&&this._offset===0:!1}var I0e=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,A0e=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ra(t,e){var r=t,n=null,i,s,o;return tC(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:Mc(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(n=I0e.exec(t))?(i=n[1]==="-"?-1:1,r={y:0,d:Ct(n[ml])*i,h:Ct(n[Rn])*i,m:Ct(n[ha])*i,s:Ct(n[gc])*i,ms:Ct(QM(n[Ih]*1e3))*i}):(n=A0e.exec(t))?(i=n[1]==="-"?-1:1,r={y:kd(n[2],i),M:kd(n[3],i),w:kd(n[4],i),d:kd(n[5],i),h:kd(n[6],i),m:kd(n[7],i),s:kd(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(o=O0e(dr(r.from),dr(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),s=new dR(r),tC(t)&&At(t,"_locale")&&(s._locale=t._locale),tC(t)&&At(t,"_isValid")&&(s._isValid=t._isValid),s}Ra.fn=dR.prototype;Ra.invalid=w0e;function kd(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function $F(t,e){var r={};return r.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function O0e(t,e){var r;return t.isValid()&&e.isValid()?(e=m2(e,t),t.isBefore(e)?r=$F(t,e):(r=$F(e,t),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function g9(t,e){return function(r,n){var i,s;return n!==null&&!isNaN(+n)&&(B7(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=r,r=n,n=s),i=Ra(r,n),m9(this,i,t),this}}function m9(t,e,r,n){var i=e._milliseconds,s=QM(e._days),o=QM(e._months);t.isValid()&&(n=n??!0,o&&Z7(t,Iv(t,"Month")+o*r),s&&X7(t,"Date",Iv(t,"Date")+s*r),i&&t._d.setTime(t._d.valueOf()+i*r),n&&he.updateOffset(t,s||o))}var H0e=g9(1,"add"),j0e=g9(-1,"subtract");function p9(t){return typeof t=="string"||t instanceof String}function D0e(t){return va(t)||Nw(t)||p9(t)||Mc(t)||L0e(t)||$0e(t)||t===null||t===void 0}function $0e(t){var e=ef(t)&&!QO(t),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=n.length;for(i=0;i<o;i+=1)s=n[i],r=r||At(t,s);return e&&r}function L0e(t){var e=ya(t),r=!1;return e&&(r=t.filter(function(n){return!Mc(n)&&p9(t)}).length===0),e&&r}function F0e(t){var e=ef(t)&&!QO(t),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<n.length;i+=1)s=n[i],r=r||At(t,s);return e&&r}function V0e(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function W0e(t,e){arguments.length===1&&(arguments[0]?D0e(arguments[0])?(t=arguments[0],e=void 0):F0e(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||dr(),n=m2(r,this).startOf("day"),i=he.calendarFormat(this,n)||"sameElse",s=e&&(Ml(e[i])?e[i].call(this,r):e[i]);return this.format(s||this.localeData().calendar(i,this,dr(r)))}function B0e(){return new Mw(this)}function z0e(t,e){var r=va(t)?t:dr(t);return this.isValid()&&r.isValid()?(e=Po(e)||"millisecond",e==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf()):!1}function U0e(t,e){var r=va(t)?t:dr(t);return this.isValid()&&r.isValid()?(e=Po(e)||"millisecond",e==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf()):!1}function Y0e(t,e,r,n){var i=va(t)?t:dr(t),s=va(e)?e:dr(e);return this.isValid()&&i.isValid()&&s.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(s,r):!this.isAfter(s,r))):!1}function G0e(t,e){var r=va(t)?t:dr(t),n;return this.isValid()&&r.isValid()?(e=Po(e)||"millisecond",e==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function K0e(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function q0e(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function X0e(t,e,r){var n,i,s;if(!this.isValid())return NaN;if(n=m2(t,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,e=Po(e),e){case"year":s=rC(this,n)/12;break;case"month":s=rC(this,n);break;case"quarter":s=rC(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-i)/864e5;break;case"week":s=(this-n-i)/6048e5;break;default:s=this-n}return r?s:go(s)}function rC(t,e){if(t.date()<e.date())return-rC(e,t);var r=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(r,"months"),i,s;return e-n<0?(i=t.clone().add(r-1,"months"),s=(e-n)/(n-i)):(i=t.clone().add(r+1,"months"),s=(e-n)/(i-n)),-(r+s)||0}he.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";he.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Q0e(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function J0e(t){if(!this.isValid())return null;var e=t!==!0,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?eC(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ml(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",eC(r,"Z")):eC(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Z0e(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",r,n,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),r="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(r+n+i+s)}function eye(t){t||(t=this.isUtc()?he.defaultFormatUtc:he.defaultFormat);var e=eC(this,t);return this.localeData().postformat(e)}function tye(t,e){return this.isValid()&&(va(t)&&t.isValid()||dr(t).isValid())?Ra({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function rye(t){return this.from(dr(),t)}function nye(t,e){return this.isValid()&&(va(t)&&t.isValid()||dr(t).isValid())?Ra({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function iye(t){return this.to(dr(),t)}function y9(t){var e;return t===void 0?this._locale._abbr:(e=Vc(t),e!=null&&(this._locale=e),this)}var v9=ko("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function w9(){return this._locale}var g1=1e3,Pm=60*g1,m1=60*Pm,b9=(365*400+97)*24*m1;function Nm(t,e){return(t%e+e)%e}function S9(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-b9:new Date(t,e,r).valueOf()}function x9(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-b9:Date.UTC(t,e,r)}function sye(t){var e,r;if(t=Po(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?x9:S9,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Nm(e+(this._isUTC?0:this.utcOffset()*Pm),m1);break;case"minute":e=this._d.valueOf(),e-=Nm(e,Pm);break;case"second":e=this._d.valueOf(),e-=Nm(e,g1);break}return this._d.setTime(e),he.updateOffset(this,!0),this}function oye(t){var e,r;if(t=Po(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?x9:S9,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=m1-Nm(e+(this._isUTC?0:this.utcOffset()*Pm),m1)-1;break;case"minute":e=this._d.valueOf(),e+=Pm-Nm(e,Pm)-1;break;case"second":e=this._d.valueOf(),e+=g1-Nm(e,g1)-1;break}return this._d.setTime(e),he.updateOffset(this,!0),this}function aye(){return this._d.valueOf()-(this._offset||0)*6e4}function lye(){return Math.floor(this.valueOf()/1e3)}function cye(){return new Date(this.valueOf())}function uye(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function dye(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function hye(){return this.isValid()?this.toISOString():null}function fye(){return JO(this)}function gye(){return Wu({},ot(this))}function mye(){return ot(this).overflow}function pye(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Fe("N",0,0,"eraAbbr");Fe("NN",0,0,"eraAbbr");Fe("NNN",0,0,"eraAbbr");Fe("NNNN",0,0,"eraName");Fe("NNNNN",0,0,"eraNarrow");Fe("y",["y",1],"yo","eraYear");Fe("y",["yy",2],0,"eraYear");Fe("y",["yyy",3],0,"eraYear");Fe("y",["yyyy",4],0,"eraYear");Te("N",p2);Te("NN",p2);Te("NNN",p2);Te("NNNN",Tye);Te("NNNNN",kye);Yt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,r,n){var i=r._locale.erasParse(t,n,r._strict);i?ot(r).era=i:ot(r).invalidEra=t});Te("y",Pp);Te("yy",Pp);Te("yyy",Pp);Te("yyyy",Pp);Te("yo",Pye);Yt(["y","yy","yyy","yyyy"],yi);Yt(["yo"],function(t,e,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[yi]=r._locale.eraYearOrdinalParse(t,i):e[yi]=parseInt(t,10)});function yye(t,e){var r,n,i,s=this._eras||Vc("en")._eras;for(r=0,n=s.length;r<n;++r){switch(typeof s[r].since){case"string":i=he(s[r].since).startOf("day"),s[r].since=i.valueOf();break}switch(typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":i=he(s[r].until).startOf("day").valueOf(),s[r].until=i.valueOf();break}}return s}function vye(t,e,r){var n,i,s=this.eras(),o,a,l;for(t=t.toUpperCase(),n=0,i=s.length;n<i;++n)if(o=s[n].name.toUpperCase(),a=s[n].abbr.toUpperCase(),l=s[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(a===t)return s[n];break;case"NNNN":if(o===t)return s[n];break;case"NNNNN":if(l===t)return s[n];break}else if([o,a,l].indexOf(t)>=0)return s[n]}function wye(t,e){var r=t.since<=t.until?1:-1;return e===void 0?he(t.since).year():he(t.since).year()+(e-t.offset)*r}function bye(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].name;return""}function Sye(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].narrow;return""}function xye(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].abbr;return""}function Cye(){var t,e,r,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(r=i[t].since<=i[t].until?1:-1,n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return(this.year()-he(i[t].since).year())*r+i[t].offset;return this.year()}function _ye(t){return At(this,"_erasNameRegex")||y2.call(this),t?this._erasNameRegex:this._erasRegex}function Rye(t){return At(this,"_erasAbbrRegex")||y2.call(this),t?this._erasAbbrRegex:this._erasRegex}function Eye(t){return At(this,"_erasNarrowRegex")||y2.call(this),t?this._erasNarrowRegex:this._erasRegex}function p2(t,e){return e.erasAbbrRegex(t)}function Tye(t,e){return e.erasNameRegex(t)}function kye(t,e){return e.erasNarrowRegex(t)}function Pye(t,e){return e._eraYearOrdinalRegex||Pp}function y2(){var t=[],e=[],r=[],n=[],i,s,o,a,l,c=this.eras();for(i=0,s=c.length;i<s;++i)o=Sc(c[i].name),a=Sc(c[i].abbr),l=Sc(c[i].narrow),e.push(o),t.push(a),r.push(l),n.push(o),n.push(a),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}Fe(0,["gg",2],0,function(){return this.weekYear()%100});Fe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function hR(t,e){Fe(0,[t,t.length],0,e)}hR("gggg","weekYear");hR("ggggg","weekYear");hR("GGGG","isoWeekYear");hR("GGGGG","isoWeekYear");Te("G",aR);Te("g",aR);Te("GG",hr,Ys);Te("gg",hr,Ys);Te("GGGG",i2,n2);Te("gggg",i2,n2);Te("GGGGG",oR,iR);Te("ggggg",oR,iR);Aw(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,n){e[n.substr(0,2)]=Ct(t)});Aw(["gg","GG"],function(t,e,r,n){e[n]=he.parseTwoDigitYear(t)});function Nye(t){return C9.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Mye(t){return C9.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Iye(){return xc(this.year(),1,4)}function Aye(){return xc(this.isoWeekYear(),1,4)}function Oye(){var t=this.localeData()._week;return xc(this.year(),t.dow,t.doy)}function Hye(){var t=this.localeData()._week;return xc(this.weekYear(),t.dow,t.doy)}function C9(t,e,r,n,i){var s;return t==null?Ov(this,n,i).year:(s=xc(t,n,i),e>s&&(e=s),jye.call(this,t,e,r,n,i))}function jye(t,e,r,n,i){var s=r9(t,e,r,n,i),o=Av(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Fe("Q",0,"Qo","quarter");Te("Q",U7);Yt("Q",function(t,e){e[fc]=(Ct(t)-1)*3});function Dye(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Fe("D",["DD",2],"Do","date");Te("D",hr,Np);Te("DD",hr,Ys);Te("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Yt(["D","DD"],ml);Yt("Do",function(t,e){e[ml]=Ct(t.match(hr)[0])});var _9=Mp("Date",!0);Fe("DDD",["DDDD",3],"DDDo","dayOfYear");Te("DDD",sR);Te("DDDD",Y7);Yt(["DDD","DDDD"],function(t,e,r){r._dayOfYear=Ct(t)});function $ye(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Fe("m",["mm",2],0,"minute");Te("m",hr,s2);Te("mm",hr,Ys);Yt(["m","mm"],ha);var Lye=Mp("Minutes",!1);Fe("s",["ss",2],0,"second");Te("s",hr,s2);Te("ss",hr,Ys);Yt(["s","ss"],gc);var Fye=Mp("Seconds",!1);Fe("S",0,0,function(){return~~(this.millisecond()/100)});Fe(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Fe(0,["SSS",3],0,"millisecond");Fe(0,["SSSS",4],0,function(){return this.millisecond()*10});Fe(0,["SSSSS",5],0,function(){return this.millisecond()*100});Fe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Fe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Fe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Fe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Te("S",sR,U7);Te("SS",sR,Ys);Te("SSS",sR,Y7);var Bu,R9;for(Bu="SSSS";Bu.length<=9;Bu+="S")Te(Bu,Pp);function Vye(t,e){e[Ih]=Ct(("0."+t)*1e3)}for(Bu="S";Bu.length<=9;Bu+="S")Yt(Bu,Vye);R9=Mp("Milliseconds",!1);Fe("z",0,0,"zoneAbbr");Fe("zz",0,0,"zoneName");function Wye(){return this._isUTC?"UTC":""}function Bye(){return this._isUTC?"Coordinated Universal Time":""}var me=Mw.prototype;me.add=H0e;me.calendar=W0e;me.clone=B0e;me.diff=X0e;me.endOf=oye;me.format=eye;me.from=tye;me.fromNow=rye;me.to=nye;me.toNow=iye;me.get=Zme;me.invalidAt=mye;me.isAfter=z0e;me.isBefore=U0e;me.isBetween=Y0e;me.isSame=G0e;me.isSameOrAfter=K0e;me.isSameOrBefore=q0e;me.isValid=fye;me.lang=v9;me.locale=y9;me.localeData=w9;me.max=f0e;me.min=h0e;me.parsingFlags=gye;me.set=epe;me.startOf=sye;me.subtract=j0e;me.toArray=uye;me.toObject=dye;me.toDate=cye;me.toISOString=J0e;me.inspect=Z0e;typeof Symbol<"u"&&Symbol.for!=null&&(me[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});me.toJSON=hye;me.toString=Q0e;me.unix=lye;me.valueOf=aye;me.creationData=pye;me.eraName=bye;me.eraNarrow=Sye;me.eraAbbr=xye;me.eraYear=Cye;me.year=q7;me.isLeapYear=Jme;me.weekYear=Nye;me.isoWeekYear=Mye;me.quarter=me.quarters=Dye;me.month=e9;me.daysInMonth=cpe;me.week=me.weeks=ype;me.isoWeek=me.isoWeeks=vpe;me.weeksInYear=Oye;me.weeksInWeekYear=Hye;me.isoWeeksInYear=Iye;me.isoWeeksInISOWeekYear=Aye;me.date=_9;me.day=me.days=Mpe;me.weekday=Ipe;me.isoWeekday=Ape;me.dayOfYear=$ye;me.hour=me.hours=Fpe;me.minute=me.minutes=Lye;me.second=me.seconds=Fye;me.millisecond=me.milliseconds=R9;me.utcOffset=x0e;me.utc=_0e;me.local=R0e;me.parseZone=E0e;me.hasAlignedHourOffset=T0e;me.isDST=k0e;me.isLocal=N0e;me.isUtcOffset=M0e;me.isUtc=f9;me.isUTC=f9;me.zoneAbbr=Wye;me.zoneName=Bye;me.dates=ko("dates accessor is deprecated. Use date instead.",_9);me.months=ko("months accessor is deprecated. Use month instead",e9);me.years=ko("years accessor is deprecated. Use year instead",q7);me.zone=ko("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",C0e);me.isDSTShifted=ko("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",P0e);function zye(t){return dr(t*1e3)}function Uye(){return dr.apply(null,arguments).parseZone()}function E9(t){return t}var Ot=e2.prototype;Ot.calendar=Nme;Ot.longDateFormat=Ome;Ot.invalidDate=jme;Ot.ordinal=Lme;Ot.preparse=E9;Ot.postformat=E9;Ot.relativeTime=Vme;Ot.pastFuture=Wme;Ot.set=kme;Ot.eras=yye;Ot.erasParse=vye;Ot.erasConvertYear=wye;Ot.erasAbbrRegex=Rye;Ot.erasNameRegex=_ye;Ot.erasNarrowRegex=Eye;Ot.months=spe;Ot.monthsShort=ope;Ot.monthsParse=lpe;Ot.monthsRegex=dpe;Ot.monthsShortRegex=upe;Ot.week=fpe;Ot.firstDayOfYear=ppe;Ot.firstDayOfWeek=mpe;Ot.weekdays=Epe;Ot.weekdaysMin=kpe;Ot.weekdaysShort=Tpe;Ot.weekdaysParse=Npe;Ot.weekdaysRegex=Ope;Ot.weekdaysShortRegex=Hpe;Ot.weekdaysMinRegex=jpe;Ot.isPM=$pe;Ot.meridiem=Vpe;function p1(t,e,r,n){var i=Vc(),s=Nl().set(n,e);return i[r](s,t)}function T9(t,e,r){if(Mc(t)&&(e=t,t=void 0),t=t||"",e!=null)return p1(t,e,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=p1(t,n,r,"month");return i}function v2(t,e,r,n){typeof t=="boolean"?(Mc(e)&&(r=e,e=void 0),e=e||""):(e=t,r=e,t=!1,Mc(e)&&(r=e,e=void 0),e=e||"");var i=Vc(),s=t?i._week.dow:0,o,a=[];if(r!=null)return p1(e,(r+s)%7,n,"day");for(o=0;o<7;o++)a[o]=p1(e,(o+s)%7,n,"day");return a}function Yye(t,e){return T9(t,e,"months")}function Gye(t,e){return T9(t,e,"monthsShort")}function Kye(t,e,r){return v2(t,e,r,"weekdays")}function qye(t,e,r){return v2(t,e,r,"weekdaysShort")}function Xye(t,e,r){return v2(t,e,r,"weekdaysMin")}nd("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,r=Ct(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+r}});he.lang=ko("moment.lang is deprecated. Use moment.locale instead.",nd);he.langData=ko("moment.langData is deprecated. Use moment.localeData instead.",Vc);var jl=Math.abs;function Qye(){var t=this._data;return this._milliseconds=jl(this._milliseconds),this._days=jl(this._days),this._months=jl(this._months),t.milliseconds=jl(t.milliseconds),t.seconds=jl(t.seconds),t.minutes=jl(t.minutes),t.hours=jl(t.hours),t.months=jl(t.months),t.years=jl(t.years),this}function k9(t,e,r,n){var i=Ra(e,r);return t._milliseconds+=n*i._milliseconds,t._days+=n*i._days,t._months+=n*i._months,t._bubble()}function Jye(t,e){return k9(this,t,e,1)}function Zye(t,e){return k9(this,t,e,-1)}function LF(t){return t<0?Math.floor(t):Math.ceil(t)}function eve(){var t=this._milliseconds,e=this._days,r=this._months,n=this._data,i,s,o,a,l;return t>=0&&e>=0&&r>=0||t<=0&&e<=0&&r<=0||(t+=LF(ZM(r)+e)*864e5,e=0,r=0),n.milliseconds=t%1e3,i=go(t/1e3),n.seconds=i%60,s=go(i/60),n.minutes=s%60,o=go(s/60),n.hours=o%24,e+=go(o/24),l=go(P9(e)),r+=l,e-=LF(ZM(l)),a=go(r/12),r%=12,n.days=e,n.months=r,n.years=a,this}function P9(t){return t*4800/146097}function ZM(t){return t*146097/4800}function tve(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if(t=Po(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,r=this._months+P9(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(ZM(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function Wc(t){return function(){return this.as(t)}}var N9=Wc("ms"),rve=Wc("s"),nve=Wc("m"),ive=Wc("h"),sve=Wc("d"),ove=Wc("w"),ave=Wc("M"),lve=Wc("Q"),cve=Wc("y"),uve=N9;function dve(){return Ra(this)}function hve(t){return t=Po(t),this.isValid()?this[t+"s"]():NaN}function Hf(t){return function(){return this.isValid()?this._data[t]:NaN}}var fve=Hf("milliseconds"),gve=Hf("seconds"),mve=Hf("minutes"),pve=Hf("hours"),yve=Hf("days"),vve=Hf("months"),wve=Hf("years");function bve(){return go(this.days()/7)}var nc=Math.round,cm={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Sve(t,e,r,n,i){return i.relativeTime(e||1,!!r,t,n)}function xve(t,e,r,n){var i=Ra(t).abs(),s=nc(i.as("s")),o=nc(i.as("m")),a=nc(i.as("h")),l=nc(i.as("d")),c=nc(i.as("M")),d=nc(i.as("w")),h=nc(i.as("y")),f=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||o<=1&&["m"]||o<r.m&&["mm",o]||a<=1&&["h"]||a<r.h&&["hh",a]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(f=f||d<=1&&["w"]||d<r.w&&["ww",d]),f=f||c<=1&&["M"]||c<r.M&&["MM",c]||h<=1&&["y"]||["yy",h],f[2]=e,f[3]=+t>0,f[4]=n,Sve.apply(null,f)}function Cve(t){return t===void 0?nc:typeof t=="function"?(nc=t,!0):!1}function _ve(t,e){return cm[t]===void 0?!1:e===void 0?cm[t]:(cm[t]=e,t==="s"&&(cm.ss=e-1),!0)}function Rve(t,e){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=cm,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(r=t),typeof e=="object"&&(n=Object.assign({},cm,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),i=this.localeData(),s=xve(this,!r,n,i),r&&(s=i.pastFuture(+this,s)),i.postformat(s)}var $T=Math.abs;function Gf(t){return(t>0)-(t<0)||+t}function fR(){if(!this.isValid())return this.localeData().invalidDate();var t=$T(this._milliseconds)/1e3,e=$T(this._days),r=$T(this._months),n,i,s,o,a=this.asSeconds(),l,c,d,h;return a?(n=go(t/60),i=go(n/60),t%=60,n%=60,s=go(r/12),r%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=Gf(this._months)!==Gf(a)?"-":"",d=Gf(this._days)!==Gf(a)?"-":"",h=Gf(this._milliseconds)!==Gf(a)?"-":"",l+"P"+(s?c+s+"Y":"")+(r?c+r+"M":"")+(e?d+e+"D":"")+(i||n||t?"T":"")+(i?h+i+"H":"")+(n?h+n+"M":"")+(t?h+o+"S":"")):"P0D"}var Pt=dR.prototype;Pt.isValid=v0e;Pt.abs=Qye;Pt.add=Jye;Pt.subtract=Zye;Pt.as=tve;Pt.asMilliseconds=N9;Pt.asSeconds=rve;Pt.asMinutes=nve;Pt.asHours=ive;Pt.asDays=sve;Pt.asWeeks=ove;Pt.asMonths=ave;Pt.asQuarters=lve;Pt.asYears=cve;Pt.valueOf=uve;Pt._bubble=eve;Pt.clone=dve;Pt.get=hve;Pt.milliseconds=fve;Pt.seconds=gve;Pt.minutes=mve;Pt.hours=pve;Pt.days=yve;Pt.weeks=bve;Pt.months=vve;Pt.years=wve;Pt.humanize=Rve;Pt.toISOString=fR;Pt.toString=fR;Pt.toJSON=fR;Pt.locale=y9;Pt.localeData=w9;Pt.toIsoString=ko("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fR);Pt.lang=v9;Fe("X",0,0,"unix");Fe("x",0,0,"valueOf");Te("x",aR);Te("X",Yme);Yt("X",function(t,e,r){r._d=new Date(parseFloat(t)*1e3)});Yt("x",function(t,e,r){r._d=new Date(Ct(t))});//! moment.js
he.version="2.30.1";Eme(dr);he.fn=me;he.min=g0e;he.max=m0e;he.now=p0e;he.utc=Nl;he.unix=zye;he.months=Yye;he.isDate=Nw;he.locale=nd;he.invalid=nR;he.duration=Ra;he.isMoment=va;he.weekdays=Kye;he.parseZone=Uye;he.localeData=Vc;he.isDuration=tC;he.monthsShort=Gye;he.weekdaysMin=Xye;he.defineLocale=u2;he.updateLocale=Upe;he.locales=Ype;he.weekdaysShort=qye;he.normalizeUnits=Po;he.relativeTimeRounding=Cve;he.relativeTimeThreshold=_ve;he.calendarFormat=V0e;he.prototype=me;he.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var Eve=Xt,Tve=kp,kve=hs,Pve=pn,Nve=Pl,Mve=fs,Ive=wd,Ave=Tw,Ove=nn,M9=TypeError,I9=Ove(function(){[].keys().reduce(function(){},void 0)}),LT=!I9&&Ive("reduce",M9);Eve({target:"Iterator",proto:!0,real:!0,forced:I9||LT},{reduce:function(e){Pve(this);try{kve(e)}catch(o){Mve(this,"throw",o)}var r=arguments.length<2,n=r?void 0:arguments[1];if(LT)return Ave(LT,this,r?[e]:[e,n]);var i=Nve(this),s=0;if(Tve(i,function(o){r?(r=!1,n=o):n=e(n,o,s),s++},{IS_RECORD:!0}),r)throw new M9("Reduce of empty iterator with no initial value");return n}});function Hve(t){const e=t.length;let r=0;for(;r<e;)t[r]=[t[r]],r+=1}function FF(t,e){const r=e.length;let n=0;for(;n<r;)t.push(e[n]),n+=1}function nC(t){const e=[];if(!t||t.length===0||!t[0]||t[0].length===0)return e;const r=t.length,n=t[0].length;for(let i=0;i<r;i++)for(let s=0;s<n;s++)e[s]||(e[s]=[]),e[s][i]=t[i][s];return e}function gs(t,e,r,n){let i=-1,s=t,o=r;Array.isArray(t)||(s=Array.from(t));const a=s.length;for(i+=1;i<a;)o=e(o,s[i],i,s),i+=1;return o}function ff(t,e){let r=0,n=t;Array.isArray(t)||(n=Array.from(t));const i=n.length,s=[];let o=-1;for(;r<i;){const a=n[r];e(a,r,n)&&(o+=1,s[o]=a),r+=1}return s}function Tt(t,e){let r=0,n=t;Array.isArray(t)||(n=Array.from(t));const i=n.length,s=[];let o=-1;for(;r<i;){const a=n[r];o+=1,s[o]=e(a,r,n),r+=1}return s}function B(t,e){let r=0,n=t;Array.isArray(t)||(n=Array.from(t));const i=n.length;for(;r<i&&e(n[r],r,n)!==!1;)r+=1;return t}function jve(t){const e=[];return B(t,r=>{e.indexOf(r)===-1&&e.push(r)}),e}function VF(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const[n,...i]=[...e];let s=n;return B(i,o=>{s=s.filter(a=>!o.includes(a))}),s}function WF(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ";return t.split(e)}function kt(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return gs(t,(s,o,a)=>{const l=o.replace(/\r?\n\s*/g,""),c=r[a]?r[a]:"";return s+l+c},"").trim()}function sp(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];const i=document.createElement("template");i.innerHTML=t.reduce((a,l,c)=>{var d;return a+l+((d=r[c])!==null&&d!==void 0?d:"")},"");const s=i.content.cloneNode(!0),o={};return s.querySelectorAll("[data-ref]").forEach(a=>{const l=a.getAttribute("data-ref");a.removeAttribute("data-ref"),o[l]=a}),{fragment:s,refs:o}}function tr(t){let e;switch(typeof t){case"string":case"number":e=`${t}`;break;case"object":e=t===null?"":t.toString();break;case"undefined":e="";break;default:e=t.toString();break}return e}function xe(t){return typeof t<"u"}function cr(t){return typeof t>"u"}function Yr(t){return t===null||t===""||cr(t)}function Dve(t){return Object.prototype.toString.call(t)==="[object RegExp]"}const py="length",Vy=t=>parseInt(t,16),BF=t=>parseInt(t,10),y1=(t,e,r)=>t.substr(e,r),Wy=t=>t.codePointAt(0)-65,eI=t=>`${t}`.replace(/\-/g,""),$ve=t=>Vy(y1(eI(t),Vy("12"),Wy("F")))/(Vy(y1(eI(t),Wy("B"),~~![][py]))||9),Lve=()=>typeof location<"u"&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host);let zF=!1;const UF={invalid:()=>kt`
    The license key for Handsontable is invalid.\x20
    If you need any help, contact us at support@handsontable.com.`,expired:t=>{let{keyValidityDate:e,hotVersion:r}=t;return kt`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${r}. Renew your license key at handsontable.com or downgrade to a version released prior\x20
    to ${e}. If you need any help, contact us at sales@handsontable.com.`},missing:()=>kt`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\x20
    us at support@handsontable.com.`,non_commercial:()=>""},YF={invalid:()=>kt`
    The license key for Handsontable is invalid.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\x20
    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,expired:t=>{let{keyValidityDate:e,hotVersion:r}=t;return kt`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${r}. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\x20
    license key or downgrade to a version released prior to ${e}. If you need any\x20
    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.`},missing:()=>kt`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\x20
    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,non_commercial:()=>""};function Fve(t,e){const r=!Yr(t),n=typeof t=="string"&&t.toLowerCase()==="non-commercial-and-evaluation",i="16.2.0";let s,o="invalid",a="invalid";t=eI(t||"");const l=Vve(t);if(r||n||l)if(l){const c=he("25/11/2025","DD/MM/YYYY"),d=Math.floor(c.toDate().getTime()/864e5),h=$ve(t);s=he((h+1)*864e5,"x").format("MMMM DD, YYYY"),d>h?(o="expired",a="expired"):(o="valid",a="valid")}else n?(o="non_commercial",a="valid"):(o="invalid",a="invalid");else o="missing",a="missing";if(Lve()&&(o="valid",a="valid"),!zF&&o!=="valid"&&(UF[o]({keyValidityDate:s,hotVersion:i})&&console[o==="non_commercial"?"info":"warn"](UF[o]({keyValidityDate:s,hotVersion:i})),zF=!0),a!=="valid"&&e&&YF[a]({keyValidityDate:s,hotVersion:i})){const d=document.createElement("div");d.className="handsontable hot-display-license-info",d.innerHTML=YF[a]({keyValidityDate:s,hotVersion:i}),e.appendChild(d)}}function Vve(t){let e=[][py],r=e;if(t[py]!==Wy("Z"))return!1;for(let n="",i="B<H4P+".split(""),s=Wy(i.shift());s;s=Wy(i.shift()||"A"))--s<""[py]?r=r|(BF(`${BF(Vy(n)+(Vy(y1(t,Math.abs(s),2))+[]).padStart(2,"0"))}`)%97||2)>>1:n=y1(t,s,s?i[py]===1?9:8:6);return r===e}function wa(t){return t[0].toUpperCase()+t.substr(1)}function A9(){function t(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return t()+t()+t()+t()}function Wve(t){if(typeof t!="string")return!1;try{const e=JSON.parse(t);return typeof e=="object"&&e!==null}catch{return!1}}function O9(t){return/^([0-9][0-9]?%$)|(^100%$)/.test(t)}function w2(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return`${t}`.replace(/(?:\\)?\[([^[\]]+)]/g,(r,n)=>r.charAt(0)==="\\"?r.substr(1,r.length-1):e[n]===void 0?"":e[n])}function Cc(t){return b2(`${t}`,{ALLOWED_TAGS:[]})}function b2(t,e){return Rme.sanitize(t,e)}const ba=t=>["tabindex",t],Bve=()=>["role","treegrid"],mc=()=>["role","presentation"],zve=()=>["role","gridcell"],Uve=()=>["role","gridcell button"],Yve=()=>["role","rowheader"],H9=()=>["role","rowgroup"],Gve=()=>["role","columnheader"],j9=()=>["role","row"],Kve=()=>["role","menu"],qve=()=>["role","menuitem"],Xve=()=>["role","menuitemcheckbox"],Qve=()=>["role","combobox"],D9=()=>["role","listbox"],Jve=()=>["role","option"],Zve=()=>["role","checkbox"],ewe=()=>["role","dialog"],twe=()=>["role","alertdialog"],rwe=()=>["scope","col"],nwe=()=>["scope","row"],iwe=()=>["type","text"],Hs=t=>["aria-label",t],swe=t=>["aria-labelledby",t],owe=t=>["aria-describedby",t],jf=()=>["aria-hidden","true"],yy=function(){return["aria-disabled",arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0]},awe=()=>["aria-multiselectable","true"],$9=t=>["aria-haspopup",t],L9=t=>["aria-rowcount",t],gR=t=>["aria-colcount",t],F9=t=>["aria-rowindex",t],S2=t=>["aria-colindex",t],So=t=>["aria-expanded",t],lwe=t=>["aria-sort",t],GF=()=>["aria-readonly","true"],KF=()=>["aria-invalid","true"],V9=t=>["aria-checked",t],x2=()=>["aria-selected","true"],cwe=()=>["aria-autocomplete","list"],uwe=t=>["aria-controls",t],dwe=t=>["aria-activedescendant",t],hwe=t=>["aria-live",t],fwe=t=>["aria-relevant",t],gwe=t=>["aria-setsize",t],mwe=t=>["aria-posinset",t],pwe=()=>["aria-modal","true"];var ywe=zs,vwe=jO.get,wwe=function(e){if(!ywe(e))return!1;var r=vwe(e);return!!r&&r.type==="RawJSON"},C2=sn,bwe=Us,Yb=SyntaxError,Swe=parseInt,xwe=String.fromCharCode,Cwe=C2("".charAt),qF=C2("".slice),XF=C2(/./.exec),QF={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},_we=/^[\da-f]{4}$/i,Rwe=/^[\u0000-\u001F]$/,Ewe=function(t,e){for(var r=!0,n="";e<t.length;){var i=Cwe(t,e);if(i==="\\"){var s=qF(t,e,e+2);if(bwe(QF,s))n+=QF[s],e+=2;else if(s==="\\u"){e+=2;var o=qF(t,e,e+4);if(!XF(_we,o))throw new Yb("Bad Unicode escape at: "+e);n+=xwe(Swe(o,16)),e+=4}else throw new Yb('Unknown escape sequence: "'+s+'"')}else if(i==='"'){r=!1,e++;break}else{if(XF(Rwe,i))throw new Yb("Bad control character in string literal at: "+e);n+=i,e++}}if(r)throw new Yb("Unterminated string at: "+e);return{value:n,end:e}},Twe=nn,kwe=!Twe(function(){var t="9007199254740993",e=JSON.rawJSON(t);return!JSON.isRawJSON(e)||JSON.stringify(e)!==t}),Pwe=Xt,W9=_p,Nwe=Tw,B9=mn,Df=sn,z9=nn,JF=Y8,v1=En,Mwe=wwe,ZF=PO,e3=Pf,Iwe=rR,Awe=qO,Owe=Ewe,Hwe=IO,jwe=kO,FT=kwe,U9=String,id=W9("JSON","stringify"),Gb=Df(/./.exec),tI=Df("".charAt),Dwe=Df("".charCodeAt),$we=Df("".replace),VT=Df("".slice),rI=Df([].push),Lwe=Df(1.1.toString),Fwe=/[\uD800-\uDFFF]/g,t3=/^[\uD800-\uDBFF]$/,r3=/^[\uDC00-\uDFFF]$/,nI=Hwe(),n3=nI.length,Y9=!jwe||z9(function(){var t=W9("Symbol")("stringify detection");return id([t])!=="[null]"||id({a:t})!=="{}"||id(Object(t))!=="{}"}),i3=z9(function(){return id("\uDF06\uD834")!=='"\\udf06\\ud834"'||id("\uDEAD")!=='"\\udead"'}),Vwe=Y9?function(t,e){var r=Awe(arguments),n=G9(e);if(!(!v1(n)&&(t===void 0||ZF(t))))return r[1]=function(i,s){if(v1(n)&&(s=B9(n,this,U9(i),s)),!ZF(s))return s},Nwe(id,null,r)}:id,Wwe=function(t,e,r){var n=tI(r,e-1),i=tI(r,e+1);return Gb(t3,t)&&!Gb(r3,i)||Gb(r3,t)&&!Gb(t3,n)?"\\u"+Lwe(Dwe(t,0),16):t},G9=function(t){if(v1(t))return t;if(JF(t)){for(var e=t.length,r=[],n=0;n<e;n++){var i=t[n];typeof i=="string"?rI(r,i):(typeof i=="number"||e3(i)==="Number"||e3(i)==="String")&&rI(r,Iwe(i))}var s=r.length,o=!0;return function(a,l){if(o)return o=!1,l;if(JF(this))return l;for(var c=0;c<s;c++)if(r[c]===a)return l}}};id&&Pwe({target:"JSON",stat:!0,arity:3,forced:Y9||i3||!FT},{stringify:function(e,r,n){var i=G9(r),s=[],o=Vwe(e,function(g,m){var p=v1(i)?B9(i,this,U9(g),m):m;return!FT&&Mwe(p)?nI+(rI(s,p.rawJSON)-1):p},n);if(typeof o!="string"||(i3&&(o=$we(o,Fwe,Wwe)),FT))return o;for(var a="",l=o.length,c=0;c<l;c++){var d=tI(o,c);if(d==='"'){var h=Owe(o,++c).end-1,f=VT(o,c,h);a+=VT(f,0,n3)===nI?s[VT(f,n3)]:'"'+f+'"',c=h}else a+=d}return a}});function jv(t){let e;return Array.isArray(t)?e=t.length?new Array(t.length).fill(null):[]:(e={},dt(t,(r,n)=>{n!=="__children"&&(r&&typeof r=="object"&&!Array.isArray(r)?e[n]=jv(r):Array.isArray(r)?r.length&&typeof r[0]=="object"&&!Array.isArray(r[0])?e[n]=[jv(r[0])]:e[n]=[]:e[n]=null)})),e}function Bwe(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t}function gn(t,e,r){const n=Array.isArray(r);return dt(e,(i,s)=>{(n===!1||r.includes(s))&&(t[s]=i)}),t}function mR(t,e){dt(e,(r,n)=>{e[n]&&typeof e[n]=="object"?(t[n]||(Array.isArray(e[n])?t[n]=[]:Object.prototype.toString.call(e[n])==="[object Date]"?t[n]=e[n]:t[n]={}),mR(t[n],e[n])):t[n]=e[n]})}function Di(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function El(t){const e={};return dt(t,(r,n)=>{e[n]=r}),e}function Dt(t){t.MIXINS||(t.MIXINS=[]);for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return B(r,i=>{t.MIXINS.push(i.MIXIN_NAME),dt(i,(s,o)=>{if(t.prototype[o]!==void 0)throw new Error(`Mixin conflict. Property '${o}' already exist and cannot be overwritten.`);if(typeof s=="function")t.prototype[o]=s;else{const a=function(d,h){const f=`_${d}`,g=m=>{let p=m;return(Array.isArray(p)||Le(p))&&(p=Di(p)),p};return function(){return this[f]===void 0&&(this[f]=g(h)),this[f]}},l=function(d){const h=`_${d}`;return function(f){this[h]=f}};Object.defineProperty(t.prototype,o,{get:a(o,s),set:l(o),configurable:!0})}})}),t}function pR(t,e){return JSON.stringify(t)===JSON.stringify(e)}function Le(t){return Object.prototype.toString.call(t)==="[object Object]"}function Bc(t,e,r,n){n.value=r,n.writable=n.writable!==!1,n.enumerable=n.enumerable!==!1,n.configurable=n.configurable!==!1,Object.defineProperty(t,e,n)}function dt(t,e){for(const r in t)if((!t.hasOwnProperty||t.hasOwnProperty&&Object.prototype.hasOwnProperty.call(t,r))&&e(t[r],r,t)===!1)break;return t}function iI(t,e){const r=e.split(".");let n=t;return dt(r,i=>{if(n=n[i],n===void 0)return n=void 0,!1}),n}function WT(t,e,r){if(typeof e!="string")return;const n=e.split(".");let i=t;n.forEach((s,o)=>{s==="__proto__"||s==="constructor"||s==="prototype"||(o!==n.length-1?(Ur(i,s)||(i[s]={}),i=i[s]):i[s]=r)})}function _2(t){if(!Le(t))return 0;const e=function(r){let n=0;return Le(r)?dt(r,(i,s)=>{s!=="__children"&&(n+=e(i))}):n+=1,n};return e(t)}function $s(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value";const r=`_${e}`,n={_touched:!1,[r]:t,isTouched(){return this._touched}};return Object.defineProperty(n,e,{get(){return this[r]},set(i){this._touched=!0,this[r]=i},enumerable:!0,configurable:!0}),n}function Ur(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function iC(t,e){if(typeof t!="object"||t===null)return e;if(typeof e!="object"||e===null)return t;const r={};return Object.keys(e).forEach(n=>{typeof e[n]=="object"&&e[n]!==null&&!Array.isArray(e[n])?r[n]=iC(t[n],e[n]):r[n]=Ur(t,n)&&t[n]!==void 0?t[n]:e[n]}),Object.keys(t).forEach(n=>{Ur(r,n)||(r[n]=t[n])}),r}function w1(t){return window.requestAnimationFrame(t)}function b1(t){window.cancelAnimationFrame(t)}function K9(){return"ontouchstart"in window}function zwe(){return typeof window<"u"}let Kf;function Uwe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Kf||(typeof Intl=="object"?Kf=new Intl.Collator(t,e).compare:typeof String.prototype.localeCompare=="function"?Kf=(r,n)=>`${r}`.localeCompare(n):Kf=(r,n)=>r===n?0:r>n?-1:1,Kf)}const oo=t=>{const e={value:!1};return e.test=(r,n)=>{e.value=t(r,n)},e},bd={chrome:oo((t,e)=>/Chrome/.test(t)&&/Google/.test(e)),chromeWebKit:oo(t=>/CriOS/.test(t)),edge:oo(t=>/Edge/.test(t)),edgeWebKit:oo(t=>/EdgiOS/.test(t)),firefox:oo(t=>/Firefox/.test(t)),firefoxWebKit:oo(t=>/FxiOS/.test(t)),mobile:oo(t=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)),safari:oo((t,e)=>/Safari/.test(t)&&/Apple Computer/.test(e))},Ow={mac:oo(t=>/^Mac/.test(t)),win:oo(t=>/^Win/.test(t)),linux:oo(t=>/^Linux/.test(t)),ios:oo(t=>/iPhone|iPad|iPod/i.test(t))};function Ywe(){let{userAgent:t=navigator.userAgent,vendor:e=navigator.vendor}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};dt(bd,r=>{let{test:n}=r;return void n(t,e)})}function Gwe(){let{platform:t=navigator.platform}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};dt(Ow,e=>{let{test:r}=e;return void r(t)})}zwe()&&(Ywe(),Gwe());function q9(){return bd.chrome.value}function Kwe(){return bd.chromeWebKit.value}function BT(){return bd.firefox.value}function qwe(){return bd.firefoxWebKit.value}function yR(){return bd.safari.value}function Xwe(){return bd.edge.value}function bl(){return bd.mobile.value}function X9(){return Ow.ios.value}function R2(){let{maxTouchPoints:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator;return t>2&&Ow.mac.value}function sI(){return Ow.win.value}function s3(){return Ow.mac.value}function Qwe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=null,i=t;for(;i!==null;){if(r===e){n=i;break}i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:(r+=1,i=i.parentNode)}return n}function sC(t,e){const r=t.closest(".handsontable");return!!r&&(r.parentNode===e||r===e)}function Jwe(t){return Object.getPrototypeOf(t.parent)&&t.frameElement}function hd(t){return Jwe(t)&&t.parent}function gf(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;const{ELEMENT_NODE:n,DOCUMENT_FRAGMENT_NODE:i}=Node;let s=t;for(;s!=null&&s!==r;){const{nodeType:o,nodeName:a}=s;if(o===n&&(e.includes(a)||e.includes(s)))return s;const{host:l}=s;l&&o===i?s=l:s=s.parentNode}return null}function Kb(t,e,r){const n=[];let i=t;for(;i&&(i=gf(i,e,r),!(!i||r&&!r.contains(i)));)n.push(i),i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:i=i.parentNode;const s=n.length;return s?n[s-1]:null}function Zwe(t,e){const r={element:void 0,classNames:[]};let n=t;for(;n!==null&&n!==t.ownerDocument.documentElement&&!r.element;){if(typeof e=="string"&&n.classList.contains(e))r.element=n,r.classNames.push(e);else if(e instanceof RegExp){const i=Array.from(n.classList).filter(s=>e.test(s));i.length&&(r.element=n,r.classNames.push(...i))}n=n.parentElement}return r}function tf(t,e){let r=t.parentNode,n=[];for(typeof e=="string"?t.defaultView?n=Array.prototype.slice.call(t.querySelectorAll(e),0):n=Array.prototype.slice.call(t.ownerDocument.querySelectorAll(e),0):n.push(e);r!==null;){if(n.indexOf(r)>-1)return!0;r=r.parentNode}return!1}function ebe(t){let e=0,r=t;if(r.previousSibling)for(;r=r.previousSibling;)e+=1;return e}function Pd(t,e,r){const n=r.parentElement.querySelector(`.ht_clone_${t}`);return n?n.contains(e):null}function Q9(t){return!t||!t.length?[]:t.filter(e=>!!e)}function J9(t,e){if(!t||!t.length)return{regexFree:[],regexes:[]};const r=[],n=[];return n.push(...t.filter(i=>{const s=i instanceof RegExp;return s&&e&&r.push(i),!s})),{regexFree:n,regexes:r}}function Ve(t,e){return t.classList===void 0||typeof e!="string"||e===""?!1:t.classList.contains(e)}function oe(t,e){typeof e=="string"&&(e=e.split(" ")),e=Q9(e),e.length>0&&t.classList.add(...e)}function Re(t,e){typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);let{regexFree:r,regexes:n}=J9(e,!0);r=Q9(r),r.length>0&&t.classList.remove(...r),n.forEach(i=>{t.classList.forEach(s=>{i.test(s)&&t.classList.remove(s)})})}function Ee(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;Array.isArray(e)||(e=[[e,r]]),e.forEach(n=>{Array.isArray(n)&&n[0]!==""&&t.setAttribute(...n)})}function _c(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);const{regexFree:r,regexes:n}=J9(e,!0);r.forEach(i=>{i!==""&&t.removeAttribute(i)}),n.forEach(i=>{t.getAttributeNames().forEach(s=>{i.test(s)&&t.removeAttribute(s)})})}function Z9(t){if(t.nodeType===3)t.parentNode.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1){const e=t.childNodes;for(let r=e.length-1;r>=0;r--)Z9(e[r])}}function Ic(t){let e;for(;e=t.lastChild;)t.removeChild(e)}const tbe=/(<(.*)>|&(.*);)/;function $f(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;tbe.test(e)?t.innerHTML=r?b2(e):e:mf(t,e)}function mf(t,e){const r=t.firstChild;r&&r.nodeType===3&&r.nextSibling===null?r.textContent=e:(Ic(t),t.appendChild(t.ownerDocument.createTextNode(e)))}function pf(t){const e=t.ownerDocument.documentElement,r=t.ownerDocument.defaultView;let n=t;for(;n!==e;){if(n===null)return!1;if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE)if(n.host){if(n.host.impl)return pf(n.host.impl);if(n.host)return pf(n.host);throw new Error("Lost in Web Components world")}else return!1;else if(r.getComputedStyle(n).display==="none")return!1;n=n.parentNode}return!0}function rbe(t){const r=t.ownerDocument.defaultView;let n=t;for(;n.parentNode;){if(n.style.height==="0px"||n.style.height==="0")return r.getComputedStyle(n).overflow==="hidden";n=n.parentNode}return!1}function mi(t){const e=t.ownerDocument,r=e.defaultView,n=e.documentElement;let i=t,s,o,a;for(s=i.offsetLeft,o=i.offsetTop,a=i;(i=i.offsetParent)&&!(i===e.body||!("offsetLeft"in i));)s+=i.offsetLeft,o+=i.offsetTop,a=i;return a&&a.style.position==="fixed"&&(s+=r.pageXOffset||n.scrollLeft,o+=r.pageYOffset||n.scrollTop),{left:s,top:o}}function eY(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollY}function E2(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollX}function T2(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?eY(e):t.scrollTop}function tY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?E2(e):t.scrollLeft}function S1(t){let e=t.ownerDocument,r=e?e.defaultView:void 0;e||(e=t.document?t.document:t,r=e.defaultView);const n=["auto","scroll"];let i=t.parentNode;for(;i&&i.style&&e.body!==i;){let{overflow:s,overflowX:o,overflowY:a}=i.style;if([s,o,a].includes("scroll"))return i;if({overflow:s,overflowX:o,overflowY:a}=r.getComputedStyle(i),n.includes(s)||n.includes(o)||n.includes(a)||i.clientHeight<=i.scrollHeight+1&&(n.includes(a)||n.includes(s))||i.clientWidth<=i.scrollWidth+1&&(n.includes(o)||n.includes(s)))return i;i=i.parentNode}return r}function nbe(t){return t.scrollHeight-t.clientHeight}function ibe(t){return t.scrollWidth-t.clientWidth}function Dv(t){const e=t.ownerDocument,r=e.defaultView;let n=t.parentNode;for(;n&&n.style&&e.body!==n;){if(n.style.overflow!=="visible"&&n.style.overflow!=="")return n;const i=r.getComputedStyle(n),s=["scroll","hidden","auto"],o=i.getPropertyValue("overflow"),a=i.getPropertyValue("overflow-y"),l=i.getPropertyValue("overflow-x");if(s.includes(o)||s.includes(a)||s.includes(l))return n;n=n.parentNode}return r}function x1(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window;if(t){if(t===r)return e==="width"?`${r.innerWidth}px`:e==="height"?`${r.innerHeight}px`:void 0}else return;const n=t.style[e];if(n!==""&&n!==void 0)return n;const i=r.getComputedStyle(t);if(i[e]!==""&&i[e]!==void 0)return i[e]}function en(t){return t.offsetWidth}function fn(t){return t.getBoundingClientRect().height}function By(t){return t.clientHeight||t.innerHeight}function rY(t){return t.clientWidth||t.innerWidth}function nY(t){return t.selectionStart?t.selectionStart:0}function sbe(t){return t.selectionEnd?t.selectionEnd:0}function o3(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;t.getSelection&&(t.getSelection().empty?t.getSelection().empty():t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges())}function vR(t,e,r){if(r===void 0&&(r=e),t.setSelectionRange){t.focus();try{t.setSelectionRange(e,r)}catch{const i=t.parentNode,s=i.style.display;i.style.display="block",t.setSelectionRange(e,r),i.style.display=s}}}let zT;function obe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return sI()?Number.isInteger(t.defaultView.devicePixelRatio||1)?0:2:0}function abe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;const e=t.createElement("div");e.style.height="200px",e.style.width="100%";const r=t.createElement("div");yR()&&!bl()&&!R2()&&r.classList.add("htScrollbarSafariTest"),r.style.boxSizing="content-box",r.style.height="150px",r.style.left="0px",r.style.overflow="hidden",r.style.position="absolute",r.style.top="0px",r.style.width="200px",r.style.visibility="hidden",r.appendChild(e),(t.body||t.documentElement).appendChild(r);const n=e.getBoundingClientRect().width;r.style.overflow="scroll";let i=e.getBoundingClientRect().width;return n===i&&(i=r.clientWidth),(t.body||t.documentElement).removeChild(r),parseFloat((n-i).toFixed(3))}function tn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return zT===void 0&&(zT=abe(t)),zT}function iY(t){return t instanceof Window?t.document.body.scrollHeight>t.innerHeight:t.offsetWidth!==t.clientWidth}function sY(t){return t instanceof Window?t.document.body.scrollWidth>t.innerWidth:t.offsetHeight!==t.clientHeight}function k2(t,e,r){t.style.transform=`translate3d(${e},${r},0)`}function wR(t){t.style.transform&&t.style.transform!==""&&(t.style.transform="")}function oC(t){return t&&(["INPUT","SELECT","TEXTAREA"].indexOf(t.nodeName)>-1||t.contentEditable==="true")}function oY(t){return oC(t)&&t.hasAttribute("data-hot-input")===!1}function aY(t){return!t.parentNode}function lbe(t,e){new IntersectionObserver((n,i)=>{n.forEach(s=>{s.isIntersecting&&t.offsetParent!==null&&(e(),i.unobserve(t))})},{root:t.ownerDocument.body}).observe(t)}function lY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const n=t.ownerDocument,i=n.createRange(),s=n.defaultView.getSelection();Ee(t,"contenteditable",!0),r&&Ee(t,...jf()),e&&oe(t,"invisibleSelection"),i.selectNodeContents(t),s.removeAllRanges(),s.addRange(i)}function cY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=t.ownerDocument.defaultView.getSelection();t.hasAttribute("aria-hidden")&&t.removeAttribute("aria-hidden"),r.removeAllRanges(),e&&Re(t,"invisibleSelection"),t.removeAttribute("contenteditable")}function cbe(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;lY(t,r),e(),cY(t,r)}function Rc(t){var e;const r=t==null||(e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView.Element;return!!(r&&r!==null&&t instanceof r)}function It(t){return typeof t=="function"}function bR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,r=null,n;function i(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r&&clearTimeout(r),r=setTimeout(()=>{n=t.apply(this,o)},e),n}return i}function uY(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return t.apply(this,r.concat(o))}}function ube(t){const e=t.length;function r(n){return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];const l=n.concat(o);let c;return l.length>=e?c=t.apply(this,l):c=r(l),c}}return r([])}function oI(t,e,r,n,i,s,o,a){return xe(a)?t.call(e,r,n,i,s,o,a):xe(o)?t.call(e,r,n,i,s,o):xe(s)?t.call(e,r,n,i,s):xe(i)?t.call(e,r,n,i):xe(n)?t.call(e,r,n):xe(r)?t.call(e,r):t.call(e)}const $e={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:BT()?182:174,AUDIO_MUTE:BT()?181:173,AUDIO_UP:BT()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},dbe=[$e.ALT,$e.ARROW_DOWN,$e.ARROW_LEFT,$e.ARROW_RIGHT,$e.ARROW_UP,$e.AUDIO_DOWN,$e.AUDIO_MUTE,$e.AUDIO_UP,$e.BACKSPACE,$e.CAPS_LOCK,$e.DELETE,$e.END,$e.ENTER,$e.ESCAPE,$e.F1,$e.F2,$e.F3,$e.F4,$e.F5,$e.F6,$e.F7,$e.F8,$e.F9,$e.F10,$e.F11,$e.F12,$e.F13,$e.F14,$e.F15,$e.F16,$e.F17,$e.F18,$e.F19,$e.HOME,$e.INSERT,$e.MEDIA_NEXT,$e.MEDIA_PLAY_PAUSE,$e.MEDIA_PREV,$e.MEDIA_STOP,$e.NULL,$e.NUM_LOCK,$e.PAGE_DOWN,$e.PAGE_UP,$e.PAUSE,$e.SCROLL_LOCK,$e.SHIFT,$e.TAB];function hbe(t){return t===32||t>=48&&t<=57||t>=96&&t<=111||t>=186&&t<=192||t>=219&&t<=222||t>=226||t>=65&&t<=90}function dY(t){return dbe.includes(t)}function fbe(t){return[$e.CONTROL,$e.COMMAND_LEFT,$e.COMMAND_RIGHT,$e.COMMAND_FIREFOX].includes(t)}function op(t,e){const r=e.split("|");let n=!1;return B(r,i=>{if(t===$e[i])return n=!0,!1}),n}function Eo(t){t.isImmediatePropagationEnabled=!1,t.cancelBubble=!0}function Sh(t){return t.isImmediatePropagationEnabled===!1}function yf(t){return t.button===2}function P2(t){return t.button===0}function gbe(t){return typeof TouchEvent<"u"&&t instanceof TouchEvent}function mbe(t,e){const r={x:t.offsetX,y:t.offsetY};let n=t.target;if(!Rc(e)||n!==e&&n.contains(e))return r;for(;n!==e;)r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;return r}function at(){xe(console)&&console.warn(...arguments)}function hY(t){xe(console)&&console.warn(`Deprecated: ${t}`)}function N2(){xe(console)&&console.error(...arguments)}const xh=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterColumnSequenceCacheUpdate","afterColumnSequenceChange","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","beforeCompositionStart","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterRowSequenceCacheUpdate","afterRowSequenceChange","beforeViewportScrollVertically","beforeViewportScrollHorizontally","beforeViewportScroll","afterScrollHorizontally","afterScrollVertically","afterScroll","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSelectionFocusSet","beforeSelectColumns","afterSelectColumns","beforeSelectRows","afterSelectRows","beforeSelectAll","afterSelectAll","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterSetTheme","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeHeightChange","beforeWidthChange","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeRowWrap","beforeColumnWrap","beforeSetCellMeta","beforeSelectionFocusSet","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeSelectionHighlightSet","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyFiltersMultiSelectValue","modifyFocusedElement","modifyRowHeader","modifyRowHeight","modifyRowHeightByOverlayName","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","modifyGetCoordsElement","modifyFocusOnTabNavigation","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","beforePageChange","afterPageChange","beforePageSizeChange","afterPageSizeChange","afterPageSizeVisibilityChange","afterPageCounterVisibilityChange","afterPageNavigationVisibilityChange","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","modifyColumnHeaderValue","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","modifyTransformFocus","modifyTransformStart","modifyTransformEnd","afterModifyTransformFocus","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","beforeBeginEditing","afterDialogHide","afterDialogShow","beforeDialogHide","beforeDialogShow","dialogFocusPreviousElement","dialogFocusNextElement","afterDialogFocus","beforeLoadingShow","afterLoadingShow","beforeLoadingHide","afterLoadingHide","beforeEmptyDataStateShow","afterEmptyDataStateShow","beforeEmptyDataStateHide","afterEmptyDataStateHide","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],UT=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),YT=new Map([[]]);var pbe=Tp,ybe=function(t,e,r){for(var n=0,i=arguments.length>2?r:pbe(e),s=new t(i);i>n;)s[n]=e[n++];return s},vbe=rn,wbe=function(t,e){var r=vbe[t],n=r&&r.prototype;return n&&n[e]},bbe=_a,Sbe=h7,xbe=Fc.f,aI=bbe("unscopables"),lI=Array.prototype;lI[aI]===void 0&&xbe(lI,aI,{configurable:!0,value:Sbe(null)});var SR=function(t){lI[aI][t]=!0},Cbe=Xt,_be=sn,Rbe=hs,Ebe=xw,Tbe=ybe,kbe=wbe,Pbe=SR,Nbe=Array,Mbe=_be(kbe("Array","sort"));Cbe({target:"Array",proto:!0},{toSorted:function(e){e!==void 0&&Rbe(e);var r=Ebe(this),n=Tbe(Nbe,r);return Mbe(n,e)}});Pbe("toSorted");var Ibe=Xt,Abe=mn,Obe=kp,Hbe=hs,jbe=pn,Dbe=Pl,$be=fs,Lbe=wd,GT=Lbe("find",TypeError);Ibe({target:"Iterator",proto:!0,real:!0,forced:GT},{find:function(e){jbe(this);try{Hbe(e)}catch(i){$be(this,"throw",i)}if(GT)return Abe(GT,this,e);var r=Dbe(this),n=0;return Obe(r,function(i,s){if(e(i,n++))return s(i)},{IS_RECORD:!0,INTERRUPTED:!0}).result}});function Fbe(t,e){fY(t,e),e.add(t)}function KT(t,e,r){fY(t,e),e.set(t,r)}function fY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a3(t,e,r){return t.set(C1(t,e),r),r}function Un(t,e){return t.get(C1(t,e))}function C1(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const Vbe=100;var Cs=new WeakMap,Fg=new WeakMap,qT=new WeakMap,XT=new WeakSet;class l3{constructor(){Fbe(this,XT),KT(this,Cs,new Map),KT(this,Fg,new Map),KT(this,qT,new Set),xh.forEach(e=>C1(XT,this,c3).call(this,e))}getHooks(e){var r;return(r=Un(Cs,this).get(e))!==null&&r!==void 0?r:[]}add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Un(Cs,this).has(e)||(C1(XT,this,c3).call(this,e),xh.push(e));const i=Un(Cs,this).get(e),s=i.find(d=>d.callback===r);if(s){s.skip===!0&&(s.skip=!1);return}const o=Number.isInteger(n.orderIndex)?n.orderIndex:0,a=!!n.runOnce,l=!!n.initialHook;let c=!1;if(l){const d=i.find(h=>h.initialHook);d&&(d.callback=r,c=!0)}if(!c){i.push({callback:r,orderIndex:o,runOnce:a,initialHook:l,skip:!1});let d=Un(qT,this).has(e);!d&&o!==0&&(d=!0,Un(qT,this).add(e)),d&&i.length>1&&Un(Cs,this).set(e,i.toSorted((h,f)=>h.orderIndex-f.orderIndex))}}has(e){return Un(Cs,this).has(e)&&Un(Cs,this).get(e).length>0}remove(e,r){if(!Un(Cs,this).has(e))return!1;const n=Un(Cs,this).get(e),i=n.find(s=>s.callback===r);if(i){let s=Un(Fg,this).get(e);return i.skip=!0,s+=1,s>Vbe&&(Un(Cs,this).set(e,n.filter(o=>!o.skip)),s=0),Un(Fg,this).set(e,s),!0}return!1}destroy(){Un(Cs,this).clear(),Un(Fg,this).clear(),a3(Cs,this,null),a3(Fg,this,null)}}function c3(t){Un(Cs,this).set(t,[]),Un(Fg,this).set(t,0)}function Wbe(t,e,r){return(e=Bbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bbe(t){var e=zbe(t,"string");return typeof e=="symbol"?e:e+""}function zbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Ube=kt`The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\x20
  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\x20
  learn about the migration path.`;class _e{constructor(){Wbe(this,"globalBucket",new l3)}static getSingleton(){return Gbe()}getBucket(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e?(e.pluginHookBucket||(e.pluginHookBucket=new l3),e.pluginHookBucket):this.globalBucket}add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return Array.isArray(r)?B(r,s=>this.add(e,s,n)):(UT.has(e)&&at(w2(Ube,{hookName:e,removedInVersion:UT.get(e)})),YT.has(e)&&at(YT.get(e)),this.getBucket(n).add(e,r,{orderIndex:i,runOnce:!1})),this}once(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return Array.isArray(r)?B(r,s=>this.once(e,s,n)):this.getBucket(n).add(e,r,{orderIndex:i,runOnce:!0}),this}addAsFixed(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return Array.isArray(r)?B(r,i=>this.addAsFixed(e,i,n)):this.getBucket(n).add(e,r,{initialHook:!0}),this}remove(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return this.getBucket(n).remove(e,r)}has(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return this.getBucket(r).has(e)}run(e,r,n,i,s,o,a,l){{const c=this.getBucket().getHooks(r),d=c?c.length:0;let h=0;if(d)for(;h<d;){if(!c[h]||c[h].skip){h+=1;continue}const f=oI(c[h].callback,e,n,i,s,o,a,l);f!==void 0&&(n=f),c[h]&&c[h].runOnce&&this.remove(r,c[h].callback),h+=1}}{const c=this.getBucket(e).getHooks(r),d=c?c.length:0;let h=0;if(d)for(;h<d;){if(!c[h]||c[h].skip){h+=1;continue}const f=oI(c[h].callback,e,n,i,s,o,a,l);f!==void 0&&(n=f),c[h]&&c[h].runOnce&&this.remove(r,c[h].callback,e),h+=1}}return n}destroy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.getBucket(e).destroy()}register(e){this.isRegistered(e)||xh.push(e)}deregister(e){this.isRegistered(e)&&xh.splice(xh.indexOf(e),1)}isDeprecated(e){return YT.has(e)||UT.has(e)}isRegistered(e){return xh.indexOf(e)>=0}getRegistered(){return xh}}const Ybe=new _e;function Gbe(){return Ybe}const Ah=new Map;function No(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"common";Ah.has(t)||Ah.set(t,new Map);const e=Ah.get(t);function r(l,c){e.set(l,c)}function n(l){return e.get(l)}function i(l){return e.has(l)}function s(){return[...e.keys()]}function o(){return[...e.values()]}function a(){Ah.delete(t),e.clear()}return{register:r,getItem:n,hasItem:i,getNames:s,getValues:o,clear:a}}function Kbe(t,e){var r;return Ah==null||(r=Ah.get(t.guid))===null||r===void 0?void 0:r.get(e)}const cI=new WeakMap,{register:qbe,getItem:gY,hasItem:mY,getNames:xUe,getValues:CUe}=No("editors");function Xbe(t){const e={},r=t;this.getConstructor=function(){return t},this.getInstance=function(n){return n.guid in e||(e[n.guid]=new r(n)),e[n.guid]},_e.getSingleton().add("afterDestroy",function(){e[this.guid]=null})}function pY(t,e){let r;if(typeof t=="function")cI.get(t)||Es(null,t),r=cI.get(t);else if(typeof t=="string")r=gY(t);else throw Error('Only strings and functions can be passed as "editor" parameter');if(!r)throw Error(`No editor registered under name "${t}"`);return r.getInstance(e)}function uI(t){if(typeof t=="function")return t;if(!mY(t))throw Error(`No registered editor found under "${t}" name`);return gY(t).getConstructor()}function Es(t,e){t&&typeof t!="string"&&(e=t,t=e.EDITOR_TYPE);const r=new Xbe(e);typeof t=="string"&&qbe(t,r),cI.set(e,r)}function Qbe(t,e,r){return(e=Jbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jbe(t){var e=Zbe(t,"string");return typeof e=="symbol"?e:e+""}function Zbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Sa{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;Qbe(this,"context",void 0),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}addEventListener(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;function s(o){n.call(this,eSe(o))}return this.context.eventListeners.push({element:e,event:r,callback:n,callbackProxy:s,options:i,eventManager:this}),e.addEventListener(r,s,i),()=>{this.removeEventListener(e,r,n)}}removeEventListener(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=this.context.eventListeners.length,o;for(;s;)if(s-=1,o=this.context.eventListeners[s],o.event===r&&o.element===e){if(n&&n!==o.callback||i&&o.eventManager!==this)continue;this.context.eventListeners.splice(s,1),o.element.removeEventListener(o.event,o.callbackProxy,o.options)}}clearEvents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.context)return;let r=this.context.eventListeners.length;for(;r;){r-=1;const n=this.context.eventListeners[r];e&&n.eventManager!==this||(this.context.eventListeners.splice(r,1),n.element.removeEventListener(n.event,n.callbackProxy,n.options))}}clear(){this.clearEvents()}destroy(){this.clearEvents(),this.context=null}destroyWithOwnEventsOnly(){this.clearEvents(!0),this.context=null}fireEvent(e,r){let n=e.document,i=e;n||(n=e.ownerDocument?e.ownerDocument:e,i=n.defaultView);const s={bubbles:!0,cancelable:r!=="mousemove",view:i,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0};let o;n.createEvent?(o=n.createEvent("MouseEvents"),o.initMouseEvent(r,s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,n.body.parentNode)):o=n.createEventObject(),e.dispatchEvent?e.dispatchEvent(o):e.fireEvent(`on${r}`,o)}}function eSe(t){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=function(){e.apply(this),Eo(this)},t}function tSe(t,e){rSe(t,e),e.add(t)}function rSe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Nd(t,e,r){return(e=nSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nSe(t){var e=iSe(t,"string");return typeof e=="symbol"?e:e+""}function iSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QT(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var qb=new WeakSet;class dI{constructor(e,r,n){tSe(this,qb),Nd(this,"hot",void 0),Nd(this,"tableMeta",void 0),Nd(this,"selection",void 0),Nd(this,"eventManager",void 0),Nd(this,"destroyed",!1),Nd(this,"activeEditor",void 0),Nd(this,"cellProperties",void 0),this.hot=e,this.tableMeta=r,this.selection=n,this.eventManager=new Sa(e),this.hot.addHook("afterDocumentKeyDown",i=>QT(qb,this,u3).call(this,i)),this.hot.addHook("beforeCompositionStart",i=>QT(qb,this,u3).call(this,i)),this.hot.view._wt.update("onCellDblClick",(i,s,o)=>QT(qb,this,sSe).call(this,i,s,o))}getActiveEditor(){return this.activeEditor}prepareEditor(){var e;if(this.activeEditor&&this.activeEditor.isWaiting()){this.closeEditor(!1,!1,c=>{c&&this.prepareEditor()});return}const r=(e=this.hot.getSelectedRangeActive())===null||e===void 0?void 0:e.highlight;if(!r||r.isHeader())return;const{row:n,col:i}=r,s=this.hot.runHooks("modifyGetCellCoords",n,i,!1,"meta");let o=n,a=i;if(Array.isArray(s)&&([o,a]=s),this.cellProperties=this.hot.getCellMeta(o,a),!this.isCellEditable()){this.clearActiveEditor();return}const l=this.hot.getCell(n,i,!0);if(l){const c=this.hot.getCellEditor(this.cellProperties),d=this.hot.colToProp(a),h=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(o),a);this.activeEditor=pY(c,this.hot),this.activeEditor.prepare(n,i,d,l,h,this.cellProperties)}}isEditorOpened(){return this.activeEditor&&this.activeEditor.isOpened()}openEditor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!this.isCellEditable()){this.clearActiveEditor();return}const i=this.hot.getSelectedRangeActive();let s=this.hot.runHooks("beforeBeginEditing",i.highlight.row,i.highlight.col,e,r,n);if(r instanceof MouseEvent&&typeof s!="boolean"&&(s=this.hot.selection.getLayerLevel()===0&&i.isSingle()),s===!1){this.clearActiveEditor();return}this.activeEditor||(this.hot.scrollToFocusedCell(),this.prepareEditor()),this.activeEditor&&(n&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(e,r))}closeEditor(e,r,n){this.activeEditor?this.activeEditor.finishEditing(e,r,n):n&&n(!1)}closeEditorAndSaveChanges(e){this.closeEditor(!1,e)}closeEditorAndRestoreOriginalValue(e){this.closeEditor(!0,e)}clearActiveEditor(){this.activeEditor=void 0}isCellEditable(){const e=this.hot.getSelectedRangeActive();if(!e)return!1;const r=this.hot.getCellEditor(this.cellProperties),{row:n,col:i}=e.highlight,{rowIndexMapper:s,columnIndexMapper:o}=this.hot,a=s.isHidden(this.hot.toPhysicalRow(n))||o.isHidden(this.hot.toPhysicalColumn(i));return!(this.cellProperties.readOnly||!r||a)}moveSelectionAfterEnter(e){const r={...typeof this.tableMeta.enterMoves=="function"?this.tableMeta.enterMoves(e):this.tableMeta.enterMoves};e.shiftKey&&(r.row=-r.row,r.col=-r.col),this.hot.selection.isMultiple()?this.selection.transformFocus(r.row,r.col):this.selection.transformStart(r.row,r.col,!0)}destroy(){this.destroyed=!0,this.eventManager.destroy()}}function u3(t){const e=this.hot.getSelectedRangeActive();if(!this.hot.isListening()||!e||e.highlight.isHeader()||Sh(t))return;const{keyCode:r}=t,n=(t.ctrlKey||t.metaKey)&&!t.altKey;(!this.activeEditor||this.activeEditor&&!this.activeEditor.isWaiting())&&!dY(r)&&!fbe(r)&&!n&&!this.isEditorOpened()&&this.openEditor("",t)}function sSe(t,e){e.isCell()&&(this.hot.getShortcutManager().isCtrlPressed()?this.clearActiveEditor():this.openEditor(null,t,!0))}const d3=new WeakMap;dI.getInstance=function(t,e,r){let n=d3.get(t);return n||(n=new dI(t,e,r),d3.set(t,n)),n};var oSe=zs,aSe=Pf,lSe=_a,cSe=lSe("match"),uSe=function(t){var e;return oSe(t)&&((e=t[cSe])!==void 0?!!e:aSe(t)==="RegExp")},dSe=rn,hSe=nn,h3=dSe.RegExp,fSe=!hSe(function(){var t=!0;try{h3(".","d")}catch{t=!1}var e={},r="",n=t?"dgimsy":"gimsy",i=function(l,c){Object.defineProperty(e,l,{get:function(){return r+=c,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};t&&(s.hasIndices="d");for(var o in s)i(o,s[o]);var a=Object.getOwnPropertyDescriptor(h3.prototype,"flags").get.call(e);return a!==n||r!==n}),gSe={correct:fSe},mSe=pn,pSe=function(){var t=mSe(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},ySe=mn,vSe=Us,wSe=Cw,f3=gSe,bSe=pSe,SSe=RegExp.prototype,xSe=f3.correct?function(t){return t.flags}:function(t){return!f3.correct&&wSe(SSe,t)&&!vSe(t,"flags")?ySe(bSe,t):t.flags},M2=sn,CSe=Rp,_Se=Math.floor,JT=M2("".charAt),RSe=M2("".replace),ZT=M2("".slice),ESe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,TSe=/\$([$&'`]|\d{1,2})/g,kSe=function(t,e,r,n,i,s){var o=r+t.length,a=n.length,l=TSe;return i!==void 0&&(i=CSe(i),l=ESe),RSe(s,l,function(c,d){var h;switch(JT(d,0)){case"$":return"$";case"&":return t;case"`":return ZT(e,0,r);case"'":return ZT(e,o);case"<":h=i[ZT(d,1,-1)];break;default:var f=+d;if(f===0)return c;if(f>a){var g=_Se(f/10);return g===0?c:g<=a?n[g-1]===void 0?JT(d,1):n[g-1]+JT(d,1):c}h=n[f-1]}return h===void 0?"":h})},PSe=Xt,NSe=mn,I2=sn,g3=Sw,MSe=En,ISe=zs,ASe=uSe,p0=rR,OSe=_w,HSe=xSe,jSe=kSe,DSe=_a,$Se=DSe("replace"),LSe=TypeError,ek=I2("".indexOf);I2("".replace);var m3=I2("".slice),FSe=Math.max;PSe({target:"String",proto:!0},{replaceAll:function(e,r){var n=g3(this),i,s,o,a,l,c,d,h,f,g,m=0,p="";if(ISe(e)){if(i=ASe(e),i&&(s=p0(g3(HSe(e))),!~ek(s,"g")))throw new LSe("`.replaceAll` does not allow non-global regexes");if(o=OSe(e,$Se),o)return NSe(o,e,n,r)}for(a=p0(n),l=p0(e),c=MSe(r),c||(r=p0(r)),d=l.length,h=FSe(1,d),f=ek(a,l);f!==-1;)g=c?p0(r(l,f,a)):jSe(l,a,f,[],void 0,r),p+=m3(a,m,f)+g,m=f+d,f=f+h>a.length?-1:ek(a,l,f+h);return m<a.length&&(p+=m3(a,m)),p}});const yY={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},VSe=new RegExp(Object.keys(yY).map(t=>`(${t})`).join("|"),"gi");function WSe(t){return(t&&t.nodeName||"")==="TABLE"}function p3(t){const e=t.hasColHeaders(),r=t.hasRowHeaders(),n=[e?-1:0,r?-1:0,t.countRows()-1,t.countCols()-1],i=t.getData(...n),s=i.length,o=s>0?i[0].length:0,a=["<table>","</table>"],l=e?["<thead>","</thead>"]:[],c=["<tbody>","</tbody>"],d=r?1:0,h=e?1:0;for(let f=0;f<s;f+=1){const g=e&&f===0,m=[];for(let y=0;y<o;y+=1){const S=!g&&r&&y===0;let w="";if(g)w=`<th>${t.getColHeader(y-d)}</th>`;else if(S)w=`<th>${t.getRowHeader(f-h)}</th>`;else{const b=i[f][y],{hidden:C,rowspan:N,colspan:P}=t.getCellMeta(f-h,y-d);if(!C){const k=[];if(N&&k.push(`rowspan="${N}"`),P&&k.push(`colspan="${P}"`),Yr(b))w=`<td ${k.join(" ")}></td>`;else{const R=b.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");w=`<td ${k.join(" ")}>${R}</td>`}}}m.push(w)}const p=["<tr>",...m,"</tr>"].join("");g?l.splice(1,0,p):c.splice(-1,0,p)}return a.splice(1,0,l.join(""),c.join("")),a.join("")}function y3(t){const e=t.length,r=["<table>"];for(let n=0;n<e;n+=1){const i=t[n],s=i.length,o=[];n===0&&r.push("<tbody>");for(let a=0;a<s;a+=1){const l=i[a],c=Yr(l)?"":l.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20{2,}/gi,d=>`<span style="mso-spacerun: yes">${"&nbsp;".repeat(d.length-1)} </span>`).replace(/\t/gi,"&#9;");o.push(`<td>${c}</td>`)}r.push("<tr>",...o,"</tr>"),n+1===e&&r.push("</tbody>")}return r.push("</table>"),r.join("")}function v3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;const r={},n=e.createDocumentFragment(),i=e.createElement("div");n.appendChild(i);let s=t;if(typeof s=="string"){const b=s.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,C=>{const N=C.match(/<td\b[^>]*?>/g)[0],P=/<p.*?>/g,k=C.substring(N.length,C.lastIndexOf("<")).trim().replaceAll(/\n\s+/g," ").replaceAll(P,`
`).replace(`
`,"").replaceAll(/<\/(.*)>\s+$/mg,"</$1>").replace(/(<(?!br)([^>]+)>)/gi,"").replaceAll(/^&nbsp;$/mg,"");return`${N}${k}</td>`});i.insertAdjacentHTML("afterbegin",`${b}`),s=i.querySelector("table")}if(!s||!WSe(s))return;const o=i.querySelector('meta[name$="enerator"]'),a=s.querySelector("tbody th")!==null,l=s.querySelector("tr"),c=l?Array.from(l.cells).reduce((b,C)=>b+C.colSpan,0)-(a?1:0):0,d=s.tFoot&&Array.from(s.tFoot.rows)||[],h=[];let f=!1,g=0,m=0;if(s.tHead){const b=Array.from(s.tHead.rows).filter(C=>{const N=C.querySelector("td")!==null;return N&&h.push(C),!N});g=b.length,f=g>0,g>1?r.nestedHeaders=Array.from(b).reduce((C,N)=>{const P=Array.from(N.cells).reduce((k,R,I)=>{if(a&&I===0)return k;const{colSpan:O,innerHTML:Z}=R,q=O>1?{label:Z,colspan:O}:Z;return k.push(q),k},[]);return C.push(P),C},[]):f&&(r.colHeaders=Array.from(b[0].children).reduce((C,N,P)=>(a&&P===0||C.push(N.innerHTML),C),[]))}h.length&&(r.fixedRowsTop=h.length),d.length&&(r.fixedRowsBottom=d.length);const p=[...h,...Array.from(s.tBodies).reduce((b,C)=>(b.push(...Array.from(C.rows)),b),[]),...d];m=p.length;const y=new Array(m);for(let b=0;b<m;b++)y[b]=new Array(c);const S=[],w=[];for(let b=0;b<m;b++){const C=p[b],N=Array.from(C.cells),P=N.length;for(let k=0;k<P;k++){const R=N[k],{nodeName:I,innerHTML:O,rowSpan:Z,colSpan:q}=R,J=y[b].findIndex(re=>re===void 0);if(I==="TD"){if(Z>1||q>1){for(let be=b;be<b+Z;be++)if(be<m)for(let ie=J;ie<J+q;ie++)y[be][ie]=null;const ue=R.getAttribute("style");ue&&ue.includes("mso-ignore:colspan")||S.push({col:J,row:b,rowspan:Z,colspan:q})}let re="";o&&/excel/gi.test(o.content)?re=O.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,`\r
`):re=O.replace(/<br(\s*|\/)>[\r\n]?/gim,`\r
`),y[b][J]=re.replace(VSe,ue=>yY[ue])}else w.push(O)}}return S.length&&(r.mergeCells=S),w.length&&(r.rowHeaders=w),y.length&&(r.data=y),r}function Ii(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=typeof t;if(r==="number")return!isNaN(t)&&isFinite(t);if(r==="string"){if(t.length===0)return!1;if(t.length===1)return/\d/.test(t);const n=Array.from(new Set([".",...e])).map(i=>`\\${i}`).join("|");return new RegExp(`^[+-]?(((${n})?\\d+((${n})\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$`,"i").test(t.trim())}else if(r==="object")return!!t&&typeof t.valueOf()=="number"&&!(t instanceof Date);return!1}function BSe(t){return Ii(t,[","])}function Ie(t,e,r){let n=-1;for(typeof e=="function"?(r=e,e=t):n=t-1;++n<=e&&r(n)!==!1;);}function w3(t,e,r){let n=t+1;for(typeof e=="function"&&(r=e,e=0);--n>=e&&r(n)!==!1;);}function vY(t,e){return e=parseInt(e.toString().replace("%",""),10),e=isNaN(e)?0:e,parseInt(t*e/100,10)}function ft(t,e,r){return Math.min(t,e)===t?e:Math.max(t,r)===t?r:t}function zSe(t){const e=t.replace(",",".");return isNaN(parseFloat(e))===!1?parseFloat(e):null}function Mm(t){return Number.isInteger(t)&&t>=0}const hI="asc",USe="desc",b3=new Map([[hI,[-1,1]],[USe,[1,-1]]]),YSe=t=>`The priority '${t}' is already declared in a map.`,GSe=t=>`The priority '${t}' is not a number.`;function KSe(){let{errorPriorityExists:t,errorPriorityNaN:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=new Map;t=It(t)?t:YSe,e=It(e)?e:GSe;function n(s,o){if(!Ii(s))throw new Error(e(s));if(r.has(s))throw new Error(t(s));r.set(s,o)}function i(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hI;const[o,a]=b3.get(s)||b3.get(hI);return[...r].sort((l,c)=>l[0]<c[0]?o:a).map(l=>l[1])}return{addItem:n,getItems:i}}const qSe=t=>`The id '${t}' is already declared in a map.`;function Hw(){let{errorIdExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=new Map;t=It(t)?t:qSe;function r(d,h){if(c(d))throw new Error(t(d));e.set(d,h)}function n(d){return e.delete(d)}function i(){e.clear()}function s(d){const[h]=a().find(f=>{let[g,m]=f;return d===m?g:!1})||[null];return h}function o(d){return e.get(d)}function a(){return[...e]}function l(){return[...e.values()]}function c(d){return e.has(d)}return{addItem:r,clear:i,getId:s,getItem:o,getItems:a,getValues:l,hasItem:c,removeItem:n}}const XSe=t=>`'${t}' value is already declared in a unique set.`;function QSe(){let{errorItemExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=new Set;t=It(t)?t:XSe;function r(s){if(e.has(s))throw new Error(t(s));e.add(s)}function n(){return[...e]}function i(){e.clear()}return{addItem:r,clear:i,getItems:n}}const A2=t=>`There is already registered "${t}" plugin.`,JSe=t=>`There is already registered plugin on priority "${t}".`,ZSe=t=>`The priority "${t}" is not a number.`,wY=KSe({errorPriorityExists:JSe,errorPriorityNaN:ZSe}),bY=QSe({errorItemExists:A2}),fI=Hw({errorIdExists:A2});function SY(){return[...wY.getItems(),...bY.getItems()]}function O2(t){const e=wa(t);return fI.getItem(e)}function exe(t){return!!O2(t)}function mt(t,e,r){[t,e,r]=rxe(t,e,r),O2(t)===void 0&&txe(t,e,r)}function txe(t,e,r){const n=wa(t);if(fI.hasItem(n))throw new Error(A2(n));r===void 0?bY.addItem(n):wY.addItem(r,n),fI.addItem(n,e)}function rxe(t,e,r){return typeof t=="function"&&(e=t,t=e.PLUGIN_KEY,r=e.PLUGIN_PRIORITY),[t,e,r]}const{register:nxe,getItem:ixe,hasItem:xY,getNames:_Ue,getValues:RUe}=No("renderers");function gI(t){if(typeof t=="function")return t;if(!xY(t))throw Error(`No registered renderer found under "${t}" name`);return ixe(t)}function ro(t,e){typeof t!="string"&&(e=t,t=e.RENDERER_TYPE),nxe(t,e)}const{register:sxe,getItem:oxe,hasItem:CY,getNames:EUe,getValues:TUe}=No("validators");function axe(t){if(typeof t=="function")return t;if(!CY(t))throw Error(`No registered validator found under "${t}" name`);return oxe(t)}function Vg(t,e){typeof t!="string"&&(e=t,t=e.VALIDATOR_TYPE),sxe(t,e)}var lxe=Xt,cxe=Rp,uxe=Tp,dxe=Rw,hxe=SR;lxe({target:"Array",proto:!0},{at:function(e){var r=cxe(this),n=uxe(r),i=dxe(e),s=i>=0?i:n+i;return s<0||s>=n?void 0:r[s]}});hxe("at");var fxe=Xt,gxe=sn,mxe=Sw,pxe=Rw,yxe=rR,vxe=nn,wxe=gxe("".charAt),bxe=vxe(function(){return"".at(-2)!=="\uD842"});fxe({target:"String",proto:!0,forced:bxe},{at:function(e){var r=yxe(mxe(this)),n=r.length,i=pxe(e),s=i>=0?i:n+i;return s<0||s>=n?void 0:wxe(r,s)}});function y0(t,e,r){return(e=Sxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sxe(t){var e=xxe(t,"string");return typeof e=="symbol"?e:e+""}function xxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Cxe{constructor(){y0(this,"count",0),y0(this,"startColumn",null),y0(this,"endColumn",null),y0(this,"startPosition",null),y0(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,r){const{totalCalculatedWidth:n,zeroBasedScrollOffset:i,viewportWidth:s,columnWidth:o}=r,a=i>0?s+1:s;n>=i&&n+o<=i+a&&((this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=e),this.endColumn=e)}finalize(e){var r;const{scrollOffset:n,viewportWidth:i,inlineStartOffset:s,zeroBasedScrollOffset:o,totalColumns:a,needReverse:l,startPositions:c,columnWidth:d}=e;if(this.endColumn===a-1&&l)for(this.startColumn=this.endColumn;this.startColumn>0;){const m=c[this.endColumn]+d-c[this.startColumn-1];if(m<=i&&(this.startColumn-=1),m>=i)break}this.startPosition=(r=c[this.startColumn])!==null&&r!==void 0?r:null;const h=o>0?i+1:i,f=n+i-h,g=this.startColumn===null?0:e.getColumnWidth(this.startColumn);f<-1*s||n>c.at(-1)||-1*n-i>-1*g?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,a<this.endColumn&&(this.endColumn=a-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}}function v0(t,e,r){return(e=_xe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _xe(t){var e=Rxe(t,"string");return typeof e=="symbol"?e:e+""}function Rxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Exe{constructor(){v0(this,"count",0),v0(this,"startRow",null),v0(this,"endRow",null),v0(this,"startPosition",null),v0(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,r){const{totalCalculatedHeight:n,zeroBasedScrollOffset:i,innerViewportHeight:s,rowHeight:o}=r;n>=i&&n+o<=s&&(this.startRow===null&&(this.startRow=e),this.endRow=e)}finalize(e){var r;const{scrollOffset:n,viewportHeight:i,horizontalScrollbarHeight:s,totalRows:o,needReverse:a,startPositions:l,rowHeight:c}=e;if(this.endRow===o-1&&a)for(this.startRow=this.endRow;this.startRow>0;){const f=l[this.endRow]+c-l[this.startRow-1];if(f<=i-s&&(this.startRow-=1),f>=i-s)break}this.startPosition=(r=l[this.startRow])!==null&&r!==void 0?r:null;const d=n+i-s,h=this.startRow===null?0:e.getRowHeight(this.startRow);d<h||n>l.at(-1)?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,o<this.endRow&&(this.endRow=o-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function w0(t,e,r){return(e=Txe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Txe(t){var e=kxe(t,"string");return typeof e=="symbol"?e:e+""}function kxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _Y{constructor(){w0(this,"count",0),w0(this,"startColumn",null),w0(this,"endColumn",null),w0(this,"startPosition",null),w0(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,r){const{totalCalculatedWidth:n,zeroBasedScrollOffset:i,viewportWidth:s}=r;n<=i&&(this.startColumn=e);const o=i>0?s+1:s;n>=i&&n<=i+o&&(this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=e),this.endColumn=e}finalize(e){var r;const{scrollOffset:n,viewportWidth:i,inlineStartOffset:s,zeroBasedScrollOffset:o,totalColumns:a,needReverse:l,startPositions:c,columnWidth:d}=e;if(this.endColumn===a-1&&l)for(this.startColumn=this.endColumn;this.startColumn>0;){const g=c[this.endColumn]+d-c[this.startColumn-1];if(this.startColumn-=1,g>i)break}this.startPosition=(r=c[this.startColumn])!==null&&r!==void 0?r:null;const h=o>0?i+1:i;n+i-h<-1*s||n>c.at(-1)+d||-1*n-i>0?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,a<this.endColumn&&(this.endColumn=a-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}}function b0(t,e,r){return(e=Pxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pxe(t){var e=Nxe(t,"string");return typeof e=="symbol"?e:e+""}function Nxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class RY{constructor(){b0(this,"count",0),b0(this,"startRow",null),b0(this,"endRow",null),b0(this,"startPosition",null),b0(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,r){const{totalCalculatedHeight:n,zeroBasedScrollOffset:i,innerViewportHeight:s}=r;n<=i&&(this.startRow=e),n>=i&&n<=s&&this.startRow===null&&(this.startRow=e),this.endRow=e}finalize(e){var r;const{scrollOffset:n,viewportHeight:i,horizontalScrollbarHeight:s,totalRows:o,needReverse:a,startPositions:l,rowHeight:c}=e;if(this.endRow===o-1&&a)for(this.startRow=this.endRow;this.startRow>0;){const h=l[this.endRow]+c-l[this.startRow-1];if(this.startRow-=1,h>=i-s)break}this.startPosition=(r=l[this.startRow])!==null&&r!==void 0?r:null,n+i-s<0||n>l.at(-1)+c?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,o<this.endRow&&(this.endRow=o-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function S0(t,e,r){return(e=Mxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mxe(t){var e=Ixe(t,"string");return typeof e=="symbol"?e:e+""}function Ixe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Axe{constructor(){S0(this,"count",0),S0(this,"startColumn",0),S0(this,"endColumn",0),S0(this,"startPosition",0),S0(this,"isVisibleInTrimmingContainer",!0)}initialize(e){let{totalColumns:r}=e;this.count=r,this.endColumn=this.count-1}process(){}finalize(){}}function x0(t,e,r){return(e=Oxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oxe(t){var e=Hxe(t,"string");return typeof e=="symbol"?e:e+""}function Hxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jxe{constructor(){x0(this,"count",0),x0(this,"startRow",0),x0(this,"endRow",0),x0(this,"startPosition",0),x0(this,"isVisibleInTrimmingContainer",!0)}initialize(e){let{totalRows:r}=e;this.count=r,this.endRow=this.count-1}process(){}finalize(){}}function S3(t,e,r){return(e=Dxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dxe(t){var e=$xe(t,"string");return typeof e=="symbol"?e:e+""}function $xe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Lxe extends _Y{constructor(){super(...arguments),S3(this,"columnStartOffset",0),S3(this,"columnEndOffset",0)}finalize(e){var r;super.finalize(e);const{overrideFn:n,totalColumns:i,startPositions:s}=e;if(this.startColumn!==null&&typeof n=="function"){const o=this.startColumn,a=this.endColumn;n(this),this.columnStartOffset=o-this.startColumn,this.columnEndOffset=this.endColumn-a}this.startColumn<0&&(this.startColumn=0),this.startPosition=(r=s[this.startColumn])!==null&&r!==void 0?r:null,i<this.endColumn&&(this.endColumn=i-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}}function x3(t,e,r){return(e=Fxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fxe(t){var e=Vxe(t,"string");return typeof e=="symbol"?e:e+""}function Vxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Wxe extends RY{constructor(){super(...arguments),x3(this,"rowStartOffset",0),x3(this,"rowEndOffset",0)}finalize(e){var r;super.finalize(e);const{overrideFn:n,totalRows:i,startPositions:s}=e;if(this.startRow!==null&&typeof n=="function"){const o=this.startRow,a=this.endRow;n(this),this.rowStartOffset=o-this.startRow,this.rowEndOffset=this.endRow-a}this.startRow<0&&(this.startRow=0),this.startPosition=(r=s[this.startRow])!==null&&r!==void 0?r:null,i<this.endRow&&(this.endRow=i-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function C3(t,e,r){return(e=Bxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bxe(t){var e=zxe(t,"string");return typeof e=="symbol"?e:e+""}function zxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class EY{constructor(e){C3(this,"calculationTypes",[]),C3(this,"calculationResults",new Map),this.calculationTypes=e}_initialize(e){this.calculationTypes.forEach(r=>{let[n,i]=r;this.calculationResults.set(n,i),i.initialize(e)})}_process(e,r){this.calculationTypes.forEach(n=>{let[,i]=n;return i.process(e,r)})}_finalize(e){this.calculationTypes.forEach(r=>{let[,n]=r;return n.finalize(e)})}getResultsFor(e){return this.calculationResults.get(e)}}function jo(t,e,r){return(e=Uxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uxe(t){var e=Yxe(t,"string");return typeof e=="symbol"?e:e+""}function Yxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const ap=50;class Gxe extends EY{constructor(e){let{calculationTypes:r,viewportWidth:n,scrollOffset:i,totalColumns:s,columnWidthFn:o,overrideFn:a,inlineStartOffset:l}=e;super(r),jo(this,"viewportWidth",0),jo(this,"scrollOffset",0),jo(this,"zeroBasedScrollOffset",0),jo(this,"totalColumns",0),jo(this,"columnWidthFn",null),jo(this,"columnWidth",0),jo(this,"overrideFn",null),jo(this,"inlineStartOffset",0),jo(this,"totalCalculatedWidth",0),jo(this,"startPositions",[]),jo(this,"needReverse",!0),this.viewportWidth=n,this.scrollOffset=i,this.zeroBasedScrollOffset=Math.max(i,0),this.totalColumns=s,this.columnWidthFn=o,this.overrideFn=a,this.inlineStartOffset=l,this.calculate()}calculate(){this._initialize(this);for(let e=0;e<this.totalColumns;e++)if(this.columnWidth=this.getColumnWidth(e),this._process(e,this),this.startPositions.push(this.totalCalculatedWidth),this.totalCalculatedWidth+=this.columnWidth,this.totalCalculatedWidth>=this.zeroBasedScrollOffset+this.viewportWidth){this.needReverse=!1;break}this._finalize(this)}getColumnWidth(e){const r=this.columnWidthFn(e);return isNaN(r)?ap:r}}function Xs(t,e,r){return(e=Kxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kxe(t){var e=qxe(t,"string");return typeof e=="symbol"?e:e+""}function qxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Xxe extends EY{constructor(e){let{calculationTypes:r,viewportHeight:n,scrollOffset:i,totalRows:s,defaultRowHeight:o,rowHeightFn:a,overrideFn:l,horizontalScrollbarHeight:c}=e;super(r),Xs(this,"viewportHeight",0),Xs(this,"scrollOffset",0),Xs(this,"zeroBasedScrollOffset",0),Xs(this,"totalRows",0),Xs(this,"rowHeightFn",null),Xs(this,"rowHeight",0),Xs(this,"overrideFn",null),Xs(this,"horizontalScrollbarHeight",0),Xs(this,"innerViewportHeight",0),Xs(this,"totalCalculatedHeight",0),Xs(this,"startPositions",[]),Xs(this,"needReverse",!0),this.defaultHeight=o,this.viewportHeight=n,this.scrollOffset=i,this.zeroBasedScrollOffset=Math.max(i,0),this.totalRows=s,this.rowHeightFn=a,this.overrideFn=l,this.horizontalScrollbarHeight=c??0,this.innerViewportHeight=this.zeroBasedScrollOffset+this.viewportHeight-this.horizontalScrollbarHeight,this.calculate()}calculate(){this._initialize(this);for(let e=0;e<this.totalRows;e++)if(this.rowHeight=this.getRowHeight(e),this._process(e,this),this.startPositions.push(this.totalCalculatedHeight),this.totalCalculatedHeight+=this.rowHeight,this.totalCalculatedHeight>=this.innerViewportHeight){this.needReverse=!1;break}this._finalize(this)}getRowHeight(e){const r=this.rowHeightFn(e);return isNaN(r)?this.defaultHeight:r}}function Qxe(t,e,r){Jxe(t,e),e.set(t,r)}function Jxe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _3(t,e,r){return(e=Zxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zxe(t){var e=eCe(t,"string");return typeof e=="symbol"?e:e+""}function eCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qf(t,e){return t.get(TY(t,e))}function R3(t,e,r){return t.set(TY(t,e),r),r}function TY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Dl=new WeakMap;class vf{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;_3(this,"row",null),_3(this,"col",null),Qxe(this,Dl,!1),R3(Dl,this,n),typeof e<"u"&&typeof r<"u"&&(this.row=e,this.col=r)}isValid(e){const{countRows:r,countCols:n,countRowHeaders:i,countColHeaders:s}={countRows:0,countCols:0,countRowHeaders:0,countColHeaders:0,...e};return!(!Number.isInteger(this.row)||!Number.isInteger(this.col)||this.row<-s||this.col<-i||this.row>=r||this.col>=n)}isEqual(e){return e===this?!0:this.row===e.row&&this.col===e.col}isHeader(){return!this.isCell()}isCell(){return this.row>=0&&this.col>=0}isRtl(){return qf(Dl,this)}isSouthEastOf(e){return this.row>=e.row&&(qf(Dl,this)?this.col<=e.col:this.col>=e.col)}isNorthWestOf(e){return this.row<=e.row&&(qf(Dl,this)?this.col>=e.col:this.col<=e.col)}isSouthWestOf(e){return this.row>=e.row&&(qf(Dl,this)?this.col>=e.col:this.col<=e.col)}isNorthEastOf(e){return this.row<=e.row&&(qf(Dl,this)?this.col<=e.col:this.col>=e.col)}normalize(){return this.row=this.row===null?this.row:Math.max(this.row,0),this.col=this.col===null?this.col:Math.max(this.col,0),this}assign(e){return Number.isInteger(e==null?void 0:e.row)&&(this.row=e.row),Number.isInteger(e==null?void 0:e.col)&&(this.col=e.col),e instanceof vf&&R3(Dl,this,e.isRtl()),this}clone(){return new vf(this.row,this.col,qf(Dl,this))}toObject(){return{row:this.row,col:this.col}}}function tCe(t,e,r){rCe(t,e),e.set(t,r)}function rCe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tk(t,e,r){return(e=nCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nCe(t){var e=iCe(t,"string");return typeof e=="symbol"?e:e+""}function iCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qs(t,e){return t.get(kY(t,e))}function sCe(t,e,r){return t.set(kY(t,e),r),r}function kY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Wi=new WeakMap;class Ip{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;tk(this,"highlight",null),tk(this,"from",null),tk(this,"to",null),tCe(this,Wi,!1),this.highlight=e.clone(),this.from=r.clone(),this.to=n.clone(),sCe(Wi,this,i)}setHighlight(e){return this.highlight=e.clone(),this}setFrom(e){return this.from=e.clone(),this}setTo(e){return this.to=e.clone(),this}normalize(){return this.highlight.normalize(),this.from.normalize(),this.to.normalize(),this}isValid(e){return this.from.isValid(e)&&this.to.isValid(e)}isSingle(){return this.isSingleCell()||this.isSingleHeader()}isSingleCell(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}isSingleHeader(){return(this.from.row<0||this.from.col<0)&&this.from.row===this.to.row&&this.from.col===this.to.col}isHeader(){return this.from.isHeader()&&this.to.isHeader()?!0:this.from.col<0&&this.to.col<0||this.from.row<0&&this.to.row<0}containsHeaders(){return this.from.isHeader()||this.to.isHeader()}getOuterHeight(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}getOuterWidth(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}getHeight(){if(this.from.row<0&&this.to.row<0)return 0;const e=Math.max(this.from.row,0),r=Math.max(this.to.row,0);return Math.max(e,r)-Math.min(e,r)+1}getWidth(){if(this.from.col<0&&this.to.col<0)return 0;const e=Math.max(this.from.col,0),r=Math.max(this.to.col,0);return Math.max(e,r)-Math.min(e,r)+1}getCellsCount(){return this.getWidth()*this.getHeight()}includes(e){const{row:r,col:n}=e,i=this.getOuterTopStartCorner(),s=this.getOuterBottomEndCorner();return i.row<=r&&s.row>=r&&i.col<=n&&s.col>=n}includesRange(e){return this.includes(e.getOuterTopStartCorner())&&this.includes(e.getOuterBottomEndCorner())}isEqual(e){return Math.min(this.from.row,this.to.row)===Math.min(e.from.row,e.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(e.from.row,e.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(e.from.col,e.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(e.from.col,e.to.col)}overlaps(e){return e.isSouthEastOf(this.getOuterTopLeftCorner())&&e.isNorthWestOf(this.getOuterBottomRightCorner())}isSouthEastOf(e){return this.getOuterTopLeftCorner().isSouthEastOf(e)||this.getOuterBottomRightCorner().isSouthEastOf(e)}isNorthWestOf(e){return this.getOuterTopLeftCorner().isNorthWestOf(e)||this.getOuterBottomRightCorner().isNorthWestOf(e)}isOverlappingHorizontally(e){return this.getOuterTopEndCorner().col>=e.getOuterTopStartCorner().col&&this.getOuterTopEndCorner().col<=e.getOuterTopEndCorner().col||this.getOuterTopStartCorner().col<=e.getOuterTopEndCorner().col&&this.getOuterTopStartCorner().col>=e.getOuterTopStartCorner().col}isOverlappingVertically(e){return this.getOuterBottomStartCorner().row>=e.getOuterTopRightCorner().row&&this.getOuterBottomStartCorner().row<=e.getOuterBottomStartCorner().row||this.getOuterTopEndCorner().row<=e.getOuterBottomStartCorner().row&&this.getOuterTopEndCorner().row>=e.getOuterTopRightCorner().row}expand(e){const r=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner();return e.row<r.row||e.col<r.col||e.row>n.row||e.col>n.col?(this.from=this._createCellCoords(Math.min(r.row,e.row),Math.min(r.col,e.col)),this.to=this._createCellCoords(Math.max(n.row,e.row),Math.max(n.col,e.col)),!0):!1}expandByRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(this.includesRange(e)||!this.overlaps(e))return!1;const n=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner(),s=this.getDirection(),o=e.getOuterTopStartCorner(),a=e.getOuterBottomEndCorner(),l=Math.min(n.row,o.row),c=Math.min(n.col,o.col),d=Math.max(i.row,a.row),h=Math.max(i.col,a.col),f=this._createCellCoords(l,c),g=this._createCellCoords(d,h);return this.from=f,this.to=g,this.setDirection(s),r&&(this.highlight.row===this.getOuterBottomRightCorner().row&&this.getVerticalDirection()==="N-S"&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&this.getHorizontalDirection()==="W-E"&&this.flipDirectionHorizontally()),!0}getDirection(){if(this.from.isNorthWestOf(this.to))return"NW-SE";if(this.from.isNorthEastOf(this.to))return"NE-SW";if(this.from.isSouthEastOf(this.to))return"SE-NW";if(this.from.isSouthWestOf(this.to))return"SW-NE"}setDirection(e){switch(e){case"NW-SE":[this.from,this.to]=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];break;case"NE-SW":[this.from,this.to]=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];break;case"SE-NW":[this.from,this.to]=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];break;case"SW-NE":[this.from,this.to]=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];break}}getVerticalDirection(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}getHorizontalDirection(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}flipDirectionVertically(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE");break}}flipDirectionHorizontally(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW");break}}getTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getTopLeftCorner(){return Qs(Wi,this)?this.getTopEndCorner():this.getTopStartCorner()}getBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getBottomRightCorner(){return Qs(Wi,this)?this.getBottomStartCorner():this.getBottomEndCorner()}getTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getTopRightCorner(){return Qs(Wi,this)?this.getTopStartCorner():this.getTopEndCorner()}getBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getBottomLeftCorner(){return Qs(Wi,this)?this.getBottomEndCorner():this.getBottomStartCorner()}getOuterTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterTopLeftCorner(){return Qs(Wi,this)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}getOuterBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterBottomRightCorner(){return Qs(Wi,this)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}getOuterTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterTopRightCorner(){return Qs(Wi,this)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}getOuterBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterBottomLeftCorner(){return Qs(Wi,this)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}isCorner(e){return e.isEqual(this.getOuterTopLeftCorner())||e.isEqual(this.getOuterTopRightCorner())||e.isEqual(this.getOuterBottomLeftCorner())||e.isEqual(this.getOuterBottomRightCorner())}getOppositeCorner(e){if(!(e instanceof vf))return!1;if(e.isEqual(this.getOuterBottomEndCorner()))return this.getOuterTopStartCorner();if(e.isEqual(this.getOuterTopStartCorner()))return this.getOuterBottomEndCorner();if(e.isEqual(this.getOuterTopEndCorner()))return this.getOuterBottomStartCorner();if(e.isEqual(this.getOuterBottomStartCorner()))return this.getOuterTopEndCorner()}getBordersSharedWith(e){if(!this.includesRange(e))return[];const r={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},n={top:Math.min(e.from.row,e.to.row),bottom:Math.max(e.from.row,e.to.row),left:Math.min(e.from.col,e.to.col),right:Math.max(e.from.col,e.to.col)},i=[];return r.top===n.top&&i.push("top"),r.right===n.right&&i.push(Qs(Wi,this)?"left":"right"),r.bottom===n.bottom&&i.push("bottom"),r.left===n.left&&i.push(Qs(Wi,this)?"right":"left"),i}getInner(){const e=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),n=[];for(let i=e.row;i<=r.row;i++)for(let s=e.col;s<=r.col;s++)!(this.from.row===i&&this.from.col===s)&&!(this.to.row===i&&this.to.col===s)&&n.push(this._createCellCoords(i,s));return n}getAll(){const e=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),n=[];for(let i=e.row;i<=r.row;i++)for(let s=e.col;s<=r.col;s++)e.row===i&&e.col===s?n.push(e):r.row===i&&r.col===s?n.push(r):n.push(this._createCellCoords(i,s));return n}forAll(e){const r=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner();for(let i=r.row;i<=n.row;i++)for(let s=r.col;s<=n.col;s++)if(e(i,s)===!1)return}clone(){return new Ip(this.highlight,this.from,this.to,Qs(Wi,this))}toObject(){return{from:this.from.toObject(),to:this.to.toObject()}}_createCellCoords(e,r){return new vf(e,r,Qs(Wi,this))}}function Aa(t,e,r){oCe(t,e),e.set(t,r)}function oCe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ae(t,e){return t.get(PY(t,e))}function Xc(t,e,r){return t.set(PY(t,e),r),r}function PY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Js=new WeakMap,rk=new WeakMap,Nn=new WeakMap,Xf=new WeakMap,Xb=new WeakMap,Do=new WeakMap,nk=new WeakMap,C0=new WeakMap,Md=new WeakMap,Oa=new WeakMap;let NY=class{constructor(e,r,n,i,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;Aa(this,Js,void 0),Aa(this,rk,void 0),Aa(this,Nn,void 0),Aa(this,Xf,void 0),Aa(this,Xb,void 0),Aa(this,Do,void 0),Aa(this,nk,void 0),Aa(this,C0,void 0),Aa(this,Md,[null,null]),Aa(this,Oa,[null,null]),Xc(Js,this,n),Xc(rk,this,r),Xc(Nn,this,s),Xc(Xf,this,o),Xc(Xb,this,a),Xc(Do,this,i),Xc(nk,this,e),this.registerEvents()}registerEvents(){Ae(Do,this).addEventListener(Ae(Nn,this).holder,"contextmenu",n=>this.onContextMenu(n)),Ae(Do,this).addEventListener(Ae(Nn,this).TABLE,"mouseover",n=>this.onMouseOver(n)),Ae(Do,this).addEventListener(Ae(Nn,this).TABLE,"mouseout",n=>this.onMouseOut(n));const e=()=>{Ae(Do,this).addEventListener(Ae(Nn,this).holder,"touchstart",n=>this.onTouchStart(n)),Ae(Do,this).addEventListener(Ae(Nn,this).holder,"touchend",n=>this.onTouchEnd(n)),this.momentumScrolling||(this.momentumScrolling={}),Ae(Do,this).addEventListener(Ae(Nn,this).holder,"scroll",()=>{clearTimeout(this.momentumScrolling._timeout),this.momentumScrolling.ongoing||Ae(Js,this).getSetting("onBeforeTouchScroll"),this.momentumScrolling.ongoing=!0,this.momentumScrolling._timeout=setTimeout(()=>{this.touchApplied||(this.momentumScrolling.ongoing=!1,Ae(Js,this).getSetting("onAfterMomentumScroll"))},200)})},r=()=>{Ae(Do,this).addEventListener(Ae(Nn,this).holder,"mouseup",n=>this.onMouseUp(n)),Ae(Do,this).addEventListener(Ae(Nn,this).holder,"mousedown",n=>this.onMouseDown(n))};bl()?e():(K9()&&e(),r())}selectedCellWasTouched(e){const n=this.parentCell(e).coords;if(Ae(C0,this)&&n){const[i,s]=[n.row,Ae(C0,this).from.row],[o,a]=[n.col,Ae(C0,this).from.col];return i===s&&o===a}return!1}parentCell(e){const r={},n=Ae(Nn,this).TABLE,i=Kb(e,["TD","TH"],n);return i?(r.coords=Ae(Nn,this).getCoords(i),r.TD=i):Ve(e,"wtBorder")&&Ve(e,"current")?(r.coords=Ae(Xf,this).getFocusSelection().cellRange.highlight,r.TD=Ae(Nn,this).getCell(r.coords)):Ve(e,"wtBorder")&&Ve(e,"area")&&Ae(Xf,this).getAreaSelection().cellRange&&(r.coords=Ae(Xf,this).getAreaSelection().cellRange.to,r.TD=Ae(Nn,this).getCell(r.coords)),r}onMouseDown(e){const r=Ae(rk,this).rootDocument.activeElement,n=uY(Qwe,e.target),i=e.target;if(!["TD","TH"].includes(r.nodeName)&&(i===r||n(0)===r||n(1)===r))return;const s=this.parentCell(i);Ve(i,"corner")?Ae(Js,this).getSetting("onCellCornerMouseDown",e,i):s.TD&&Ae(Js,this).has("onCellMouseDown")&&this.callListener("onCellMouseDown",e,s.coords,s.TD),(e.button===0||this.touchApplied)&&s.TD&&(Ae(Oa,this)[0]=s.TD,clearTimeout(Ae(Md,this)[0]),Ae(Md,this)[0]=setTimeout(()=>{Ae(Oa,this)[0]=null},1e3))}onContextMenu(e){if(Ae(Js,this).has("onCellContextMenu")){const r=this.parentCell(e.target);r.TD&&this.callListener("onCellContextMenu",e,r.coords,r.TD)}}onMouseOver(e){if(!Ae(Js,this).has("onCellMouseOver"))return;const r=Ae(Nn,this).TABLE,n=Kb(e.target,["TD","TH"],r),i=Ae(Xb,this)||this;n&&n!==i.lastMouseOver&&tf(n,r)&&(i.lastMouseOver=n,this.callListener("onCellMouseOver",e,Ae(Nn,this).getCoords(n),n))}onMouseOut(e){if(!Ae(Js,this).has("onCellMouseOut"))return;const r=Ae(Nn,this).TABLE,n=Kb(e.target,["TD","TH"],r),i=Kb(e.relatedTarget,["TD","TH"],r),s=Ae(Xb,this)||this;n&&n!==i&&tf(n,r)&&(this.callListener("onCellMouseOut",e,Ae(Nn,this).getCoords(n),n),i===null&&(s.lastMouseOver=null))}onMouseUp(e){const r=this.parentCell(e.target);r.TD&&Ae(Js,this).has("onCellMouseUp")&&this.callListener("onCellMouseUp",e,r.coords,r.TD),!(e.button!==0&&!this.touchApplied)&&(r.TD===Ae(Oa,this)[0]&&r.TD===Ae(Oa,this)[1]?(Ve(e.target,"corner")?this.callListener("onCellCornerDblClick",e,r.coords,r.TD):this.callListener("onCellDblClick",e,r.coords,r.TD),Ae(Oa,this)[0]=null,Ae(Oa,this)[1]=null):r.TD===Ae(Oa,this)[0]&&(Ae(Oa,this)[1]=r.TD,clearTimeout(Ae(Md,this)[1]),Ae(Md,this)[1]=setTimeout(()=>{Ae(Oa,this)[1]=null},500)))}onTouchStart(e){Xc(C0,this,Ae(Xf,this).getFocusSelection().cellRange),this.touchApplied=!0,this.onMouseDown(e)}onTouchEnd(e){var r;const n=e.target,i=(r=this.parentCell(n))===null||r===void 0?void 0:r.coords,s=xe(i)&&i.row>=0&&i.col>=0;if(e.cancelable&&s&&Ae(Js,this).getSetting("isDataViewInstance")){const a=["A","BUTTON","INPUT"];X9()&&(Kwe()||qwe())&&this.selectedCellWasTouched(n)&&!a.includes(n.tagName)?e.preventDefault():this.selectedCellWasTouched(n)||e.preventDefault()}this.onMouseUp(e),this.touchApplied=!1}callListener(e,r,n,i){const s=Ae(Js,this).getSettingPure(e);s&&s(r,n,i,Ae(nk,this).call(this))}destroy(){clearTimeout(Ae(Md,this)[0]),clearTimeout(Ae(Md,this)[1]),Ae(Do,this).destroy()}};function ik(t,e,r){return(e=aCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aCe(t){var e=lCe(t,"string");return typeof e=="symbol"?e:e+""}function lCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cCe{constructor(e,r,n){ik(this,"offset",void 0),ik(this,"total",void 0),ik(this,"countTH",void 0),this.offset=e,this.total=r,this.countTH=n}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleRowHeadedColumnToSourceColumn(e){return this.renderedToSource(this.offsettedTH(e))}sourceColumnToVisibleRowHeadedColumn(e){return this.unOffsettedTH(this.sourceToRendered(e))}}function sk(t,e,r){return(e=uCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uCe(t){var e=dCe(t,"string");return typeof e=="symbol"?e:e+""}function dCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hCe{constructor(e,r,n){sk(this,"offset",void 0),sk(this,"total",void 0),sk(this,"countTH",void 0),this.offset=e,this.total=r,this.countTH=n}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleColHeadedRowToSourceRow(e){return this.renderedToSource(this.offsettedTH(e))}sourceRowToVisibleColHeadedRow(e){return this.unOffsettedTH(this.sourceToRendered(e))}}function Qb(t,e,r){return(e=fCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fCe(t){var e=gCe(t,"string");return typeof e=="symbol"?e:e+""}function gCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mCe{constructor(){Qb(this,"currentSize",0),Qb(this,"nextSize",0),Qb(this,"currentOffset",0),Qb(this,"nextOffset",0)}setSize(e){this.currentSize=this.nextSize,this.nextSize=e}setOffset(e){this.currentOffset=this.nextOffset,this.nextOffset=e}}const pCe=0,E3=1,mI=2;function ok(t,e,r){return(e=yCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yCe(t){var e=vCe(t,"string");return typeof e=="symbol"?e:e+""}function vCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wCe{constructor(){ok(this,"size",new mCe),ok(this,"workingSpace",pCe),ok(this,"sharedSize",null)}setSize(e){this.size.setSize(e)}setOffset(e){this.size.setOffset(e)}getViewSize(){return this.size}isShared(){return this.sharedSize!==null}isPlaceOn(e){return this.workingSpace===e}append(e){this.workingSpace=E3,e.workingSpace=mI,this.sharedSize=e.getViewSize()}prepend(e){this.workingSpace=mI,e.workingSpace=E3,this.sharedSize=e.getViewSize()}}var T3=tR,bCe=TypeError,SCe=function(t,e){if(!delete t[e])throw new bCe("Cannot delete property "+T3(e)+" of "+T3(t))},xCe=Xt,CCe=Rp,_Ce=Tp,RCe=G8,ECe=SCe,TCe=K8,kCe=[].unshift(0)!==1,PCe=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},NCe=kCe||!PCe();xCe({target:"Array",proto:!0,arity:1,forced:NCe},{unshift:function(e){var r=CCe(this),n=_Ce(r),i=arguments.length;if(i){TCe(n+i);for(var s=n;s--;){var o=s+i;s in r?r[o]=r[s]:ECe(r,o)}for(var a=0;a<i;a++)r[a]=arguments[a]}return RCe(r,n+i)}});function MCe(t,e,r){return(e=ICe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ICe(t){var e=ACe(t,"string");return typeof e=="symbol"?e:e+""}function ACe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class k3{constructor(e,r){MCe(this,"order",[]),this.order=[...Array(r).keys()].map(n=>e+n)}get length(){return this.order.length}has(e){return this.order.indexOf(e)>-1}get(e){return e<this.order.length?this.order[e]:-1}remove(e){this.order.splice(this.order.indexOf(e),1)}prepend(e){return this.order.unshift(e),this.order.pop()}}function OCe(t,e,r){return(e=HCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HCe(t){var e=jCe(t,"string");return typeof e=="symbol"?e:e+""}function jCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class DCe{constructor(e){OCe(this,"sizeSet",void 0),this.sizeSet=e}diff(){const{sizeSet:e}=this,{currentSize:r,nextSize:n}=e.getViewSize();let i=Math.max(n,r);if(i===0)return[];const{currentOffset:s,nextOffset:o}=e.getViewSize(),a=new k3(s,r),l=new k3(o,n),c=[];for(let d=0;d<i;d++){const h=a.get(d),f=l.get(d);if(f===-1)c.push(["remove",h]);else if(h===-1)!e.isShared()||e.isShared()&&e.isPlaceOn(mI)?c.push(["append",f]):c.push(["prepend",f]);else if(f>h)a.has(f)&&(a.remove(f),n<=a.length&&(i-=1)),c.push(["replace",f,h]);else if(f<h){const g=a.prepend(f);c.push(["insert_before",f,h,g])}else c.push(["none",f])}return c}}function Qf(t,e,r){return(e=$Ce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Ce(t){var e=LCe(t,"string");return typeof e=="symbol"?e:e+""}function LCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class MY{constructor(e,r){Qf(this,"rootNode",void 0),Qf(this,"nodesPool",void 0),Qf(this,"sizeSet",new wCe),Qf(this,"collectedNodes",[]),Qf(this,"viewDiffer",new DCe(this.sizeSet)),Qf(this,"leads",[]),this.rootNode=e,this.nodesPool=r}setSize(e){return this.sizeSet.setSize(e),this}setOffset(e){return this.sizeSet.setOffset(e),this}isSharedViewSet(){return this.sizeSet.isShared()}getNode(e){return e<this.collectedNodes.length?this.collectedNodes[e]:null}getCurrentNode(){const e=this.collectedNodes.length;return e>0?this.collectedNodes[e-1]:null}applyCommand(e){const{rootNode:r}=this,[n,i,s,o]=e,a=this.nodesPool(i);switch(this.collectedNodes.push(a),n){case"prepend":r.insertBefore(a,r.firstChild);break;case"append":r.appendChild(a);break;case"insert_before":r.insertBefore(a,this.nodesPool(s)),r.removeChild(this.nodesPool(o));break;case"replace":r.replaceChild(a,this.nodesPool(s));break;case"remove":r.removeChild(a);break}}start(){this.collectedNodes.length=0,this.leads=this.viewDiffer.diff()}render(){this.leads.length>0&&this.applyCommand(this.leads.shift())}end(){for(;this.leads.length>0;)this.applyCommand(this.leads.shift())}}class IY extends MY{prependView(e){return this.sizeSet.prepend(e.sizeSet),e.sizeSet.append(this.sizeSet),this}appendView(e){return this.sizeSet.append(e.sizeSet),e.sizeSet.prepend(this.sizeSet),this}}function P3(t,e,r){return(e=FCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FCe(t){var e=VCe(t,"string");return typeof e=="symbol"?e:e+""}function VCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class WCe{constructor(e){P3(this,"nodeType",void 0),P3(this,"pool",new Map),this.nodeType=e.toUpperCase()}setRootDocument(e){this.rootDocument=e}obtain(e,r){const i=typeof r=="number"?`${e}x${r}`:e.toString();if(this.pool.has(i))return this.pool.get(i);const s=this.rootDocument.createElement(this.nodeType);return this.pool.set(i,s),s}}function _0(t,e,r){return(e=BCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BCe(t){var e=zCe(t,"string");return typeof e=="symbol"?e:e+""}function zCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jw{constructor(e,r){_0(this,"nodesPool",null),_0(this,"nodeType",void 0),_0(this,"rootNode",void 0),_0(this,"table",null),_0(this,"renderedNodes",0),this.nodesPool=typeof e=="string"?new WCe(e):null,this.nodeType=e,this.rootNode=r}setTable(e){this.nodesPool&&this.nodesPool.setRootDocument(e.rootDocument),this.table=e}adjust(){}render(){}}function N3(t,e,r){return(e=UCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UCe(t){var e=YCe(t,"string");return typeof e=="symbol"?e:e+""}function YCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class GCe extends jw{constructor(){super("TH"),N3(this,"orderViews",new WeakMap),N3(this,"sourceRowIndex",0)}obtainOrderView(e){let r;return this.orderViews.has(e)?r=this.orderViews.get(e):(r=new IY(e,n=>this.nodesPool.obtain(this.sourceRowIndex,n)),this.orderViews.set(e,r)),r}render(){const{rowsToRender:e,rowHeaderFunctions:r,rowHeadersCount:n,rows:i,cells:s}=this.table;for(let o=0;o<e;o++){const a=this.table.renderedRowToSource(o),l=i.getRenderedNode(o);this.sourceRowIndex=a;const c=this.obtainOrderView(l),d=s.obtainOrderView(l);c.appendView(d).setSize(n).setOffset(0).start();for(let h=n-1;h>=0;h--){c.render();const f=c.getCurrentNode();f.className="",f.removeAttribute("style"),_c(f,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&Ee(f,[Yve(),nwe(),S2(h+1),ba(-1)]),r[h](a,f,h)}c.end()}}}class KCe extends jw{constructor(e){super(null,e)}adjust(){const{columnHeadersCount:e,rowHeadersCount:r}=this.table;let n=this.rootNode.firstChild;if(e){const{columnsToRender:i}=this.table,s=i+r;for(let a=0,l=e;a<l;a++){for(n=this.rootNode.childNodes[a],n||(n=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(n)),this.renderedNodes=n.childNodes.length;this.renderedNodes<s;)n.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>s;)n.removeChild(n.lastChild),this.renderedNodes-=1}const o=this.rootNode.childNodes.length;if(o>e)for(let a=e;a<o;a++)this.rootNode.removeChild(this.rootNode.lastChild)}else n&&Ic(n)}render(){const{columnHeadersCount:e}=this.table;this.table.isAriaEnabled()&&Ee(this.rootNode,[H9()]);for(let r=0;r<e;r+=1){const{columnHeaderFunctions:n,columnsToRender:i,rowHeadersCount:s}=this.table,o=this.rootNode.childNodes[r];this.table.isAriaEnabled()&&Ee(o,[j9(),F9(r+1)]);for(let a=-1*s;a<i;a+=1){const l=this.table.renderedColumnToSource(a),c=o.childNodes[a+s];c.className="",c.removeAttribute("style"),_c(c,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&Ee(c,[S2(a+1+this.table.rowHeadersCount),ba(-1),Gve(),...a>=0?[rwe()]:[Uve(),Hs("Select whole grid")]]),n[r](l,c,r)}}}}let M3=!1;class qCe extends jw{constructor(e){super(null,e)}adjust(){const{columnsToRender:e,rowHeadersCount:r}=this.table,n=e+r;for(;this.renderedNodes<n;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>n;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}render(){this.adjust();const{columnsToRender:e,rowHeadersCount:r}=this.table;!M3&&e>1e3&&(M3=!0,at(kt`Performance tip: Handsontable rendered more than 1000 visible columns.\x20
        Consider limiting the number of rendered columns by specifying the table width and/or\x20
        turning off the "renderAllColumns" option.`));for(let i=0;i<r;i++){const s=this.table.renderedColumnToSource(i),o=this.table.columnUtils.getHeaderWidth(s);this.rootNode.childNodes[i].style.width=`${o}px`}for(let i=0;i<e;i++){const s=this.table.renderedColumnToSource(i),o=this.table.columnUtils.getWidth(s);this.rootNode.childNodes[i+r].style.width=`${o}px`}const n=this.rootNode.firstChild;n&&oe(n,"rowHeader")}}function XCe(t,e,r){return(e=QCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QCe(t){var e=JCe(t,"string");return typeof e=="symbol"?e:e+""}function JCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Jf={rowEven:"ht__row_even",rowOdd:"ht__row_odd"};let I3=!1;class ZCe extends jw{constructor(e){super("TR",e),XCe(this,"orderView",void 0),this.orderView=new MY(e,r=>this.nodesPool.obtain(r))}getRenderedNode(e){return this.orderView.getNode(e)}hasStaleContent(e){return this.orderView.hasStaleContent(e)}render(){const{rowsToRender:e}=this.table;!I3&&e>1e3&&(I3=!0,at(kt`Performance tip: Handsontable rendered more than 1000 visible rows.\x20
        Consider limiting the number of rendered rows by specifying the table height and/or\x20
        turning off the "renderAllRows" option.`)),this.table.isAriaEnabled()&&Ee(this.rootNode,[H9()]),this.orderView.setSize(e).setOffset(this.table.renderedRowToSource(0)).start();for(let i=0;i<e;i++){this.orderView.render();const s=this.orderView.getCurrentNode(),o=this.table.renderedRowToSource(i);if(this.table.isAriaEnabled()){var r,n;Ee(s,[j9(),F9(o+((r=(n=this.table.rowUtils)===null||n===void 0||(n=n.dataAccessObject)===null||n===void 0?void 0:n.columnHeaders.length)!==null&&r!==void 0?r:0)+1)])}(o+1)%2===0?Ve(s,Jf.rowEven)||(Re(s,Jf.rowOdd),oe(s,Jf.rowEven)):Ve(s,Jf.rowOdd)||(Re(s,Jf.rowEven),oe(s,Jf.rowOdd))}this.orderView.end()}}function A3(t,e,r){return(e=e1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e1e(t){var e=t1e(t,"string");return typeof e=="symbol"?e:e+""}function t1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class r1e extends jw{constructor(){super("TD"),A3(this,"orderViews",new WeakMap),A3(this,"sourceRowIndex",0)}obtainOrderView(e){let r;return this.orderViews.has(e)?r=this.orderViews.get(e):(r=new IY(e,n=>this.nodesPool.obtain(this.sourceRowIndex,n),this.nodeType),this.orderViews.set(e,r)),r}render(){const{rowsToRender:e,columnsToRender:r,rows:n,rowHeaders:i}=this.table;for(let a=0;a<e;a++){const l=this.table.renderedRowToSource(a),c=n.getRenderedNode(a);this.sourceRowIndex=l;const d=this.obtainOrderView(c),h=i.obtainOrderView(c);d.prependView(h).setSize(r).setOffset(0).start();for(let f=0;f<r;f++){d.render();const g=this.table.renderedColumnToSource(f),m=d.getCurrentNode();if(Ve(m,"hide")||(m.className=""),m.removeAttribute("style"),m.removeAttribute("dir"),_c(m,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.cellRenderer(l,g,m),this.table.isAriaEnabled()){var s,o;Ee(m,[...m.hasAttribute("role")?[]:[zve()],ba(-1),S2(g+((s=(o=this.table.rowUtils)===null||o===void 0||(o=o.dataAccessObject)===null||o===void 0?void 0:o.rowHeaders.length)!==null&&s!==void 0?s:0)+1)])}}d.end()}}}function ln(t,e,r){return(e=n1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n1e(t){var e=i1e(t,"string");return typeof e=="symbol"?e:e+""}function i1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class s1e{constructor(e){let{cellRenderer:r,stylesHandler:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ln(this,"rootNode",void 0),ln(this,"rootDocument",void 0),ln(this,"rowHeaders",null),ln(this,"columnHeaders",null),ln(this,"colGroup",null),ln(this,"rows",null),ln(this,"cells",null),ln(this,"rowFilter",null),ln(this,"columnFilter",null),ln(this,"rowUtils",null),ln(this,"columnUtils",null),ln(this,"rowsToRender",0),ln(this,"columnsToRender",0),ln(this,"rowHeaderFunctions",[]),ln(this,"rowHeadersCount",0),ln(this,"columnHeaderFunctions",[]),ln(this,"columnHeadersCount",0),ln(this,"cellRenderer",void 0),ln(this,"activeOverlayName",void 0),ln(this,"stylesHandler",void 0),this.rootNode=e,this.rootDocument=this.rootNode.ownerDocument,this.cellRenderer=r,this.stylesHandler=n}setActiveOverlayName(e){this.activeOverlayName=e}setAxisUtils(e,r){this.rowUtils=e,this.columnUtils=r}setViewportSize(e,r){this.rowsToRender=e,this.columnsToRender=r}setFilters(e,r){this.rowFilter=e,this.columnFilter=r}setHeaderContentRenderers(e,r){this.rowHeaderFunctions=e,this.rowHeadersCount=e.length,this.columnHeaderFunctions=r,this.columnHeadersCount=r.length}setRenderers(){let{rowHeaders:e,columnHeaders:r,colGroup:n,rows:i,cells:s}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.setTable(this),r.setTable(this),n.setTable(this),i.setTable(this),s.setTable(this),this.rowHeaders=e,this.columnHeaders=r,this.colGroup=n,this.rows=i,this.cells=s}renderedRowToSource(e){return this.rowFilter.renderedToSource(e)}renderedColumnToSource(e){return this.columnFilter.renderedToSource(e)}isAriaEnabled(){return this.rowUtils.wtSettings.getSetting("ariaTags")}render(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();const{rowsToRender:e,rows:r}=this;for(let n=0;n<e;n++){const i=r.getRenderedNode(n),s=this.rowUtils;if(i.firstChild){const o=this.renderedRowToSource(n),a=s.getHeightByOverlayName(o,this.activeOverlayName),c=this.stylesHandler.areCellsBorderBox()?0:1;a?i.firstChild.style.height=`${a-c}px`:i.firstChild.style.height=""}}}}class o1e{constructor(){let{TABLE:e,THEAD:r,COLGROUP:n,TBODY:i,rowUtils:s,columnUtils:o,cellRenderer:a,stylesHandler:l}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.renderer=new s1e(e,{cellRenderer:a,stylesHandler:l}),this.renderer.setRenderers({rowHeaders:new GCe,columnHeaders:new KCe(r),colGroup:new qCe(n),rows:new ZCe(i),cells:new r1e}),this.renderer.setAxisUtils(s,o)}setActiveOverlayName(e){return this.renderer.setActiveOverlayName(e),this}setFilters(e,r){return this.renderer.setFilters(e,r),this}setViewportSize(e,r){return this.renderer.setViewportSize(e,r),this}setHeaderContentRenderers(e,r){return this.renderer.setHeaderContentRenderers(e,r),this}adjust(){this.renderer.adjust()}render(){this.renderer.render()}}function ak(t,e,r){return(e=a1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a1e(t){var e=l1e(t,"string");return typeof e=="symbol"?e:e+""}function l1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class c1e{constructor(e,r){ak(this,"dataAccessObject",void 0),ak(this,"wtSettings",void 0),ak(this,"headerWidths",new Map),this.dataAccessObject=e,this.wtSettings=r}getWidth(e){return this.wtSettings.getSetting("columnWidth",e)||this.wtSettings.getSetting("defaultColumnWidth")}getHeaderHeight(e){let r=this.wtSettings.getSetting("stylesHandler").getDefaultRowHeight();const n=this.dataAccessObject.wtViewport.oversizedColumnHeaders[e];return n!==void 0&&(r=r?Math.max(r,n):n),r}getHeaderWidth(e){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(e))}calculateWidths(){const{wtSettings:e}=this;let r=e.getSetting("rowHeaderWidth");if(r=e.getSetting("onModifyRowHeaderWidth",r),r!=null){const n=e.getSetting("rowHeaders").length,i=e.getSetting("defaultColumnWidth");for(let s=0;s<n;s++){let o=Array.isArray(r)?r[s]:r;o=o??i,this.headerWidths.set(s,o)}}}}function O3(t,e,r){return(e=u1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u1e(t){var e=d1e(t,"string");return typeof e=="symbol"?e:e+""}function d1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class h1e{constructor(e,r){O3(this,"dataAccessObject",void 0),O3(this,"wtSettings",void 0),this.dataAccessObject=e,this.wtSettings=r}getHeight(e){let r=this.wtSettings.getSetting("rowHeight",e);const n=this.dataAccessObject.wtViewport.oversizedRows[e];return n!==void 0&&(r=r===void 0?n:Math.max(r,n)),r}getHeightByOverlayName(e,r){let n=this.wtSettings.getSetting("rowHeightByOverlayName",e,r);const i=this.dataAccessObject.wtViewport.oversizedRows[e];return i!==void 0&&(n=n===void 0?i:Math.max(n,i)),n}}function Ha(t,e,r){return(e=f1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f1e(t){var e=g1e(t,"string");return typeof e=="symbol"?e:e+""}function g1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ap{constructor(e,r,n,i,s){Ha(this,"wtSettings",null),Ha(this,"domBindings",void 0),Ha(this,"TBODY",null),Ha(this,"THEAD",null),Ha(this,"COLGROUP",null),Ha(this,"hasTableHeight",!0),Ha(this,"hasTableWidth",!0),Ha(this,"isTableVisible",!1),Ha(this,"tableOffset",0),Ha(this,"holderOffset",0),this.domBindings=n,this.isMaster=s==="master",this.name=s,this.dataAccessObject=e,this.facadeGetter=r,this.wtSettings=i,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=n.rootTable,Z9(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;const o=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",()=>this._modifyRowHeaderWidth(o)),this.rowUtils=new h1e(this.dataAccessObject,this.wtSettings),this.columnUtils=new c1e(this.dataAccessObject,this.wtSettings),this.tableRenderer=new o1e({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer"),stylesHandler:this.wtSettings.getSetting("stylesHandler")})}is(e){return this.name===e}fixTableDomTree(){const e=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=e.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=e.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=e.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}createSpreader(e){const r=e.parentNode;let n;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Ve(r,"wtHolder"))&&(n=this.domBindings.rootDocument.createElement("div"),n.className="wtSpreader",r&&r.insertBefore(n,e),n.appendChild(e)),n.style.position="relative",this.wtSettings.getSetting("ariaTags")&&Ee(n,[mc()]),n}createHider(e){const r=e.parentNode;let n;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Ve(r,"wtHolder"))&&(n=this.domBindings.rootDocument.createElement("div"),n.className="wtHider",r&&r.insertBefore(n,e),n.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&Ee(n,[mc()]),n}createHolder(e){const r=e.parentNode;let n;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Ve(r,"wtHolder"))&&(n=this.domBindings.rootDocument.createElement("div"),n.style.position="relative",n.className="wtHolder",this.isMaster&&Ee(n,[ba(-1)]),r&&r.insertBefore(n,e),this.isMaster&&(n.parentNode.className+="ht_master handsontable",n.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr"),this.wtSettings.getSetting("ariaTags")&&Ee(n.parentNode,[mc()])),n.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&Ee(n,[mc()]),n}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtSettings:r}=this,{wtOverlays:n,wtViewport:i}=this.dataAccessObject,s=r.getSetting("totalRows"),o=r.getSetting("totalColumns"),a=r.getSetting("rowHeaders"),l=a.length,c=r.getSetting("columnHeaders"),d=c.length;let h=e;if(this.isMaster&&(n.beforeDraw(),this.holderOffset=mi(this.holder),h=i.createCalculators(h),l&&!r.getSetting("fixedColumnsStart"))){const g=n.inlineStartOverlay.getScrollPosition(),m=this.correctHeaderWidth;this.correctHeaderWidth=g!==0,m!==this.correctHeaderWidth&&(h=!1)}if(h)this.isMaster&&n.refresh(!0);else{this.isMaster?this.tableOffset=mi(this.TABLE):this.tableOffset=this.dataAccessObject.parentTableOffset;const g=Math.max(this.getFirstRenderedRow(),0),m=Math.max(this.getFirstRenderedColumn(),0);this.rowFilter=new hCe(g,s,d),this.columnFilter=new cCe(m,o,l);let p=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();const y={};this.wtSettings.getSetting("beforeDraw",!0,y),p=y.skipRender!==!0}p&&(this.tableRenderer.setHeaderContentRenderers(a,c),(this.is(pl)||this.is(sd))&&this.tableRenderer.setHeaderContentRenderers(a,[]),this.resetOversizedRows(),this.tableRenderer.setActiveOverlayName(this.name).setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render(),this.isMaster&&this.markOversizedColumnHeaders(),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(pl))&&this.markOversizedRows(),this.isMaster?(this.wtSettings.getSetting("externalRowCalculator")||i.createVisibleCalculators(),n.refresh(!1),n.applyToDOM(),this.wtSettings.getSetting("onDraw",!0)):this.is(pl)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize())}let f=!1;return this.isMaster&&(f=n.topOverlay.resetFixedPosition(),n.bottomOverlay.clone&&(f=n.bottomOverlay.resetFixedPosition()||f),f=n.inlineStartOverlay.resetFixedPosition()||f,n.topInlineStartCornerOverlay&&n.topInlineStartCornerOverlay.resetFixedPosition(),n.bottomInlineStartCornerOverlay&&n.bottomInlineStartCornerOverlay.clone&&n.bottomInlineStartCornerOverlay.resetFixedPosition()),f?(n.refreshAll(),n.adjustElementsSize()):this.dataAccessObject.selectionManager.setActiveOverlay(this.facadeGetter()).render(h),this.isMaster&&n.afterDraw(),this.dataAccessObject.drawn=!0,this}markIfOversizedColumnHeader(e){const r=this.columnFilter.renderedToSource(e);let n=this.wtSettings.getSetting("columnHeaders").length;const i=this.wtSettings.getSetting("stylesHandler").getDefaultRowHeight();let s,o,a;const l=this.wtSettings.getSetting("columnHeaderHeight")||[];for(;n;)n-=1,s=this.getColumnHeaderHeight(n),o=this.getColumnHeader(r,n),o&&(a=By(o),(!s&&i<a||s<a)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=a),Array.isArray(l)?l[n]!==null&&l[n]!==void 0&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=l[n]):isNaN(l)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=l),this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]<(l[n]||l)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=l[n]||l))}adjustColumnHeaderHeights(){const{wtSettings:e}=this,r=this.THEAD.childNodes,n=this.dataAccessObject.wtViewport.oversizedColumnHeaders,i=e.getSetting("columnHeaders");for(let s=0,o=i.length;s<o;s++)if(n[s]){if(!r[s]||r[s].childNodes.length===0)return;r[s].childNodes[0].style.height=`${n[s]}px`}}resetOversizedRows(){const{wtSettings:e}=this,{wtViewport:r}=this.dataAccessObject;if(!(!this.isMaster&&!this.is(pl))&&!e.getSetting("externalRowCalculator")){const n=this.getRenderedRowsCount();for(let i=0;i<n;i++){const s=this.rowFilter.renderedToSource(i);r.oversizedRows&&r.oversizedRows[s]&&(r.oversizedRows[s]=void 0)}}}getCell(e){let r=e.row,n=e.col;const i=this.wtSettings.getSetting("onModifyGetCellCoords",r,n,!this.isMaster,"render");if(i&&Array.isArray(i)&&([r,n]=i),this.isRowBeforeRenderedRows(r))return-1;if(this.isRowAfterRenderedRows(r))return-2;if(this.isColumnBeforeRenderedColumns(n))return-3;if(this.isColumnAfterRenderedColumns(n))return-4;const s=this.getRow(r);if(!s&&r>=0)throw new Error("TR was expected to be rendered but is not");const o=s.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(n)];if(!o&&n>=0)throw new Error("TD or TH was expected to be rendered but is not");return o}getRow(e){let r=null,n=null;if(e<0){var i;r=(i=this.rowFilter)===null||i===void 0?void 0:i.sourceRowToVisibleColHeadedRow(e),n=this.THEAD}else{var s;r=(s=this.rowFilter)===null||s===void 0?void 0:s.sourceToRendered(e),n=this.TBODY}return r!==void 0&&n!==void 0?n.childNodes.length<r+1?!1:n.childNodes[r]:!1}getColumnHeader(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.THEAD.childNodes[r];return n==null?void 0:n.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e)]}getColumnHeaders(e){const r=[],n=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e);return this.THEAD.childNodes.forEach(i=>{const s=i.childNodes[n];s&&r.push(s)}),r}getRowHeader(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.wtSettings.getSetting("rowHeaders").length;if(r>=n)return;const i=this.rowFilter.sourceToRendered(e),s=i<0?this.rowFilter.sourceRowToVisibleColHeadedRow(e):i,a=(i<0?this.THEAD:this.TBODY).childNodes[s];return a==null?void 0:a.childNodes[r]}getRowHeaders(e){const r=[],n=this.wtSettings.getSetting("rowHeaders").length;for(let i=0;i<n;i++){const s=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)],o=s==null?void 0:s.childNodes[i];o&&r.push(o)}return r}getCoords(e){let r=e;if(r.nodeName!=="TD"&&r.nodeName!=="TH"&&(r=gf(r,["TD","TH"])),r===null)return null;const n=r.parentNode;if(!n)return null;const i=n.parentNode;let s=ebe(n),o=r.cellIndex;Pd(Sf,r,this.wtRootElement)||Pd(wf,r,this.wtRootElement)?i.nodeName==="THEAD"&&(s-=i.childNodes.length):Pd(sd,r,this.wtRootElement)||Pd(pl,r,this.wtRootElement)?s=this.wtSettings.getSetting("totalRows")-i.childNodes.length+s:i===this.THEAD?s=this.rowFilter.visibleColHeadedRowToSourceRow(s):this.rowFilter&&(s=this.rowFilter.renderedToSource(s)),Pd(Sf,r,this.wtRootElement)||Pd(bf,r,this.wtRootElement)||Pd(sd,r,this.wtRootElement)?o=this.columnFilter.offsettedTH(o):this.columnFilter&&(o=this.columnFilter.visibleRowHeadedColumnToSourceColumn(o));const a=this.wtSettings.getSetting("onModifyGetCoordsElement",s,o);return a&&Array.isArray(a)&&([s,o]=a),this.wot.createCellCoords(s,o)}markOversizedRows(){if(this.wtSettings.getSetting("externalRowCalculator"))return;let e=this.TBODY.childNodes.length;const r=this.wtSettings.getSetting("stylesHandler"),n=e*r.getDefaultRowHeight(),i=By(this.TBODY)-1,s=r.areCellsBorderBox(),o=s?fn:By,a=s?0:1,l=s?1:0;let c,d,h,f,g;if(!(n===i&&!this.wtSettings.getSetting("fixedRowsBottom")))for(;e;){e-=1,h=this.rowFilter.renderedToSource(e),c=this.getRowHeight(h),f=this.getTrForRow(h),g=f.querySelector("th");const m=h===0?l:0;g?d=o(g):d=o(f)-a,(!c&&r.getDefaultRowHeight()<d-m||c<d)&&(s||(d+=1),this.dataAccessObject.wtViewport.oversizedRows[h]=d)}}getTrForRow(e){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)]}isColumnHeaderRendered(e){if(e>=0)return!1;const n=this.wtSettings.getSetting("rowHeaders").length;return Math.abs(e)<=n}isRowHeaderRendered(e){if(e>=0)return!1;const n=this.wtSettings.getSetting("columnHeaders").length;return Math.abs(e)<=n}isRowBeforeRenderedRows(e){const r=this.getFirstRenderedRow();return e<0&&r<=0?!this.isRowHeaderRendered(e):e<r}isRowAfterRenderedRows(e){return e>this.getLastRenderedRow()}isColumnBeforeRenderedColumns(e){const r=this.getFirstRenderedColumn();return e<0&&r<=0?!this.isColumnHeaderRendered(e):e<r}isColumnAfterRenderedColumns(e){return this.columnFilter&&e>this.getLastRenderedColumn()}isColumnAfterViewport(e){return this.columnFilter&&e>this.getLastVisibleColumn()}isRowAfterViewport(e){return this.rowFilter&&e>this.getLastVisibleRow()}isColumnBeforeViewport(e){return this.columnFilter&&this.columnFilter.sourceToRendered(e)<0&&e>=0}isLastRowFullyVisible(){return this.getLastVisibleRow()===this.getLastRenderedRow()}isLastColumnFullyVisible(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}allRowsInViewport(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}allColumnsInViewport(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}getRowHeight(e){return this.rowUtils.getHeight(e)}getColumnHeaderHeight(e){return this.columnUtils.getHeaderHeight(e)}getColumnWidth(e){return this.columnUtils.getWidth(e)}hasDefinedSize(){return this.hasTableHeight&&this.hasTableWidth}getWidth(){return en(this.TABLE)}getHeight(){return fn(this.TABLE)}getTotalWidth(){const e=en(this.hider);return e!==0?e:this.getWidth()}getTotalHeight(){const e=fn(this.hider);return e!==0?e:this.getHeight()}isVisible(){return pf(this.TABLE)}_modifyRowHeaderWidth(e){let r=It(e)?e():null;return Array.isArray(r)?(r=[...r],r[r.length-1]=this._correctRowHeaderWidth(r[r.length-1])):r=this._correctRowHeaderWidth(r),r}_correctRowHeaderWidth(e){let r=e;return typeof e!="number"&&(r=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(r+=1),r}}const m1e="stickyRowsBottom",H2={getFirstRenderedRow(){const t=this.getRenderedRowsCount();return t===0?-1:this.wtSettings.getSetting("totalRows")-t},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.getRenderedRowsCount()===0?-1:this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){return Math.min(this.wtSettings.getSetting("totalRows"),this.wtSettings.getSetting("fixedRowsBottom"))},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return 0}};Bc(H2,"MIXIN_NAME",m1e,{writable:!1,enumerable:!1});const p1e="stickyColumnsStart",xR={getFirstRenderedColumn(){return this.getRenderedColumnsCount()===0?-1:0},getFirstVisibleColumn(){return this.getFirstRenderedColumn()},getFirstPartiallyVisibleColumn(){return this.getFirstRenderedColumn()},getLastRenderedColumn(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn(){return this.getLastRenderedColumn()},getLastPartiallyVisibleColumn(){return this.getLastRenderedColumn()},getRenderedColumnsCount(){return Math.min(this.wtSettings.getSetting("totalColumns"),this.wtSettings.getSetting("fixedColumnsStart"))},getVisibleColumnsCount(){return this.getRenderedColumnsCount()},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Bc(xR,"MIXIN_NAME",p1e,{writable:!1,enumerable:!1});class j2 extends Ap{constructor(e,r,n,i){super(e,r,n,i,sd)}}Dt(j2,H2);Dt(j2,xR);const wf="top",pl="bottom",bf="inline_start",Sf="top_inline_start_corner",sd="bottom_inline_start_corner",AY=[wf,pl,bf,Sf,sd],y1e=new Map([[wf,`ht_clone_${wf}`],[pl,`ht_clone_${pl}`],[bf,`ht_clone_${bf} ht_clone_left`],[Sf,`ht_clone_${Sf} ht_clone_top_left_corner`],[sd,`ht_clone_${sd} ht_clone_bottom_left_corner`]]);function v1e(t,e){w1e(t,e),e.add(t)}function w1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function b1e(t,e,r){return(e=S1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S1e(t){var e=x1e(t,"string");return typeof e=="symbol"?e:e+""}function x1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jb(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var R0=new WeakSet;class C1e{constructor(e){v1e(this,R0),b1e(this,"dataAccessObject",void 0),this.dataAccessObject=e}scrollViewport(e,r,n){if(e.col<0||e.row<0)return!1;const i=this.scrollViewportHorizontally(e.col,r),s=this.scrollViewportVertically(e.row,n);return i||s}scrollViewportHorizontally(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto";const{drawn:n,totalColumns:i}=this.dataAccessObject;if(!n)return!1;const s=$s(r);if(e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollHorizontally",e,s),!Number.isInteger(e)||e<0||e>i)return!1;r=s.value;const{fixedColumnsStart:o,inlineStartOverlay:a}=this.dataAccessObject,l=r==="auto";if(l&&e<o)return!1;const c=this.getFirstVisibleColumn(),d=this.getLastVisibleColumn();let h=!1;return(l&&(e<c||e>d)||!l)&&(h=a.scrollTo(e,l?e>=this.getLastPartiallyVisibleColumn():r==="end")),h}scrollViewportVertically(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto";const{drawn:n,totalRows:i}=this.dataAccessObject;if(!n)return!1;const s=$s(r);if(e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollVertically",e,s),!Number.isInteger(e)||e<0||e>i)return!1;r=s.value;const{fixedRowsBottom:o,fixedRowsTop:a,topOverlay:l}=this.dataAccessObject,c=r==="auto";if(c&&(e<a||e>i-o-1))return!1;const d=this.getFirstVisibleRow(),h=this.getLastVisibleRow();let f=!1;return(c&&(e<d||e>h)||!c)&&(f=l.scrollTo(e,c?e>=this.getLastPartiallyVisibleRow():r==="bottom")),f}getFirstVisibleRow(){return this.dataAccessObject.wtTable.getFirstVisibleRow()}getLastVisibleRow(){return Jb(R0,this,j3).call(this,this.dataAccessObject.wtTable.getLastVisibleRow())}getFirstPartiallyVisibleRow(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleRow()}getLastPartiallyVisibleRow(){return Jb(R0,this,j3).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleRow())}getFirstVisibleColumn(){return this.dataAccessObject.wtTable.getFirstVisibleColumn()}getLastVisibleColumn(){return Jb(R0,this,H3).call(this,this.dataAccessObject.wtTable.getLastVisibleColumn())}getFirstPartiallyVisibleColumn(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleColumn()}getLastPartiallyVisibleColumn(){return Jb(R0,this,H3).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleColumn())}}function H3(t){const{wtSettings:e,inlineStartOverlay:r,wtTable:n,wtViewport:i,totalColumns:s,rootWindow:o}=this.dataAccessObject;if(r.mainTableScrollableElement===o){const a=e.getSetting("rtlMode");let l=null;if(a){const d=n.TABLE.getBoundingClientRect(),f=this.dataAccessObject.rootWindow.document.documentElement.offsetWidth;l=Math.abs(d.right-f)}else l=mi(n.wtRootElement).left;const c=Math.abs(tY(o,o));if(l>c){const d=rY(o);let h=i.getRowHeaderWidth();for(let f=1;f<=s;f++)if(h+=r.sumCellSizes(f-1,f),l+h-c>=d){t=f-2;break}}}return t}function j3(t){const{topOverlay:e,wtTable:r,wtViewport:n,totalRows:i,rootWindow:s}=this.dataAccessObject;if(e.mainTableScrollableElement===s){const o=mi(r.wtRootElement),a=T2(s,s);if(o.top>a){const l=By(s);let c=n.getColumnHeaderHeight();for(let d=1;d<=i;d++)if(c+=e.sumCellSizes(d-1,d),o.top+c-a>=l){t=d-2;break}}}return t}function Zs(t,e,r){return(e=_1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _1e(t){var e=R1e(t,"string");return typeof e=="symbol"?e:e+""}function R1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class D2{get eventManager(){return new Sa(this)}constructor(e,r){Zs(this,"wtTable",void 0),Zs(this,"wtScroll",void 0),Zs(this,"wtViewport",void 0),Zs(this,"wtOverlays",void 0),Zs(this,"selectionManager",void 0),Zs(this,"wtEvent",void 0),Zs(this,"guid",`wt_${A9()}`),Zs(this,"drawInterrupted",!1),Zs(this,"drawn",!1),Zs(this,"activeOverlayName","master"),Zs(this,"domBindings",void 0),Zs(this,"wtSettings",void 0),this.domBindings={rootTable:e,rootDocument:e.ownerDocument,rootWindow:e.ownerDocument.defaultView},this.wtSettings=r,this.wtScroll=new C1e(this.createScrollDao())}findOriginalHeaders(){const e=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(let r=0,n=this.wtTable.THEAD.childNodes[0].childNodes.length;r<n;r++)e.push(this.wtTable.THEAD.childNodes[0].childNodes[r].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(r,n){mf(n,e[r])}])}}createCellCoords(e,r){return new vf(e,r,this.wtSettings.getSetting("rtlMode"))}createCellRange(e,r,n){return new Ip(e,r,n,this.wtSettings.getSetting("rtlMode"))}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.drawInterrupted=!1,!this.wtTable.isVisible()||rbe(this.wtTable.wtRootElement.parentNode)?this.drawInterrupted=!0:this.wtTable.draw(e),this}getCell(e){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1))return this.wtTable.getCell(e);const n=this.wtSettings.getSetting("totalRows"),i=this.wtSettings.getSetting("fixedRowsTop"),s=this.wtSettings.getSetting("fixedRowsBottom"),o=this.wtSettings.getSetting("fixedColumnsStart");if(e.row<i&&e.col<o)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(e);if(e.row<i)return this.wtOverlays.topOverlay.clone.wtTable.getCell(e);if(e.col<o&&e.row>=n-s){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(e)}else{if(e.col<o)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(e);if(e.row<n&&e.row>=n-s&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(e)}return this.wtTable.getCell(e)}scrollViewport(e,r,n){return this.wtScroll.scrollViewport(e,r,n)}scrollViewportHorizontally(e,r){return this.wtScroll.scrollViewportHorizontally(e,r)}scrollViewportVertically(e,r){return this.wtScroll.scrollViewportVertically(e,r)}getViewport(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}destroy(){this.wtOverlays.destroy(),this.wtEvent.destroy()}createScrollDao(){const e=this;return{get drawn(){return e.drawn},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get wtTable(){return e.wtTable},get wtViewport(){return e.wtViewport},get wtSettings(){return e.wtSettings},get rootWindow(){return e.domBindings.rootWindow},get totalRows(){return e.wtSettings.getSetting("totalRows")},get totalColumns(){return e.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return e.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return e.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return e.wtSettings.getSetting("fixedColumnsStart")}}}getTableDao(){const e=this;return{get wot(){return e},get parentTableOffset(){return e.cloneSource.wtTable.tableOffset},get cloneSource(){return e.cloneSource},get workspaceWidth(){return e.wtViewport.getWorkspaceWidth()},get wtViewport(){return e.wtViewport},get wtOverlays(){return e.wtOverlays},get selectionManager(){return e.selectionManager},get drawn(){return e.drawn},set drawn(r){e.drawn=r},get wtTable(){return e.wtTable},get startColumnRendered(){return e.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return e.wtViewport.columnsVisibleCalculator.startColumn},get startColumnPartiallyVisible(){return e.wtViewport.columnsPartiallyVisibleCalculator.startColumn},get endColumnRendered(){return e.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return e.wtViewport.columnsVisibleCalculator.endColumn},get endColumnPartiallyVisible(){return e.wtViewport.columnsPartiallyVisibleCalculator.endColumn},get countColumnsRendered(){return e.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return e.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return e.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return e.wtViewport.rowsVisibleCalculator.startRow},get startRowPartiallyVisible(){return e.wtViewport.rowsPartiallyVisibleCalculator.startRow},get endRowRendered(){return e.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return e.wtViewport.rowsVisibleCalculator.endRow},get endRowPartiallyVisible(){return e.wtViewport.rowsPartiallyVisibleCalculator.endRow},get countRowsRendered(){return e.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return e.wtViewport.rowsVisibleCalculator.count},get columnHeaders(){return e.wtSettings.getSetting("columnHeaders")},get rowHeaders(){return e.wtSettings.getSetting("rowHeaders")}}}}function D3(t,e,r){return(e=E1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E1e(t){var e=T1e(t,"string");return typeof e=="symbol"?e:e+""}function T1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class k1e extends D2{constructor(e,r,n){super(e,r),D3(this,"cloneSource",void 0),D3(this,"cloneOverlay",void 0);const i=this.wtSettings.getSetting("facade",this);this.cloneSource=n.source,this.cloneOverlay=n.overlay,this.wtTable=this.cloneOverlay.createTable(this.getTableDao(),i,this.domBindings,this.wtSettings),this.wtViewport=n.viewport,this.selectionManager=n.selectionManager,this.wtEvent=new NY(i,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager,n.event),this.findOriginalHeaders()}}function P1e(t,e,r){return(e=N1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N1e(t){var e=M1e(t,"string");return typeof e=="symbol"?e:e+""}function M1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Dw{constructor(e,r,n,i,s){P1e(this,"wtSettings",null),Bc(this,"wot",e,{writable:!1}),this.domBindings=s,this.facadeGetter=r,this.wtSettings=i;const{TABLE:o,hider:a,spreader:l,holder:c,wtRootElement:d}=this.wot.wtTable;this.instance=this.wot,this.type=n,this.mainTableScrollableElement=null,this.TABLE=o,this.hider=a,this.spreader=l,this.holder=c,this.wtRootElement=d,this.trimmingContainer=Dv(this.hider.parentNode.parentNode),this.needFullRender=this.shouldBeRendered(),this.clone=this.makeClone()}hasRenderingStateChanged(){return this.needFullRender!==this.shouldBeRendered()}updateStateOfRendering(e){e==="before"&&this.shouldBeRendered()?this.needFullRender=!0:e==="after"&&!this.shouldBeRendered()&&(this.needFullRender=!1)}shouldBeRendered(){return!0}updateTrimmingContainer(){this.trimmingContainer=Dv(this.hider.parentNode.parentNode)}updateMainScrollableElement(){const{wtTable:e}=this.wot,{rootWindow:r}=this.domBindings;r.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=this.wot.wtTable.holder:this.mainTableScrollableElement=S1(e.TABLE)}getRelativeCellPosition(e,r,n){if(this.clone.wtTable.holder.contains(e)===!1){at(`The provided element is not a child of the ${this.type} overlay`);return}const i=this.mainTableScrollableElement===this.domBindings.rootWindow,s=n<this.wtSettings.getSetting("fixedColumnsStart"),o=r<this.wtSettings.getSetting("fixedRowsTop"),a=r>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),l=this.clone.wtTable.spreader,c={start:this.getRelativeStartPosition(l),top:l.offsetTop},d={start:this.getRelativeStartPosition(e),top:e.offsetTop};let h=null;return i?h=this.getRelativeCellPositionWithinWindow(o,s,d,c):h=this.getRelativeCellPositionWithinHolder(o,a,s,d,c),h}getRelativeStartPosition(e){return this.isRtl()?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:e.offsetLeft}getRelativeCellPositionWithinWindow(e,r,n,i){const s=this.wot.wtTable.wtRootElement.getBoundingClientRect();let o=0,a=0;if(!r)o=i.start;else{let l=s.left;this.isRtl()&&(l=this.domBindings.rootWindow.innerWidth-(s.left+s.width+tn())),o=l<=0?-1*l:0}return e?a=this.clone.wtTable.TABLE.getBoundingClientRect().top-s.top:a=i.top,{start:n.start+o,top:n.top+a}}getRelativeCellPositionWithinHolder(e,r,n,i,s){const o={horizontal:this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),vertical:this.wot.wtOverlays.topOverlay.getScrollPosition()};let a=0,l=0;if(n||(a=o.horizontal-s.start),r){const c=this.wot.wtTable.wtRootElement.getBoundingClientRect();l=this.clone.wtTable.TABLE.getBoundingClientRect().top*-1+c.top}else e||(l=o.vertical-s.top);return{start:i.start-a,top:i.top-l}}makeClone(){if(AY.indexOf(this.type)===-1)throw new Error(`Clone type "${this.type}" is not supported.`);const{wtTable:e,wtSettings:r}=this.wot,{rootDocument:n,rootWindow:i}=this.domBindings,s=n.createElement("div"),o=n.createElement("table"),a=e.wtRootElement.parentNode;s.className=`${y1e.get(this.type)} handsontable`,s.setAttribute("dir",this.isRtl()?"rtl":"ltr"),s.style.position="absolute",s.style.top=0,s.style.overflow="visible",this.isRtl()?s.style.right=0:s.style.left=0,r.getSetting("ariaTags")&&Ee(s,[mc()]),o.className=e.TABLE.className,e.TABLE.getAttribute("role")&&o.setAttribute("role",e.TABLE.getAttribute("role")),s.appendChild(o),a.appendChild(s);const c=this.wtSettings.getSetting("preventOverflow");return c===!0||c==="horizontal"&&this.type===wf||c==="vertical"&&this.type===bf?this.mainTableScrollableElement=i:i.getComputedStyle(a).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=e.holder:this.mainTableScrollableElement=S1(e.TABLE),new k1e(o,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selectionManager:this.wot.selectionManager})}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.needFullRender){const r=this.clone.cloneSource;r.activeOverlayName=this.clone.wtTable.name,this.clone.draw(e),r.activeOverlayName="master"}}reset(){const e=this.clone.wtTable.holder,r=this.clone.wtTable.hider,n=e.style,i=r.style,s=e.parentNode.style;[n,i,s].forEach(o=>{o.width="",o.height=""})}isRtl(){return this.wtSettings.getSetting("rtlMode")}destroy(){this.clone.eventManager.destroy()}}class I1e extends Dw{constructor(e,r,n,i,s,o){super(e,r,sd,n,i),this.bottomOverlay=s,this.inlineStartOverlay=o}createTable(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new j2(...r)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wot:e}=this;if(this.updateTrimmingContainer(),!e.wtTable.holder.parentNode)return!1;const r=this.clone.wtTable.holder.parentNode;if(r.style.top="",this.trimmingContainer===this.domBindings.rootWindow){const s=this.inlineStartOverlay.getOverlayOffset(),o=this.bottomOverlay.getOverlayOffset();r.style[this.isRtl()?"right":"left"]=`${s}px`,r.style.bottom=`${o}px`}else wR(r),this.repositionOverlay();let n=fn(this.clone.wtTable.TABLE);const i=en(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(n=0),r.style.height=`${n}px`,r.style.width=`${i}px`,!1}repositionOverlay(){const{wtTable:e,wtViewport:r}=this.wot,{rootDocument:n}=this.domBindings,i=this.clone.wtTable.holder.parentNode;let s=0;r.hasVerticalScroll()||(s+=r.getWorkspaceHeight()-e.getTotalHeight()),r.hasVerticalScroll()&&r.hasHorizontalScroll()&&(s+=tn(n)),i.style.bottom=`${s}px`}}const A1e="calculatedColumns",CR={getFirstRenderedColumn(){const t=this.dataAccessObject.startColumnRendered;return t===null?-1:t},getFirstVisibleColumn(){const t=this.dataAccessObject.startColumnVisible;return t===null?-1:t},getFirstPartiallyVisibleColumn(){const t=this.dataAccessObject.startColumnPartiallyVisible;return t===null?-1:t},getLastRenderedColumn(){const t=this.dataAccessObject.endColumnRendered;return t===null?-1:t},getLastVisibleColumn(){const t=this.dataAccessObject.endColumnVisible;return t===null?-1:t},getLastPartiallyVisibleColumn(){const t=this.dataAccessObject.endColumnPartiallyVisible;return t===null?-1:t},getRenderedColumnsCount(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount(){return this.dataAccessObject.countColumnsVisible},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Bc(CR,"MIXIN_NAME",A1e,{writable:!1,enumerable:!1});class $2 extends Ap{constructor(e,r,n,i){super(e,r,n,i,pl)}}Dt($2,H2);Dt($2,CR);function O1e(t,e,r){return(e=H1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H1e(t){var e=j1e(t,"string");return typeof e=="symbol"?e:e+""}function j1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class D1e extends Dw{constructor(e,r,n,i){super(e,r,pl,n,i),O1e(this,"cachedFixedRowsBottom",-1),this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom")}createTable(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new $2(...r)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;const{rootWindow:e}=this.domBindings,r=this.clone.wtTable.holder.parentNode;r.style.top="";let n=0;const i=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer===e&&(!i||i!=="vertical")?(n=this.getOverlayOffset(),r.style.bottom=`${n}px`):(n=this.getScrollPosition(),this.repositionOverlay());const s=this.adjustHeaderBordersPosition(n);return this.adjustElementsSize(),s}repositionOverlay(){const{wtTable:e,wtViewport:r}=this.wot,{rootDocument:n}=this.domBindings,i=this.clone.wtTable.holder.parentNode;let s=0;r.hasVerticalScroll()||(s+=r.getWorkspaceHeight()-e.getTotalHeight()),r.hasVerticalScroll()&&r.hasHorizontalScroll()&&(s+=tn(n)),i.style.bottom=`${s}px`}setScrollPosition(e){const{rootWindow:r}=this.domBindings,n=this.mainTableScrollableElement;let i=!1;if(n===r&&e!==r.scrollY){const s=r.scrollY;r.scrollTo(E2(r),top),i=s!==r.scrollY}else if(e!==n.scrollTop){const s=n.scrollTop;n.scrollTop=e,i=s!==n.scrollTop}return i}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,r){const{wtTable:n,wtSettings:i}=this.wot,s=i.getSetting("stylesHandler").getDefaultRowHeight();let o=e,a=0;for(;o<r;){const l=n.getRowHeight(o);a+=l===void 0?s:l,o+=1}return a}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e,wtViewport:r}=this.wot,{rootDocument:n,rootWindow:i}=this.domBindings,o=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==i||a==="horizontal"){let c=r.getWorkspaceWidth();r.hasVerticalScroll()&&(c-=tn(n)),c=Math.min(c,e.wtRootElement.scrollWidth),o.width=`${c}px`}else o.width="";this.clone.wtTable.holder.style.width=o.width;let l=fn(this.clone.wtTable.TABLE);e.hasDefinedSize()||(l=0),o.height=`${l}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=e.parentNode.style.height}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:r}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?r.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:r.style[e]=""}scrollTo(e,r){let n=this.getTableParentOffset();const s=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder;let o=0;r&&s.offsetHeight!==s.clientHeight&&(o=tn(this.domBindings.rootDocument)),r?(n+=this.sumCellSizes(0,e+1),n-=this.wot.wtViewport.getViewportHeight(),n+=1):n+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),e),n+=o,this.setScrollPosition(n)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return T2(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,r=this.wtSettings.getSetting("preventOverflow");let n=0;if(this.trimmingContainer===e&&(!r||r!=="vertical")){const i=this.wot.wtTable.getTotalHeight(),s=this.clone.wtTable.getTotalHeight(),o=i-s,a=this.domBindings.rootDocument.documentElement.clientHeight;n=Math.max(this.getTableParentOffset()-this.getScrollPosition()-a+i,0),n>o&&(n=0)}return n}adjustHeaderBordersPosition(e){const r=this.wtSettings.getSetting("fixedRowsBottom"),n=this.cachedFixedRowsBottom!==r,i=this.wtSettings.getSetting("columnHeaders");let s=!1;if((n||r===0)&&i.length>0){const o=this.wot.wtTable.holder.parentNode,a=Ve(o,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),e||this.wtSettings.getSetting("totalRows")===0?(oe(o,"innerBorderBottom"),s=!a):(Re(o,"innerBorderBottom"),s=a)}return s}}const $1e="calculatedRows",L2={getFirstRenderedRow(){const t=this.dataAccessObject.startRowRendered;return t===null?-1:t},getFirstVisibleRow(){const t=this.dataAccessObject.startRowVisible;return t===null?-1:t},getFirstPartiallyVisibleRow(){const t=this.dataAccessObject.startRowPartiallyVisible;return t===null?-1:t},getLastRenderedRow(){const t=this.dataAccessObject.endRowRendered;return t===null?-1:t},getLastVisibleRow(){const t=this.dataAccessObject.endRowVisible;return t===null?-1:t},getLastPartiallyVisibleRow(){const t=this.dataAccessObject.endRowPartiallyVisible;return t===null?-1:t},getRenderedRowsCount(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount(){return this.dataAccessObject.countRowsVisible},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Bc(L2,"MIXIN_NAME",$1e,{writable:!1,enumerable:!1});class F2 extends Ap{constructor(e,r,n,i){super(e,r,n,i,bf)}}Dt(F2,L2);Dt(F2,xR);const L1e="localHooks",Tn={_localHooks:Object.create(null),addLocalHook(t,e){return this._localHooks[t]||(this._localHooks[t]=[]),this._localHooks[t].push(e),this},removeLocalHook(t,e){if(this._localHooks[t]){const r=this._localHooks[t].indexOf(e);r>-1&&this._localHooks[t].splice(r,1)}return this},runLocalHooks(t,e,r,n,i,s,o){if(this._localHooks[t]){const a=this._localHooks[t].length;for(let l=0;l<a;l++)oI(this._localHooks[t][l],this,e,r,n,i,s,o)}},clearLocalHooks(){return this._localHooks={},this}};Bc(Tn,"MIXIN_NAME",L1e,{writable:!1,enumerable:!1});let OY=class{constructor(e,r){this.settings=e,this.cellRange=r||null}isEmpty(){return this.cellRange===null}add(e){return this.isEmpty()?this.cellRange=this.settings.createCellRange(e):this.cellRange.expand(e),this}replace(e,r){if(!this.isEmpty()){if(this.cellRange.from.isEqual(e))return this.cellRange.from=r,!0;if(this.cellRange.to.isEqual(e))return this.cellRange.to=r,!0}return!1}clear(){return this.cellRange=null,this}getCorners(){const e=this.cellRange.getOuterTopStartCorner(),r=this.cellRange.getOuterBottomEndCorner();return[e.row,e.col,r.row,r.col]}destroy(){this.runLocalHooks("destroy")}};Dt(OY,Tn);const HY="active-header",V2="header",W2="area",_1="focus",F1e="fill",V1e="row",W1e="column",B1e="custom-selection",B2=t=>{const e=t.wtSettings.getSetting("stylesHandler");if(e.isClassicTheme())return Object.freeze({width:6,height:6,borderWidth:1,borderStyle:"solid",borderColor:"#FFF"});const r=e.getCSSVariableValue("cell-autofill-size"),n=e.getCSSVariableValue("cell-autofill-border-width"),i=e.getCSSVariableValue("cell-autofill-border-color");return Object.freeze({width:r,height:r,borderWidth:n,borderStyle:"solid",borderColor:i})};var z1e=SR;z1e("flat");function U1e(t,e){jY(t,e),e.add(t)}function $3(t,e,r){jY(t,e),e.set(t,r)}function jY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _r(t,e){return t.get(zy(t,e))}function L3(t,e,r){return t.set(zy(t,e),r),r}function zy(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Bo=new WeakMap,li=new WeakMap,Zb=new WeakSet;class Y1e{constructor(){U1e(this,Zb),$3(this,Bo,void 0),$3(this,li,void 0)}setActiveOverlay(e){return L3(li,this,e),this}setActiveSelection(e){return L3(Bo,this,e),this}scan(){const e=_r(Bo,this).settings.selectionType,r=new Set;return e==="active-header"?(this.scanColumnsInHeadersRange(n=>r.add(n)),this.scanRowsInHeadersRange(n=>r.add(n))):e==="area"?this.scanCellsRange(n=>r.add(n)):e==="focus"?(this.scanColumnsInHeadersRange(n=>r.add(n)),this.scanRowsInHeadersRange(n=>r.add(n)),this.scanCellsRange(n=>r.add(n))):e==="fill"?this.scanCellsRange(n=>r.add(n)):e==="header"?(this.scanColumnsInHeadersRange(n=>r.add(n)),this.scanRowsInHeadersRange(n=>r.add(n))):e==="row"?(this.scanRowsInHeadersRange(n=>r.add(n)),this.scanRowsInCellsRange(n=>r.add(n))):e==="column"&&(this.scanColumnsInHeadersRange(n=>r.add(n)),this.scanColumnsInCellsRange(n=>r.add(n))),r}scanColumnsInHeadersRange(e){const[r,n,i,s]=_r(Bo,this).getCorners(),{wtTable:o}=_r(li,this),a=o.getRenderedColumnsCount(),l=o.getColumnHeadersCount();let c=0;for(let d=-o.getRowHeadersCount();d<a;d++){const h=o.columnFilter.renderedToSource(d);if(!(h<n||h>s)){for(let f=-l;f<0;f++){if(f<r||f>i)continue;const g=f+l;let m=o.getColumnHeader(h,g);const p=_r(li,this).getSetting("onBeforeHighlightingColumnHeader",h,g,{selectionType:_r(Bo,this).settings.selectionType,columnCursor:c,selectionWidth:s-n+1});p!==null&&(p!==h&&(m=o.getColumnHeader(p,g)),e(m))}c+=1}}}scanRowsInHeadersRange(e){const[r,n,i,s]=_r(Bo,this).getCorners(),{wtTable:o}=_r(li,this),a=o.getRenderedRowsCount(),l=o.getRowHeadersCount();let c=0;for(let d=-o.getColumnHeadersCount();d<a;d++){const h=o.rowFilter.renderedToSource(d);if(!(h<r||h>i)){for(let f=-l;f<0;f++){if(f<n||f>s)continue;const g=f+l;let m=o.getRowHeader(h,g);const p=_r(li,this).getSetting("onBeforeHighlightingRowHeader",h,g,{selectionType:_r(Bo,this).settings.selectionType,rowCursor:c,selectionHeight:i-r+1});p!==null&&(p!==h&&(m=o.getRowHeader(p,g)),e(m))}c+=1}}}scanCellsRange(e){const{wtTable:r}=_r(li,this);zy(Zb,this,G1e).call(this,(n,i)=>{const s=r.getCell(_r(li,this).createCellCoords(n,i)),o=_r(li,this).getSetting("onAfterDrawSelection",n,i,_r(Bo,this).settings.layerLevel);typeof o=="string"&&oe(s,o),e(s)})}scanRowsInCellsRange(e){const[r,,n]=_r(Bo,this).getCorners(),{wtTable:i}=_r(li,this);zy(Zb,this,F3).call(this,(s,o)=>{if(s>=r&&s<=n){const a=i.getCell(_r(li,this).createCellCoords(s,o));e(a)}})}scanColumnsInCellsRange(e){const[,r,,n]=_r(Bo,this).getCorners(),{wtTable:i}=_r(li,this);zy(Zb,this,F3).call(this,(s,o)=>{if(o>=r&&o<=n){const a=i.getCell(_r(li,this).createCellCoords(s,o));e(a)}})}}function G1e(t){let[e,r,n,i]=_r(Bo,this).getCorners();if(e<0&&n<0||r<0&&i<0)return;const{wtTable:s}=_r(li,this),o=e!==n||r!==i;if(r=Math.max(r,0),i=Math.max(i,0),e=Math.max(e,0),n=Math.max(n,0),o){if(r=Math.max(r,s.getFirstRenderedColumn()),i=Math.min(i,s.getLastRenderedColumn()),e=Math.max(e,s.getFirstRenderedRow()),n=Math.min(n,s.getLastRenderedRow()),i<r||n<e)return}else{const a=s.getCell(_r(li,this).createCellCoords(e,r));if(!Rc(a))return}for(let a=e;a<=n;a+=1)for(let l=r;l<=i;l+=1)t(a,l)}function F3(t){const{wtTable:e}=_r(li,this),r=e.getRenderedRowsCount(),n=e.getRenderedColumnsCount();for(let i=0;i<r;i+=1){const s=e.rowFilter.renderedToSource(i);for(let o=0;o<n;o+=1)t(s,e.columnFilter.renderedToSource(o))}}const V3="ht-border-style-",K1e="-vertical",q1e="-horizontal";class W3{constructor(e,r){r&&(this.eventManager=e.eventManager,this.instance=e,this.wot=e,this.settings=r,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle=B2(this.instance),this.cornerCenterPointOffset=-Math.ceil(parseInt(this.cornerDefaultStyle.width,10)/2),this.corner=null,this.cornerStyle=null,this.createBorders(r),this.registerListeners())}registerListeners(){const e=this.wot.rootDocument.body;this.eventManager.addEventListener(e,"mousedown",()=>this.onMouseDown()),this.eventManager.addEventListener(e,"mouseup",()=>this.onMouseUp());for(let r=0,n=this.main.childNodes.length;r<n;r++){const i=this.main.childNodes[r];this.eventManager.addEventListener(i,"mouseenter",s=>this.onMouseEnter(s,this.main.childNodes[r]))}}onMouseDown(){this.mouseDown=!0}onMouseUp(){this.mouseDown=!1}onMouseEnter(e,r){if(!this.mouseDown||!this.wot.getSetting("hideBorderOnMouseDownOver"))return;e.preventDefault(),Eo(e);const n=this,i=this.wot.rootDocument.body,s=r.getBoundingClientRect();r.style.display="none";function o(l){if(l.clientY<Math.floor(s.top)||l.clientY>Math.ceil(s.top+s.height)||l.clientX<Math.floor(s.left)||l.clientX>Math.ceil(s.left+s.width))return!0}function a(l){o(l)&&(n.eventManager.removeEventListener(i,"mousemove",a),r.style.display="block")}this.eventManager.addEventListener(i,"mousemove",a)}createBorders(e){const{rootDocument:r}=this.wot;this.main=r.createElement("div");const n=["top","start","bottom","end","corner"];let i=this.main.style;i.position="absolute",i.top=0,i.left=0;for(let a=0;a<5;a++){const l=n[a],c=r.createElement("div"),d=f=>this.settings[l]&&this.settings[l][f]?this.settings[l][f]:e.border[f];c.className=`wtBorder ${this.settings.className||""}`,this.settings[l]&&this.settings[l].hide&&(c.className+=" hidden"),i=c.style;const h=d("style");h?(["start","end"].includes(l)?c.className+=` ${V3}${h}${K1e}`:c.className+=` ${V3}${h}${q1e}`,i.setProperty("--ht-custom-border-size",`${d("width")}px`),i.setProperty("--ht-custom-border-color",d("color"))):i.backgroundColor=d("color"),i.height=`${d("width")}px`,i.width=`${d("width")}px`,this.main.appendChild(c)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=`${this.cornerDefaultStyle.width}px`,this.cornerStyle.height=`${this.cornerDefaultStyle.height}px`,this.cornerStyle.border=[`${this.cornerDefaultStyle.borderWidth}px`,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),bl()&&this.instance.getSetting("isDataViewInstance")&&this.createMultipleSelectorHandles(),this.disappear();const{wtTable:s}=this.wot;let o=s.bordersHolder;o||(o=r.createElement("div"),o.className="htBorders",s.bordersHolder=o,s.spreader.appendChild(o)),o.appendChild(this.main)}createMultipleSelectorHandles(){const{rootDocument:e,wtSettings:r}=this.wot,n=r.getSetting("stylesHandler"),i=n.getCSSVariableValue("cell-mobile-handle-size"),s=n.getCSSVariableValue("cell-mobile-handle-border-radius"),o=n.getCSSVariableValue("cell-mobile-handle-background-color"),a=n.getCSSVariableValue("cell-mobile-handle-border-width"),l=n.getCSSVariableValue("cell-mobile-handle-border-color");this.selectionHandles={top:e.createElement("DIV"),topHitArea:e.createElement("DIV"),bottom:e.createElement("DIV"),bottomHitArea:e.createElement("DIV")};const c=10,d=40;this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style};const h={position:"absolute",height:`${d}px`,width:`${d}px`,"border-radius":`${parseInt(d/1.5,10)}px`};dt(h,(g,m)=>{this.selectionHandles.styles.bottomHitArea[m]=g,this.selectionHandles.styles.topHitArea[m]=g});const f=n.isClassicTheme()?{position:"absolute",height:`${c}px`,width:`${c}px`,"border-radius":`${parseInt(c/1.5,10)}px`,background:"#F5F5FF",border:"1px solid #4285c8"}:{position:"absolute",height:`${i}px`,width:`${i}px`,"border-radius":`${s}px`,background:`${o}`,border:`${a}px solid ${l}`};dt(f,(g,m)=>{this.selectionHandles.styles.bottom[m]=g,this.selectionHandles.styles.top[m]=g}),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}isPartRange(e,r){const n=this.wot.selectionManager.getAreaSelection();return!!(n.cellRange&&(e!==n.cellRange.to.row||r!==n.cellRange.to.col))}updateMultipleSelectionHandlesPosition(e,r,n,i,s,o){const l=this.wot.wtSettings.getSetting("rtlMode")?"right":"left",{top:c,topHitArea:d,bottom:h,bottomHitArea:f}=this.selectionHandles.styles,g=parseInt(c.borderWidth,10),m=parseInt(c.width,10),p=parseInt(d.width,10),y=this.wot.wtTable.getWidth(),S=this.wot.wtTable.getHeight();c.top=`${parseInt(n-m-1,10)}px`,c[l]=`${parseInt(i-m-1,10)}px`,d.top=`${parseInt(n-p/4*3,10)}px`,d[l]=`${parseInt(i-p/4*3,10)}px`;const w=Math.min(parseInt(i+s,10),y-m-g*2),b=Math.min(parseInt(i+s-p/4,10),y-p-g*2);h[l]=`${w}px`,f[l]=`${b}px`;const C=Math.min(parseInt(n+o,10),S-m-g*2),N=Math.min(parseInt(n+o-p/4,10),S-p-g*2);h.top=`${C}px`,f.top=`${N}px`,this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(c.display="block",d.display="block",this.isPartRange(e,r)?(h.display="none",f.display="none"):(h.display="block",f.display="block")):(c.display="none",h.display="none",d.display="none",f.display="none"),e===this.wot.wtSettings.getSetting("fixedRowsTop")||r===this.wot.wtSettings.getSetting("fixedColumnsStart")?(c.zIndex="9999",d.zIndex="9999"):(c.zIndex="",d.zIndex="")}appear(e){if(this.disabled)return;let[r,n,i,s]=e;if(r<0&&i<0||n<0&&s<0){this.disappear();return}const{wtTable:o,rootDocument:a,rootWindow:l}=this.wot,c=r!==i||n!==s,d=this.wot.wtSettings.getSetting("stylesHandler").isClassicTheme(),h=o.getFirstRenderedRow(),f=o.getLastRenderedRow(),g=o.getFirstRenderedColumn(),m=o.getLastRenderedColumn();if(g<0&&m<0||h<0&&f<0){this.disappear();return}let p;if(c){if(n=Math.max(n,g),s=Math.min(s,m),r=Math.max(r,h),i=Math.min(i,f),s<n||i<r){this.disappear();return}p=o.getCell(this.wot.createCellCoords(r,n))}else if(p=o.getCell(this.wot.createCellCoords(r,n)),!Rc(p)){this.disappear();return}const y=c?o.getCell(this.wot.createCellCoords(i,s)):p,S=mi(p),w=c?mi(y):S,b=mi(o.TABLE),C=S.top,N=S.left,P=this.wot.wtSettings.getSetting("rtlMode");let k=0,R=0;if(P){const ie=en(o.TABLE),ee=en(p),ce=l.innerWidth-b.left-ie;R=N+ee-w.left,k=l.innerWidth-N-ee-ce-1}else R=w.left+en(y)-N,k=N-b.left-1;if(this.isEntireColumnSelected(r,i)){const ie=r,ee=this.getDimensionsFromHeader("columns",n,s,ie,b);let ce=null;ee&&([ce,k,R]=ee),ce&&(p=ce)}let I=C-b.top-1,O=w.top+fn(y)-C;if(this.isEntireRowSelected(n,s)){const ie=n,ee=this.getDimensionsFromHeader("rows",r,i,ie,b);let ce=null;ee&&([ce,I,O]=ee),ce&&(p=ce)}const Z=l.getComputedStyle(p);parseInt(Z.borderTopWidth,10)>0&&(I+=1,O=O>0?O-1:0),parseInt(Z[P?"borderRightWidth":"borderLeftWidth"],10)>0&&(k+=1,R=R>0?R-1:0);const q=P?"right":"left",J=Math.ceil(this.settings.border.width/2);this.topStyle.top=`${I}px`,this.topStyle[q]=`${k}px`,this.topStyle.width=`${R+J}px`,this.topStyle.display="block",this.startStyle.top=`${I}px`,this.startStyle[q]=`${k}px`,this.startStyle.height=`${O+J}px`,this.startStyle.display="block",this.bottomStyle.top=`${I+O-parseInt(this.bottomStyle.height,10)+J}px`,this.bottomStyle[q]=`${k}px`,this.bottomStyle.width=`${R+J}px`,this.bottomStyle.display="block",this.endStyle.top=`${I}px`,this.endStyle[q]=`${k+R-parseInt(this.endStyle.width,10)+J}px`,this.endStyle.height=`${O+J}px`,this.endStyle.display="block";let re=this.settings.border.cornerVisible;re=typeof re=="function"?re(this.settings.layerLevel):re;const ue=this.wot.getSetting("onModifyGetCellCoords",i,s,!1,"render");let[ve,be]=[i,s];if(ue&&Array.isArray(ue)&&([,,ve,be]=ue),bl()||!re||this.isPartRange(ve,be))this.cornerStyle.display="none";else{this.cornerStyle.top=`${I+O+this.cornerCenterPointOffset-this.cornerDefaultStyle.borderWidth}px`,this.cornerStyle[q]=`${k+R+this.cornerCenterPointOffset-this.cornerDefaultStyle.borderWidth}px`,this.cornerStyle.borderRightWidth=`${this.cornerDefaultStyle.borderWidth}px`,this.cornerStyle.borderLeftWidth=`${this.cornerDefaultStyle.borderWidth}px`,this.cornerStyle.borderBottomWidth=`${this.cornerDefaultStyle.borderWidth}px`,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";let ie=Dv(o.TABLE);const ee=ie===l;ee&&(ie=a.documentElement);const ce=parseInt(this.cornerDefaultStyle.borderWidth,10)-1,ae=Math.ceil(parseInt(this.cornerDefaultStyle.width,10)/2),ye=Math.ceil(parseInt(this.cornerDefaultStyle.height,10)/2);if(s===this.wot.getSetting("totalColumns")-1){const Q=ee?y.getBoundingClientRect().left:y.offsetLeft;let F=!1,v=0;if(P?(v=Q-parseInt(this.cornerDefaultStyle.width,10)/2,F=v<0):(v=Q+en(y)+parseInt(this.cornerDefaultStyle.width,10)/2,F=v>=rY(ie)),F){const x=Math.floor(k+R+this.cornerCenterPointOffset-ae-ce);d?(this.cornerStyle[q]=`${x}px`,this.cornerStyle[P?"borderLeftWidth":"borderRightWidth"]=0):this.cornerStyle[q]=`${x-1}px`}}if(i===this.wot.getSetting("totalRows")-1&&(ee?y.getBoundingClientRect().top:y.offsetTop)+fn(y)+parseInt(this.cornerDefaultStyle.height,10)/2>=By(ie)){const x=Math.floor(I+O+this.cornerCenterPointOffset-ye-ce);d?(this.cornerStyle.top=`${x}px`,this.cornerStyle.borderBottomWidth=0):this.cornerStyle.top=`${x-1}px`}this.cornerStyle.display="block"}bl()&&this.instance.getSetting("isDataViewInstance")&&this.updateMultipleSelectionHandlesPosition(i,s,I,k,R,O)}isEntireColumnSelected(e,r){return e===this.wot.wtTable.getFirstRenderedRow()&&r===this.wot.wtTable.getLastRenderedRow()}isEntireRowSelected(e,r){return e===this.wot.wtTable.getFirstRenderedColumn()&&r===this.wot.wtTable.getLastRenderedColumn()}getDimensionsFromHeader(e,r,n,i,s){const{wtTable:o}=this.wot,a=o.wtRootElement.parentNode;let l=null,c=null,d=null,h=null,f=null,g=null,m=null,p=null;switch(e){case"rows":l=function(){return o.getRowHeader(...arguments)},c=function(){return fn(...arguments)},d="ht__selection--rows",g="top";break;case"columns":l=function(){return o.getColumnHeader(...arguments)},c=function(){return en(...arguments)},d="ht__selection--columns",g="left";break}if(a.classList.contains(d)){const y=this.wot.getSetting("columnHeaders").length;if(m=l(r,y-i),p=l(n,y-i),!m||!p)return!1;const S=mi(m),w=mi(p);return m&&p&&(h=S[g]-s[g]-1,f=w[g]+c(p)-S[g]),[m,h,f]}return!1}changeBorderStyle(e,r){const n=this[e].style,i=r[e];!i||i.hide?oe(this[e],"hidden"):(Ve(this[e],"hidden")&&Re(this[e],"hidden"),n.backgroundColor=i.color,(e==="top"||e==="bottom")&&(n.height=`${i.width}px`),(e==="start"||e==="end")&&(n.width=`${i.width}px`))}changeBorderToDefaultStyle(e){const r={width:1,color:"#000"},n=this[e].style;n.backgroundColor=r.color,n.width=`${r.width}px`,n.height=`${r.width}px`}toggleHiddenClass(e,r){this.changeBorderToDefaultStyle(e),r?oe(this[e],"hidden"):Re(this[e],"hidden")}disappear(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",bl()&&this.instance.getSetting("isDataViewInstance")&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}destroy(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}}function X1e(t,e){DY(t,e),e.add(t)}function Zf(t,e,r){DY(t,e),e.set(t,r)}function DY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ct(t,e){return t.get(z2(t,e))}function B3(t,e,r){return t.set(z2(t,e),r),r}function z2(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var ci=new WeakMap,Qi=new WeakMap,lk=new WeakMap,vy=new WeakMap,ck=new WeakMap,Id=new WeakMap,z3=new WeakSet;class Q1e{constructor(e){X1e(this,z3),Zf(this,ci,void 0),Zf(this,Qi,void 0),Zf(this,lk,new Y1e),Zf(this,vy,new WeakMap),Zf(this,ck,new WeakSet),Zf(this,Id,new Map),B3(Qi,this,e)}setActiveOverlay(e){return B3(ci,this,e),ct(lk,this).setActiveOverlay(ct(ci,this)),ct(vy,this).has(ct(ci,this))||ct(vy,this).set(ct(ci,this),new Set),this}getFocusSelection(){return ct(Qi,this)!==null?ct(Qi,this).getFocus():null}getAreaSelection(){return ct(Qi,this)!==null?ct(Qi,this).createLayeredArea():null}getBorderInstance(e){if(!e.settings.border)return null;if(ct(Id,this).has(e)){const n=ct(Id,this).get(e);if(n.has(ct(ci,this)))return n.get(ct(ci,this));const i=new W3(ct(ci,this),e.settings);return n.set(ct(ci,this),i),i}const r=new W3(ct(ci,this),e.settings);return ct(Id,this).set(e,new Map([[ct(ci,this),r]])),r}getBorderInstances(e){var r,n;return Array.from((r=(n=ct(Id,this).get(e))===null||n===void 0?void 0:n.values())!==null&&r!==void 0?r:[])}destroyBorders(e){ct(Id,this).get(e).forEach(r=>r.destroy()),ct(Id,this).delete(e)}render(e){if(ct(Qi,this)===null)return;e&&z2(z3,this,J1e).call(this);const r=Array.from(ct(Qi,this)),n=new Map,i=new Map;for(let s=0;s<r.length;s++){const o=r[s],{className:a,headerAttributes:l,createLayers:c,selectionType:d}=o.settings;ct(ck,this).has(o)||(ct(ck,this).add(o),o.addLocalHook("destroy",()=>this.destroyBorders(o)));const h=this.getBorderInstance(o);if(o.isEmpty()){h==null||h.disappear();continue}a&&ct(lk,this).setActiveSelection(o).scan().forEach(m=>{if(n.has(m)){const p=n.get(m);p.has(a)&&c===!0?p.set(a,p.get(a)+1):p.set(a,1)}else n.set(m,new Map([[a,1]]));l&&(i.has(m)||i.set(m,[]),m.nodeName==="TH"&&i.get(m).push(...l))});const f=o.getCorners();ct(ci,this).getSetting("onBeforeDrawBorders",f,d),h==null||h.appear(f)}n.forEach((s,o)=>{var a;const l=Array.from(s).map(c=>{let[d,h]=c;return h===1?d:[d,...Array.from({length:h-1},(f,g)=>`${d}-${g+1}`)]}).flat();l.forEach(c=>ct(vy,this).get(ct(ci,this)).add(c)),oe(o,l),o.nodeName==="TD"&&Array.isArray((a=ct(Qi,this).options)===null||a===void 0?void 0:a.cellAttributes)&&Ee(o,ct(Qi,this).options.cellAttributes)}),Array.from(i.keys()).forEach(s=>{Ee(s,[...i.get(s)])})}}function J1e(){const t=ct(vy,this).get(ct(ci,this)),e=ct(ci,this).wtSettings.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(e))for(let r=0;r<e.length;r++)t.add(e[r]);t.forEach(r=>{var n,i;const s=ct(ci,this).wtTable.TABLE.querySelectorAll(`.${r}`);let o=[];Array.isArray((n=ct(Qi,this).options)===null||n===void 0?void 0:n.cellAttributes)&&(o=ct(Qi,this).options.cellAttributes.map(a=>a[0])),Array.isArray((i=ct(Qi,this).options)===null||i===void 0?void 0:i.headerAttributes)&&(o=[...o,...ct(Qi,this).options.headerAttributes.map(a=>a[0])]);for(let a=0,l=s.length;a<l;a++)Re(s[a],r),_c(s[a],o)}),t.clear()}class Z1e extends Dw{constructor(e,r,n,i){super(e,r,bf,n,i)}createTable(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new F2(...r)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wtTable:e}=this.wot;if(!this.needFullRender||!this.shouldBeRendered()||!e.holder.parentNode)return!1;const{rootWindow:r}=this.domBindings,n=this.clone.wtTable.holder.parentNode,i=this.wtSettings.getSetting("preventOverflow");let s=0;this.trimmingContainer===r&&(!i||i!=="horizontal")?(s=this.getOverlayOffset()*(this.isRtl()?-1:1),k2(n,`${s}px`,"0px")):(s=this.getScrollPosition(),wR(n));const o=this.adjustHeaderBordersPosition(s);return this.adjustElementsSize(),o}setScrollPosition(e){const{rootWindow:r}=this.domBindings;let n=!1;this.isRtl()&&(e=-e);const i=this.mainTableScrollableElement;if(i===r&&e!==r.scrollX){const s=r.scrollX;r.scrollTo(e,eY(r)),n=s!==r.scrollX}else if(e!==i.scrollLeft){const s=i.scrollLeft;i.scrollLeft=e,n=s!==i.scrollLeft}return n}onScroll(){this.wtSettings.getSetting("onScrollVertically")}sumCellSizes(e,r){const n=this.wtSettings.getSetting("defaultColumnWidth");let i=e,s=0;for(;i<r;)s+=this.wot.wtTable.getColumnWidth(i)||n,i+=1;return s}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e,wtViewport:r}=this.wot,{rootDocument:n,rootWindow:i}=this.domBindings,o=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==i||a==="vertical"){let c=r.getWorkspaceHeight();r.hasHorizontalScroll()&&(c-=tn(n)),c=Math.min(c,e.wtRootElement.scrollHeight),o.height=`${c}px`}else o.height="";this.clone.wtTable.holder.style.height=o.height;const l=en(this.clone.wtTable.TABLE);o.width=`${l}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,r=B2(this.wot),n=this.wot.selectionManager.getFocusSelection()?parseInt(r.width,10)/2:0;this.clone.wtTable.hider.style.height=this.hider.style.height,e.style.height=e.parentNode.style.height,e.style.width=`${parseInt(e.parentNode.style.width,10)+n}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalColumns"),r=this.isRtl()?"right":"left";if(typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number")this.spreader.style[r]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style[r]="0";else throw new Error("Incorrect value of the columnsRenderCalculator");this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number"?this.clone.wtTable.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`:this.clone.wtTable.spreader.style.top=""}scrollTo(e,r){const{wtSettings:n}=this,i=n.getSetting("rowHeaders"),s=n.getSetting("fixedColumnsStart"),a=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,l=s===0&&i.length>0&&!Ve(a.parentNode,"innerBorderInlineStart")?1:0;let c=this.getTableParentOffset(),d=0;if(r){const h=this.wot.wtTable.getColumnWidth(e),f=this.wot.wtViewport.getViewportWidth();h>f&&(r=!1)}return r&&a.offsetWidth!==a.clientWidth&&(d=tn(this.domBindings.rootDocument)),r?(c+=this.sumCellSizes(0,e+1),c-=this.wot.wtViewport.getViewportWidth(),c+=l):c+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),e),c+=d,ibe(this.mainTableScrollableElement)===c-l&&l>0&&this.wot.wtOverlays.expandHiderHorizontallyBy(l),this.setScrollPosition(c)}getTableParentOffset(){const e=this.wtSettings.getSetting("preventOverflow");let r=0;return!e&&this.trimmingContainer===this.domBindings.rootWindow&&(r=this.wot.wtTable.holderOffset.left),r}getScrollPosition(){return Math.abs(tY(this.mainTableScrollableElement,this.domBindings.rootWindow))}getOverlayOffset(){const{rootWindow:e}=this.domBindings,r=this.wtSettings.getSetting("preventOverflow");let n=0;if(this.trimmingContainer===e&&(!r||r!=="horizontal")){this.isRtl()?n=Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):n=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0);const i=this.wot.wtTable.getTotalWidth(),s=this.clone.wtTable.getTotalWidth(),o=i-s;n>o&&(n=0)}return n}adjustHeaderBordersPosition(e){const{wtSettings:r}=this,n=this.wot.wtTable.holder.parentNode,i=r.getSetting("rowHeaders"),s=r.getSetting("fixedColumnsStart"),o=r.getSetting("totalRows"),a=r.getSetting("preventOverflow")==="vertical";o?Re(n,"emptyRows"):oe(n,"emptyRows");let l=!1;if(!a){if(s&&!i.length)oe(n,"innerBorderLeft innerBorderInlineStart");else if(!s&&i.length){const c=Ve(n,"innerBorderInlineStart");e?(oe(n,"innerBorderLeft innerBorderInlineStart"),l=!c):(Re(n,"innerBorderLeft innerBorderInlineStart"),l=c)}}return l}}const e_e="stickyRowsTop",U2={getFirstRenderedRow(){return this.getRenderedRowsCount()===0?-1:0},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.getRenderedRowsCount()-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){return Math.min(this.wtSettings.getSetting("totalRows"),this.wtSettings.getSetting("fixedRowsTop"))},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Bc(U2,"MIXIN_NAME",e_e,{writable:!1,enumerable:!1});class Y2 extends Ap{constructor(e,r,n,i){super(e,r,n,i,Sf)}}Dt(Y2,U2);Dt(Y2,xR);function U3(t,e,r){return(e=t_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t_e(t){var e=r_e(t,"string");return typeof e=="symbol"?e:e+""}function r_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class n_e extends Dw{constructor(e,r,n,i,s,o){super(e,r,Sf,n,i),U3(this,"topOverlay",void 0),U3(this,"inlineStartOverlay",void 0),this.topOverlay=s,this.inlineStartOverlay=o}createTable(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new Y2(...r)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){const i=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),s=this.topOverlay.getOverlayOffset();k2(e,`${i}px`,`${s}px`)}else wR(e);let r=fn(this.clone.wtTable.TABLE);const n=en(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(r=0),e.style.height=`${r}px`,e.style.width=`${n}px`,!1}}class G2 extends Ap{constructor(e,r,n,i){super(e,r,n,i,wf)}}Dt(G2,U2);Dt(G2,CR);function i_e(t,e,r){return(e=s_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s_e(t){var e=o_e(t,"string");return typeof e=="symbol"?e:e+""}function o_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class a_e extends Dw{constructor(e,r,n,i){super(e,r,wf,n,i),i_e(this,"cachedFixedRowsTop",-1),this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop")}createTable(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new G2(...r)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode,{rootWindow:r}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let i=0,s=!1;if(this.trimmingContainer===r&&(!n||n!=="vertical")){const{wtTable:a}=this.wot,l=a.hider.getBoundingClientRect(),c=Math.ceil(l.bottom),d=e.offsetHeight;s=c===d,i=this.getOverlayOffset(),k2(e,"0px",`${i}px`)}else i=this.getScrollPosition(),wR(e);const o=this.adjustHeaderBordersPosition(i,s);return this.adjustElementsSize(),o}setScrollPosition(e){const{rootWindow:r}=this.domBindings,n=this.mainTableScrollableElement;let i=!1;if(n===r&&e!==r.scrollY){const s=r.scrollY;r.scrollTo(E2(r),e),i=s!==r.scrollY}else if(e!==n.scrollTop){const s=n.scrollTop;n.scrollTop=e,i=s!==n.scrollTop}return i}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,r){const n=this.wtSettings.getSetting("stylesHandler").getDefaultRowHeight();let i=e,s=0;for(;i<r;){const o=this.wot.wtTable.getRowHeight(i);s+=o===void 0?n:o,i+=1}return s}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e,wtViewport:r}=this.wot,{rootDocument:n,rootWindow:i}=this.domBindings,o=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==i||a==="horizontal"){let c=r.getWorkspaceWidth();r.hasVerticalScroll()&&(c-=tn(n)),c=Math.min(c,e.wtRootElement.scrollWidth),o.width=`${c}px`}else o.width="";this.clone.wtTable.holder.style.width=o.width;let l=fn(this.clone.wtTable.TABLE);e.hasDefinedSize()||(l=0),o.height=`${l}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,r=B2(this.wot),n=this.wot.selectionManager.getFocusSelection()?parseInt(r.height,10)/2:0;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=`${parseInt(e.parentNode.style.height,10)+n}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:r}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?r.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:r.style[e]=""}scrollTo(e,r){const{wot:n,wtSettings:i}=this,o=(n.cloneSource?n.cloneSource:n).wtTable.holder,a=i.getSetting("columnHeaders"),c=i.getSetting("fixedRowsTop")===0&&a.length>0&&!Ve(o.parentNode,"innerBorderTop")?1:0;let d=this.getTableParentOffset(),h=0;if(r){const f=this.wot.wtTable.getRowHeight(e),g=this.wot.wtViewport.getViewportHeight();f>g&&(r=!1)}if(r&&o.offsetHeight!==o.clientHeight&&(h=tn(this.domBindings.rootDocument)),r){const f=i.getSetting("fixedRowsBottom"),g=i.getSetting("totalRows");d+=this.sumCellSizes(0,e+1),d-=n.wtViewport.getViewportHeight()-this.sumCellSizes(g-f,g),d+=1,d+=c}else d+=this.sumCellSizes(i.getSetting("fixedRowsTop"),e);return d+=h,nbe(this.mainTableScrollableElement)===d-c&&c>0&&this.wot.wtOverlays.expandHiderVerticallyBy(c),this.setScrollPosition(d)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return T2(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,r=this.wtSettings.getSetting("preventOverflow");let n=0;if(this.trimmingContainer===e&&(!r||r!=="vertical")){const i=this.wot.wtTable.getTotalHeight(),s=this.clone.wtTable.getTotalHeight(),o=i-s;n=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0),n>o&&(n=0)}return n}adjustHeaderBordersPosition(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{wtSettings:n}=this,i=this.wot.wtTable.holder.parentNode,s=n.getSetting("totalColumns"),o=n.getSetting("preventOverflow")==="horizontal";s?Re(i,"emptyColumns"):oe(i,"emptyColumns");let a=!1;if(!r&&!o){const l=n.getSetting("fixedRowsTop"),c=this.cachedFixedRowsTop!==l,d=n.getSetting("columnHeaders");if((c||l===0)&&d.length>0){const h=Ve(i,"innerBorderTop");this.cachedFixedRowsTop=n.getSetting("fixedRowsTop"),e||n.getSetting("totalRows")===0?(oe(i,"innerBorderTop"),a=!h):(Re(i,"innerBorderTop"),a=h)}}return a}}function eS(t,e,r){l_e(t,e),e.set(t,r)}function l_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $l(t,e,r){return(e=c_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c_e(t){var e=u_e(t,"string");return typeof e=="symbol"?e:e+""}function u_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ad(t,e,r){return t.set($Y(t,e),r),r}function Ll(t,e){return t.get($Y(t,e))}function $Y(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var eg=new WeakMap,tS=new WeakMap,tg=new WeakMap,rS=new WeakMap;class d_e{constructor(e,r,n,i,s,o){$l(this,"wot",null),eS(this,eg,[]),$l(this,"topOverlay",null),$l(this,"bottomOverlay",null),$l(this,"inlineStartOverlay",null),$l(this,"topInlineStartCornerOverlay",null),$l(this,"bottomInlineStartCornerOverlay",null),$l(this,"browserLineHeight",void 0),$l(this,"wtSettings",null),eS(this,tS,!1),eS(this,tg,0),eS(this,rS,null),$l(this,"resizeObserver",new ResizeObserver(d=>{w1(()=>{!Array.isArray(d)||!d.length||(Ad(tg,this,Ll(tg,this)+1),Ll(tg,this)===300&&(at("The ResizeObserver callback was fired too many times in direct succession.\nThis may be due to an infinite loop caused by setting a dynamic height/width (for example, with the `dvh` units) to a Handsontable container's parent. \nThe observer will be disconnected."),this.resizeObserver.disconnect()),Ll(rS,this)!==null&&clearTimeout(Ll(rS,this)),Ad(rS,this,setTimeout(()=>{Ad(tg,this,0)},100)),this.wtSettings.getSetting("onContainerElementResize"))})})),this.wot=e,this.wtSettings=i,this.domBindings=n,this.facadeGetter=r,this.wtTable=o;const{rootDocument:a,rootWindow:l}=this.domBindings;this.instance=this.wot,this.eventManager=s,this.scrollbarSize=tn(a);const c=l.getComputedStyle(o.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden";this.scrollableElement=c?o.holder:S1(o.TABLE),this.initOverlays(),this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=l.scrollX,this.lastScrollY=l.scrollY}getOverlays(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const r=[...Ll(eg,this)];return e&&r.push(this.wtTable),r}initBrowserLineHeight(){const{rootWindow:e,rootDocument:r}=this.domBindings,n=e.getComputedStyle(r.body),i=parseInt(n.lineHeight,10),s=parseInt(n.fontSize,10)*1.2;this.browserLineHeight=i||s}initOverlays(){const e=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=new a_e(...e),this.bottomOverlay=new D1e(...e),this.inlineStartOverlay=new Z1e(...e),this.topInlineStartCornerOverlay=new n_e(...e,this.topOverlay,this.inlineStartOverlay),this.bottomInlineStartCornerOverlay=new I1e(...e,this.bottomOverlay,this.inlineStartOverlay),Ad(eg,this,[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay])}beforeDraw(){Ad(tS,this,Ll(eg,this).reduce((e,r)=>r.hasRenderingStateChanged()||e,!1)),Ll(eg,this).forEach(e=>e.updateStateOfRendering("before"))}afterDraw(){this.syncScrollWithMaster(),Ll(eg,this).forEach(e=>{const r=e.hasRenderingStateChanged();e.updateStateOfRendering("after"),r&&!e.needFullRender&&e.reset()})}refreshAll(){if(this.wot.drawn){if(!this.wtTable.holder.parentNode){this.destroy();return}this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}}registerListeners(){const{rootDocument:e,rootWindow:r}=this.domBindings,{mainTableScrollableElement:n}=this.topOverlay,{mainTableScrollableElement:i}=this.inlineStartOverlay;this.eventManager.addEventListener(e.documentElement,"keydown",h=>this.onKeyDown(h)),this.eventManager.addEventListener(e.documentElement,"keyup",()=>this.onKeyUp()),this.eventManager.addEventListener(e,"visibilitychange",()=>this.onKeyUp()),this.eventManager.addEventListener(n,"scroll",h=>this.onTableScroll(h),{passive:!0}),n!==i&&this.eventManager.addEventListener(i,"scroll",h=>this.onTableScroll(h),{passive:!0});const s=r.devicePixelRatio&&r.devicePixelRatio>1,o=this.scrollableElement===r,a=this.wtSettings.getSetting("preventWheel"),l={passive:o};(a||s||!q9())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",h=>this.onCloneWheel(h,a),l),[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay].forEach(h=>{this.eventManager.addEventListener(h.clone.wtTable.holder,"wheel",f=>this.onCloneWheel(f,a),l)});let d;this.eventManager.addEventListener(r,"resize",()=>{w1(()=>{clearTimeout(d),this.wtSettings.getSetting("onWindowResize"),d=setTimeout(()=>{Ad(tg,this,0)},200)})}),o||this.resizeObserver.observe(this.wtTable.wtRootElement.parentElement)}onTableScroll(e){const r=this.domBindings.rootWindow,n=this.inlineStartOverlay.mainTableScrollableElement,i=this.topOverlay.mainTableScrollableElement,s=e.target;this.keyPressed&&(i!==r&&s!==r&&!e.target.contains(i)||n!==r&&s!==r&&!e.target.contains(n))||this.syncScrollPositions(e)}onCloneWheel(e,r){if(e.ctrlKey)return;const{rootWindow:n}=this.domBindings,i=this.inlineStartOverlay.mainTableScrollableElement,s=this.topOverlay.mainTableScrollableElement,o=e.target,a=s!==n&&o!==n&&!o.contains(s),l=i!==n&&o!==n&&!o.contains(i);if(this.keyPressed&&(a||l)||this.scrollableElement===n)return;const c=this.translateMouseWheelToScroll(e);(r||this.scrollableElement!==n&&c)&&e.preventDefault()}onKeyDown(e){this.keyPressed=op(e.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}onKeyUp(){this.keyPressed=!1}translateMouseWheelToScroll(e){let r=isNaN(e.deltaY)?-1*e.wheelDeltaY:e.deltaY,n=isNaN(e.deltaX)?-1*e.wheelDeltaX:e.deltaX;e.deltaMode===1&&(n+=n*this.browserLineHeight,r+=r*this.browserLineHeight);const i=this.scrollVertically(r),s=this.scrollHorizontally(n);return i||s}scrollVertically(e){const r=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=e,r!==this.scrollableElement.scrollTop}scrollHorizontally(e){const r=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=e,r!==this.scrollableElement.scrollLeft}syncScrollPositions(){if(this.destroyed)return;const e=this.topOverlay.clone.wtTable.holder,r=this.inlineStartOverlay.clone.wtTable.holder;let n=this.scrollableElement.scrollLeft,i=this.scrollableElement.scrollTop;if(this.wot.wtViewport.isHorizontallyScrollableByWindow()&&(n=this.scrollableElement.scrollX),this.wot.wtViewport.isVerticallyScrollableByWindow()&&(i=this.scrollableElement.scrollY),this.horizontalScrolling=this.lastScrollX!==n,this.verticalScrolling=this.lastScrollY!==i,this.lastScrollX=n,this.lastScrollY=i,this.horizontalScrolling){e.scrollLeft=n;const s=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;s&&(s.scrollLeft=n)}this.verticalScrolling&&(r.scrollTop=i),this.refreshAll()}syncScrollWithMaster(){if(!Ll(tS,this))return;const e=this.topOverlay.mainTableScrollableElement,{scrollLeft:r,scrollTop:n}=e;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=r),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=r),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=n),Ad(tS,this,!1)}updateMainScrollableElements(){this.eventManager.clearEvents(!0),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();const{wtTable:e}=this,{rootWindow:r}=this.domBindings;r.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.scrollableElement=e.holder:this.scrollableElement=S1(e.TABLE),this.registerListeners()}destroy(){this.resizeObserver.disconnect(),this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateLastSpreaderSize()&&this.adjustElementsSize(),this.bottomOverlay.clone&&this.bottomOverlay.refresh(e),this.inlineStartOverlay.refresh(e),this.topOverlay.refresh(e),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(e),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(e)}updateLastSpreaderSize(){const e=this.wtTable.spreader,r=e.clientWidth,n=e.clientHeight,i=r!==this.spreaderLastSize.width||n!==this.spreaderLastSize.height;return i&&(this.spreaderLastSize.width=r,this.spreaderLastSize.height=n),i}adjustElementsSize(){const{wtViewport:e}=this.wot,{wtTable:r}=this,{rootWindow:n}=this.domBindings,i=this.scrollableElement===n,s=this.wtSettings.getSetting("totalColumns"),o=this.wtSettings.getSetting("totalRows"),a=e.getRowHeaderWidth(),l=e.getColumnHeaderHeight(),c=this.wtSettings.getSetting("externalRowCalculator")?0:1,d=l+this.topOverlay.sumCellSizes(0,o)+c,h=a+this.inlineStartOverlay.sumCellSizes(0,s),g=r.hider.style,m=()=>i?!1:this.scrollableElement.scrollTop>Math.max(0,d-r.holder.clientHeight),p=()=>i?!1:this.scrollableElement.scrollLeft>Math.max(0,h-r.holder.clientWidth),y=m()?1:0,S=p()?1:0;g.width=`${h+S}px`,g.height=`${d+y}px`,this.topOverlay.adjustElementsSize(),this.inlineStartOverlay.adjustElementsSize(),this.bottomOverlay.adjustElementsSize()}expandHiderVerticallyBy(e){const{wtTable:r}=this;r.hider.style.height=`${parseInt(r.hider.style.height,10)+e}px`}expandHiderHorizontallyBy(e){const{wtTable:r}=this;r.hider.style.width=`${parseInt(r.hider.style.width,10)+e}px`}applyToDOM(){this.wtTable.isVisible()&&(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}getParentOverlay(e){if(!e)return null;const r=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];let n=null;return B(r,i=>{i&&i.clone&&i.clone.wtTable.TABLE.contains(e)&&(n=i.clone)}),n}syncOverlayTableClassNames(){const e=this.wtTable.TABLE,r=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];B(r,n=>{n&&(n.clone.wtTable.TABLE.className=e.className)})}}function Y3(t,e,r){return(e=h_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h_e(t){var e=f_e(t,"string");return typeof e=="symbol"?e:e+""}function f_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let g_e=class{constructor(e){Y3(this,"settings",{}),Y3(this,"defaults",Object.freeze(this.getDefaults())),dt(this.defaults,(r,n)=>{if(e[n]!==void 0)this.settings[n]=e[n];else{if(r===void 0)throw new Error(`A required setting "${n}" was not provided`);this.settings[n]=r}})}getDefaults(){return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,currentRowClassName:null,currentColumnClassName:null,preventOverflow(){return!1},preventWheel:!1,data:void 0,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:()=>this.getSetting("fixedColumnsStart")>0||this.getSetting("rowHeaders").length>0,shouldRenderTopOverlay:()=>this.getSetting("fixedRowsTop")>0||this.getSetting("columnHeaders").length>0,shouldRenderBottomOverlay:()=>this.getSetting("fixedRowsBottom")>0,minSpareRows:0,rowHeaders(){return[]},columnHeaders(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:(e,r,n)=>{const i=this.getSetting("data",e,r);mf(n,i??"")},columnWidth(){},rowHeight(){},rowHeightByOverlayName(){},defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,viewportRowRenderingThreshold:null,viewportColumnRenderingThreshold:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onBeforeViewportScrollHorizontally:e=>e,onBeforeViewportScrollVertically:e=>e,onScrollHorizontally:null,onScrollVertically:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onModifyGetCoordsElement:null,onModifyGetCoords:null,onBeforeHighlightingRowHeader:e=>e,onBeforeHighlightingColumnHeader:e=>e,onWindowResize:null,onContainerElementResize:null,renderAllColumns:!1,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1,ariaTags:!0,stylesHandler:null}}update(e,r){return r===void 0?dt(e,(n,i)=>{this.settings[i]=n}):this.settings[e]=r,this}getSetting(e,r,n,i,s){return typeof this.settings[e]=="function"?this.settings[e](r,n,i,s):r!==void 0&&Array.isArray(this.settings[e])?this.settings[e][r]:this.settings[e]}getSettingPure(e){return this.settings[e]}has(e){return!!this.settings[e]}};class K2 extends Ap{constructor(e,r,n,i){super(e,r,n,i,"master")}alignOverlaysWithTrimmingContainer(){const e=Dv(this.wtRootElement),{rootWindow:r}=this.domBindings;if(e===r)this.wtSettings.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible");else{const n=e.parentElement,i=x1(e,"height",r),s=x1(e,"overflow",r),o=this.holder.style,{scrollWidth:a,scrollHeight:l}=e;let c=e.offsetWidth,d=e.offsetHeight;if(n&&["auto","hidden","scroll"].includes(s)){const f=e.cloneNode(!1);f.style.overflow="auto",f.style.position="absolute",e.nextElementSibling?n.insertBefore(f,e.nextElementSibling):n.appendChild(f);const g=parseInt(r.getComputedStyle(f).height,10);n.removeChild(f),g===0&&(d=0)}d=Math.min(d,l),o.height=i==="auto"?"auto":`${d}px`,c=Math.min(c,a),o.width=`${c}px`,o.overflow="",this.hasTableHeight=o.height==="auto"?!0:d>0,this.hasTableWidth=c>0}this.isTableVisible=pf(this.TABLE)}markOversizedColumnHeaders(){const{wtSettings:e}=this,{wtViewport:r}=this.dataAccessObject,n="master",s=e.getSetting("columnHeaders").length;if(s&&!r.hasOversizedColumnHeadersMarked[n]){const a=e.getSetting("rowHeaders").length,l=this.getRenderedColumnsCount();for(let c=0;c<s;c++)for(let d=-1*a;d<l;d++)this.markIfOversizedColumnHeader(d);r.hasOversizedColumnHeadersMarked[n]=!0}}}Dt(K2,L2);Dt(K2,CR);class m_e{constructor(e,r,n,i,s){this.dataAccessObject=e,this.wot=e.wot,this.instance=this.wot,this.domBindings=r,this.wtSettings=n,this.wtTable=s,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.rowsCalculatorTypes=new Map([["rendered",()=>this.wtSettings.getSetting("renderAllRows")?new jxe:new Wxe],["fullyVisible",()=>new Exe],["partiallyVisible",()=>new RY]]),this.columnsCalculatorTypes=new Map([["rendered",()=>this.wtSettings.getSetting("renderAllColumns")?new Axe:new Lxe],["fullyVisible",()=>new Cxe],["partiallyVisible",()=>new _Y]]),this.eventManager=i,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",()=>{this.clientHeight=this.getWorkspaceHeight()})}getWorkspaceHeight(){const e=this.domBindings.rootDocument,r=this.dataAccessObject.topOverlayTrimmingContainer;let n=0;return r===this.domBindings.rootWindow?n=e.documentElement.clientHeight:n=fn(r)>0&&r.clientHeight>0?r.clientHeight:1/0,n}getViewportHeight(){let e=this.getWorkspaceHeight();if(e===1/0)return e;const r=this.getColumnHeaderHeight();return r>0&&(e-=r),e}getWorkspaceWidth(){const{rootDocument:e,rootWindow:r}=this.domBindings,n=this.dataAccessObject.inlineStartOverlayTrimmingContainer;let i;if(n===r){const s=this.wtSettings.getSetting("totalColumns");i=this.wtTable.holder.offsetWidth,this.getRowHeaderWidth()+this.sumColumnWidths(0,s)>i&&(i=e.documentElement.clientWidth)}else i=n.clientWidth;return i}getViewportWidth(){const e=this.getWorkspaceWidth();if(e===1/0)return e;const r=this.getRowHeaderWidth();return r>0?e-r:e}hasVerticalScroll(){if(this.isVerticallyScrollableByWindow()){const s=this.domBindings.rootDocument.documentElement;return s.scrollHeight>s.clientHeight}const{holder:e,hider:r}=this.wtTable,n=e.clientHeight,i=r.offsetHeight;return n<i?!0:i>this.getWorkspaceHeight()}hasHorizontalScroll(){if(this.isVerticallyScrollableByWindow()){const i=this.domBindings.rootDocument.documentElement;return i.scrollWidth>i.clientWidth}const{hider:e}=this.wtTable,r=e.offsetWidth,n=this.hasVerticalScroll()?tn():0;return r>this.getWorkspaceWidth()-n}isVerticallyScrollableByWindow(){return this.dataAccessObject.topOverlayTrimmingContainer===this.domBindings.rootWindow}isHorizontallyScrollableByWindow(){return this.dataAccessObject.inlineStartOverlayTrimmingContainer===this.domBindings.rootWindow}sumColumnWidths(e,r){let n=0,i=e;for(;i<r;)n+=this.wtTable.getColumnWidth(i),i+=1;return n}getWorkspaceOffset(){return mi(this.wtTable.holder)}getColumnHeaderHeight(){return this.wtSettings.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=fn(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}getRowHeaderWidth(){const e=this.wtSettings.getSetting("rowHeaderWidth"),r=this.wtSettings.getSetting("rowHeaders");if(e){this.rowHeaderWidth=0;for(let n=0,i=r.length;n<i;n++)this.rowHeaderWidth+=e[n]||e}if(isNaN(this.rowHeaderWidth))if(r.length){let n=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(let i=0,s=r.length;i<s;i++)n?(this.rowHeaderWidth+=en(n),n=n.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}createRowsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["rendered","fullyVisible","partiallyVisible"];const{wtSettings:r,wtTable:n}=this;let i=this.getViewportHeight(),s,o;this.rowHeaderWidth=NaN;let a=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset;const l=r.getSetting("fixedRowsTop"),c=r.getSetting("fixedRowsBottom"),d=r.getSetting("totalRows");return l&&a>=0&&(o=this.dataAccessObject.topOverlay.sumCellSizes(0,l),a+=o,i-=o),c&&this.dataAccessObject.bottomOverlay.clone&&(o=this.dataAccessObject.bottomOverlay.sumCellSizes(d-c,d),i-=o),n.holder.clientHeight===n.holder.offsetHeight?s=0:s=tn(this.domBindings.rootDocument),new Xxe({calculationTypes:e.map(h=>[h,this.rowsCalculatorTypes.get(h)()]),viewportHeight:i,scrollOffset:a,totalRows:r.getSetting("totalRows"),defaultRowHeight:r.getSetting("stylesHandler").getDefaultRowHeight(),rowHeightFn:h=>n.getRowHeight(h),overrideFn:r.getSettingPure("viewportRowCalculatorOverride"),horizontalScrollbarHeight:s})}createColumnsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["rendered","fullyVisible","partiallyVisible"];const{wtSettings:r,wtTable:n}=this;let i=this.getViewportWidth(),s=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN;const o=r.getSetting("fixedColumnsStart");if(o&&s>=0){const a=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,o);s+=a,i-=a}return n.holder.clientWidth!==n.holder.offsetWidth&&(i-=tn(this.domBindings.rootDocument)),new Gxe({calculationTypes:e.map(a=>[a,this.columnsCalculatorTypes.get(a)()]),viewportWidth:i,scrollOffset:s,totalColumns:r.getSetting("totalColumns"),columnWidthFn:a=>n.getColumnWidth(a),overrideFn:r.getSettingPure("viewportColumnCalculatorOverride"),inlineStartOffset:this.dataAccessObject.inlineStartParentOffset})}createCalculators(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtSettings:r}=this,n=this.createRowsCalculator(),i=this.createColumnsCalculator();if(e&&!r.getSetting("renderAllRows")){const s=n.getResultsFor("fullyVisible"),o=n.getResultsFor("partiallyVisible");e=this.areAllProposedVisibleRowsAlreadyRendered(s,o)}if(e&&!r.getSetting("renderAllColumns")){const s=i.getResultsFor("fullyVisible"),o=i.getResultsFor("partiallyVisible");e=this.areAllProposedVisibleColumnsAlreadyRendered(s,o)}return e||(this.rowsRenderCalculator=n.getResultsFor("rendered"),this.columnsRenderCalculator=i.getResultsFor("rendered")),this.rowsVisibleCalculator=n.getResultsFor("fullyVisible"),this.columnsVisibleCalculator=i.getResultsFor("fullyVisible"),this.rowsPartiallyVisibleCalculator=n.getResultsFor("partiallyVisible"),this.columnsPartiallyVisibleCalculator=i.getResultsFor("partiallyVisible"),e}createVisibleCalculators(){const e=this.createRowsCalculator(["fullyVisible","partiallyVisible"]),r=this.createColumnsCalculator(["fullyVisible","partiallyVisible"]);this.rowsVisibleCalculator=e.getResultsFor("fullyVisible"),this.columnsVisibleCalculator=r.getResultsFor("fullyVisible"),this.rowsPartiallyVisibleCalculator=e.getResultsFor("partiallyVisible"),this.columnsPartiallyVisibleCalculator=r.getResultsFor("partiallyVisible")}areAllProposedVisibleRowsAlreadyRendered(e,r){if(!this.rowsVisibleCalculator)return!1;let{startRow:n,endRow:i}=e;const{startRow:s,endRow:o}=r;if(n===null&&i===null){if(!e.isVisibleInTrimmingContainer&&!this.wtTable.isRowBeforeRenderedRows(s)&&!this.wtTable.isRowAfterRenderedRows(o))return!0;n=s,i=o}const{startRow:a,endRow:l,rowStartOffset:c,rowEndOffset:d}=this.rowsRenderCalculator,h=this.wtSettings.getSetting("totalRows")-1,f=this.wtSettings.getSetting("viewportRowRenderingThreshold");return Number.isInteger(f)&&f>0?(n=Math.max(0,n-Math.min(c,f)),i=Math.min(h,i+Math.min(d,f))):f==="auto"&&(n=Math.max(0,n-Math.ceil(c/2)),i=Math.min(h,i+Math.ceil(d/2))),n<a||n===a&&n>0?!1:!(i>l||i===l&&i<h)}areAllProposedVisibleColumnsAlreadyRendered(e,r){if(!this.columnsVisibleCalculator)return!1;let{startColumn:n,endColumn:i}=e;const{startColumn:s,endColumn:o}=r;if(n===null&&i===null){if(!e.isVisibleInTrimmingContainer&&!this.wtTable.isColumnBeforeRenderedColumns(s)&&!this.wtTable.isColumnAfterRenderedColumns(o))return!0;n=s,i=o}const{startColumn:a,endColumn:l,columnStartOffset:c,columnEndOffset:d}=this.columnsRenderCalculator,h=this.wtSettings.getSetting("totalColumns")-1,f=this.wtSettings.getSetting("viewportColumnRenderingThreshold");return Number.isInteger(f)&&f>0?(n=Math.max(0,n-Math.min(c,f)),i=Math.min(h,i+Math.min(d,f))):f==="auto"&&(n=Math.max(0,n-Math.ceil(c/2)),i=Math.min(h,i+Math.ceil(d/2))),n<a||n===a&&n>0?!1:!(i>l||i===l&&i<h)}resetHasOversizedColumnHeadersMarked(){dt(this.hasOversizedColumnHeadersMarked,(e,r,n)=>{n[r]=void 0})}}class p_e extends D2{constructor(e,r){super(e,new g_e(r));const n=this.wtSettings.getSetting("facade",this);this.wtTable=new K2(this.getTableDao(),n,this.domBindings,this.wtSettings),this.wtViewport=new m_e(this.getViewportDao(),this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.selectionManager=new Q1e(this.wtSettings.getSetting("selections")),this.wtEvent=new NY(n,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager),this.wtOverlays=new d_e(this,n,this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.exportSettingsAsClassNames(),this.findOriginalHeaders()}exportSettingsAsClassNames(){const e={rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},r=[],n=[];dt(e,(i,s)=>{this.wtSettings.getSetting(s).length&&n.push(i),r.push(i)}),Re(this.wtTable.wtRootElement.parentNode,r),oe(this.wtTable.wtRootElement.parentNode,n)}getOverlayByName(e){var r;if(!AY.includes(e))return null;const n=e.replace(/_([a-z])/g,i=>i[1].toUpperCase());return(r=this.wtOverlays[`${n}Overlay`])!==null&&r!==void 0?r:null}getViewportDao(){const e=this;return{get wot(){return e},get topOverlayTrimmingContainer(){return e.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return e.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return e.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return e.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return e.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return e.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get bottomOverlay(){return e.wtOverlays.bottomOverlay}}}}class q2{constructor(e){e instanceof D2?this._wot=e:this._initFromSettings(e)}_initFromSettings(e){e.facade=r=>{const n=new q2(r);return()=>n},this._wot=new p_e(e.table,e)}get guid(){return this._wot.guid}get rootDocument(){return this._wot.domBindings.rootDocument}get rootWindow(){return this._wot.domBindings.rootWindow}get wtSettings(){return this._wot.wtSettings}get cloneSource(){return this._wot.cloneSource}get cloneOverlay(){return this._wot.cloneOverlay}get selectionManager(){return this._wot.selectionManager}get wtViewport(){return this._wot.wtViewport}get wtOverlays(){return this._wot.wtOverlays}get wtTable(){return this._wot.wtTable}get wtEvent(){return this._wot.wtEvent}get wtScroll(){return this._wot.wtScroll}get drawn(){return this._wot.drawn}set drawn(e){this._wot.drawn=e}get activeOverlayName(){return this._wot.activeOverlayName}get drawInterrupted(){return this._wot.drawInterrupted}set drawInterrupted(e){this._wot.drawInterrupted=e}get lastMouseOver(){return this._wot.lastMouseOver}set lastMouseOver(e){this._wot.lastMouseOver=e}get momentumScrolling(){return this._wot.momentumScrolling}set momentumScrolling(e){this._wot.momentumScrolling=e}get touchApplied(){return this._wot.touchApplied}set touchApplied(e){this._wot.touchApplied=e}get domBindings(){return this._wot.domBindings}get eventListeners(){return this._wot.eventListeners}set eventListeners(e){this._wot.eventListeners=e}get eventManager(){return this._wot.eventManager}createCellCoords(e,r){return this._wot.createCellCoords(e,r)}createCellRange(e,r,n){return this._wot.createCellRange(e,r,n)}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._wot.draw(e),this}getCell(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._wot.getCell(e,r)}scrollViewport(e,r,n){return this._wot.scrollViewport(e,r,n)}scrollViewportHorizontally(e,r){return this._wot.scrollViewportHorizontally(e,r)}scrollViewportVertically(e,r){return this._wot.scrollViewportVertically(e,r)}getViewport(){return this._wot.getViewport()}getOverlayName(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}getOverlayByName(e){return this._wot.getOverlayByName(e)}exportSettingsAsClassNames(){return this._wot.exportSettingsAsClassNames()}update(e,r){return this._wot.wtSettings.update(e,r),this}getSetting(e,r,n,i,s){return this._wot.wtSettings.getSetting(e,r,n,i,s)}hasSetting(e){return this._wot.wtSettings.hasSetting(e)}destroy(){this._wot.destroy()}}function G3(t){let{isShiftKey:e,isLeftClick:r,isRightClick:n,coords:i,selection:s,controller:o,cellCoordsFactory:a}=t;const l=s.isSelected()?s.getSelectedRange().current():null,c=s.isSelectedByCorner(),d=s.isSelectedByRowHeader();if(s.markSource("mouse"),e&&l)i.row>=0&&i.col>=0&&!o.cell?s.setRangeEnd(i):(c||d)&&i.row>=0&&i.col>=0&&!o.cell?s.setRangeEnd(a(i.row,i.col)):c&&i.row<0&&!o.column?s.setRangeEnd(a(l.to.row,i.col)):d&&i.col<0&&!o.row?s.setRangeEnd(a(i.row,l.to.col)):(!c&&!d&&i.col<0||c&&i.col<0)&&!o.row?s.selectRows(Math.max(l.from.row,0),i.row,i.col):(!c&&!d&&i.row<0||d&&i.row<0)&&!o.column&&s.selectColumns(Math.max(l.from.col,0),i.col,i.row);else{const h=!s.inInSelection(i),f=r||n&&h;i.row<0&&i.col>=0&&!o.column?f&&s.selectColumns(i.col,i.col,i.row):i.col<0&&i.row>=0&&!o.row?f&&s.selectRows(i.row,i.row,i.col):i.col>=0&&i.row>=0&&!o.cell?f&&s.setRangeStart(i):i.col<0&&i.row<0&&s.selectAll(!0,!0,{disableHeadersHighlight:!0,focusPosition:{row:0,col:0}})}s.markEndSource()}function y_e(t){let{isLeftClick:e,coords:r,selection:n,controller:i,cellCoordsFactory:s}=t;if(!e)return;const o=n.isSelectedByRowHeader(),a=n.isSelectedByColumnHeader(),l=n.tableProps.countCols(),c=n.tableProps.countRows();n.markSource("mouse"),a&&!i.column?n.setRangeEnd(s(c-1,r.col)):o&&!i.row?n.setRangeEnd(s(r.row,l-1)):i.cell||n.setRangeEnd(r),n.markEndSource()}function K3(t){let{isLeftClick:e,selection:r,cellRangeMapper:n}=t;if(!e||r.settings.selectionMode!=="multiple")return;const i=r.getSelectedRange(),s=i.clone().map(a=>n.toRenderable(a)),o=s.current();if(s.size()>1&&!o.isHeader()&&!r.isMultiple(o)){const a=s.findAll(o);a.length===s.size()?(i.pop(),r.refresh()):a.length>1&&(i.removeLayers(a.map(l=>{let{layer:c}=l;return c})),r.refresh())}}const v_e=new Map([["touchstart",G3],["touchend",K3],["mousedown",G3],["mouseover",y_e],["mouseup",K3]]);function uk(t,e){v_e.get(t.type)({isShiftKey:t.shiftKey,isLeftClick:P2(t)||t.type==="touchstart",isRightClick:yf(t),...e})}const LY=new WeakMap,X2=Symbol("rootInstance");function w_e(t){LY.set(t,!0)}function b_e(t){return t===X2}function Ja(t){return LY.has(t)}function S_e(t,e){FY(t,e),e.add(t)}function Qc(t,e,r){FY(t,e),e.set(t,r)}function FY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Jc(t,e,r){return(e=x_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x_e(t){var e=C_e(t,"string");return typeof e=="symbol"?e:e+""}function C_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qr(t,e){return t.get(Im(t,e))}function Bi(t,e,r){return t.set(Im(t,e),r),r}function Im(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var dk=new WeakMap,nS=new WeakMap,iS=new WeakMap,Fl=new WeakMap,$o=new WeakMap,hk=new WeakMap,fk=new WeakMap,rg=new WeakMap,wy=new WeakSet;class __e{constructor(e){S_e(this,wy),Jc(this,"hot",void 0),Jc(this,"eventManager",void 0),Jc(this,"settings",void 0),Jc(this,"THEAD",void 0),Jc(this,"TBODY",void 0),Jc(this,"_wt",void 0),Jc(this,"activeWt",void 0),Qc(this,dk,0),Qc(this,nS,0),Jc(this,"postponedAdjustElementsSize",!1),Qc(this,iS,!1),Qc(this,Fl,void 0),Qc(this,$o,void 0),Qc(this,hk,0),Qc(this,fk,0),Qc(this,rg,null),this.hot=e,this.eventManager=new Sa(this.hot),this.settings=this.hot.getSettings(),this.createElements(),this.registerEvents(),this.initializeWalkontable()}render(){if(!this.hot.isRenderSuspended()){const e=this.hot.forceFullRender;this.hot.runHooks("beforeRender",e),this._wt.draw(!e),Im(wy,this,E_e).call(this),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this.hot.runHooks("afterRender",e),this.hot.forceFullRender=!1}}adjustElementsSize(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?this._wt.wtOverlays.adjustElementsSize():this.postponedAdjustElementsSize=!0}getCellAtCoords(e,r){const n=this._wt.getCell(e,r);return n<0?null:n}scrollViewport(e,r,n){return this._wt.scrollViewport(e,r,n)}scrollViewportHorizontally(e,r){return this._wt.scrollViewportHorizontally(e,r)}scrollViewportVertically(e,r){return this._wt.scrollViewportVertically(e,r)}createElements(){const{rootElement:e,rootDocument:r}=this.hot,n=e.getAttribute("style");n&&e.setAttribute("data-originalstyle",n),oe(e,"handsontable"),Bi($o,this,r.createElement("TABLE")),oe(qr($o,this),"htCore"),this.hot.getSettings().tableClassName&&oe(qr($o,this),this.hot.getSettings().tableClassName),this.settings.ariaTags&&(Ee(qr($o,this),[mc()]),Ee(e,[Bve(),L9(-1),gR(this.hot.countCols()),awe()])),this.THEAD=r.createElement("THEAD"),qr($o,this).appendChild(this.THEAD),this.TBODY=r.createElement("TBODY"),qr($o,this).appendChild(this.TBODY),this.hot.table=qr($o,this),this.hot.container.insertBefore(qr($o,this),this.hot.container.firstChild)}registerEvents(){const{rootWrapperElement:e,rootElement:r,rootDocument:n,selection:i,rootWindow:s}=this.hot,o=n.documentElement;this.eventManager.addEventListener(r,"mousedown",l=>{Bi(iS,this,!0),this.isTextSelectionAllowed(l.target)||(o3(s),l.preventDefault(),s.focus())}),this.eventManager.addEventListener(r,"mouseup",()=>{Bi(iS,this,!1)}),this.eventManager.addEventListener(r,"mousemove",l=>{qr(iS,this)&&!this.isTextSelectionAllowed(l.target)&&(this.settings.fragmentSelection&&o3(s),l.preventDefault())}),this.eventManager.addEventListener(o,"keyup",l=>{i.isInProgress()&&!l.shiftKey&&i.finish()}),this.eventManager.addEventListener(o,"mouseup",l=>{i.isInProgress()&&P2(l)&&i.finish(),Bi(Fl,this,!1);const c=oY(n.activeElement);oC(n.activeElement)&&!c||(c||!i.isSelected()&&!i.isSelectedByAnyHeader()&&!(e??r).contains(l.target)&&!yf(l))&&this.hot.unlisten()}),this.eventManager.addEventListener(o,"contextmenu",l=>{i.isInProgress()&&yf(l)&&(i.finish(),Bi(Fl,this,!1))}),this.eventManager.addEventListener(o,"touchend",()=>{i.isInProgress()&&i.finish(),Bi(Fl,this,!1)}),this.eventManager.addEventListener(o,"mousedown",l=>{const c=l.target,d=l.x||l.clientX,h=l.y||l.clientY;let f=l.target;if(qr(Fl,this)||!r||!this.hot.view)return;const{holder:g}=this._wt.wtTable;if(f===g){const p=tn(n);if(n.elementFromPoint(d+p,h)!==g||n.elementFromPoint(d,h+p)!==g)return}else for(;f!==o;){if(f===null){if(l.isTargetWebComponent)break;return}if(f===r)return;f=f.parentNode}(typeof this.settings.outsideClickDeselects=="function"?this.settings.outsideClickDeselects(c):this.settings.outsideClickDeselects)?this.hot.deselectCell():this.hot.destroyEditor(!1,!1)});let a=hd(s);for(;a!==null;)this.eventManager.addEventListener(a.document.documentElement,"click",()=>{this.hot.unlisten()}),a=hd(a);this.eventManager.addEventListener(qr($o,this),"selectstart",l=>{this.settings.fragmentSelection||oC(l.target)||l.preventDefault()})}translateFromRenderableToVisualCoords(e){let{row:r,col:n}=e;return this.hot._createCellCoords(...this.translateFromRenderableToVisualIndex(r,n))}translateFromRenderableToVisualIndex(e,r){let n=e>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(e):e,i=r>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(r):r;return n===null&&(n=e),i===null&&(i=r),[n,i]}countRenderableIndexes(e,r){const n=Math.min(e.getNotTrimmedIndexesLength(),r),i=e.getNearestNotHiddenIndex(n-1,-1);return i===null?0:e.getRenderableFromVisualIndex(i)+1}countRenderableColumns(){return this.countRenderableIndexes(this.hot.columnIndexMapper,this.settings.maxCols)}countRenderableRows(){return this.countRenderableIndexes(this.hot.rowIndexMapper,this.settings.maxRows)}countNotHiddenRowIndexes(e,r){return this.countNotHiddenIndexes(e,r,this.hot.rowIndexMapper,this.countRenderableRows())}countNotHiddenColumnIndexes(e,r){return this.countNotHiddenIndexes(e,r,this.hot.columnIndexMapper,this.countRenderableColumns())}countNotHiddenIndexes(e,r,n,i){if(isNaN(e)||e<0)return 0;const s=n.getNearestNotHiddenIndex(e,r),o=n.getRenderableFromVisualIndex(s);if(!Number.isInteger(o))return 0;let a=0;return r<0?a=o+1:r>0&&(a=i-o),a}countNotHiddenFixedColumnsStart(){const e=this.hot.countCols(),r=Math.min(parseInt(this.settings.fixedColumnsStart,10),e)-1;return this.countNotHiddenColumnIndexes(r,-1)}countNotHiddenFixedRowsTop(){const e=this.hot.countRows(),r=Math.min(parseInt(this.settings.fixedRowsTop,10),e)-1;return this.countNotHiddenRowIndexes(r,-1)}countNotHiddenFixedRowsBottom(){const e=this.hot.countRows(),r=Math.max(e-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(r,1)}countRenderableColumnsInRange(e,r){let n=0;for(let i=e;i<=r;i++)this.hot.columnIndexMapper.getRenderableFromVisualIndex(i)!==null&&(n+=1);return n}countRenderableRowsInRange(e,r){let n=0;for(let i=e;i<=r;i++)this.hot.rowIndexMapper.getRenderableFromVisualIndex(i)!==null&&(n+=1);return n}addClassNameToLicenseElement(e){var r;const n=(r=this.hot.rootElement.parentNode)===null||r===void 0?void 0:r.querySelector(".hot-display-license-info");n&&oe(n,e)}removeClassNameFromLicenseElement(e){var r;const n=(r=this.hot.rootElement.parentNode)===null||r===void 0?void 0:r.querySelector(".hot-display-license-info");n&&Re(n,e)}isMainTableNotFullyCoveredByOverlays(){const e=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),r=this.countNotHiddenFixedColumnsStart();return this.hot.countRenderedRows()>e&&this.hot.countRenderedCols()>r}initializeWalkontable(){const e={ariaTags:this.settings.ariaTags,rtlMode:this.hot.isRtl(),externalRowCalculator:this.hot.getPlugin("autoRowSize")&&this.hot.getPlugin("autoRowSize").isEnabled(),table:qr($o,this),isDataViewInstance:()=>Ja(this.hot),preventOverflow:()=>this.settings.preventOverflow,preventWheel:()=>this.settings.preventWheel,viewportColumnRenderingThreshold:()=>this.settings.viewportColumnRenderingThreshold,viewportRowRenderingThreshold:()=>this.settings.viewportRowRenderingThreshold,data:(s,o)=>this.hot.getDataAtCell(...this.translateFromRenderableToVisualIndex(s,o)),totalRows:()=>this.countRenderableRows(),totalColumns:()=>this.countRenderableColumns(),fixedColumnsStart:()=>this.countNotHiddenFixedColumnsStart(),fixedRowsTop:()=>this.countNotHiddenFixedRowsTop(),fixedRowsBottom:()=>this.countNotHiddenFixedRowsBottom(),shouldRenderInlineStartOverlay:()=>this.settings.fixedColumnsStart>0||e.rowHeaders().length>0,shouldRenderTopOverlay:()=>this.settings.fixedRowsTop>0||e.columnHeaders().length>0,shouldRenderBottomOverlay:()=>this.settings.fixedRowsBottom>0,minSpareRows:()=>this.settings.minSpareRows,renderAllRows:this.settings.renderAllRows,renderAllColumns:this.settings.renderAllColumns,rowHeaders:()=>{const s=[];return this.hot.hasRowHeaders()&&s.push((o,a)=>{const l=o>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(o):o;this.appendRowHeader(l,a)}),this.hot.runHooks("afterGetRowHeaderRenderers",s),Bi(nS,this,s.length),this.hot.getSettings().ariaTags&&Im(wy,this,VY).call(this)===this.hot.countCols()&&Im(wy,this,R_e).call(this,qr(nS,this)),s},columnHeaders:()=>{const s=[];return this.hot.hasColHeaders()&&s.push((o,a)=>{const l=o>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(o):o;this.appendColHeader(l,a)}),this.hot.runHooks("afterGetColumnHeaderRenderers",s),Bi(dk,this,s.length),s},columnWidth:s=>{const o=this.hot.columnIndexMapper.getVisualFromRenderableIndex(s);return this.hot.getColWidth(o===null?s:o)},rowHeight:s=>{const o=this.hot.rowIndexMapper.getVisualFromRenderableIndex(s);return this.hot.getRowHeight(o===null?s:o)},rowHeightByOverlayName:(s,o)=>{const a=this.hot.rowIndexMapper.getVisualFromRenderableIndex(s),l=a===null?s:a;return this.hot.runHooks("modifyRowHeightByOverlayName",this.hot.getRowHeight(l),l,o)},cellRenderer:(s,o,a)=>{const[l,c]=this.translateFromRenderableToVisualIndex(s,o),d=this.hot.runHooks("modifyGetCellCoords",l,c,!1,"meta");let h=l,f=c;Array.isArray(d)&&([h,f]=d);const g=this.hot.getCellMeta(h,f),m=this.hot.colToProp(f);let p=this.hot.getDataAtRowProp(h,m);this.hot.hasHook("beforeValueRender")&&(p=this.hot.runHooks("beforeValueRender",p,g)),this.hot.runHooks("beforeRenderer",a,l,c,m,p,g),this.hot.getCellRenderer(g)(this.hot,a,l,c,m,p,g),this.hot.runHooks("afterRenderer",a,l,c,m,p,g)},selections:this.hot.selection.highlight,hideBorderOnMouseDownOver:()=>this.settings.fragmentSelection,onWindowResize:()=>{this.hot&&!this.hot.isDestroyed&&this.hot.refreshDimensions()},onContainerElementResize:()=>{this.hot&&!this.hot.isDestroyed&&pf(this.hot.rootElement)&&this.hot.refreshDimensions()},onCellMouseDown:(s,o,a,l)=>{const c=this.translateFromRenderableToVisualCoords(o),d={row:!1,column:!1,cell:!1};this.hot.listen(),this.activeWt=l,Bi(Fl,this,!0),Bi(rg,this,{x:s.clientX,y:s.clientY}),this.hot.runHooks("beforeOnCellMouseDown",s,c,a,d),!Sh(s)&&(uk(s,{coords:c,selection:this.hot.selection,controller:d,cellCoordsFactory:(h,f)=>this.hot._createCellCoords(h,f)}),this.hot.runHooks("afterOnCellMouseDown",s,c,a),this.activeWt=this._wt)},onCellContextMenu:(s,o,a,l)=>{const c=this.translateFromRenderableToVisualCoords(o);this.activeWt=l,Bi(Fl,this,!1),this.hot.selection.isInProgress()&&this.hot.selection.finish(),this.hot.runHooks("beforeOnCellContextMenu",s,c,a),!Sh(s)&&(this.hot.runHooks("afterOnCellContextMenu",s,c,a),this.activeWt=this._wt)},onCellMouseOut:(s,o,a,l)=>{const c=this.translateFromRenderableToVisualCoords(o);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOut",s,c,a),!Sh(s)&&(this.hot.runHooks("afterOnCellMouseOut",s,c,a),this.activeWt=this._wt)},onCellMouseOver:(s,o,a,l)=>{const c=this.translateFromRenderableToVisualCoords(o),d={row:!1,column:!1,cell:!1};this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOver",s,c,a,d),!Sh(s)&&(qr(Fl,this)&&(!qr(rg,this)||qr(rg,this).x!==s.clientX||qr(rg,this).y!==s.clientY)&&uk(s,{coords:c,selection:this.hot.selection,controller:d,cellCoordsFactory:(h,f)=>this.hot._createCellCoords(h,f)}),this.hot.runHooks("afterOnCellMouseOver",s,c,a),this.activeWt=this._wt,Bi(rg,this,null))},onCellMouseUp:(s,o,a,l)=>{const c=this.translateFromRenderableToVisualCoords(o);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseUp",s,c,a),!(Sh(s)||this.hot.isDestroyed)&&(uk(s,{coords:c,selection:this.hot.selection,cellRangeMapper:Kbe(this.hot,"cellRangeMapper")}),this.hot.runHooks("afterOnCellMouseUp",s,c,a),this.activeWt=this._wt)},onCellCornerMouseDown:s=>{s.preventDefault(),this.hot.runHooks("afterOnCellCornerMouseDown",s)},onCellCornerDblClick:s=>{s.preventDefault(),this.hot.runHooks("afterOnCellCornerDblClick",s)},beforeDraw:(s,o)=>this.beforeRender(s,o),onDraw:s=>this.afterRender(s),onBeforeViewportScrollVertically:(s,o)=>{const a=this.hot.rowIndexMapper,l=s<0;let c=s;return!l&&(c=a.getVisualFromRenderableIndex(s),c===null)?s:(c=this.hot.runHooks("beforeViewportScrollVertically",c,o),this.hot.runHooks("beforeViewportScroll"),l?c:a.getRenderableFromVisualIndex(c))},onBeforeViewportScrollHorizontally:(s,o)=>{const a=this.hot.columnIndexMapper,l=s<0;let c=s;return!l&&(c=a.getVisualFromRenderableIndex(s),c===null)?s:(c=this.hot.runHooks("beforeViewportScrollHorizontally",c,o),this.hot.runHooks("beforeViewportScroll"),l?c:a.getRenderableFromVisualIndex(c))},onScrollVertically:()=>{this.hot.runHooks("afterScrollVertically"),this.hot.runHooks("afterScroll")},onScrollHorizontally:()=>{this.hot.runHooks("afterScrollHorizontally"),this.hot.runHooks("afterScroll")},onBeforeRemoveCellClassNames:()=>this.hot.runHooks("beforeRemoveCellClassNames"),onBeforeHighlightingRowHeader:(s,o,a)=>{const l=this.hot.rowIndexMapper,c=s<0;let d=s;c||(d=l.getVisualFromRenderableIndex(s));const h=this.hot.runHooks("beforeHighlightingRowHeader",d,o,a);return c?h:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(h,1))},onBeforeHighlightingColumnHeader:(s,o,a)=>{const l=this.hot.columnIndexMapper,c=s<0;let d=s;c||(d=l.getVisualFromRenderableIndex(s));const h=this.hot.runHooks("beforeHighlightingColumnHeader",d,o,a);return c?h:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(h,1))},onAfterDrawSelection:(s,o,a)=>{let l;const[c,d]=this.translateFromRenderableToVisualIndex(s,o),h=this.hot.selection.getSelectedRange();if(h.size()>0){const g=h.peekByIndex(a??0);l=[g.from.row,g.from.col,g.to.row,g.to.col]}return this.hot.runHooks("afterDrawSelection",c,d,l,a)},onBeforeDrawBorders:(s,o)=>{const[a,l,c,d]=s,h=[this.hot.rowIndexMapper.getVisualFromRenderableIndex(a),this.hot.columnIndexMapper.getVisualFromRenderableIndex(l),this.hot.rowIndexMapper.getVisualFromRenderableIndex(c),this.hot.columnIndexMapper.getVisualFromRenderableIndex(d)];return this.hot.runHooks("beforeDrawBorders",h,o)},onBeforeTouchScroll:()=>this.hot.runHooks("beforeTouchScroll"),onAfterMomentumScroll:()=>this.hot.runHooks("afterMomentumScroll"),onModifyRowHeaderWidth:s=>this.hot.runHooks("modifyRowHeaderWidth",s),onModifyGetCellCoords:(s,o,a,l)=>{const c=this.hot.rowIndexMapper,d=this.hot.columnIndexMapper,h=o>=0?d.getVisualFromRenderableIndex(o):o,f=s>=0?c.getVisualFromRenderableIndex(s):s,g=this.hot.runHooks("modifyGetCellCoords",f,h,a,l);if(Array.isArray(g)){const[m,p,y,S]=g;return[m>=0?c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(m,1)):m,p>=0?d.getRenderableFromVisualIndex(d.getNearestNotHiddenIndex(p,1)):p,y>=0?c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(y,-1)):y,S>=0?d.getRenderableFromVisualIndex(d.getNearestNotHiddenIndex(S,-1)):S]}},onModifyGetCoordsElement:(s,o)=>{const a=this.hot.rowIndexMapper,l=this.hot.columnIndexMapper,c=o>=0?l.getVisualFromRenderableIndex(o):o,d=s>=0?a.getVisualFromRenderableIndex(s):s,h=this.hot.runHooks("modifyGetCoordsElement",d,c);if(Array.isArray(h)){const[f,g]=h;return[f>=0?a.getRenderableFromVisualIndex(a.getNearestNotHiddenIndex(f,1)):f,g>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(g,1)):g]}},viewportRowCalculatorOverride:s=>{let o=this.settings.viewportRowRenderingOffset;if(o==="auto"&&this.settings.fixedRowsTop&&(o=10),o>0||o==="auto"){const a=this.countRenderableRows(),l=s.startRow,c=s.endRow;if(typeof o=="number")s.startRow=Math.max(l-o,0),s.endRow=Math.min(c+o,a-1);else if(o==="auto"){const d=Math.max(1,Math.ceil(c/a*12));s.startRow=Math.max(l-d,0),s.endRow=Math.min(c+d,a-1)}}this.hot.runHooks("afterViewportRowCalculatorOverride",s)},viewportColumnCalculatorOverride:s=>{let o=this.settings.viewportColumnRenderingOffset;if(o==="auto"&&this.settings.fixedColumnsStart&&(o=10),o>0||o==="auto"){const a=this.countRenderableColumns(),l=s.startColumn,c=s.endColumn;if(typeof o=="number"&&(s.startColumn=Math.max(l-o,0),s.endColumn=Math.min(c+o,a-1)),o==="auto"){const d=Math.max(1,Math.ceil(c/a*6));s.startColumn=Math.max(l-d,0),s.endColumn=Math.min(c+d,a-1)}}this.hot.runHooks("afterViewportColumnCalculatorOverride",s)},rowHeaderWidth:()=>this.settings.rowHeaderWidth,columnHeaderHeight:()=>{const s=this.hot.runHooks("modifyColumnHeaderHeight");return this.settings.columnHeaderHeight||s},stylesHandler:()=>this.hot.stylesHandler};this.hot.runHooks("beforeInitWalkontable",e),this._wt=new q2(e),this.activeWt=this._wt;const r=this._wt.wtTable.spreader,{width:n,height:i}=this.hot.rootElement.getBoundingClientRect();this.setLastSize(n,i),this.eventManager.addEventListener(r,"mousedown",s=>{s.target===r&&s.which===3&&s.stopPropagation()}),this.eventManager.addEventListener(r,"contextmenu",s=>{s.target===r&&s.which===3&&s.stopPropagation()}),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"click",()=>{this.settings.observeDOMVisibility&&this._wt.drawInterrupted&&this.hot.render()})}isTextSelectionAllowed(e){var r,n;if(oC(e))return!0;const i=tf(e,this._wt.wtTable.spreader);if(this.settings.fragmentSelection===!0&&i)return!0;const s=(r=(n=this.hot.getSelectedRangeActive())===null||n===void 0?void 0:n.isSingleCell())!==null&&r!==void 0?r:!1;return!!(this.settings.fragmentSelection==="cell"&&s&&i||!this.settings.fragmentSelection&&this.isCellEdited()&&s)}isMouseDown(){return qr(Fl,this)}isCellEdited(){const e=this.hot.getActiveEditor();return e&&e.isOpened()}beforeRender(e,r){e&&this.hot.runHooks("beforeViewRender",this.hot.forceFullRender,r)}afterRender(e){e&&this.hot.runHooks("afterViewRender",this.hot.forceFullRender)}appendRowHeader(e,r){if(r.firstChild){const n=r.firstChild;if(!Ve(n,"relative")){Ic(r),this.appendRowHeader(e,r);return}this.updateCellHeader(n.querySelector(".rowHeader"),e,this.hot.getRowHeader)}else{const{rootDocument:n,getRowHeader:i}=this.hot,s=n.createElement("div"),o=n.createElement("span");s.className="relative",o.className="rowHeader",this.updateCellHeader(o,e,i),s.appendChild(o),r.appendChild(s)}this.hot.runHooks("afterGetRowHeader",e,r)}appendColHeader(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hot.getColHeader,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const s=()=>{const o=e>=0?this.hot.getColumnMeta(e).headerClassName:null;return o?o.split(" "):[]};if(r.firstChild){const o=r.firstChild;Ve(o,"relative")?(this.updateCellHeader(o.querySelector(".colHeader"),e,n,i),o.className="",oe(o,["relative",...s()])):(Ic(r),this.appendColHeader(e,r,n,i))}else{const{rootDocument:o}=this.hot,a=o.createElement("div"),l=o.createElement("span"),c=s();a.classList.add("relative",...c),l.className="colHeader",this.settings.ariaTags&&(Ee(a,...mc()),Ee(l,...mc())),this.updateCellHeader(l,e,n,i),a.appendChild(l),r.appendChild(a)}this.hot.runHooks("afterGetColHeader",e,r,i)}updateCellHeader(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=r;const o=this._wt.wtOverlays.getParentOverlay(e)||this._wt;e.parentNode&&(Ve(e,"colHeader")?s=o.wtTable.columnFilter.sourceToRendered(r):Ve(e,"rowHeader")&&(s=o.wtTable.rowFilter.sourceToRendered(r))),s>-1?$f(e,n(r,i)):(mf(e,""),oe(e,"cornerHeader"))}maximumVisibleElementWidth(e){const n=this._wt.wtViewport.getWorkspaceWidth()-e;return n>0?n:0}maximumVisibleElementHeight(e){const n=this._wt.wtViewport.getWorkspaceHeight()-e;return n>0?n:0}setLastSize(e,r){Bi(hk,this,e),Bi(fk,this,r)}getLastSize(){return{width:qr(hk,this),height:qr(fk,this)}}getFirstRenderedVisibleRow(){if(!this._wt.wtViewport.rowsRenderCalculator)return null;const e=this.hot.rowIndexMapper,r=e.getVisualFromRenderableIndex(this._wt.wtTable.getFirstRenderedRow());return e.getNearestNotHiddenIndex(r??0,1)}getLastRenderedVisibleRow(){if(!this._wt.wtViewport.rowsRenderCalculator)return null;const e=this.hot.rowIndexMapper,r=e.getVisualFromRenderableIndex(this._wt.wtTable.getLastRenderedRow());return e.getNearestNotHiddenIndex(r??this.hot.countRows()-1,-1)}getFirstRenderedVisibleColumn(){if(!this._wt.wtViewport.columnsRenderCalculator)return null;const e=this.hot.columnIndexMapper,r=e.getVisualFromRenderableIndex(this._wt.wtTable.getFirstRenderedColumn());return e.getNearestNotHiddenIndex(r??0,1)}getLastRenderedVisibleColumn(){if(!this._wt.wtViewport.columnsRenderCalculator)return null;const e=this.hot.columnIndexMapper,r=e.getVisualFromRenderableIndex(this._wt.wtTable.getLastRenderedColumn());return e.getNearestNotHiddenIndex(r??this.hot.countCols()-1,-1)}getFirstFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstVisibleRow())}getLastFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastVisibleRow())}getFirstFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstVisibleColumn())}getLastFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastVisibleColumn())}getFirstPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstPartiallyVisibleRow())}getLastPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastPartiallyVisibleRow())}getFirstPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstPartiallyVisibleColumn())}getLastPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastPartiallyVisibleColumn())}getColumnHeadersCount(){return qr(dk,this)}getRowHeadersCount(){return qr(nS,this)}getViewportWidth(){return this._wt.wtViewport.getViewportWidth()}getWorkspaceWidth(){return this._wt.wtViewport.getWorkspaceWidth()}getViewportHeight(){return this._wt.wtViewport.getViewportHeight()}getWorkspaceHeight(){return this._wt.wtViewport.getWorkspaceHeight()}getElementOverlayName(e){var r;return((r=this._wt.wtOverlays.getParentOverlay(e))!==null&&r!==void 0?r:this._wt).wtTable.name}getOverlayByName(e){return this._wt.getOverlayByName(e)}getActiveOverlayName(){return this._wt.activeOverlayName}isVisible(){return this._wt.wtTable.isVisible()}hasVerticalScroll(){return this._wt.wtViewport.hasVerticalScroll()}hasHorizontalScroll(){return this._wt.wtViewport.hasHorizontalScroll()}getTableWidth(){return this._wt.wtTable.getWidth()}getTableHeight(){return this._wt.wtTable.getHeight()}getTotalTableWidth(){return this._wt.wtTable.getTotalWidth()}getTotalTableHeight(){return this._wt.wtTable.getTotalHeight()}getTableOffset(){return this._wt.wtViewport.getWorkspaceOffset()}getTableScrollPosition(){return{left:this._wt.wtTable.holder.scrollLeft,top:this._wt.wtTable.holder.scrollTop}}setTableScrollPosition(e){this._wt.wtTable.holder.scrollLeft=e.left,this._wt.wtTable.holder.scrollTop=e.top}getRowHeaderWidth(){return this._wt.wtViewport.getRowHeaderWidth()}getColumnHeaderHeight(){return this._wt.wtViewport.getColumnHeaderHeight()}isVerticallyScrollableByWindow(){return this._wt.wtViewport.isVerticallyScrollableByWindow()}isHorizontallyScrollableByWindow(){return this._wt.wtViewport.isHorizontallyScrollableByWindow()}destroy(){this._wt.destroy(),this.eventManager.destroy()}}function VY(){return parseInt(this.hot.rootElement.getAttribute(gR()[0]),10)}function R_e(t){const e=Im(wy,this,VY).call(this)+t;Ee(this.hot.rootElement,...gR(e))}function E_e(){const t=this.hot.rootElement;this.hasVerticalScroll()?oe(t,"htHasScrollY"):Re(t,"htHasScrollY"),this.isVerticallyScrollableByWindow()?oe(t,"htVerticallyScrollableByWindow"):Re(t,"htVerticallyScrollableByWindow"),this.hasHorizontalScroll()?oe(t,"htHasScrollX"):Re(t,"htHasScrollX"),this.isHorizontallyScrollableByWindow()?oe(t,"htHorizontallyScrollableByWindow"):Re(t,"htHorizontallyScrollableByWindow")}var T_e=Xt,k_e=mn,P_e=kp,N_e=hs,M_e=pn,I_e=Pl,A_e=fs,O_e=wd,gk=O_e("every",TypeError);T_e({target:"Iterator",proto:!0,real:!0,forced:gk},{every:function(e){M_e(this);try{N_e(e)}catch(i){A_e(this,"throw",i)}if(gk)return k_e(gk,this,e);var r=I_e(this),n=0;return!P_e(r,function(i,s){if(!e(i,n++))return s()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});const H_e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",q3=H_e.length;function j_e(t){let e=t+1,r="",n;for(;e>0;)n=(e-1)%q3,r=String.fromCharCode(65+n)+r,e=parseInt((e-n)/q3,10);return r}function WY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=t;const n=[];return(!Array.isArray(t)||!Array.isArray(t[0]))&&(r=[t]),r.forEach((i,s)=>{Array.isArray(i)?i.forEach((o,a)=>{n.push([s+e,a,o])}):Object.keys(i).forEach(o=>{n.push([s+e,o,i[o]])})}),n}function BY(t){let e=0;return Array.isArray(t)&&(t[0]&&Array.isArray(t[0])?e=t[0].length:t[0]&&Le(t[0])&&(e=_2(t[0]))),e}function D_e(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>Array.isArray(e)))}function $_e(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>typeof e=="object"&&!Array.isArray(e)&&e!==null))}function E0(t,e,r){return(e=L_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L_e(t){var e=F_e(t,"string");return typeof e=="symbol"?e:e+""}function F_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class V_e{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];E0(this,"hot",void 0),E0(this,"data",void 0),E0(this,"dataType","array"),E0(this,"colToProp",()=>{}),E0(this,"propToCol",()=>{}),this.hot=e,this.data=r}modifyRowData(e){let r;return this.hot.hasHook("modifyRowData")&&(r=this.hot.runHooks("modifyRowData",e)),r!==void 0&&!Number.isInteger(r)?r:this.data[e]}getData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return!this.data||this.data.length===0?this.data:this.getByRange(null,null,e)}setData(e){this.data=e}getAtColumn(e){const r=[];return B(this.data,(n,i)=>{const s=this.getAtCell(i,e);r.push(s)}),r}getAtRow(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const s=r===void 0&&n===void 0,{dataDotNotation:o}=this.hot.getSettings();let a=null,l=null;if(a=this.modifyRowData(e),Array.isArray(a))l=[],s?a.forEach((c,d)=>{l[d]=this.getAtPhysicalCell(e,d,a)}):Ie(r,n,c=>{l[c-r]=this.getAtPhysicalCell(e,c,a)});else if(Le(a)||It(a))if(i?l=[]:l={},!s||i){const d=this.countFirstRowKeys()-1;Ie(0,d,h=>{const f=this.colToProp(h);if(h>=(r||0)&&h<=(n||d)&&!Number.isInteger(f)){const g=this.getAtPhysicalCell(e,f,a);i?l.push(g):o?WT(l,f,g):l[f]=g}})}else dt(a,(c,d)=>{const h=this.getAtPhysicalCell(e,d,a);o?WT(l,d,h):l[d]=h});return l}setAtCell(e,r,n){if(!(e>=this.countRows()||r>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){const i=$s(n);this.hot.runHooks("modifySourceData",e,r,i,"set"),i.isTouched()&&(n=i.value)}["__proto__","constructor","prototype"].includes(e)||(Number.isInteger(r)?this.data[e][r]=n:WT(this.data[e],r,n))}}getAtPhysicalCell(e,r,n){let i=null;if(n)if(typeof r=="string"){const{dataDotNotation:s}=this.hot.getSettings();i=s?iI(n,r):n[r]}else typeof r=="function"?i=r(n):i=n[r];if(this.hot.hasHook("modifySourceData")){const s=$s(i);this.hot.runHooks("modifySourceData",e,r,s,"get"),s.isTouched()&&(i=s.value)}return i}getAtCell(e,r){const n=this.modifyRowData(e);return this.getAtPhysicalCell(e,this.colToProp(r),n)}getByRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,s=null,o=null,a=null,l=null;e===null||r===null?(i=!0,s=0,a=this.countRows()-1):(s=Math.min(e.row,r.row),o=Math.min(e.col,r.col),a=Math.max(e.row,r.row),l=Math.max(e.col,r.col));const c=[];return Ie(s,a,d=>{c.push(i?this.getAtRow(d,void 0,void 0,n):this.getAtRow(d,o,l,n))}),c}getCopyable(e,r){const n=this.propToCol(r);return this.hot.getCellMeta(e,n).copyable?this.getAtCell(this.hot.toPhysicalRow(e),n):""}countRows(){if(this.hot.hasHook("modifySourceLength")){const e=this.hot.runHooks("modifySourceLength");if(Number.isInteger(e))return e}return this.data.length}countFirstRowKeys(){return BY(this.data)}destroy(){this.data=null,this.hot=null}}var W_e=Xt,B_e=mn,z_e=kp,U_e=hs,Y_e=pn,G_e=Pl,K_e=fs,q_e=wd,mk=q_e("some",TypeError);W_e({target:"Iterator",proto:!0,real:!0,forced:mk},{some:function(e){Y_e(this);try{U_e(e)}catch(i){K_e(this,"throw",i)}if(mk)return B_e(mk,this,e);var r=G_e(this),n=0;return z_e(r,function(i,s){if(e(i,n++))return s()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});function X3(t,e,r){return(e=X_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X_e(t){var e=Q_e(t,"string");return typeof e=="symbol"?e:e+""}function Q_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Lf{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;X3(this,"indexedValues",[]),X3(this,"initValueOrFn",void 0),this.initValueOrFn=e}getValues(){return this.indexedValues}getValueAtIndex(e){const r=this.indexedValues;if(e<r.length)return r[e]}setValues(e){this.indexedValues=e.slice(),this.runLocalHooks("change")}setValueAtIndex(e,r){return e<this.indexedValues.length?(this.indexedValues[e]=r,this.runLocalHooks("change"),!0):!1}clear(){this.setDefaultValues()}getLength(){return this.getValues().length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,It(this.initValueOrFn)?Ie(e-1,r=>this.indexedValues.push(this.initValueOrFn(r))):Ie(e-1,()=>this.indexedValues.push(this.initValueOrFn)),this.runLocalHooks("change")}init(e){return this.setDefaultValues(e),this.runLocalHooks("init"),this}insert(){this.runLocalHooks("change")}remove(){this.runLocalHooks("change")}destroy(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}}Dt(Lf,Tn);function Q2(t,e,r,n){const i=r.length?r[0]:void 0;return[...t.slice(0,i),...r.map((s,o)=>It(n)?n(s,o):n),...i===void 0?[]:t.slice(i)]}function J2(t,e){return ff(t,(r,n)=>e.includes(n)===!1)}class Sd extends Lf{insert(e,r){this.indexedValues=Q2(this.indexedValues,e,r,this.initValueOrFn),super.insert(e,r)}remove(e){this.indexedValues=J2(this.indexedValues,e),super.remove(e)}}class _R extends Sd{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getHiddenIndexes(){return gs(this.getValues(),(e,r,n)=>(r&&e.push(n),e),[])}}function Z2(t,e,r){return[...t.slice(0,e),...r,...t.slice(e)]}function $v(t,e){return ff(t,r=>e.includes(r)===!1)}function eH(t,e){return Tt(t,r=>r-e.filter(n=>n<r).length)}function tH(t,e){const r=e[0],n=e.length;return Tt(t,i=>i>=r?i+n:i)}function J_e(t,e,r){return(e=Z_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z_e(t){var e=eRe(t,"string");return typeof e=="symbol"?e:e+""}function eRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class RR extends Lf{constructor(){super(...arguments),J_e(this,"orderOfIndexes",[])}getValues(){return this.orderOfIndexes.map(e=>this.indexedValues[e])}setValues(e){this.orderOfIndexes=[...Array(e.length).keys()],super.setValues(e)}setValueAtIndex(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.orderOfIndexes.length;return e<this.indexedValues.length?(this.indexedValues[e]=r,this.orderOfIndexes.includes(e)===!1&&this.orderOfIndexes.splice(n,0,e),this.runLocalHooks("change"),!0):!1}clearValue(e){this.orderOfIndexes=$v(this.orderOfIndexes,[e]),It(this.initValueOrFn)?super.setValueAtIndex(e,this.initValueOrFn(e)):super.setValueAtIndex(e,this.initValueOrFn)}getLength(){return this.orderOfIndexes.length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,super.setDefaultValues(e)}insert(e,r){this.indexedValues=Q2(this.indexedValues,e,r,this.initValueOrFn),this.orderOfIndexes=tH(this.orderOfIndexes,r),super.insert(e,r)}remove(e){this.indexedValues=J2(this.indexedValues,e),this.orderOfIndexes=$v(this.orderOfIndexes,e),this.orderOfIndexes=eH(this.orderOfIndexes,e),super.remove(e)}getEntries(){return this.orderOfIndexes.map(e=>[e,this.getValueAtIndex(e)])}}class $w extends Sd{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getTrimmedIndexes(){return gs(this.getValues(),(e,r,n)=>(r&&e.push(n),e),[])}}const Q3=new Map([["indexesSequence",{getListWithInsertedItems:Z2,getListWithRemovedItems:$v}],["physicallyIndexed",{getListWithInsertedItems:Q2,getListWithRemovedItems:J2}]]),zY=t=>{if(Q3.has(t)===!1)throw new Error(`Alter strategy with ID '${t}' does not exist.`);return Q3.get(t)};class UY extends Lf{constructor(){super(e=>e)}insert(e,r){const n=tH(this.indexedValues,r);this.indexedValues=Z2(n,e,r),super.insert(e,r)}remove(e){const r=$v(this.indexedValues,e);this.indexedValues=eH(r,e),super.remove(e)}}const J3=new Map([["hiding",_R],["index",Lf],["linkedPhysicalIndexToValue",RR],["physicalIndexToValue",Sd],["trimming",$w]]);function tRe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!J3.has(t))throw new Error(`The provided map type ("${t}") does not exist.`);return new(J3.get(t))(e)}function rRe(t,e,r){return(e=nRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nRe(t){var e=iRe(t,"string");return typeof e=="symbol"?e:e+""}function iRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rH{constructor(){rRe(this,"collection",new Map)}register(e,r){this.collection.has(e)===!1&&(this.collection.set(e,r),r.addLocalHook("change",()=>this.runLocalHooks("change",r)))}unregister(e){const r=this.collection.get(e);xe(r)&&(r.destroy(),this.collection.delete(e),this.runLocalHooks("change",r))}unregisterAll(){this.collection.forEach((e,r)=>this.unregister(r)),this.collection.clear()}get(e){return cr(e)?Array.from(this.collection.values()):this.collection.get(e)}getLength(){return this.collection.size}removeFromEvery(e){this.collection.forEach(r=>{r.remove(e)})}insertToEvery(e,r){this.collection.forEach(n=>{n.insert(e,r)})}initEvery(e){this.collection.forEach(r=>{r.init(e)})}}Dt(rH,Tn);function pk(t,e,r){return(e=sRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sRe(t){var e=oRe(t,"string");return typeof e=="symbol"?e:e+""}function oRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Z3 extends rH{constructor(e,r){super(),pk(this,"mergedValuesCache",[]),pk(this,"aggregationFunction",void 0),pk(this,"fallbackValue",void 0),this.aggregationFunction=e,this.fallbackValue=r}getMergedValues(){if((arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0)return this.mergedValuesCache;if(this.getLength()===0)return[];const r=Tt(this.get(),s=>s.getValues()),n=[],i=xe(r[0])&&r[0].length||0;for(let s=0;s<i;s+=1){const o=[];for(let a=0;a<this.getLength();a+=1)o.push(r[a][s]);n.push(o)}return Tt(n,this.aggregationFunction)}getMergedValueAtIndex(e,r){const n=this.getMergedValues(r)[e];return xe(n)?n:this.fallbackValue}updateCache(){this.mergedValuesCache=this.getMergedValues(!1)}}function aRe(t,e,r){lRe(t,e),e.set(t,r)}function lRe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cRe(t,e,r){return t.set(YY(t,e),r),r}function uRe(t,e){return t.get(YY(t,e))}function YY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var yk=new WeakMap;class GY{constructor(){aRe(this,yk,[])}subscribe(e){return this.addLocalHook("change",e),this._write(uRe(yk,this)),this}unsubscribe(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}_write(e){return e.length>0&&this.runLocalHooks("change",e),this}_writeInitialChanges(e){cRe(yk,this,e)}}Dt(GY,Tn);function e6(t,e){const r=[];let n=0,i=0;for(;n<t.length&&i<e.length;n++,i++)t[n]!==e[i]&&r.push({op:"replace",index:i,oldValue:t[n],newValue:e[i]});for(;n<e.length;n++)r.push({op:"insert",index:n,oldValue:void 0,newValue:e[n]});for(;i<t.length;i++)r.push({op:"remove",index:i,oldValue:t[i],newValue:void 0});return r}function T0(t,e,r){dRe(t,e),e.set(t,r)}function dRe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function eo(t,e){return t.get(KY(t,e))}function sS(t,e,r){return t.set(KY(t,e),r),r}function KY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var oS=new WeakMap,k0=new WeakMap,aS=new WeakMap,lS=new WeakMap,cS=new WeakMap;class hRe{constructor(){let{initialIndexValue:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};T0(this,oS,new Set),T0(this,k0,[]),T0(this,aS,[]),T0(this,lS,!1),T0(this,cS,!1),sS(cS,this,e??!1)}createObserver(){const e=new GY;return eo(oS,this).add(e),e.addLocalHook("unsubscribe",()=>{eo(oS,this).delete(e)}),e._writeInitialChanges(e6(eo(k0,this),eo(aS,this))),e}emit(e){let r=eo(aS,this);(!eo(lS,this)||eo(k0,this).length!==e.length)&&(e.length===0?e=new Array(r.length).fill(eo(cS,this)):sS(k0,this,new Array(e.length).fill(eo(cS,this))),eo(lS,this)||(sS(lS,this,!0),r=eo(k0,this)));const n=e6(r,e);eo(oS,this).forEach(i=>i._write(n)),sS(aS,this,e)}}function bi(t,e,r){return(e=fRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fRe(t){var e=gRe(t,"string");return typeof e=="symbol"?e:e+""}function gRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pI{constructor(){bi(this,"indexesSequence",new UY),bi(this,"trimmingMapsCollection",new Z3(e=>e.some(r=>r===!0),!1)),bi(this,"hidingMapsCollection",new Z3(e=>e.some(r=>r===!0),!1)),bi(this,"variousMapsCollection",new rH),bi(this,"hidingChangesObservable",new hRe({initialIndexValue:!1})),bi(this,"notTrimmedIndexesCache",[]),bi(this,"notHiddenIndexesCache",[]),bi(this,"isBatched",!1),bi(this,"indexesSequenceChanged",!1),bi(this,"indexesChangeSource",void 0),bi(this,"trimmedIndexesChanged",!1),bi(this,"hiddenIndexesChanged",!1),bi(this,"renderablePhysicalIndexesCache",[]),bi(this,"fromPhysicalToVisualIndexesCache",new Map),bi(this,"fromVisualToRenderableIndexesCache",new Map),this.indexesSequence.addLocalHook("change",()=>{this.indexesSequenceChanged=!0,this.updateCache(),this.runLocalHooks("indexesSequenceChange",this.indexesChangeSource),this.runLocalHooks("change",this.indexesSequence,null)}),this.trimmingMapsCollection.addLocalHook("change",e=>{this.trimmedIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.trimmingMapsCollection)}),this.hidingMapsCollection.addLocalHook("change",e=>{this.hiddenIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.hidingMapsCollection)}),this.variousMapsCollection.addLocalHook("change",e=>{this.runLocalHooks("change",e,this.variousMapsCollection)})}suspendOperations(){this.isBatched=!0}resumeOperations(){this.isBatched=!1,this.updateCache()}createChangesObserver(e){if(e!=="hiding")throw new Error(`Unsupported index map type "${e}".`);return this.hidingChangesObservable.createObserver()}createAndRegisterIndexMap(e,r,n){return this.registerMap(e,tRe(r,n))}registerMap(e,r){if(this.trimmingMapsCollection.get(e)||this.hidingMapsCollection.get(e)||this.variousMapsCollection.get(e))throw Error(`Map with name "${e}" has been already registered.`);r instanceof $w?this.trimmingMapsCollection.register(e,r):r instanceof _R?this.hidingMapsCollection.register(e,r):this.variousMapsCollection.register(e,r);const n=this.getNumberOfIndexes();return n>0&&r.init(n),r}unregisterMap(e){this.trimmingMapsCollection.unregister(e),this.hidingMapsCollection.unregister(e),this.variousMapsCollection.unregister(e)}unregisterAll(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}getPhysicalFromVisualIndex(e){const r=this.notTrimmedIndexesCache[e];return xe(r)?r:null}getPhysicalFromRenderableIndex(e){const r=this.renderablePhysicalIndexesCache[e];return xe(r)?r:null}getVisualFromPhysicalIndex(e){const r=this.fromPhysicalToVisualIndexesCache.get(e);return xe(r)?r:null}getVisualFromRenderableIndex(e){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(e))}getRenderableFromVisualIndex(e){const r=this.fromVisualToRenderableIndexesCache.get(e);return xe(r)?r:null}getNearestNotHiddenIndex(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.getPhysicalFromVisualIndex(e)===null)return null;if(this.fromVisualToRenderableIndexesCache.has(e))return e;const s=Array.from(this.fromVisualToRenderableIndexesCache.keys());let o=-1;return r>0?o=s.findIndex(a=>a>e):o=s.reverse().findIndex(a=>a<e),o===-1?n?this.getNearestNotHiddenIndex(e,-r,!1):null:s[o]}initToLength(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=[...new Array(e).keys()],this.notHiddenIndexesCache=[...new Array(e).keys()],this.suspendOperations(),this.indexesChangeSource="init",this.indexesSequence.init(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.initEvery(e),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(e),this.variousMapsCollection.initEvery(e),this.resumeOperations(),this.runLocalHooks("init")}fitToLength(e){const r=this.getNumberOfIndexes();if(e<r){const n=[...Array(this.getNumberOfIndexes()-e).keys()].map(i=>i+e);this.removeIndexes(n)}else this.insertIndexes(r,e-r)}getIndexesSequence(){return this.indexesSequence.getValues()}setIndexesSequence(e){this.indexesChangeSource===void 0&&(this.indexesChangeSource="update"),this.indexesSequence.setValues(e),this.indexesChangeSource==="update"&&(this.indexesChangeSource=void 0)}getNotTrimmedIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notTrimmedIndexesCache:this.getIndexesSequence().filter(n=>this.isTrimmed(n)===!1)}getNotTrimmedIndexesLength(){return this.getNotTrimmedIndexes().length}getNotHiddenIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notHiddenIndexesCache:this.getIndexesSequence().filter(n=>this.isHidden(n)===!1)}getNotHiddenIndexesLength(){return this.getNotHiddenIndexes().length}getRenderableIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.renderablePhysicalIndexesCache:this.getNotTrimmedIndexes().filter(n=>this.isHidden(n)===!1)}getRenderableIndexesLength(){return this.getRenderableIndexes().length}getNumberOfIndexes(){return this.getIndexesSequence().length}moveIndexes(e,r){typeof e=="number"&&(e=[e]);const n=Tt(e,c=>this.getPhysicalFromVisualIndex(c)),i=this.getNotTrimmedIndexesLength(),s=e.length,o=$v(this.getIndexesSequence(),n),a=o.filter(c=>this.isTrimmed(c)===!1);let l=o.indexOf(a[a.length-1])+1;if(r+s<i){const c=a[r];l=o.indexOf(c)}this.indexesChangeSource="move",this.setIndexesSequence(Z2(o,l,n)),this.indexesChangeSource=void 0}isTrimmed(e){return this.trimmingMapsCollection.getMergedValueAtIndex(e)}isHidden(e){return this.hidingMapsCollection.getMergedValueAtIndex(e)}insertIndexes(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"start";const i=this.getNotTrimmedIndexes()[e],s=xe(i)?i:this.getNumberOfIndexes(),o=this.getIndexesSequence().includes(i)?this.getIndexesSequence().indexOf(i):this.getNumberOfIndexes(),a=Tt(new Array(r).fill(s),(c,d)=>c+d);this.suspendOperations(),this.indexesChangeSource="insert",this.indexesSequence.insert(o,a),this.indexesChangeSource=void 0;const l=n==="end"?a.map(c=>c+1):a;this.trimmingMapsCollection.insertToEvery(o,l),this.hidingMapsCollection.insertToEvery(o,l),this.variousMapsCollection.insertToEvery(o,l),this.resumeOperations()}removeIndexes(e){this.suspendOperations(),this.indexesChangeSource="remove",this.indexesSequence.remove(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.removeFromEvery(e),this.hidingMapsCollection.removeFromEvery(e),this.variousMapsCollection.removeFromEvery(e),this.resumeOperations()}updateCache(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const r=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(e===!0||this.isBatched===!1&&r===!0)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}cacheFromPhysicalToVisualIndexes(){const e=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(let r=0;r<e;r+=1){const n=this.getPhysicalFromVisualIndex(r);this.fromPhysicalToVisualIndexesCache.set(n,r)}}cacheFromVisualToRenderableIndexes(){const e=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(let r=0;r<e;r+=1){const n=this.getPhysicalFromRenderableIndex(r),i=this.getVisualFromPhysicalIndex(n);this.fromVisualToRenderableIndexesCache.set(i,r)}}}Dt(pI,Tn);function mRe(t,e){return dt(e,(r,n)=>{cr(t[n])&&(t[n]=r)}),t}function qY(t){const r=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(t);return r?`${r[1].toLowerCase()}-${r[2].toUpperCase()}`:t}function XY(t){xe(t)&&N2(kt`Language with code "${t}" was not found. You should register particular language\x20
    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.`)}function pRe(t,e){return Array.isArray(t)&&Number.isInteger(e)?t[e]:t}function QY(t,e){return Array.isArray(t)?t.map(r=>QY(r,e)):w2(t,e)}const{register:yRe,getValues:vRe}=No("phraseFormatters");function JY(t,e){yRe(t,e)}function wRe(){return vRe()}JY("pluralize",pRe);JY("substitute",QY);const nH="Common:",R1=`${nH}ok`,iH=`${nH}cancel`,ZY="ContextMenu:items",Qe=ZY,sH=`${Qe}.noItems`,oH=`${Qe}.insertRowAbove`,aH=`${Qe}.insertRowBelow`,lH=`${Qe}.insertColumnOnTheLeft`,cH=`${Qe}.insertColumnOnTheRight`,uH=`${Qe}.removeRow`,dH=`${Qe}.removeColumn`,hH=`${Qe}.undo`,fH=`${Qe}.redo`,E1=`${Qe}.readOnly`,gH=`${Qe}.clearColumn`,mH=`${Qe}.copy`,pH=`${Qe}.copyWithHeaders`,yH=`${Qe}.copyWithGroupHeaders`,vH=`${Qe}.copyHeadersOnly`,wH=`${Qe}.cut`,bH=`${Qe}.freezeColumn`,SH=`${Qe}.unfreezeColumn`,xH=`${Qe}.mergeCells`,CH=`${Qe}.unmergeCells`,_H=`${Qe}.addComment`,RH=`${Qe}.editComment`,EH=`${Qe}.removeComment`,TH=`${Qe}.readOnlyComment`,kH=`${Qe}.align`,PH=`${Qe}.align.left`,NH=`${Qe}.align.center`,MH=`${Qe}.align.right`,IH=`${Qe}.align.justify`,AH=`${Qe}.align.top`,OH=`${Qe}.align.middle`,HH=`${Qe}.align.bottom`,jH=`${Qe}.borders`,DH=`${Qe}.borders.top`,$H=`${Qe}.borders.right`,LH=`${Qe}.borders.bottom`,FH=`${Qe}.borders.left`,VH=`${Qe}.borders.remove`,WH=`${Qe}.nestedHeaders.insertChildRow`,BH=`${Qe}.nestedHeaders.detachFromParent`,zH=`${Qe}.hideColumn`,UH=`${Qe}.showColumn`,YH=`${Qe}.hideRow`,GH=`${Qe}.showRow`,Fi="Filters:",Ar=`${Fi}conditions`,ER=`${Ar}.none`,KH=`${Ar}.isEmpty`,qH=`${Ar}.isNotEmpty`,XH=`${Ar}.isEqualTo`,QH=`${Ar}.isNotEqualTo`,JH=`${Ar}.beginsWith`,ZH=`${Ar}.endsWith`,ej=`${Ar}.contains`,tj=`${Ar}.doesNotContain`,bRe=`${Ar}.byValue`,rj=`${Ar}.greaterThan`,nj=`${Ar}.greaterThanOrEqualTo`,ij=`${Ar}.lessThan`,sj=`${Ar}.lessThanOrEqualTo`,oj=`${Ar}.isBetween`,aj=`${Ar}.isNotBetween`,lj=`${Ar}.after`,cj=`${Ar}.before`,uj=`${Ar}.today`,dj=`${Ar}.tomorrow`,hj=`${Ar}.yesterday`,fj=`${Fi}labels.filterByCondition`,gj=`${Fi}labels.filterByValue`,mj=`${Fi}labels.conjunction`,TR=`${Fi}labels.disjunction`,T1=`${Fi}values.blankCells`,pj=`${Fi}buttons.selectAll`,yj=`${Fi}buttons.clear`,vj=`${Fi}buttons.ok`,wj=`${Fi}buttons.cancel`,bj=`${Fi}buttons.placeholder.search`,Sj=`${Fi}buttons.placeholder.value`,xj=`${Fi}buttons.placeholder.secondValue`,Il="Pagination:",Cj=`${Il}section.pagination`,_j=`${Il}.pageSize.auto`,k1=`${Il}section.pageSize`,Rj=`${Il}section.counter`,Ej=`${Il}section.navigation`,Tj=`${Il}firstPage`,kj=`${Il}prevPage`,Pj=`${Il}nextPage`,Nj=`${Il}lastPage`,Mj="CheckboxRenderer:",Ij=`${Mj}checked`,Aj=`${Mj}unchecked`,eG="Loading:",Oj=`${eG}title`,Op="EmptyDataState:",Hj=`${Op}title`,jj=`${Op}description`,Dj=`${Op}title.filters`,$j=`${Op}description.filters`,Lj=`${Op}buttons.filters.reset`,SRe=Object.freeze(Object.defineProperty({__proto__:null,CANCEL:iH,CHECKBOX_CHECKED:Ij,CHECKBOX_RENDERER_NAMESPACE:Mj,CHECKBOX_UNCHECKED:Aj,COMMON_NAMESPACE:nH,CONTEXTMENU_ITEMS_ADD_COMMENT:_H,CONTEXTMENU_ITEMS_ALIGNMENT:kH,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:HH,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:NH,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:IH,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:PH,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:OH,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:MH,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:AH,CONTEXTMENU_ITEMS_BORDERS:jH,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:LH,CONTEXTMENU_ITEMS_BORDERS_LEFT:FH,CONTEXTMENU_ITEMS_BORDERS_RIGHT:$H,CONTEXTMENU_ITEMS_BORDERS_TOP:DH,CONTEXTMENU_ITEMS_CLEAR_COLUMN:gH,CONTEXTMENU_ITEMS_COPY:mH,CONTEXTMENU_ITEMS_COPY_COLUMN_HEADERS_ONLY:vH,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_GROUP_HEADERS:yH,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_HEADERS:pH,CONTEXTMENU_ITEMS_CUT:wH,CONTEXTMENU_ITEMS_EDIT_COMMENT:RH,CONTEXTMENU_ITEMS_FREEZE_COLUMN:bH,CONTEXTMENU_ITEMS_HIDE_COLUMN:zH,CONTEXTMENU_ITEMS_HIDE_ROW:YH,CONTEXTMENU_ITEMS_INSERT_LEFT:lH,CONTEXTMENU_ITEMS_INSERT_RIGHT:cH,CONTEXTMENU_ITEMS_MERGE_CELLS:xH,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:BH,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:WH,CONTEXTMENU_ITEMS_NO_ITEMS:sH,CONTEXTMENU_ITEMS_READ_ONLY:E1,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:TH,CONTEXTMENU_ITEMS_REDO:fH,CONTEXTMENU_ITEMS_REMOVE_BORDERS:VH,CONTEXTMENU_ITEMS_REMOVE_COLUMN:dH,CONTEXTMENU_ITEMS_REMOVE_COMMENT:EH,CONTEXTMENU_ITEMS_REMOVE_ROW:uH,CONTEXTMENU_ITEMS_ROW_ABOVE:oH,CONTEXTMENU_ITEMS_ROW_BELOW:aH,CONTEXTMENU_ITEMS_SHOW_COLUMN:UH,CONTEXTMENU_ITEMS_SHOW_ROW:GH,CONTEXTMENU_ITEMS_UNDO:hH,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:SH,CONTEXTMENU_ITEMS_UNMERGE_CELLS:CH,CONTEXT_MENU_ITEMS_NAMESPACE:ZY,EMPTY_DATA_STATE_BUTTONS_FILTERS_RESET:Lj,EMPTY_DATA_STATE_DESCRIPTION:jj,EMPTY_DATA_STATE_DESCRIPTION_FILTERS:$j,EMPTY_DATA_STATE_NAMESPACE:Op,EMPTY_DATA_STATE_TITLE:Hj,EMPTY_DATA_STATE_TITLE_FILTERS:Dj,FILTERS_BUTTONS_CANCEL:wj,FILTERS_BUTTONS_CLEAR:yj,FILTERS_BUTTONS_OK:vj,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:bj,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:xj,FILTERS_BUTTONS_PLACEHOLDER_VALUE:Sj,FILTERS_BUTTONS_SELECT_ALL:pj,FILTERS_CONDITIONS_AFTER:lj,FILTERS_CONDITIONS_BEFORE:cj,FILTERS_CONDITIONS_BEGINS_WITH:JH,FILTERS_CONDITIONS_BETWEEN:oj,FILTERS_CONDITIONS_BY_VALUE:bRe,FILTERS_CONDITIONS_CONTAINS:ej,FILTERS_CONDITIONS_EMPTY:KH,FILTERS_CONDITIONS_ENDS_WITH:ZH,FILTERS_CONDITIONS_EQUAL:XH,FILTERS_CONDITIONS_GREATER_THAN:rj,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:nj,FILTERS_CONDITIONS_LESS_THAN:ij,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:sj,FILTERS_CONDITIONS_NAMESPACE:Ar,FILTERS_CONDITIONS_NONE:ER,FILTERS_CONDITIONS_NOT_BETWEEN:aj,FILTERS_CONDITIONS_NOT_CONTAIN:tj,FILTERS_CONDITIONS_NOT_EMPTY:qH,FILTERS_CONDITIONS_NOT_EQUAL:QH,FILTERS_CONDITIONS_TODAY:uj,FILTERS_CONDITIONS_TOMORROW:dj,FILTERS_CONDITIONS_YESTERDAY:hj,FILTERS_DIVS_FILTER_BY_CONDITION:fj,FILTERS_DIVS_FILTER_BY_VALUE:gj,FILTERS_LABELS_CONJUNCTION:mj,FILTERS_LABELS_DISJUNCTION:TR,FILTERS_NAMESPACE:Fi,FILTERS_VALUES_BLANK_CELLS:T1,LOADING_NAMESPACE:eG,LOADING_TITLE:Oj,OK:R1,PAGINATION_COUNTER_SECTION:Rj,PAGINATION_FIRST_PAGE:Tj,PAGINATION_LAST_PAGE:Nj,PAGINATION_NAMESPACE:Il,PAGINATION_NAV_SECTION:Ej,PAGINATION_NEXT_PAGE:Pj,PAGINATION_PAGE_SIZE_AUTO:_j,PAGINATION_PAGE_SIZE_SECTION:k1,PAGINATION_PREV_PAGE:kj,PAGINATION_SECTION:Cj},Symbol.toStringTag,{value:"Module"}));/**
 * @preserve
 * Authors: Handsoncode
 * Last updated: Nov 15, 2017
 *
 * Description: Definition file for English - United States language-country.
 */const tG={languageCode:"en-US",[R1]:"OK",[iH]:"Cancel",[sH]:"No available options",[oH]:"Insert row above",[aH]:"Insert row below",[lH]:"Insert column left",[cH]:"Insert column right",[uH]:["Remove row","Remove rows"],[dH]:["Remove column","Remove columns"],[hH]:"Undo",[fH]:"Redo",[E1]:"Read only",[gH]:"Clear column",[kH]:"Alignment",[PH]:"Left",[NH]:"Center",[MH]:"Right",[IH]:"Justify",[AH]:"Top",[OH]:"Middle",[HH]:"Bottom",[bH]:"Freeze column",[SH]:"Unfreeze column",[jH]:"Borders",[DH]:"Top",[$H]:"Right",[LH]:"Bottom",[FH]:"Left",[VH]:"Remove border(s)",[_H]:"Add comment",[RH]:"Edit comment",[EH]:"Delete comment",[TH]:"Read-only comment",[xH]:"Merge cells",[CH]:"Unmerge cells",[mH]:"Copy",[pH]:["Copy with header","Copy with headers"],[yH]:["Copy with group header","Copy with group headers"],[vH]:["Copy header only","Copy headers only"],[wH]:"Cut",[WH]:"Insert child row",[BH]:"Detach from parent",[zH]:["Hide column","Hide columns"],[UH]:["Show column","Show columns"],[YH]:["Hide row","Hide rows"],[GH]:["Show row","Show rows"],[ER]:"None",[KH]:"Is empty",[qH]:"Is not empty",[XH]:"Is equal to",[QH]:"Is not equal to",[JH]:"Begins with",[ZH]:"Ends with",[ej]:"Contains",[tj]:"Does not contain",[rj]:"Greater than",[nj]:"Greater than or equal to",[ij]:"Less than",[sj]:"Less than or equal to",[oj]:"Is between",[aj]:"Is not between",[lj]:"After",[cj]:"Before",[uj]:"Today",[dj]:"Tomorrow",[hj]:"Yesterday",[T1]:"Blank cells",[fj]:"Filter by condition",[gj]:"Filter by value",[mj]:"And",[TR]:"Or",[pj]:"Select all",[yj]:"Clear",[vj]:"OK",[wj]:"Cancel",[bj]:"Search",[Sj]:"Value",[xj]:"Second value",[Cj]:"Pagination",[k1]:"Page size",[_j]:"Auto",[Rj]:"[start] - [end] of [total]",[Ej]:"Page [currentPage] of [totalPages]",[Tj]:"Go to first page",[kj]:"Go to previous page",[Pj]:"Go to next page",[Nj]:"Go to last page",[Ij]:"Checked",[Aj]:"Unchecked",[Oj]:"Loading...",[Hj]:"No data available",[jj]:"Theres nothing to display yet.",[Dj]:"No results found",[$j]:"It looks like your current filters are hiding all results.",[Lj]:"Reset filters"},xRe=SRe,yI=tG.languageCode,{register:CRe,getItem:rG,hasItem:_Re,getValues:RRe}=No("languagesDictionaries");nG(tG);function nG(t,e){let r=t,n=e;return Le(t)&&(n=t,r=n.languageCode),ERe(r,n),CRe(r,Di(n)),Di(n)}function ERe(t,e){t!==yI&&mRe(e,rG(yI))}function iG(t){return Fj(t)?Di(rG(t)):null}function Fj(t){return _Re(t)}function TRe(){return RRe()}function sG(t,e,r){const n=iG(t);if(n===null)return null;const i=n[e];if(cr(i))return null;const s=kRe(i,r);return Array.isArray(s)?s[0]:s}function kRe(t,e){return wRe().reduce((r,n)=>n(r,e),t)}function PRe(t){let e=qY(t);return Fj(e)||(e=yI,XY(t)),e}function NRe(t,e,r){return(e=MRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MRe(t){var e=IRe(t,"string");return typeof e=="symbol"?e:e+""}function IRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zc extends OY{constructor(e,r){super(e,null),NRe(this,"visualCellRange",null),this.visualCellRange=r||null,this.commit()}add(e){return this.visualCellRange===null?this.visualCellRange=this.settings.createCellRange(e):this.visualCellRange.expand(e),this}clear(){return this.visualCellRange=null,super.clear()}trimToVisibleCellsRangeOnly(e){let{from:r,to:n}=e,i=this.getNearestNotHiddenCoords(r,1),s=this.getNearestNotHiddenCoords(n,-1);return i===null||s===null?null:((i.row>s.row||i.col>s.col)&&(i=r,s=n),this.settings.createCellRange(i,i,s))}getNearestNotHiddenCoords(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r;const i=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper,e.row,r);if(i===null)return null;const s=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper,e.col,n);return s===null?null:this.settings.createCellCoords(i,s)}getNearestNotHiddenIndex(e,r,n){return r<0?r:e.getNearestNotHiddenIndex(r,n)}commit(){if(this.visualCellRange===null)return this;const e=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return e===null?this.cellRange=null:this.cellRange=this.createRenderableCellRange(e.from,e.to),this}syncWith(e){const r=e.from.clone().normalize(),n=e.getVerticalDirection()==="N-S"?1:-1,i=e.getHorizontalDirection()==="W-E"?1:-1,s=this.settings.visualToRenderableCoords(this.visualCellRange.highlight);let o=null;if((s===null||s.col===null||s.row===null)&&(o=this.getNearestNotHiddenCoords(r,n,i)),o!==null&&e.overlaps(o)){const a=e.highlight.clone();if(a.row>=0&&(a.row=o.row),a.col>=0&&(a.col=o.col),this.cellRange===null){const l=this.settings.visualToRenderableCoords(a);this.cellRange=this.settings.createCellRange(l)}e.setHighlight(a)}return this.settings.selectionType==="focus"&&s!==null&&o===null&&e.setHighlight(this.visualCellRange.highlight),this}getCorners(){const{from:e,to:r}=this.cellRange;return[Math.min(e.row,r.row),Math.min(e.col,r.col),Math.max(e.row,r.row),Math.max(e.col,r.col)]}getVisualCorners(){const e=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),r=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[e.row,e.col,r.row,r.col]}createRenderableCellRange(e,r){const n=this.settings.visualToRenderableCoords(e),i=this.settings.visualToRenderableCoords(r);return n.row===null||n.col===null||i.row===null||i.col===null?null:this.settings.createCellRange(n,n,i)}}function vk(t){let{activeHeaderClassName:e,...r}=t;return new zc({className:e,...r,selectionType:HY})}function ARe(t){let{areaCornerVisible:e,...r}=t;return new zc({className:"area",createLayers:!0,border:{width:1,color:"#4b89ff",cornerVisible:e},...r,selectionType:W2})}function ORe(t){let{...e}=t;return new zc({className:"highlight",...e,selectionType:W2})}function HRe(t){let{columnClassName:e,...r}=t;return new zc({className:e,...r,selectionType:W1e})}function jRe(t){let{cellCornerVisible:e,...r}=t;return new zc({className:"current",headerAttributes:[x2()],border:{width:2,color:"#4b89ff",cornerVisible:e},...r,selectionType:_1})}function DRe(t){let{border:e,visualCellRange:r,...n}=t;return new zc({...e,...n,selectionType:B1e},r)}function $Re(t){let{...e}=t;return new zc({className:"fill",border:{width:1,color:"#ff0000"},...e,selectionType:F1e})}function t6(t){let{headerClassName:e,...r}=t;return new zc({className:e,...r,selectionType:V2})}function LRe(t){let{rowClassName:e,...r}=t;return new zc({className:e,...r,selectionType:V1e})}function FRe(t,e){VRe(t,e),e.add(t)}function VRe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zi(t,e,r){return(e=WRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WRe(t){var e=BRe(t,"string");return typeof e=="symbol"?e:e+""}function BRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vl(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var ja=new WeakSet;class zRe{constructor(e){FRe(this,ja),zi(this,"options",void 0),zi(this,"layerLevel",0),zi(this,"focus",void 0),zi(this,"fill",void 0),zi(this,"layeredAreas",new Map),zi(this,"areas",new Map),zi(this,"rowHeaders",new Map),zi(this,"columnHeaders",new Map),zi(this,"activeRowHeaders",new Map),zi(this,"activeColumnHeaders",new Map),zi(this,"activeCornerHeaders",new Map),zi(this,"rowHighlights",new Map),zi(this,"columnHighlights",new Map),zi(this,"customSelections",[]),this.options=e,this.focus=jRe(e),this.fill=$Re(e)}isEnabledFor(e,r){let n=e;e===_1&&(n="current");let i=this.options.disabledCellSelection(r.row,r.col);return typeof i=="string"&&(i=[i]),i===!1||Array.isArray(i)&&!i.includes(n)}useLayerLevel(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.layerLevel=e,this}getFocus(){return this.focus}getFill(){return this.fill}createLayeredArea(){return Vl(ja,this,Wl).call(this,this.layeredAreas,ARe)}getLayeredAreas(){return[...this.layeredAreas.values()]}createArea(){return Vl(ja,this,Wl).call(this,this.areas,ORe)}getAreas(){return[...this.areas.values()]}createRowHeader(){return Vl(ja,this,Wl).call(this,this.rowHeaders,t6)}getRowHeaders(){return[...this.rowHeaders.values()]}createColumnHeader(){return Vl(ja,this,Wl).call(this,this.columnHeaders,t6)}getColumnHeaders(){return[...this.columnHeaders.values()]}createActiveRowHeader(){return Vl(ja,this,Wl).call(this,this.activeRowHeaders,vk)}getActiveRowHeaders(){return[...this.activeRowHeaders.values()]}createActiveColumnHeader(){return Vl(ja,this,Wl).call(this,this.activeColumnHeaders,vk)}getActiveColumnHeaders(){return[...this.activeColumnHeaders.values()]}createActiveCornerHeader(){return Vl(ja,this,Wl).call(this,this.activeCornerHeaders,vk)}getActiveCornerHeaders(){return[...this.activeCornerHeaders.values()]}createRowHighlight(){return Vl(ja,this,Wl).call(this,this.rowHighlights,LRe)}getRowHighlights(){return[...this.rowHighlights.values()]}createColumnHighlight(){return Vl(ja,this,Wl).call(this,this.columnHighlights,HRe)}getColumnHighlights(){return[...this.columnHighlights.values()]}getCustomSelections(){return[...this.customSelections.values()]}addCustomSelection(e){this.customSelections.push(DRe({...this.options,...e}))}clear(){this.focus.clear(),this.fill.clear(),B(this.areas.values(),e=>void e.clear()),B(this.layeredAreas.values(),e=>void e.clear()),B(this.rowHeaders.values(),e=>void e.clear()),B(this.columnHeaders.values(),e=>void e.clear()),B(this.activeRowHeaders.values(),e=>void e.clear()),B(this.activeColumnHeaders.values(),e=>void e.clear()),B(this.activeCornerHeaders.values(),e=>void e.clear()),B(this.rowHighlights.values(),e=>void e.clear()),B(this.columnHighlights.values(),e=>void e.clear())}[Symbol.iterator](){return[this.focus,this.fill,...this.areas.values(),...this.layeredAreas.values(),...this.rowHeaders.values(),...this.columnHeaders.values(),...this.activeRowHeaders.values(),...this.activeColumnHeaders.values(),...this.activeCornerHeaders.values(),...this.rowHighlights.values(),...this.columnHighlights.values(),...this.customSelections][Symbol.iterator]()}}function Wl(t,e){const r=this.layerLevel;if(t.has(r))return t.get(r);const n=e({layerLevel:r,...this.options});return t.set(r,n),n}function r6(t,e,r){return(e=URe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function URe(t){var e=YRe(t,"string");return typeof e=="symbol"?e:e+""}function YRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Vj{constructor(e){r6(this,"ranges",[]),r6(this,"createCellRange",void 0),this.createCellRange=e}isEmpty(){return this.size()===0}set(e){return this.clear(),this.ranges.push(this.createCellRange(e)),this}add(e){return this.ranges.push(this.createCellRange(e)),this}push(e){return this.ranges.push(e),this}pop(){return this.ranges.pop()}current(){return this.peekByIndex(this.size()-1)}previous(){return this.peekByIndex(this.size()-2)}includes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>!0;return this.ranges.some((n,i)=>n.includes(e)&&r(n,i))}findAll(e){const r=[];return this.ranges.forEach((n,i)=>{n.isEqual(e)&&r.push({range:n,layer:i})}),r}remove(e){return this.ranges=this.ranges.filter(r=>!e.some(n=>n.isEqual(r))),this}removeLayers(e){return this.ranges=this.ranges.filter((r,n)=>!e.includes(n)),this}clear(){return this.ranges.length=0,this}size(){return this.ranges.length}clone(){const e=new Vj(this.createCellRange);return e.ranges=this.ranges.map(r=>r.clone()),e}map(e){return this.ranges=this.ranges.map((r,n)=>e(r,n)),this}peekByIndex(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r;return e>=0&&e<this.size()&&(r=this.ranges[e]),r}[Symbol.iterator](){return this.ranges[Symbol.iterator]()}}function GRe(t,e){oG(t,e),e.add(t)}function KRe(t,e,r){return(e=qRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qRe(t){var e=XRe(t,"string");return typeof e=="symbol"?e:e+""}function XRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wk(t,e,r){oG(t,e),e.set(t,r)}function oG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dn(t,e){return t.get(jt(t,e))}function um(t,e,r){return t.set(jt(t,e),r),r}function jt(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var ic=new WeakMap,Ch=new WeakMap,Fs=new WeakMap,Lt=new WeakSet;class Wj{constructor(e,r){GRe(this,Lt),wk(this,ic,void 0),wk(this,Ch,0),wk(this,Fs,{x:0,y:0}),KRe(this,"tableApi",void 0),um(ic,this,e),this.tableApi=r}setActiveLayerIndex(e){um(Ch,this,e)}getCurrentSelection(){return dn(ic,this).peekByIndex(dn(Ch,this))}transformStart(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;um(Fs,this,this.calculateOffset());const i=this.tableApi.createCellCoords(e,r);let s=this.getCurrentSelection().highlight;const o=this.tableApi.visualToRenderableCoords(s);let a=0,l=0;if(this.runLocalHooks("beforeTransformStart",i),o.row!==null&&o.col!==null){let{width:c,height:d}=jt(Lt,this,vI).call(this);const{row:h,col:f}=jt(Lt,this,o6).call(this,s),g=this.tableApi.fixedRowsBottom(),m=this.tableApi.minSpareRows(),p=this.tableApi.minSpareCols(),y=this.tableApi.autoWrapRow(),S=this.tableApi.autoWrapCol(),w=this.tableApi.createCellCoords(h+i.row,f+i.col);if(w.row>=d){const N=$s(n&&m>0&&g===0),P=w.col+1,k=P>=c,R=this.tableApi.createCellCoords(w.row-d,k?P-c:P);if(this.runLocalHooks("beforeColumnWrap",N,jt(Lt,this,ng).call(this,R),k),N.value)this.runLocalHooks("insertRowRequire",this.countRenderableRows());else if(S){if(this.shouldSwitchSelectionLayer()&&k&&dn(ic,this).size()>1){jt(Lt,this,n6).call(this);const I=jt(Lt,this,uS).call(this,"forward");I!==null&&R.assign(I)}w.assign(R)}}else if(w.row<0){const N=$s(S),P=w.col-1,k=P<0,R=this.tableApi.createCellCoords(d+w.row,k?c+P:P);if(this.runLocalHooks("beforeColumnWrap",N,jt(Lt,this,ng).call(this,R),k),S){if(this.shouldSwitchSelectionLayer()&&k&&dn(ic,this).size()>1){jt(Lt,this,i6).call(this);const I=jt(Lt,this,uS).call(this,"backward");I!==null&&R.assign(I)}w.assign(R)}}if({width:c,height:d}=jt(Lt,this,vI).call(this),w.col>=c){const N=$s(n&&p>0),P=w.row+1,k=P>=d,R=this.tableApi.createCellCoords(k?P-d:P,w.col-c);if(this.runLocalHooks("beforeRowWrap",N,jt(Lt,this,ng).call(this,R),k),N.value)this.runLocalHooks("insertColRequire",this.countRenderableColumns());else if(y){if(this.shouldSwitchSelectionLayer()&&k&&dn(ic,this).size()>1){jt(Lt,this,n6).call(this);const I=jt(Lt,this,uS).call(this,"forward");I!==null&&R.assign(I)}w.assign(R)}}else if(w.col<0){const N=$s(y),P=w.row-1,k=P<0,R=this.tableApi.createCellCoords(k?d+P:P,c+w.col);if(this.runLocalHooks("beforeRowWrap",N,jt(Lt,this,ng).call(this,R),k),y){if(this.shouldSwitchSelectionLayer()&&k&&dn(ic,this).size()>1){jt(Lt,this,i6).call(this);const I=jt(Lt,this,uS).call(this,"backward");I!==null&&R.assign(I)}w.assign(R)}}const{rowDir:b,colDir:C}=jt(Lt,this,s6).call(this,w);a=b,l=C,s=jt(Lt,this,ng).call(this,w)}return this.runLocalHooks("afterTransformStart",s,a,l),{selectionLayer:dn(Ch,this),visualCoords:s}}transformEnd(e,r){um(Fs,this,this.calculateOffset());const n=this.tableApi.createCellCoords(e,r),i=this.getCurrentSelection(),s=this.tableApi.visualToRenderableCoords(i.highlight),o=jt(Lt,this,aC).call(this,i.to.row,i.from.row),a=jt(Lt,this,lC).call(this,i.to.col,i.from.col),l=i.to.clone();let c=0,d=0;if(this.runLocalHooks("beforeTransformEnd",n),s.row!==null&&s.col!==null&&o!==null&&a!==null){const{row:h,col:f}=jt(Lt,this,o6).call(this,i.highlight),g=this.tableApi.createCellCoords(o+n.row,a+n.col),m=i.getTopStartCorner(),p=i.getTopEndCorner(),y=i.getBottomEndCorner();if(n.col<0&&a>=f&&g.col<f){const C=g.col-f;g.col=jt(Lt,this,lC).call(this,m.col,p.col)+C}else if(n.col>0&&a<=f&&g.col>f){const C=jt(Lt,this,lC).call(this,p.col,m.col),N=Math.max(g.col-C,1);g.col=C+N}if(n.row<0&&o>=h&&g.row<h){const C=g.row-h;g.row=jt(Lt,this,aC).call(this,m.row,y.row)+C}else if(n.row>0&&o<=h&&g.row>h){const C=jt(Lt,this,aC).call(this,y.row,m.row),N=Math.max(g.row-C,1);g.row=C+N}const{rowDir:S,colDir:w}=jt(Lt,this,s6).call(this,g);c=S,d=w;const b=jt(Lt,this,ng).call(this,g);n.row===0&&n.col!==0?l.col=b.col:n.row!==0&&n.col===0?l.row=b.row:(l.row=b.row,l.col=b.col)}return this.runLocalHooks("afterTransformEnd",l,c,d),{selectionLayer:dn(Ch,this),visualCoords:l}}calculateOffset(){throw new Error("`calculateOffset` is not implemented")}countRenderableRows(){throw new Error("`countRenderableRows` is not implemented")}countRenderableColumns(){throw new Error("`countRenderableColumns` is not implemented")}shouldSwitchSelectionLayer(){throw new Error("`shouldSwitchSelectionLayer` is not implemented")}}function n6(){const t=dn(Ch,this)+1;this.setActiveLayerIndex(t>=dn(ic,this).size()?0:t),um(Fs,this,this.calculateOffset())}function i6(){const t=dn(Ch,this)-1;this.setActiveLayerIndex(t<0?dn(ic,this).size()-1:t),um(Fs,this,this.calculateOffset())}function s6(t){const{width:e,height:r}=jt(Lt,this,vI).call(this);let n=0,i=0;return t.row<0?(n=-1,t.row=0):t.row>0&&t.row>=r&&(n=1,t.row=r-1),t.col<0?(i=-1,t.col=0):t.col>0&&t.col>=e&&(i=1,t.col=e-1),{rowDir:n,colDir:i}}function vI(){return{width:dn(Fs,this).x+this.countRenderableColumns(),height:dn(Fs,this).y+this.countRenderableRows()}}function uS(t){if(!["forward","backward"].includes(t))return null;const e=this.getCurrentSelection().getTopStartCorner(),r=this.getCurrentSelection().getBottomEndCorner(),[n,i,s,o]=t==="forward"?[e.row,r.row,e.col,r.col]:[r.row,e.row,r.col,e.col],a=jt(Lt,this,aC).call(this,n,i),l=jt(Lt,this,lC).call(this,s,o);return a===null||l===null?null:this.tableApi.createCellCoords(a,l)}function aC(t,e){const r=this.tableApi.findFirstNonHiddenRenderableRow(t,e);return r===null?null:dn(Fs,this).y+r}function lC(t,e){const r=this.tableApi.findFirstNonHiddenRenderableColumn(t,e);return r===null?null:dn(Fs,this).x+r}function o6(t){const{row:e,col:r}=this.tableApi.visualToRenderableCoords(t);if(e===null||r===null)throw new Error("Renderable coords are not visible.");return this.tableApi.createCellCoords(dn(Fs,this).y+e,dn(Fs,this).x+r)}function ng(t){const e=t.clone();return e.col=t.col-dn(Fs,this).x,e.row=t.row-dn(Fs,this).y,this.tableApi.renderableToVisualCoords(e)}Dt(Wj,Tn);class QRe extends Wj{calculateOffset(){return{x:this.tableApi.navigableHeaders()?this.tableApi.countRowHeaders():0,y:this.tableApi.navigableHeaders()?this.tableApi.countColHeaders():0}}countRenderableRows(){return this.tableApi.countRenderableRows()}countRenderableColumns(){return this.tableApi.countRenderableColumns()}shouldSwitchSelectionLayer(){return!1}}class JRe extends Wj{calculateOffset(){const e=this.getCurrentSelection(),{row:r,col:n}=e.getOuterTopStartCorner(),i=this.tableApi.countRenderableColumnsInRange(0,n-1),s=this.tableApi.countRenderableRowsInRange(0,r-1),o=e.highlight.isHeader(),a=o?Math.abs(n):0,l=o?Math.abs(r):0;return{x:n<0?a:-i,y:r<0?l:-s}}countRenderableRows(){const e=this.getCurrentSelection();return this.tableApi.countRenderableRowsInRange(0,e.getOuterBottomEndCorner().row)}countRenderableColumns(){const e=this.getCurrentSelection();return this.tableApi.countRenderableColumnsInRange(0,e.getOuterBottomEndCorner().col)}transformEnd(){throw new Error("`transformEnd` is not valid for focus selection use `transformStart` instead")}shouldSwitchSelectionLayer(){return!0}}const kR=0,PR=1,aG=2,Bj=3,ZRe=[Bj,aG],eEe=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],bk=Symbol("root"),a6=Symbol("child");function lp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bk;if(e!==bk&&e!==a6)throw new Error("The second argument is used internally only and cannot be overwritten.");const r=Array.isArray(t),n=e===bk;let i=kR;if(r){const s=t[0];t.length===0?i=PR:n&&s instanceof Ip?i=Bj:n&&Array.isArray(s)?i=lp(s,a6):t.length>=2&&t.length<=4&&!t.some((a,l)=>!eEe[l].includes(typeof a))&&(i=aG)}return i}function Lv(t){let{createCellCoords:e,createCellRange:r,keepDirection:n=!1,propToCol:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ZRe.includes(t))throw new Error("Unsupported selection ranges schema type was provided.");return function(s){const o=t===Bj;let a=o?s.from.row:s[0],l=o?s.from.col:s[1],c=o?s.to.row:s[2],d=o?s.to.col:s[3];if(typeof i=="function"&&(typeof l=="string"&&(l=i(l)),typeof d=="string"&&(d=i(d))),cr(c)&&(c=a),cr(d)&&(d=l),!n){const m=a,p=l,y=c,S=d;a=Math.min(m,y),l=Math.min(p,S),c=Math.max(m,y),d=Math.max(p,S)}const h=o?s.highlight.clone():e(a,l),f=e(a,l),g=e(c,d);return r(h,f,g)}}function tEe(t){const e=lp(t.getSelected());if(e===kR||e===PR)return[];const r=Lv(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),n=new Set;B(t.getSelected(),o=>{const{from:a,to:l}=r(o),c=Math.max(a.col,0),d=l.col-c+1;B(Array.from(new Array(d),(h,f)=>c+f),h=>{n.has(h)||n.add(h)})});const i=Array.from(n).sort((o,a)=>o-a);return gs(i,(o,a,l,c)=>(l!==0&&a===c[l-1]+1?o[o.length-1][1]+=1:o.push([a,1]),o),[])}function rEe(t){const e=lp(t.getSelected());if(e===kR||e===PR)return[];const r=Lv(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),n=new Set;B(t.getSelected(),o=>{const{from:a,to:l}=r(o),c=Math.max(a.row,0),d=l.row-c+1;B(Array.from(new Array(d),(h,f)=>c+f),h=>{n.has(h)||n.add(h)})});const i=Array.from(n).sort((o,a)=>o-a);return gs(i,(o,a,l,c)=>(l!==0&&a===c[l-1]+1?o[o.length-1][1]+=1:o.push([a,1]),o),[])}function Od(t,e,r){nEe(t,e),e.set(t,r)}function nEe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Hd(t,e,r){return(e=iEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iEe(t){var e=sEe(t,"string");return typeof e=="symbol"?e:e+""}function sEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mr(t,e){return t.get(lG(t,e))}function ys(t,e,r){return t.set(lG(t,e),r),r}function lG(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var vs=new WeakMap,ig=new WeakMap,dS=new WeakMap,Zc=new WeakMap,hS=new WeakMap,P0=new WeakMap,fS=new WeakMap;class cG{constructor(e,r){var n=this;Hd(this,"settings",void 0),Hd(this,"tableProps",void 0),Hd(this,"inProgress",!1),Hd(this,"selectedRange",new Vj((i,s,o)=>this.tableProps.createCellRange(i,s,o))),Hd(this,"highlight",void 0),Od(this,vs,void 0),Od(this,ig,void 0),Hd(this,"selectedByRowHeader",new Set),Hd(this,"selectedByColumnHeader",new Set),Od(this,dS,!1),Od(this,Zc,!1),Od(this,hS,"unknown"),Od(this,P0,-1),Od(this,fS,0),this.settings=e,this.tableProps=r,this.highlight=new zRe({headerClassName:e.currentHeaderClassName,activeHeaderClassName:e.activeHeaderClassName,rowClassName:e.currentRowClassName,columnClassName:e.currentColClassName,cellAttributes:[x2()],rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,disabledCellSelection:(i,s)=>this.tableProps.isDisabledCellSelection(i,s),cellCornerVisible:function(){return n.isCellCornerVisible(...arguments)},areaCornerVisible:function(){return n.isAreaCornerVisible(...arguments)},visualToRenderableCoords:i=>this.tableProps.visualToRenderableCoords(i),renderableToVisualCoords:i=>this.tableProps.renderableToVisualCoords(i),createCellCoords:(i,s)=>this.tableProps.createCellCoords(i,s),createCellRange:(i,s,o)=>this.tableProps.createCellRange(i,s,o)}),ys(vs,this,new QRe(this.selectedRange,{...this.tableProps,navigableHeaders:()=>e.navigableHeaders,fixedRowsBottom:()=>e.fixedRowsBottom,minSpareRows:()=>e.minSpareRows,minSpareCols:()=>e.minSpareCols,autoWrapRow:()=>e.autoWrapRow,autoWrapCol:()=>e.autoWrapCol})),ys(ig,this,new JRe(this.selectedRange,{...this.tableProps,navigableHeaders:()=>e.navigableHeaders,fixedRowsBottom:()=>0,minSpareRows:()=>0,minSpareCols:()=>0,autoWrapRow:()=>!0,autoWrapCol:()=>!0})),mr(vs,this).addLocalHook("beforeTransformStart",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.runLocalHooks("beforeModifyTransformStart",...s)}),mr(vs,this).addLocalHook("afterTransformStart",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.runLocalHooks("afterModifyTransformStart",...s)}),mr(vs,this).addLocalHook("beforeTransformEnd",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.runLocalHooks("beforeModifyTransformEnd",...s)}),mr(vs,this).addLocalHook("afterTransformEnd",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.runLocalHooks("afterModifyTransformEnd",...s)}),mr(vs,this).addLocalHook("insertRowRequire",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.runLocalHooks("insertRowRequire",...s)}),mr(vs,this).addLocalHook("insertColRequire",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.runLocalHooks("insertColRequire",...s)}),mr(vs,this).addLocalHook("beforeRowWrap",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.runLocalHooks("beforeRowWrap",...s)}),mr(vs,this).addLocalHook("beforeColumnWrap",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.runLocalHooks("beforeColumnWrap",...s)}),mr(ig,this).addLocalHook("beforeTransformStart",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.runLocalHooks("beforeModifyTransformFocus",...s)}),mr(ig,this).addLocalHook("afterTransformStart",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.runLocalHooks("afterModifyTransformFocus",...s)})}getSelectedRange(){return this.selectedRange}getActiveSelectedRange(){return this.selectedRange.peekByIndex(mr(fS,this))}getActiveSelectionLayerIndex(){return mr(fS,this)}setActiveSelectionLayerIndex(e){ys(fS,this,e)}markSource(e){ys(hS,this,e)}markEndSource(){ys(hS,this,"unknown")}getSelectionSource(){return mr(hS,this)}setExpectedLayers(e){ys(P0,this,e)}begin(){this.inProgress=!0}finish(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1,ys(P0,this,-1)}isInProgress(){return this.inProgress}setRangeStart(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e;const s=this.settings.selectionMode==="multiple",o=cr(r)?this.tableProps.getShortcutManager().isCtrlPressed():r,a=e.clone();ys(Zc,this,!1),ys(dS,this,!1),this.runLocalHooks(`beforeSetRangeStart${n?"Only":""}`,a),(!s||s&&!o&&cr(r))&&(this.selectedRange.clear(),B(this.highlight.getAreas(),l=>void l.clear()),B(this.highlight.getLayeredAreas(),l=>void l.clear()),B(this.highlight.getRowHeaders(),l=>void l.clear()),B(this.highlight.getColumnHeaders(),l=>void l.clear()),B(this.highlight.getActiveRowHeaders(),l=>void l.clear()),B(this.highlight.getActiveColumnHeaders(),l=>void l.clear()),B(this.highlight.getActiveCornerHeaders(),l=>void l.clear()),B(this.highlight.getRowHighlights(),l=>void l.clear()),B(this.highlight.getColumnHighlights(),l=>void l.clear())),this.selectedRange.add(a).current().setHighlight(i.clone()),this.getLayerLevel()===0&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),n||this.setRangeEnd(e)}setRangeStartOnly(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e;this.setRangeStart(e,r,!0,n)}setRangeEnd(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLayerLevel();if(this.selectedRange.isEmpty())return;this.setActiveSelectionLayerIndex(r);const n=e.clone(),i=this.tableProps.countRows(),s=this.tableProps.countCols(),o=this.getActiveSelectedRange().clone().setTo(e).isSingleHeader();if((i>0||s>0)&&(i===0&&n.col<0&&!o||s===0&&n.row<0&&!o))return;this.runLocalHooks("beforeSetRangeEnd",n),this.begin();const a=this.getActiveSelectedRange();if(this.settings.navigableHeaders||a.highlight.normalize(),this.settings.selectionMode==="single")a.setFrom(a.highlight),a.setTo(a.highlight);else{const c=a.getHorizontalDirection(),d=a.getVerticalDirection(),h=this.isMultiple();a.setTo(n),h&&(c!==a.getHorizontalDirection()||a.getWidth()===1&&!a.includes(a.highlight))&&a.from.assign({col:a.highlight.col}),h&&(d!==a.getVerticalDirection()||a.getHeight()===1&&!a.includes(a.highlight))&&a.from.assign({row:a.highlight.row})}i>0&&s>0&&(!this.settings.navigableHeaders||this.settings.navigableHeaders&&!a.isSingleHeader())&&a.to.normalize(),this.runLocalHooks("beforeHighlightSet"),this.setRangeFocus(this.getActiveSelectedRange().highlight,r),this.applyAndCommit(this.getActiveSelectedRange(),r);const l=mr(P0,this)===-1||this.selectedRange.size()===mr(P0,this);this.runLocalHooks("afterSetRangeEnd",e,l)}applyAndCommit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getActiveSelectedRange(),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLayerLevel();const n=this.tableProps.countRows(),i=this.tableProps.countCols();this.highlight.useLayerLevel(r);const s=this.highlight.createArea(),o=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),l=this.highlight.createColumnHeader(),c=this.highlight.createActiveRowHeader(),d=this.highlight.createActiveColumnHeader(),h=this.highlight.createActiveCornerHeader(),f=this.highlight.createRowHighlight(),g=this.highlight.createColumnHighlight();if(s.clear(),o.clear(),a.clear(),l.clear(),c.clear(),d.clear(),h.clear(),f.clear(),g.clear(),this.highlight.isEnabledFor(W2,e.highlight)&&(this.isMultiple()||r>=1)&&(s.add(e.from).add(e.to).commit(),o.add(e.from).add(e.to).commit(),r===1)){const m=this.selectedRange.peekByIndex(r-1);this.highlight.useLayerLevel(r-1),this.highlight.createArea().add(m.from).commit().syncWith(m),this.highlight.createLayeredArea().add(m.from).commit().syncWith(m),this.highlight.useLayerLevel(r)}if(this.highlight.isEnabledFor(V2,e.highlight)){if(!e.isSingleHeader()){const y=this.tableProps.createCellCoords(Math.max(e.from.row,0),-1),S=this.tableProps.createCellCoords(e.to.row,-1),w=this.tableProps.createCellCoords(-1,Math.max(e.from.col,0)),b=this.tableProps.createCellCoords(-1,e.to.col);this.settings.selectionMode==="single"?(a.add(y).commit(),l.add(w).commit(),f.add(y).commit(),g.add(w).commit()):(a.add(y).add(S).commit(),l.add(w).add(b).commit(),f.add(y).add(S).commit(),g.add(w).add(b).commit())}const m=!mr(Zc,this)&&this.isEntireRowSelected()&&(i>0&&i===e.getWidth()||i===0&&this.isSelectedByRowHeader()),p=!mr(Zc,this)&&this.isEntireColumnSelected()&&(n>0&&n===e.getHeight()||n===0&&this.isSelectedByColumnHeader());m&&c.add(this.tableProps.createCellCoords(Math.max(e.from.row,0),Math.min(-this.tableProps.countRowHeaders(),-1))).add(this.tableProps.createCellCoords(Math.max(e.to.row,0),-1)).commit(),p&&d.add(this.tableProps.createCellCoords(Math.min(-this.tableProps.countColHeaders(),-1),Math.max(e.from.col,0))).add(this.tableProps.createCellCoords(-1,Math.max(e.to.col,0))).commit(),m&&p&&h.add(this.tableProps.createCellCoords(-this.tableProps.countColHeaders(),-this.tableProps.countRowHeaders())).add(this.tableProps.createCellCoords(-1,-1)).commit()}}setRangeFocus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLayerLevel();if(this.selectedRange.isEmpty())return;this.setActiveSelectionLayerIndex(r),mr(vs,this).setActiveLayerIndex(r),mr(ig,this).setActiveLayerIndex(r);const n=this.getActiveSelectedRange();this.inProgress||this.runLocalHooks("beforeSetFocus",e);const i=this.highlight.getFocus();i.clear(),n.setHighlight(e),this.inProgress||this.runLocalHooks("beforeHighlightSet"),this.highlight.isEnabledFor(_1,n.highlight)&&i.add(n.highlight).commit().syncWith(n),this.inProgress||(ys(dS,this,!0),this.runLocalHooks("afterSetFocus",n.highlight))}transformStart(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{visualCoords:i}=mr(vs,this).transformStart(e,r,n);this.setRangeStart(i)}transformEnd(e,r){const{visualCoords:n,selectionLayer:i}=mr(vs,this).transformEnd(e,r);this.setRangeEnd(n,i)}transformFocus(e,r){const{selectionLayer:n,visualCoords:i}=mr(ig,this).transformStart(e,r);this.setRangeFocus(i.normalize(),n)}shiftRows(e,r){if(!this.isSelected())return;const n=this.getActiveSelectedRange();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByColumnHeader()||n.getOuterTopStartCorner().row>=e){const{from:i,to:s,highlight:o}=n,a=this.tableProps.countRows(),l=this.isSelectedByRowHeader(),c=this.isSelectedByColumnHeader(),d=c?-1:0,h=c?0:r;this.getSelectedRange().pop();const f=this.tableProps.createCellCoords(ft(i.row+h,d,a-1),i.col),g=this.tableProps.createCellCoords(ft(s.row+r,d,a-1),s.col);this.markSource("shift"),o.row>=e?this.setRangeStartOnly(f,!0,this.tableProps.createCellCoords(ft(o.row+r,0,a-1),o.col)):this.setRangeStartOnly(f,!0),l&&this.selectedByRowHeader.add(this.getLayerLevel()),c&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(g),this.markEndSource()}}shiftColumns(e,r){if(!this.isSelected())return;const n=this.getActiveSelectedRange();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByRowHeader()||n.getOuterTopStartCorner().col>=e){const{from:i,to:s,highlight:o}=n,a=this.tableProps.countCols(),l=this.isSelectedByRowHeader(),c=this.isSelectedByColumnHeader(),d=l?-1:0,h=l?0:r;this.getSelectedRange().pop();const f=this.tableProps.createCellCoords(i.row,ft(i.col+h,d,a-1)),g=this.tableProps.createCellCoords(s.row,ft(s.col+r,d,a-1));this.markSource("shift"),o.col>=e?this.setRangeStartOnly(f,!0,this.tableProps.createCellCoords(o.row,ft(o.col+r,0,a-1))):this.setRangeStartOnly(f,!0),l&&this.selectedByRowHeader.add(this.getLayerLevel()),c&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(g),this.markEndSource()}}getLayerLevel(){return this.selectedRange.size()-1}isSelected(){return!this.selectedRange.isEmpty()}isMultiple(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getActiveSelectedRange();if(!this.isSelected())return!1;const r=$s(!e.isSingle());return this.runLocalHooks("afterIsMultipleSelection",r),r.value}isFocusSelectionChanged(){return this.isSelected()&&mr(dS,this)}isSelectedByRowHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(e)&&(e===-1?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(e))}isEntireRowSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();const r=i=>{const{col:s}=i.getOuterTopStartCorner(),o=this.tableProps.countRowHeaders(),a=this.tableProps.countCols();return(o>0&&s<0||o===0)&&i.getWidth()===a};if(e===-1)return Array.from(this.selectedRange).some(i=>r(i));const n=this.selectedRange.peekByIndex(e);return n?r(n):!1}isSelectedByColumnHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&(e===-1?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(e))}isEntireColumnSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();const r=i=>{const{row:s}=i.getOuterTopStartCorner(),o=this.tableProps.countColHeaders(),a=this.tableProps.countRows();return(o>0&&s<0||o===0)&&i.getHeight()===a};if(e===-1)return Array.from(this.selectedRange).some(i=>r(i));const n=this.selectedRange.peekByIndex(e);return n?r(n):!1}isSelectedByAnyHeader(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}isSelectedByCorner(){return this.selectedByColumnHeader.has(this.getLayerLevel())&&this.selectedByRowHeader.has(this.getLayerLevel())}inInSelection(e){return this.selectedRange.includes(e)}isCellCornerVisible(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}isCellVisible(e){const r=this.tableProps.visualToRenderableCoords(e);return r.row!==null&&r.col!==null}isAreaCornerVisible(e){return Number.isInteger(e)&&e!==this.getLayerLevel()?!1:this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}clear(){this.selectedRange.clear(),this.highlight.clear()}deselect(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}selectAll(){var e;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{focusPosition:!1,disableHeadersHighlight:!1};const s=this.tableProps.countRows(),o=this.tableProps.countCols(),a=this.tableProps.countRowHeaders(),l=this.tableProps.countColHeaders(),c=n?-l:0,d=r?-a:0;if(c===0&&d===0&&(s===0||o===0))return;let h=(e=this.getActiveSelectedRange())===null||e===void 0?void 0:e.highlight;const{focusPosition:f,disableHeadersHighlight:g}=i;f&&Number.isInteger(f==null?void 0:f.row)&&Number.isInteger(f==null?void 0:f.col)&&(h=this.tableProps.createCellCoords(ft(f.row,c,s-1),ft(f.col,d,o-1)));const m=this.tableProps.createCellCoords(c,d),p=this.tableProps.createCellCoords(s-1,o-1);this.clear(),this.runLocalHooks("beforeSelectAll",m,p,h),this.setRangeStartOnly(m,void 0,h),ys(Zc,this,g),d<0&&this.selectedByRowHeader.add(this.getLayerLevel()),c<0&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(p),this.runLocalHooks("afterSelectAll",m,p,h),this.finish()}selectCells(e){var r=this;const n=lp(e);if(n===PR)return!1;if(n===kR)throw new Error(kt`Unsupported format of the selection ranges was passed. To select cells pass\x20
        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\x20
        columnEnd/columnPropEnd]]) or as an array of CellRange objects.`);const i=Lv(n,{createCellCoords:function(){return r.tableProps.createCellCoords(...arguments)},createCellRange:function(){return r.tableProps.createCellRange(...arguments)},propToCol:l=>this.tableProps.propToCol(l),keepDirection:!0}),s=this.settings.navigableHeaders,o={countRows:this.tableProps.countRows(),countCols:this.tableProps.countCols(),countRowHeaders:s?this.tableProps.countRowHeaders():0,countColHeaders:s?this.tableProps.countColHeaders():0},a=!e.some(l=>{const c=i(l),d=c.isValid(o);return!(d&&!c.containsHeaders()||d&&c.containsHeaders()&&c.isSingleHeader())});return a&&(this.clear(),this.setExpectedLayers(e.length),B(e,l=>{const{from:c,to:d}=i(l);this.setRangeStartOnly(c.clone(),!1),this.setRangeEnd(d.clone())}),this.finish()),a}selectColumns(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const i=typeof e=="string"?this.tableProps.propToCol(e):e,s=typeof r=="string"?this.tableProps.propToCol(r):r,o=this.tableProps.countRows(),a=this.tableProps.countCols(),l=this.tableProps.countColHeaders(),c=l===0?0:-l,d=this.tableProps.createCellCoords(c,i),h=this.tableProps.createCellCoords(o-1,s),f=this.tableProps.createCellRange(d,d,h).isValid({countRows:o,countCols:a,countRowHeaders:0,countColHeaders:l});if(f){let g=0,m=0;Number.isInteger(n==null?void 0:n.row)&&Number.isInteger(n==null?void 0:n.col)?(g=ft(n.row,c,o-1),m=ft(n.col,Math.min(i,s),Math.max(i,s))):(g=ft(n,c,o-1),m=i);const p=this.tableProps.createCellCoords(g,m),y=l===0?0:ft(p.row,c,-1),S=o-1,w=this.tableProps.createCellCoords(y,i),b=this.tableProps.createCellCoords(S,s);this.runLocalHooks("beforeSelectColumns",w,b,p),this.setRangeStartOnly(w,void 0,p),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(b),this.runLocalHooks("afterSelectColumns",w,b,p),this.finish()}return f}selectRows(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const i=this.tableProps.countRows(),s=this.tableProps.countCols(),o=this.tableProps.countRowHeaders(),a=o===0?0:-o,l=this.tableProps.createCellCoords(e,a),c=this.tableProps.createCellCoords(r,s-1),d=this.tableProps.createCellRange(l,l,c).isValid({countRows:i,countCols:s,countRowHeaders:o,countColHeaders:0});if(d){let h=0,f=0;Number.isInteger(n==null?void 0:n.row)&&Number.isInteger(n==null?void 0:n.col)?(h=ft(n.row,Math.min(e,r),Math.max(e,r)),f=ft(n.col,a,s-1)):(h=e,f=ft(n,a,s-1));const g=this.tableProps.createCellCoords(h,f),m=o===0?0:ft(g.col,a,-1),p=s-1,y=this.tableProps.createCellCoords(e,m),S=this.tableProps.createCellCoords(r,p);this.runLocalHooks("beforeSelectRows",y,S,g),this.setRangeStartOnly(y,void 0,g),this.selectedByRowHeader.add(this.getLayerLevel()),this.setRangeEnd(S),this.runLocalHooks("afterSelectRows",y,S,g),this.finish()}return d}importSelection(e){let{ranges:r,activeRange:n,activeSelectionLayer:i,selectedByRowHeader:s,selectedByColumnHeader:o,disableHeadersHighlight:a}=e;r.length!==0&&(this.selectedRange.clear(),this.highlight.clear(),this.inProgress=!1,ys(Zc,this,a),this.selectedByRowHeader=new Set(s),this.selectedByColumnHeader=new Set(o),this.setActiveSelectionLayerIndex(0),r.forEach((l,c)=>{this.selectedRange.push(l),this.applyAndCommit(l,c)}),this.setRangeFocus(n.highlight,i),ys(Zc,this,!1),this.inProgress=!1)}exportSelection(){return{ranges:Array.from(this.selectedRange).map(e=>e.clone()),activeRange:this.getActiveSelectedRange(),activeSelectionLayer:this.getActiveSelectionLayerIndex(),selectedByRowHeader:Array.from(this.selectedByRowHeader),selectedByColumnHeader:Array.from(this.selectedByColumnHeader),disableHeadersHighlight:mr(Zc,this)}}refresh(){if(!this.isSelected())return;const e=this.tableProps.countRows(),r=this.tableProps.countCols();if(e===0||r===0){this.deselect();return}const n=this.selectedRange.ranges.map(o=>o.clone());this.markSource("refresh");const i=new Set(this.selectedByRowHeader),s=new Set(this.selectedByColumnHeader);this.clear(),this.setExpectedLayers(n.length),n.forEach(o=>{const{from:a,to:l,highlight:c}=o,d=e-1,h=r-1;c.assign({row:ft(c.row,this.settings.navigableHeaders?-1/0:0,d),col:ft(c.col,this.settings.navigableHeaders?-1/0:0,h)}),a.assign({row:ft(a.row,-1/0,d),col:ft(a.col,-1/0,h)}),l.assign({row:ft(l.row,-1/0,d),col:ft(l.col,-1/0,h)}),this.setRangeStartOnly(a,!0,c),this.setRangeEnd(l)}),this.selectedByRowHeader=i,this.selectedByColumnHeader=s,this.finish(),this.markEndSource()}commit(){if(this.highlight.getCustomSelections().forEach(i=>{i.commit()}),!this.isSelected())return;const r=this.getLayerLevel(),n=this.getActiveSelectedRange();this.highlight.isEnabledFor(_1,n.highlight)&&this.highlight.getFocus().commit().syncWith(n);for(let i=0;i<this.selectedRange.size();i+=1){this.highlight.useLayerLevel(i);const s=this.highlight.createArea(),o=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),l=this.highlight.createColumnHeader(),c=this.highlight.createActiveRowHeader(),d=this.highlight.createActiveColumnHeader(),h=this.highlight.createActiveCornerHeader(),f=this.highlight.createRowHighlight(),g=this.highlight.createColumnHighlight();s.commit(),o.commit(),a.commit(),l.commit(),c.commit(),d.commit(),h.commit(),f.commit(),g.commit()}this.highlight.useLayerLevel(r)}}Dt(cG,Tn);const l6=/^(\r\n|\n\r|\r|\n)/,oEe=/^[^\t\r\n]+/,c6=/^\t/;function aEe(t){const e=[[""]];if(t.length===0)return e;let r=0,n=0,i;for(;t.length>0&&i!==t.length;)if(i=t.length,t.match(c6))t=t.replace(c6,""),r+=1,e[n][r]="";else if(t.match(l6))t=t.replace(l6,""),r=0,n+=1,e[n]=[""];else{let s="";if(t.startsWith('"')){let o=0,a=!0;for(;a;){const l=t.slice(0,1);l==='"'&&(o+=1),s+=l,t=t.slice(1),(t.length===0||t.match(/^[\t\r\n]/)&&o%2===0)&&(a=!1)}s=s.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,l=>new Array(Math.floor(l.length/2)).fill('"').join(""))}else{const o=t.match(oEe);s=o?o[0]:"",t=t.slice(s.length)}e[n][r]=s}return e}function P1(t){let e,r,n,i,s="",o;for(e=0,r=t.length;e<r;e+=1){for(i=t[e].length,n=0;n<i;n+=1)n>0&&(s+="	"),o=t[e][n],typeof o=="string"?o.indexOf(`
`)>-1?s+=`"${o.replace(/"/g,'""')}"`:s+=o:o==null?s+="":s+=o;e!==r-1&&(s+=`
`)}return s}function Sk(t,e){const{instance:r,visualRow:n,visualCol:i,valueSetter:s}=e;return It(s)?s.call(r,t,n,i,e):t}function lEe(t,e){const{instance:r,visualRow:n,visualCol:i,valueGetter:s}=e;return It(s)?s.call(r,t,n,i,e):t}function jd(t,e,r){return(e=cEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cEe(t){var e=uEe(t,"string");return typeof e=="symbol"?e:e+""}function uEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dm{static get DESTINATION_RENDERER(){return 1}static get DESTINATION_CLIPBOARD_GENERATOR(){return 2}constructor(e,r,n){jd(this,"hot",void 0),jd(this,"metaManager",void 0),jd(this,"tableMeta",void 0),jd(this,"dataSource",void 0),jd(this,"duckSchema",void 0),jd(this,"colToPropCache",void 0),jd(this,"propToColCache",void 0),this.hot=e,this.metaManager=n,this.tableMeta=n.getTableMeta(),this.dataSource=r,this.refreshDuckSchema(),this.createMap()}createMap(){const e=this.getSchema();if(typeof e>"u")throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");const r=this.tableMeta.columns;let n;if(this.colToPropCache=[],this.propToColCache=new Map,r){let i=0,s=0,o=!1;if(typeof r=="function"){const a=_2(e);i=a>0?a:this.countFirstRowKeys(),o=!0}else{const a=this.tableMeta.maxCols;i=Math.min(a,r.length)}for(n=0;n<i;n++){const a=o?r(n):r[n];if(Le(a)){if(typeof a.data<"u"){const l=o?s:n;this.colToPropCache[l]=a.data,this.propToColCache.set(a.data,l)}s+=1}}}else this.recursiveDuckColumns(e)}countFirstRowKeys(){return BY(this.dataSource)}recursiveDuckColumns(e,r,n){let i=r,s=n,o;return typeof i>"u"&&(i=0,s=""),typeof e=="object"&&!Array.isArray(e)&&dt(e,(a,l)=>{a===null?(o=s+l,this.colToPropCache.push(o),this.propToColCache.set(o,i),i+=1):i=this.recursiveDuckColumns(a,i,`${l}.`)}),i}colToProp(e){if(Number.isInteger(e)===!1)return e;const r=this.hot.toPhysicalColumn(e);return r===null?e:this.colToPropCache&&xe(this.colToPropCache[r])?this.colToPropCache[r]:r}propToCol(e){const r=this.propToColCache.get(e);if(xe(r))return this.hot.toVisualColumn(r);const n=this.hot.toVisualColumn(e);return n===null?e:n}getSchema(){const e=this.tableMeta.dataSchema;return e?typeof e=="function"?e():e:this.duckSchema}createDuckSchema(){return this.dataSource&&this.dataSource[0]?jv(this.dataSource[0]):{}}refreshDuckSchema(){this.duckSchema=this.createDuckSchema()}createRow(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:n,mode:i="above"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.hot.countSourceRows();let o=s,a=0,l=e;if((typeof l!="number"||l>=s)&&(l=s),l<this.hot.countRows()&&(o=this.hot.toPhysicalRow(l)),this.hot.runHooks("beforeCreateRow",l,r,n)===!1||o===null)return{delta:0};const d=this.tableMeta.maxRows,h=this.getSchema().length,f=[];for(;a<r&&s+a<d;){let m=null;this.hot.dataType==="array"?this.tableMeta.dataSchema?m=Di(this.getSchema()):(m=[],Ie(h-1,()=>m.push(null))):this.hot.dataType==="function"?m=this.tableMeta.dataSchema(l+a):(m={},mR(m,this.getSchema())),f.push(m),a+=1}this.hot.rowIndexMapper.insertIndexes(l,a),i==="below"&&(o=Math.min(o+1,s)),this.spliceData(o,0,f);const g=this.hot.toVisualRow(o);return this.hot.countSourceRows()===f.length&&this.hot.columnIndexMapper.initToLength(this.hot.getInitialColumnCount()),a>0&&(e==null?this.metaManager.createRow(null,a):n!=="auto"&&this.metaManager.createRow(o,r)),this.hot.runHooks("afterCreateRow",g,a,n),{delta:a,startPhysicalIndex:o}}createCol(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:n,mode:i="start"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!this.hot.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");const s=this.dataSource,o=this.tableMeta.maxCols,a=this.hot.countSourceCols(),l=this.hot.countCols(),c=this.hot.countSourceRows(),d=typeof e=="number"&&e<=a?e:l;if(this.hot.runHooks("beforeCreateCol",d,r,n)===!1)return{delta:0};const h=d<l?this.hot.toPhysicalColumn(d):a,f=i==="end"?Math.min(h+1,a):h;let g=0;for(let m=f;g<r&&l+g<o;m++){if(typeof d!="number"||d>=l+g)if(c>0)for(let p=0;p<c;p+=1)typeof s[p]>"u"&&(s[p]=[]),s[p].push(null);else s.push([null]);else for(let p=0;p<c;p++)s[p].splice(m,0,null);g+=1}return g>0&&(e==null?this.metaManager.createColumn(null,g):n!=="auto"&&this.metaManager.createColumn(f,r)),this.hot.columnIndexMapper.insertIndexes(d,g,i),this.hot.runHooks("afterCreateCol",this.hot.toVisualColumn(f),g,n),this.refreshDuckSchema(),{delta:g,startPhysicalIndex:f}}removeRow(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=Number.isInteger(e)?e:-r;const s=this.visualRowsToPhysical(i,r),o=this.hot.countSourceRows();if(i=(o+i)%o,this.hot.runHooks("beforeRemoveRow",i,s.length,s,n)===!1)return!1;const l=s.length;if(this.filterData(i,l,s),i<this.hot.countRows()){this.hot.rowIndexMapper.removeIndexes(s);const d=xe(this.tableMeta.columns)||xe(this.tableMeta.dataSchema)||this.tableMeta.colHeaders;this.hot.rowIndexMapper.getNotTrimmedIndexesLength()===0&&!d&&this.hot.columnIndexMapper.setIndexesSequence([])}return s.slice(0).sort((d,h)=>h-d).forEach(d=>{this.metaManager.removeRow(d,1)}),this.hot.runHooks("afterRemoveRow",i,l,s,n),!0}removeCol(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if(this.hot.dataType==="object"||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");let i=typeof e!="number"?-r:e;i=(this.hot.countCols()+i)%this.hot.countCols();const s=this.visualColumnsToPhysical(i,r),o=s.slice(0).sort((h,f)=>f-h);if(this.hot.runHooks("beforeRemoveCol",i,r,s,n)===!1)return!1;let l=!0;const c=o.length,d=this.dataSource;for(let h=0;h<c;h++)l&&s[0]!==s[h]-h&&(l=!1);if(l)for(let h=0,f=this.hot.countSourceRows();h<f;h++)d[h].splice(s[0],r),h===0&&this.metaManager.removeColumn(s[0],r);else for(let h=0,f=this.hot.countSourceRows();h<f;h++)for(let g=0;g<c;g++)d[h].splice(o[g],1),h===0&&this.metaManager.removeColumn(o[g],1);return i<this.hot.countCols()&&(this.hot.columnIndexMapper.removeIndexes(s),!this.tableMeta.rowHeaders&&this.hot.columnIndexMapper.getNotTrimmedIndexesLength()===0&&this.hot.rowIndexMapper.setIndexesSequence([])),this.hot.runHooks("afterRemoveCol",i,r,s,n),this.refreshDuckSchema(),!0}spliceCol(e,r,n){const i=this.hot.getDataAtCol(e),s=i.slice(r,r+n),o=i.slice(r+n);for(var a=arguments.length,l=new Array(a>3?a-3:0),c=3;c<a;c++)l[c-3]=arguments[c];FF(l,o);let d=0;for(;d<n;)l.push(null),d+=1;return Hve(l),this.hot.populateFromArray(r,e,l,null,null,"spliceCol"),s}spliceRow(e,r,n){const i=this.hot.getSourceDataAtRow(e),s=i.slice(r,r+n),o=i.slice(r+n);for(var a=arguments.length,l=new Array(a>3?a-3:0),c=3;c<a;c++)l[c-3]=arguments[c];FF(l,o);let d=0;for(;d<n;)l.push(null),d+=1;return this.hot.populateFromArray(e,r,[l],null,null,"spliceRow"),s}spliceData(e,r,n){if(this.hot.runHooks("beforeDataSplice",e,r,n)!==!1){const s=[...this.dataSource.slice(0,e),...n,...this.dataSource.slice(e)];this.dataSource.length=0,s.forEach(o=>this.dataSource.push(o))}}filterData(e,r,n){let i=this.hot.runHooks("filterData",e,r,n);Array.isArray(i)===!1&&(i=this.dataSource.filter((s,o)=>n.indexOf(o)===-1)),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,i)}get(e,r){const n=this.hot.toPhysicalRow(e);let i=this.dataSource[n];const s=this.hot.runHooks("modifyRowData",n);i=isNaN(s)?s:i;const{dataDotNotation:o}=this.hot.getSettings();let a=null;if(i&&i.hasOwnProperty&&Ur(i,r))a=i[r];else if(o&&typeof r=="string"&&r.indexOf(".")>-1){let d=i;if(!d)return null;const h=r.split(".");for(let f=0,g=h.length;f<g;f++)if(d=d[h[f]],typeof d>"u")return null;a=d}else typeof r=="function"&&(a=r(this.dataSource.slice(n,n+1)[0]));const l=this.propToCol(r),c=this.hot.toPhysicalColumn(l);if(Mm(n)&&Mm(c)&&(a=lEe(a,this.metaManager.getCellMeta(n,c,{visualRow:e,visualColumn:l,skipMetaExtension:!0}))),this.hot.hasHook("modifyData")){const d=$s(a);this.hot.runHooks("modifyData",e,l,d,"get"),d.isTouched()&&(a=d.value)}return a}getCopyable(e,r){return this.hot.getCellMeta(e,this.propToCol(r)).copyable?this.get(e,r):""}set(e,r,n){const i=this.hot.toPhysicalRow(e);let s=n,o=this.dataSource[i];const a=this.hot.runHooks("modifyRowData",i);if(o=isNaN(a)?a:o,this.hot.hasHook("modifyData")){const c=$s(s);this.hot.runHooks("modifyData",e,this.propToCol(r),c,"set"),c.isTouched()&&(s=c.value)}const{dataDotNotation:l}=this.hot.getSettings();if(o&&o.hasOwnProperty&&Ur(o,r))o[r]=s;else if(l&&typeof r=="string"&&r.indexOf(".")>-1){let c=o,d=0,h;const f=r.split(".");for(d=0,h=f.length-1;d<h;d++){if(f[d]==="__proto__"||f[d]==="constructor"||f[d]==="prototype")return;typeof c[f[d]]>"u"&&(c[f[d]]={}),c=c[f[d]]}c[f[d]]=s}else if(typeof r=="function")r(this.dataSource.slice(i,i+1)[0],s);else{if(r==="__proto__"||r==="constructor"||r==="prototype")return;o[r]=s}}visualRowsToPhysical(e,r){const n=this.hot.countSourceRows(),i=[];let s=(n+e)%n,o=r,a;for(;s<n&&o;)a=this.hot.toPhysicalRow(s),i.push(a),o-=1,s+=1;return i}visualColumnsToPhysical(e,r){const n=this.hot.countCols(),i=[];let s=(n+e)%n,o=r;for(;s<n&&o;){const a=this.hot.toPhysicalColumn(s);i.push(a),o-=1,s+=1}return i}clear(){for(let e=0;e<this.hot.countSourceRows();e++)for(let r=0;r<this.hot.countCols();r++)this.set(e,this.colToProp(r),"")}getLength(){const e=this.tableMeta.maxRows;let r;e<0||e===0?r=0:r=e||1/0;const n=this.hot.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(n,r)}getAll(){const e={row:0,col:0},r={row:Math.max(this.hot.countRows()-1,0),col:Math.max(this.hot.countCols()-1,0)};return e.row-r.row===0&&!this.hot.countSourceRows()?[]:this.getRange(e,r,dm.DESTINATION_RENDERER)}countCachedColumns(){return this.colToPropCache.length}getRange(e,r,n){const i=[];let s,o,a;const l=this.tableMeta.maxRows,c=this.tableMeta.maxCols;if(l===0||c===0)return[];const d=n===dm.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,h=Math.min(Math.max(l-1,0),Math.max(e.row,r.row)),f=Math.min(Math.max(c-1,0),Math.max(e.col,r.col));for(s=Math.min(e.row,r.row);s<=h;s++){a=[];const g=s>=0?this.hot.toPhysicalRow(s):s;for(o=Math.min(e.col,r.col);o<=f&&g!==null;o++)a.push(d.call(this,s,this.colToProp(o)));g!==null&&i.push(a)}return i}getText(e,r){return P1(this.getRange(e,r,dm.DESTINATION_RENDERER))}getCopyableText(e,r){return P1(this.getRange(e,r,dm.DESTINATION_CLIPBOARD_GENERATOR))}destroy(){this.hot=null,this.metaManager=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}const{register:dEe,getItem:hEe,hasItem:uG,getNames:MUe,getValues:IUe}=No("cellTypes");function fEe(t){if(!uG(t))throw Error(`You declared cell type "${t}" as a string that is not mapped to a known object.
                 Cell type must be an object or a string mapped to an object registered by
                 "Handsontable.cellTypes.registerCellType" method`);return hEe(t)}function zo(t,e){typeof t!="string"&&(e=t,t=e.CELL_TYPE);const{editor:r,renderer:n,validator:i}=e;r&&Es(t,r),n&&ro(t,n),i&&Vg(t,i),dEe(t,e)}function gEe(t,e){var r;return t==="CELL_TYPE"?!1:((r=e._automaticallyAssignedMetaProps)===null||r===void 0?void 0:r.has(t))||!Ur(e,t)}function NR(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;const n=typeof e.type=="string"?fEe(e.type):e.type;if(t._automaticallyAssignedMetaProps&&dt(e,(s,o)=>void t._automaticallyAssignedMetaProps.delete(o)),!Le(n))return;r===t&&!t._automaticallyAssignedMetaProps&&(t._automaticallyAssignedMetaProps=new Set);const i={};dt(n,(s,o)=>{if(gEe(o,r)){var a;i[o]=s,(a=t._automaticallyAssignedMetaProps)===null||a===void 0||a.add(o)}}),gn(t,i)}function mEe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];function r(){}Bwe(r,t);for(let n=0;n<e.length;n++)r.prototype[e[n]]=void 0;return r}function cC(t,e){if(!t())throw new Error(`Assertion failed: ${e}`)}function by(t){return t==null}const dG=()=>({_automaticallyAssignedMetaProps:void 0,activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,ariaTags:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataDotNotation:!0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",timeFormat:"h:mm:ss a",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dialog:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,emptyDataState:!1,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,headerClassName:void 0,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,initialState:void 0,invalidCellClassName:"htInvalid",imeFastEdit:!1,isEmptyCol(t){let e,r,n;for(e=0,r=this.countRows();e<r;e++)if(n=this.getDataAtCell(e,t),Yr(n)===!1)return!1;return!0},isEmptyRow(t){let e,r,n,i;for(e=0,r=this.countCols();e<r;e++)if(n=this.getDataAtCell(t,e),Yr(n)===!1)return typeof n=="object"?(i=this.getCellMeta(t,e),pR(this.getSchema()[i.prop],n)):!1;return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",loading:!1,manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRowHeights:void 0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,navigableHeaders:!1,tabNavigation:!0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,pagination:void 0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:!1,renderAllColumns:!1,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,textEllipsis:!1,themeName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:!0,validator:void 0,valueGetter:void 0,valueSetter:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",viewportColumnRenderingThreshold:0,viewportRowRenderingThreshold:0,visibleRows:10,width:void 0,wordWrap:!0});function u6(t,e,r){return(e=pEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pEe(t){var e=yEe(t,"string");return typeof e=="symbol"?e:e+""}function yEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vEe(){return class{}}class wEe{constructor(e){u6(this,"metaCtor",vEe()),u6(this,"meta",void 0),this.meta=this.metaCtor.prototype,gn(this.meta,dG()),this.meta.instance=e}getMetaConstructor(){return this.metaCtor}getMeta(){return this.meta}updateMeta(e){var r;gn(this.meta,e),NR(this.meta,{...e,type:(r=e.type)!==null&&r!==void 0?r:this.meta.type},e)}}function bEe(t,e,r){return(e=SEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SEe(t){var e=xEe(t,"string");return typeof e=="symbol"?e:e+""}function xEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class CEe{constructor(e){bEe(this,"meta",void 0);const r=e.getMetaConstructor();this.meta=new r}getMeta(){return this.meta}updateMeta(e){gn(this.meta,e),NR(this.meta,e,e)}}function gS(t,e,r){return(e=_Ee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Ee(t){var e=REe(t,"string");return typeof e=="symbol"?e:e+""}function REe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class N1{constructor(e){gS(this,"valueFactory",void 0),gS(this,"data",[]),gS(this,"index",[]),gS(this,"holes",new Set),this.valueFactory=e}obtain(e){cC(()=>Mm(e),"Expecting an unsigned number.");const r=this._getStorageIndexByKey(e);let n;if(r>=0)n=this.data[r],n===void 0&&(n=this.valueFactory(e),this.data[r]=n);else if(n=this.valueFactory(e),this.holes.size>0){const i=this.holes.values().next().value;this.holes.delete(i),this.data[i]=n,this.index[e]=i}else this.data.push(n),this.index[e]=this.data.length-1;return n}insert(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;cC(()=>Mm(e)||by(e),"Expecting an unsigned number or null/undefined argument.");const n=[],i=this.data.length;for(let o=0;o<r;o++)n.push(i+o),this.data.push(void 0);const s=by(e)?this.index.length:e;this.index=[...this.index.slice(0,s),...n,...this.index.slice(s)]}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;cC(()=>Mm(e)||by(e),"Expecting an unsigned number or null/undefined argument.");const n=this.index.splice(by(e)?this.index.length-r:e,r);for(let i=0;i<n.length;i++){const s=n[i];typeof s=="number"&&this.holes.add(s)}}size(){return this.data.length-this.holes.size}values(){return this.data.filter((e,r)=>e!==void 0&&!this.holes.has(r))[Symbol.iterator]()}entries(){const e=[];for(let n=0;n<this.data.length;n++){const i=this._getKeyByStorageIndex(n);i!==-1&&this.data[n]!==void 0&&e.push([i,this.data[n]])}let r=0;return{next:()=>{if(r<e.length){const n=e[r];return r+=1,{value:n,done:!1}}return{done:!0}}}}clear(){this.data=[],this.index=[],this.holes.clear()}_getStorageIndexByKey(e){return this.index.length>e?this.index[e]:-1}_getKeyByStorageIndex(e){return this.index.indexOf(e)}[Symbol.iterator](){return this.entries()}}function d6(t,e,r){return(e=EEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EEe(t){var e=TEe(t,"string");return typeof e=="symbol"?e:e+""}function TEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const kEe=["data","width"];class PEe{constructor(e){d6(this,"globalMeta",void 0),d6(this,"metas",new N1(()=>this._createMeta())),this.globalMeta=e,this.metas=new N1(()=>this._createMeta())}updateMeta(e,r){const n=this.getMeta(e);gn(n,r),NR(n,r)}createColumn(e,r){this.metas.insert(e,r)}removeColumn(e,r){this.metas.remove(e,r)}getMeta(e){return this.metas.obtain(e)}getMetaConstructor(e){return this.metas.obtain(e).constructor}clearCache(){this.metas.clear()}_createMeta(){return mEe(this.globalMeta.getMetaConstructor(),kEe).prototype}}function h6(t,e,r){return(e=NEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NEe(t){var e=MEe(t,"string");return typeof e=="symbol"?e:e+""}function MEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class IEe{constructor(e){h6(this,"columnMeta",void 0),h6(this,"metas",new N1(()=>this._createRow())),this.columnMeta=e}updateMeta(e,r,n){const i=this.getMeta(e,r);gn(i,n),NR(i,n)}createRow(e,r){this.metas.insert(e,r)}createColumn(e,r){for(let n=0;n<this.metas.size();n++)this.metas.obtain(n).insert(e,r)}removeRow(e,r){this.metas.remove(e,r)}removeColumn(e,r){for(let n=0;n<this.metas.size();n++)this.metas.obtain(n).remove(e,r)}getMeta(e,r,n){const i=this.metas.obtain(e).obtain(r);return n===void 0?i:i[n]}setMeta(e,r,n,i){var s;const o=this.metas.obtain(e).obtain(r);(s=o._automaticallyAssignedMetaProps)===null||s===void 0||s.delete(n),o[n]=i}removeMeta(e,r,n){const i=this.metas.obtain(e).obtain(r);delete i[n]}getMetas(){const e=[],r=Array.from(this.metas.values());for(let n=0;n<r.length;n++)xe(r[n])&&e.push(...r[n].values());return e}getMetasAtRow(e){cC(()=>Mm(e),"Expecting an unsigned number.");const r=new Map(this.metas);return r.has(e)?Array.from(r.get(e).values()):[]}clearCache(){this.metas.clear()}_createRow(){return new N1(e=>this._createMeta(e))}_createMeta(e){const r=this.columnMeta.getMetaConstructor(e);return new r}}class hG{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];this.hot=e,this.globalMeta=new wEe(e),this.tableMeta=new CEe(this.globalMeta),this.columnMeta=new PEe(this.globalMeta),this.cellMeta=new IEe(this.columnMeta),n.forEach(i=>new i(this)),this.globalMeta.updateMeta(r)}getGlobalMeta(){return this.globalMeta.getMeta()}updateGlobalMeta(e){this.globalMeta.updateMeta(e)}getTableMeta(){return this.tableMeta.getMeta()}updateTableMeta(e){this.tableMeta.updateMeta(e)}getColumnMeta(e){return this.columnMeta.getMeta(e)}updateColumnMeta(e,r){this.columnMeta.updateMeta(e,r)}getCellMeta(e,r,n){const i=this.cellMeta.getMeta(e,r);return i.visualRow=n.visualRow,i.visualCol=n.visualColumn,i.row=e,i.col=r,n.skipMetaExtension||this.runLocalHooks("afterGetCellMeta",i),i}getCellMetaKeyValue(e,r,n){if(typeof n!="string")throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(e,r,n)}setCellMeta(e,r,n,i){this.cellMeta.setMeta(e,r,n,i)}updateCellMeta(e,r,n){this.cellMeta.updateMeta(e,r,n)}removeCellMeta(e,r,n){this.cellMeta.removeMeta(e,r,n)}getCellsMeta(){return this.cellMeta.getMetas()}getCellsMetaAtRow(e){return this.cellMeta.getMetasAtRow(e)}createRow(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createRow(e,r)}removeRow(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeRow(e,r)}createColumn(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createColumn(e,r),this.columnMeta.createColumn(e,r)}removeColumn(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeColumn(e,r),this.columnMeta.removeColumn(e,r)}clearCellsCache(){this.cellMeta.clearCache()}clearCache(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}}Dt(hG,Tn);function f6(t,e,r,n){const{hotInstance:i,dataMap:s,dataSource:o,internalSource:a,source:l,metaManager:c,firstRun:d}=n,h=wa(a),f=i.getSettings();Array.isArray(f.dataSchema)?i.dataType="array":It(f.dataSchema)?i.dataType="function":i.dataType="object",s&&s.destroy(),t=i.runHooks(`before${h}`,t,d,l);const g=new dm(i,t,c);if(e(g),typeof t=="object"&&t!==null)t.push&&t.splice||(t=[t]);else if(t===null){const m=g.getSchema();t=[];let p,y=0,S=0;for(y=0,S=f.startRows;y<S;y++)if((i.dataType==="object"||i.dataType==="function")&&f.dataSchema)p=Di(m),t.push(p);else if(i.dataType==="array")p=Di(m[0]),t.push(p);else{p=[];for(let w=0,b=f.startCols;w<b;w++)p.push(null);t.push(p)}}else throw new Error(`${a} only accepts array of objects or array of arrays (${typeof t} given)`);Array.isArray(t[0])&&(i.dataType="array"),f.data=t,g.dataSource=t,o.data=t,o.dataType=i.dataType,o.colToProp=g.colToProp.bind(g),o.propToCol=g.propToCol.bind(g),o.countCachedColumns=g.countCachedColumns.bind(g),r(g),i.runHooks(`after${h}`,t,d,l),d||(i.runHooks("afterChange",null,a),i.view.adjustElementsSize(),i.render()),i.getSettings().ariaTags&&Ee(i.rootElement,[L9(-1),gR(i.countCols()+(i.view?i.countRowHeaders():0))])}function g6(t,e,r){return(e=AEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AEe(t){var e=OEe(t,"string");return typeof e=="symbol"?e:e+""}function OEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class HEe{constructor(e){var r=this;g6(this,"metaManager",void 0),g6(this,"metaSyncMemo",new Map),this.metaManager=e,e.addLocalHook("afterGetCellMeta",function(){return r.extendCellMeta(...arguments)}),_e.getSingleton().add("beforeRender",n=>{n&&this.metaSyncMemo.clear()},this.metaManager.hot)}extendCellMeta(e){var r;const{row:n,col:i}=e;if((r=this.metaSyncMemo.get(n))!==null&&r!==void 0&&r.has(i))return;const{visualRow:s,visualCol:o}=e,a=this.metaManager.hot,l=a.colToProp(o);e.prop=l,a.runHooks("beforeGetCellMeta",s,o,e);const c=Ur(e,"type")?e.type:null;let d=It(e.cells)?e.cells(n,i,l):null;if(c)if(d){var h;d.type=(h=d.type)!==null&&h!==void 0?h:c}else d={type:c};d&&this.metaManager.updateCellMeta(n,i,d),a.runHooks("afterGetCellMeta",s,o,e),this.metaSyncMemo.has(n)||this.metaSyncMemo.set(n,new Set),this.metaSyncMemo.get(n).add(i)}}function jEe(t,e,r){DEe(t,e),e.set(t,r)}function DEe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xk(t,e,r){return(e=$Ee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Ee(t){var e=LEe(t,"string");return typeof e=="symbol"?e:e+""}function LEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FEe(t,e){return t.get(VEe(t,e))}function VEe(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var m6=new WeakMap;class WEe{constructor(e){xk(this,"metaManager",void 0),xk(this,"usageTracker",new Set),xk(this,"propDescriptors",new Map([["ariaTags",{initOnly:!0}],["fixedColumnsLeft",{target:"fixedColumnsStart",onChange(r){if(this.metaManager.hot.isRtl()&&r==="fixedColumnsLeft")throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{initOnly:!0}],["renderAllColumns",{initOnly:!0}],["renderAllRows",{initOnly:!0}]])),jEe(this,m6,(r,n,i)=>{if(!i)throw new Error(`The \`${r}\` option can not be updated after the Handsontable is initialized.`)}),this.metaManager=e,this.extendMetaProps()}extendMetaProps(){this.propDescriptors.forEach((e,r)=>{const{initOnly:n,target:i,onChange:s}=e,o=typeof i=="string",a=o?i:r,l=`_${a}`;this.metaManager.globalMeta.meta[l]=this.metaManager.globalMeta.meta[a],s?(this.installPropWatcher(r,l,s),o&&this.installPropWatcher(i,l,s)):n&&(this.installPropWatcher(r,l,FEe(m6,this)),this.metaManager.globalMeta.meta._initOnlySettings||(this.metaManager.globalMeta.meta._initOnlySettings=[]),this.metaManager.globalMeta.meta._initOnlySettings.push(r))})}installPropWatcher(e,r,n){const i=this;Object.defineProperty(this.metaManager.globalMeta.meta,e,{get(){return this[r]},set(s){const o=!i.usageTracker.has(e);i.usageTracker.add(e),n.call(i,e,s,o),this[r]=s},enumerable:!0,configurable:!0})}}function BEe(t,e){fG(t,e),e.add(t)}function p6(t,e,r){fG(t,e),e.set(t,r)}function fG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y6(t,e){return t.get(cp(t,e))}function v6(t,e,r){return t.set(cp(t,e),r),r}function cp(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var wI=new WeakMap,bI=new WeakMap,Uy=new WeakSet;class zEe{constructor(e){let{rowIndexMapper:r,columnIndexMapper:n}=e;BEe(this,Uy),p6(this,wI,void 0),p6(this,bI,void 0),v6(wI,this,r),v6(bI,this,n)}toRenderable(e){const r=e.getVerticalDirection()==="N-S"?1:-1,n=e.getHorizontalDirection()==="W-E"?1:-1,i=cp(Uy,this,w6).call(this,e.from,r,n);if(i===null)return null;const s=cp(Uy,this,w6).call(this,e.to,-r,-n);if(s===null)return null;const o=e.clone();return o.from=i,o.to=s,o.includes(e.highlight)||(o.highlight=i),o}}function w6(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e;const n=cp(Uy,this,b6).call(this,y6(wI,this),t.row,e);if(n===null)return null;const i=cp(Uy,this,b6).call(this,y6(bI,this),t.col,r);return i===null?null:t.clone().assign({row:n,col:i})}function b6(t,e,r){return e<0?e:t.getNearestNotHiddenIndex(e,r)}function Hp(t){Rc(t)&&t.scrollIntoView({block:"nearest",inline:"nearest"})}function MR(t){const{selection:e,view:r}=t,n=t.getSelectedRangeActive(),i=e.getSelectionSource(),s=r.getFirstFullyVisibleColumn(),o=r.getLastFullyVisibleColumn(),a=n.getTopStartCorner().col,l=n.getBottomEndCorner().col,c=a<=s,d=l>=o,h=r.getFirstFullyVisibleRow(),f=r.getLastFullyVisibleRow(),g=n.getTopStartCorner().row,m=n.getBottomEndCorner().row,p=g<=h,y=m>=f;return{getComputedColumnTarget(S){return i==="mouse"||i==="keyboard"?S.col:c&&d?n.highlight.col:c?a:d?l:S.col},getComputedRowTarget(S){return i==="mouse"||i==="keyboard"?S.row:p&&y?n.highlight.row:p?g:y?m:S.row}}}function UEe(t){return e=>{const r=MR(t).getComputedColumnTarget(e);t.scrollViewportTo({col:r},()=>{const n=!!t.getSettings().colHeaders;Hp(t.getCell(n?-1:0,r,!0))})}}function YEe(){return()=>{}}function GEe(t){return e=>{t.scrollViewportTo(e.toObject(),()=>{const r=t.getSelectedRangeActive();if(!r)return;const{row:n,col:i}=r.highlight;Hp(t.getCell(n,i,!0))})}}function KEe(t){return e=>{const r=MR(t),n={row:r.getComputedRowTarget(e),col:r.getComputedColumnTarget(e)};t.scrollViewportTo(n,()=>{const{row:i,col:s}=n;Hp(t.getCell(i,s,!0))})}}function qEe(t){return e=>{const r=MR(t),n={row:r.getComputedRowTarget(e),col:r.getComputedColumnTarget(e)};t.scrollViewportTo(n,()=>{const{row:i,col:s}=n;Hp(t.getCell(i,s,!0))})}}function XEe(t){return e=>{const r=MR(t).getComputedRowTarget(e);t.scrollViewportTo({row:r},()=>{const n=!!t.getSettings().rowHeaders;Hp(t.getCell(r,n?-1:0,!0))})}}function QEe(t){return e=>{const r=t.selection.getSelectionSource(),{row:n,col:i}=e,s=()=>{Hp(t.getCell(n,i,!0))};if(n<0&&i>=0)t.scrollViewportTo({col:i},s);else if(i<0&&n>=0)t.scrollViewportTo({row:n},s);else{if(r==="mouse"&&(i===t.view.getLastPartiallyVisibleColumn()||n===t.view.getLastPartiallyVisibleRow()))return;t.scrollViewportTo({row:n,col:i},s)}}}function JEe(t){const{selection:e}=t;let r=!1,n=!1;return{resume(){n=!1},suspend(){n=!0},skipNextScrollCycle(){r=!0},scrollTo(i){var s;if(r||n){r=!1;return}let o;e.isFocusSelectionChanged()?o=GEe(t):e.isSelectedByCorner()?o=YEe():e.isSelectedByRowHeader()?o=XEe(t):e.isSelectedByColumnHeader()?o=UEe(t):e.getSelectedRange().size()===1&&e.isMultiple()?o=KEe(t):e.getSelectedRange().size()===1&&!e.isMultiple()?o=QEe(t):e.getSelectedRange().size()>1&&(o=qEe(t)),(s=o)===null||s===void 0||s(i)}}}const ZEe=Object.freeze({INLINE:"inline",MODAL:"modal"}),Oh=Object.freeze({UNKNOWN:"unknown",CLICK:"click",TAB_FROM_ABOVE:"tab_from_above",TAB_FROM_BELOW:"tab_from_below"}),eTe="grid";function tTe(t,e){const r=S6(t,Oh.TAB_FROM_ABOVE),n=S6(t,Oh.TAB_FROM_BELOW);return e.prepend(r),e.append(n),{activate(){r.tabIndex=0,n.tabIndex=0},deactivate(){r.tabIndex=-1,n.tabIndex=-1},destroy(){r.remove(),n.remove()}}}function S6(t,e){const n=t.rootDocument.createElement("input");return n.type="text",n.name="htFocusCatcher",n.classList.add("htFocusCatcher"),n.dataset.htFocusSource=e,t.getSettings().ariaTags&&Ee(n,[Hs("Focus catcher")]),n}function rTe(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n={shortcutsContextName:eTe,type:ZEe.INLINE,contains:g=>g===e||e.contains(g),runOnlyIf:()=>!0,...r},i=tTe(t,e);return{getType:()=>n.type,hasContainerDetached:()=>!t.rootWrapperElement.contains(e),getShortcutsContextName:()=>n.shortcutsContextName,runOnlyIf:()=>n.runOnlyIf(),contains:g=>n.contains(g),activate:function(){var g;let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Oh.UNKNOWN;(g=n.onActivate)===null||g===void 0||g.call(n,m)},deactivate:()=>{var g;(g=n.onDeactivate)===null||g===void 0||g.call(n)},activateFocusCatchers:()=>{i==null||i.activate()},deactivateFocusCatchers:()=>{i==null||i.deactivate()},enable:()=>{e.removeAttribute("inert")},disable:()=>{e.setAttribute("inert","true")},destroy:()=>{i==null||i.destroy()}}}function nTe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=!1;function n(d){if(!r){var h;(h=e.onFocus)===null||h===void 0||h.call(e,d)}}function i(d){var h;(h=e.onClick)===null||h===void 0||h.call(e,d)}function s(d){if(d.key==="Tab"){var h;(h=e.onTabKeyDown)===null||h===void 0||h.call(e,d)}}function o(){r=!0}function a(){r=!1}return{mount:()=>{let d=t;for(;d;){const{documentElement:h}=d.document;h.addEventListener("focusin",n),h.addEventListener("click",i),h.addEventListener("keydown",s),h.addEventListener("mousedown",o),h.addEventListener("mouseup",a),d=hd(d)}},unmount:()=>{let d=t;for(;d;){const{documentElement:h}=d.document;h.removeEventListener("focusin",n),h.removeEventListener("click",i),h.removeEventListener("keydown",s),h.removeEventListener("mousedown",o),h.removeEventListener("mouseup",a),d=hd(d)}}}}function iTe(t){const e=Hw({errorIdExists:m=>`The "${m}" focus scope is already registered.`}),r=t.getShortcutManager();let n=null;function i(){return n?e.getId(n):null}function s(m,p){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e.hasItem(m))throw new Error(`Scope with id "${m}" already registered`);const S=rTe(t,p,y);e.addItem(m,S),r.getOrCreateContext(S.getShortcutsContextName())}function o(m){if(!e.hasItem(m))throw new Error(`Scope with id "${m}" not found`);e.getItem(m).destroy(),e.removeItem(m)}function a(m){if(!e.hasItem(m))throw new Error(`Scope with id "${m}" not found`);c(e.getItem(m))}function l(m){if(!e.hasItem(m))throw new Error(`Scope with id "${m}" not found`);d(e.getItem(m))}function c(m){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oh.UNKNOWN;n!==m&&(n!==null&&d(n),n=m,n.activate(p),r.setActiveContextName(m.getShortcutsContextName()))}function d(m){h(),n===m&&(n=null,m.deactivate())}function h(){const m=e.getValues(),p=m.filter(y=>y.runOnlyIf()&&y.getType()==="modal");m.forEach(y=>{p.length>0&&p.includes(y)||p.length===0||y.hasContainerDetached()?y.enable():y.disable(),y===n?y.contains(t.rootDocument.activeElement)?y.deactivateFocusCatchers():y.activateFocusCatchers():y.runOnlyIf()?y.activateFocusCatchers():y.deactivateFocusCatchers()})}function f(m,p){if(!m.isConnected||!pf(m))return;const y=e.getValues().filter(w=>w.runOnlyIf());let S=!1;y.forEach(w=>{!S&&w.contains(m)&&(S=!0,p!==Oh.UNKNOWN&&t.listen(),c(w,p))}),!S&&n&&(d(n),t.unlisten())}const g=nTe(t.rootWindow,{onFocus:m=>{var p;f(m.target,(p=m.target.dataset.htFocusSource)!==null&&p!==void 0?p:Oh.UNKNOWN)},onClick:m=>{f(m.target,Oh.CLICK)},onTabKeyDown:()=>{h()}});return g.mount(),{getActiveScopeId:i,registerScope:s,unregisterScope:o,activateScope:m=>a(m),deactivateScope:m=>l(m),destroy:()=>g.unmount()}}function sTe(t,e){gG(t,e),e.add(t)}function sg(t,e,r){gG(t,e),e.set(t,r)}function gG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zt(t,e){return t.get(ua(t,e))}function _h(t,e,r){return t.set(ua(t,e),r),r}function ua(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const Am=Object.freeze({CELL:"cell",MIXED:"mixed"});var Fr=new WeakMap,mS=new WeakMap,pS=new WeakMap,yS=new WeakMap,vS=new WeakMap,M1=new WeakMap,al=new WeakSet;class oTe{constructor(e){sTe(this,al),sg(this,Fr,void 0),sg(this,mS,void 0),sg(this,pS,1),sg(this,yS,null),sg(this,vS,new Map),sg(this,M1,!1),_h(Fr,this,e)}init(){var e=this;const r=zt(Fr,this).getSettings();_h(mS,this,r.imeFastEdit?Am.MIXED:Am.CELL),zt(Fr,this).addHook("afterUpdateSettings",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return ua(al,e,uTe).call(e,...i)}),zt(Fr,this).addHook("afterSelection",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return ua(al,e,x6).call(e,...i)}),zt(Fr,this).addHook("afterSelectionFocusSet",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return ua(al,e,x6).call(e,...i)}),zt(Fr,this).addHook("afterSelectionEnd",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return ua(al,e,lTe).call(e,...i)}),zt(Fr,this).addHook("afterRender",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return ua(al,e,cTe).call(e,...i)})}getFocusMode(){return zt(mS,this)}setFocusMode(e){Object.values(Am).includes(e)?_h(mS,this,e):at(`"${e}" is not a valid focus mode.`)}getRefocusDelay(){return zt(pS,this)}setRefocusDelay(e){_h(pS,this,e)}setRefocusElementGetter(e){_h(yS,this,e)}getRefocusElement(){var e;return typeof zt(yS,this)=="function"?zt(yS,this).call(this):(e=zt(Fr,this).getActiveEditor())===null||e===void 0?void 0:e.TEXTAREA}focusOnHighlightedCell(e){const r=n=>{var i,s;const o=(i=zt(Fr,this).getSelectedRangeActive())===null||i===void 0?void 0:i.highlight;if(!o)return;let a=zt(Fr,this).runHooks("modifyFocusedElement",o.row,o.col,n);Rc(a)||(a=n),a&&!((s=zt(Fr,this).getActiveEditor())!==null&&s!==void 0&&s.isOpened())&&a.focus({preventScroll:!0})};e?r(e):ua(al,this,zj).call(this,n=>r(n))}refocusToEditorTextarea(){var e;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zt(pS,this);if(zt(Fr,this).getSettings().imeFastEdit&&!((e=zt(Fr,this).getActiveEditor())!==null&&e!==void 0&&e.isOpened())){var n,i;(n=zt(Fr,this).getActiveEditor())===null||n===void 0||(i=n.refreshValue)===null||i===void 0||i.call(n),zt(vS,this).has(r)||zt(vS,this).set(r,bR(()=>{if(!zt(Fr,this).isDestroyed){var s;(s=this.getRefocusElement())===null||s===void 0||s.select()}},r)),zt(vS,this).get(r)()}}}function zj(t){var e;const r=(e=zt(Fr,this).getSelectedRangeActive())===null||e===void 0?void 0:e.highlight;if(!r||!zt(Fr,this).selection.isCellVisible(r)){t(null);return}const n=zt(Fr,this).getCell(r.row,r.col,!0);n===null?zt(Fr,this).addHookOnce("afterScroll",()=>{t(zt(Fr,this).getCell(r.row,r.col,!0))}):t(n)}function aTe(){ua(al,this,zj).call(this,t=>{const{activeElement:e}=zt(Fr,this).rootDocument;e&&oY(e)&&e.blur(),this.focusOnHighlightedCell(t)})}function lTe(){ua(al,this,zj).call(this,t=>{this.getFocusMode()===Am.MIXED&&(t==null?void 0:t.nodeName)==="TD"&&this.refocusToEditorTextarea()})}function x6(){_h(M1,this,!0)}function cTe(){zt(M1,this)&&(_h(M1,this,!1),ua(al,this,aTe).call(this))}function uTe(t){typeof t.imeFastEdit=="boolean"&&this.setFocusMode(t.imeFastEdit?Am.MIXED:Am.CELL)}function dTe(t){return e=>{if(!e)return null;const{rowIndexMapper:r,columnIndexMapper:n}=t;if(r.isHidden(e.row)||n.isHidden(e.col))return null;const i=SI(t),s=xI(t);return i===null||s===null?null:(e.row=ft(e.row,i.row,s.row),e.col=ft(e.col,i.col,s.col),e)}}function SI(t){const{rowIndexMapper:e,columnIndexMapper:r}=t,{navigableHeaders:n}=t.getSettings();let i=n&&t.countColHeaders()>0?-t.countColHeaders():0,s=n&&t.countRowHeaders()>0?-t.countRowHeaders():0;return i===0&&(i=e.getVisualFromRenderableIndex(i)),s===0&&(s=r.getVisualFromRenderableIndex(s)),i===null||s===null?null:t._createCellCoords(i,s)}function xI(t){var e,r;const{rowIndexMapper:n,columnIndexMapper:i}=t,{navigableHeaders:s}=t.getSettings();let o=n.getRenderableIndexesLength()-1,a=i.getRenderableIndexesLength()-1;if(o<0){if(!s||t.countColHeaders()===0)return null;o=-1}if(a<0){if(!s||t.countColHeaders()===0)return null;a=-1}return t._createCellCoords((e=n.getVisualFromRenderableIndex(o))!==null&&e!==void 0?e:o,(r=i.getVisualFromRenderableIndex(a))!==null&&r!==void 0?r:a)}const Yy="gridDefault",Uj="grid",I1="grid.tabNavigation",xd="editorManager.handlingEditor",hTe="editor",fTe={name:"editorCloseAndSave",callback(t){t._getEditorManager().closeEditorAndSaveChanges()}},gTe="hooksRefRegisterer",mG={_hooksStorage:Object.create(null),addHook(t,e){return this._hooksStorage[t]||(this._hooksStorage[t]=[]),this.hot.addHook(t,e),this._hooksStorage[t].push(e),this},removeHooksByKey(t){B(this._hooksStorage[t]||[],e=>{this.hot.removeHook(t,e)})},clearHooks(){dt(this._hooksStorage,(t,e)=>this.removeHooksByKey(e)),this._hooksStorage={}}};Bc(mG,"MIXIN_NAME",gTe,{writable:!1,enumerable:!1});function Lo(t,e,r){return(e=mTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mTe(t){var e=pTe(t,"string");return typeof e=="symbol"?e:e+""}function pTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const yTe="base",Vr=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"});class jp{static get EDITOR_TYPE(){return yTe}constructor(e){Lo(this,"hot",void 0),Lo(this,"state",Vr.VIRGIN),Lo(this,"_opened",!1),Lo(this,"_fullEditMode",!1),Lo(this,"_closeCallback",null),Lo(this,"TD",null),Lo(this,"row",null),Lo(this,"col",null),Lo(this,"prop",null),Lo(this,"originalValue",null),Lo(this,"cellProperties",null),this.hot=e,this.init()}_fireCallbacks(e){this._closeCallback&&(this._closeCallback(e),this._closeCallback=null)}init(){}getValue(){throw Error("Editor getValue() method unimplemented")}setValue(){throw Error("Editor setValue() method unimplemented")}open(){throw Error("Editor open() method unimplemented")}close(){throw Error("Editor close() method unimplemented")}prepare(e,r,n,i,s,o){this.TD=i,this.row=e,this.col=r,this.prop=n,this.originalValue=s,this.cellProperties=o,this.state=this.isOpened()?this.state:Vr.VIRGIN}extend(){return class extends this.constructor{}}saveValue(e,r){let n,i,s,o;if(r){const l=this.hot.getSelectedRangeActive(),c=l.getTopStartCorner(),d=l.getBottomEndCorner();n=c.row,i=c.col,s=d.row,o=d.col}else[n,i,s,o]=[this.row,this.col,null,null];const a=this.hot.runHooks("modifyGetCellCoords",n,i,!1,"meta");Array.isArray(a)&&([n,i]=a),this.hot.populateFromArray(n,i,e,s,o,"edit")}beginEditing(e,r){if(this.state!==Vr.VIRGIN)return;const n=this.hot,i=n.rowIndexMapper.getRenderableFromVisualIndex(this.row),s=n.columnIndexMapper.getRenderableFromVisualIndex(this.col),o=()=>{if(this.state=Vr.EDITING,this.isInFullEditMode()){const l=this.cellProperties.valueGetter?this.cellProperties.valueGetter(this.originalValue):this.originalValue,c=typeof e=="string"?e:tr(l);this.setValue(c)}this.open(r),this._opened=!0,this.focus(),n.view.render(),n.runHooks("afterBeginEditing",this.row,this.col)};this.hot.addHookOnce("afterScroll",o),n.view.scrollViewport(n._createCellCoords(i,s))||(this.hot.removeHook("afterScroll",o),o()),this.addHook("beforeDialogShow",()=>this.cancelChanges())}finishEditing(e,r,n){let i;if(n){const s=this._closeCallback;this._closeCallback=o=>{s&&s(o),n(o),this.hot.view.render()}}if(!this.isWaiting()){if(this.state===Vr.VIRGIN){this.hot._registerTimeout(()=>{this._fireCallbacks(!0)});return}if(this.state===Vr.EDITING){if(e){this.cancelChanges(),this.hot.view.render();return}const s=this.getValue();this.cellProperties.trimWhitespace?i=[[typeof s=="string"?String.prototype.trim.call(s||""):s]]:i=[[s]],this.state=Vr.WAITING,this.saveValue(i,r),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",o=>{this.state=Vr.FINISHED,this.discardEditor(o)}):(this.state=Vr.FINISHED,this.discardEditor(!0))}}}cancelChanges(){this.state=Vr.FINISHED,this.discardEditor()}discardEditor(e){this.state===Vr.FINISHED&&(e===!1&&this.cellProperties.allowInvalid!==!0?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=Vr.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=Vr.VIRGIN,this._fireCallbacks(!0),this.hot.getShortcutManager().setActiveContextName("grid")))}enableFullEditMode(){this._fullEditMode=!0}isInFullEditMode(){return this._fullEditMode}isOpened(){return this._opened}isWaiting(){return this.state===Vr.WAITING}getEditedCellRect(){var e;const r=this.getEditedCell();if(!r)return;const{wtOverlays:n,wtViewport:i}=this.hot.view._wt,s=this.hot.rootWindow,o=mi(r),a=en(r),l=mi(this.hot.rootElement),c=en(this.hot.rootElement),d=n.topOverlay.holder,h=n.inlineStartOverlay.holder,f=d!==s?d.scrollTop:0,g=h!==s?h.scrollLeft:0,m=s.innerWidth-l.left-c,{wtTable:p}=(e=n.getParentOverlay(r))!==null&&e!==void 0?e:this.hot.view._wt,y=p.name,S=["master","inline_start"].includes(y)?f:0,w=["master","top","bottom"].includes(y)?g:0,b=o.top===l.top?0:1;let C=o.top-l.top-b-S,N=0;this.hot.isRtl()?N=s.innerWidth-o.left-a-m-1+w:N=o.left-l.left-1-w,["top","top_inline_start_corner"].includes(y)&&(C+=n.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(y)&&(N+=Math.abs(n.inlineStartOverlay.getOverlayOffset()));const P=this.hot.hasColHeaders(),k=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),R=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),O=this.hot.rowIndexMapper.getRenderableIndexesLength()-this.hot.view._wt.getSetting("fixedRowsBottom");(P&&k<=0||k===O)&&(C+=1),R<=0&&(N+=1);const Z=i.rowsRenderCalculator.startPosition,q=i.columnsRenderCalculator.startPosition,J=Math.abs(n.inlineStartOverlay.getScrollPosition()),re=n.topOverlay.getScrollPosition(),ue=tn(this.hot.rootDocument);let ve=r.offsetTop;if(["inline_start","master"].includes(y)&&(ve+=Z-re),["bottom","bottom_inline_start_corner"].includes(y)){const{wtViewport:D,wtTable:Y}=n.bottomOverlay.clone;ve+=D.getWorkspaceHeight()-Y.getHeight()-ue}let be=r.offsetLeft;this.hot.isRtl()?(be>=0?be=p.getWidth()-r.offsetLeft:be=Math.abs(be),be+=q-J-a):["top","master","bottom"].includes(y)&&(be+=q-J);const ie=s.getComputedStyle(this.TD),ee=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",ce=parseInt(ie[ee],10)>0?0:1,ae=parseInt(ie.borderTopWidth,10)>0?0:1,ye=en(r)+ce,Q=fn(r)+ae,F=iY(d)?ue:0,v=sY(h)?ue:0,x=this.hot.view.maximumVisibleElementWidth(be)-F+ce,E=Math.max(this.hot.view.maximumVisibleElementHeight(ve)-v+ae,this.hot.stylesHandler.getDefaultRowHeight());return{top:C,start:N,height:Q,maxHeight:E,width:ye,maxWidth:x}}getEditedCellsLayerClass(){switch(this.checkEditorSection()){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}getEditedCell(){return this.hot.getCell(this.row,this.col,!0)}checkEditorSection(){const e=this.hot.countRows();let r="";return this.row<this.hot.getSettings().fixedRowsTop?this.col<this.hot.getSettings().fixedColumnsStart?r="top-inline-start-corner":r="top":this.hot.getSettings().fixedRowsBottom&&this.row>=e-this.hot.getSettings().fixedRowsBottom?this.col<this.hot.getSettings().fixedColumnsStart?r="bottom-inline-start-corner":r="bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(r="inline-start"),r}}Dt(jp,mG);const vTe={name:"editorCloseAndSaveByArrowKeys",callback(t,e,r){const n=t._getEditorManager(),i=n.getActiveEditor();i.isInFullEditMode()&&i.state===Vr.EDITING||(n.closeEditorAndSaveChanges(),t.getSelected()&&(r.includes("arrowdown")?t.selection.transformStart(1,0):r.includes("arrowup")?t.selection.transformStart(-1,0):r.includes("arrowleft")?t.selection.transformStart(0,-1*t.getDirectionFactor()):r.includes("arrowright")&&t.selection.transformStart(0,t.getDirectionFactor())),e.preventDefault())}},wTe={name:"editorCloseAndSaveByEnter",callback(t,e){const r=t._getEditorManager();r.closeEditorAndSaveChanges(e.ctrlKey||e.metaKey),r.moveSelectionAfterEnter(e)}},bTe={name:"editorCloseWithoutSaving",callback(t){const e=t._getEditorManager();e.closeEditorAndRestoreOriginalValue(t.getShortcutManager().isCtrlPressed()),e.activeEditor.focus()}},STe={name:"editorFastOpen",callback(t,e){const{highlight:r}=t.getSelectedRangeActive();r.isHeader()||t._getEditorManager().openEditor(null,e,!0)}},xTe={name:"editorOpen",callback(t,e,r){const{selection:n}=t,i=t._getEditorManager(),s=t.getSelectedRange(),o=t.getSelectedRangeActive(),{highlight:a}=o;if((s.some(l=>n.isMultiple(l))||s.length>1)&&!o.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0){const l=t.getSettings(),c=typeof l.enterMoves=="function"?l.enterMoves(e):l.enterMoves;r.includes("shift")?n.transformFocus(-c.row,-c.col):n.transformFocus(c.row,c.col);return}a.isHeader()||(t.getSettings().enterBeginsEditing?i.cellProperties.readOnly?i.moveSelectionAfterEnter(e):i.openEditor(null,e,!0):i.moveSelectionAfterEnter(e),Eo(e))}};function CTe(){return[fTe,vTe,wTe,bTe,STe,xTe]}const _Te={name:"extendCellsSelectionDown",callback(t){const{selection:e}=t,{highlight:r}=t.getSelectedRangeActive();!e.isSelectedByColumnHeader()&&!e.isSelectedByCorner()&&(r.isCell()||r.isHeader()&&e.isSelectedByRowHeader())&&(e.markSource("keyboard"),e.transformEnd(1,0),e.markEndSource())}},RTe={name:"extendCellsSelectionDownByViewportHeight",callback(t){const{selection:e,rowIndexMapper:r}=t,{to:n}=t.getSelectedRangeActive(),i=Math.min(n.row+t.countVisibleRows(),t.countRows()-1),s=r.getNearestNotHiddenIndex(i,-1);if(s!==null){const o=t._createCellCoords(s,n.col),a=n.row-t.getFirstFullyVisibleRow(),l=Math.min(o.row-a,t.countRows()-1);e.markSource("keyboard"),e.setRangeEnd(o,t.getActiveSelectionLayerIndex()),e.markEndSource(),t.scrollViewportTo({row:l,verticalSnap:"top",horizontalSnap:"start"})}}},ETe={name:"extendCellsSelectionLeft",callback(t){const{selection:e}=t,{highlight:r}=t.getSelectedRangeActive();!e.isSelectedByRowHeader()&&!e.isSelectedByCorner()&&(r.isCell()||r.isHeader()&&e.isSelectedByColumnHeader())&&(e.markSource("keyboard"),e.transformEnd(0,-1*t.getDirectionFactor()),e.markEndSource())}},TTe={name:"extendCellsSelectionRight",callback(t){const{selection:e}=t,{highlight:r}=t.getSelectedRangeActive();!e.isSelectedByRowHeader()&&!e.isSelectedByCorner()&&(r.isCell()||r.isHeader()&&e.isSelectedByColumnHeader())&&(e.markSource("keyboard"),e.transformEnd(0,t.getDirectionFactor()),e.markEndSource())}},kTe={name:"extendCellsSelectionToColumns",callback(t){const{selection:e}=t,{highlight:r,from:n,to:i}=t.getSelectedRangeActive();e.markSource("keyboard"),e.isSelectedByRowHeader()?e.selectAll(!0,!0):t.selectColumns(n.col,i.col,r),e.markEndSource()}},PTe={name:"extendCellsSelectionToMostBottom",callback(t){const{selection:e,rowIndexMapper:r}=t,{highlight:n,from:i,to:s}=t.getSelectedRangeActive(),o=n.isHeader()&&e.isSelectedByRowHeader();if(n.isCell()||o){const a=r.getNearestNotHiddenIndex(t.countRows()-1,-1),l=i.clone();l.row=n.row,e.markSource("keyboard"),e.setRangeStart(l,void 0,!1,n.clone()),o&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,s.col)),e.markEndSource()}}},NTe={name:"extendCellsSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:r}=t,{highlight:n,from:i,to:s}=t.getSelectedRangeActive();if(!e.isSelectedByRowHeader()&&!e.isSelectedByCorner()&&n.isCell()){const o=r.getNearestNotHiddenIndex(t.countCols()-1,-1),a=i.clone();a.col=n.col,e.markSource("keyboard"),e.setRangeStart(a,void 0,!1,n.clone()),e.setRangeEnd(t._createCellCoords(s.row,o)),e.markEndSource()}}},MTe={name:"extendCellsSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:r}=t,{highlight:n,from:i,to:s}=t.getSelectedRangeActive();if(!e.isSelectedByRowHeader()&&!e.isSelectedByCorner()&&n.isCell()){const o=parseInt(t.getSettings().fixedColumnsStart,10),a=r.getNearestNotHiddenIndex(o,1),l=i.clone();l.col=n.col,e.markSource("keyboard"),e.setRangeStart(l,void 0,!1,n.clone()),e.setRangeEnd(t._createCellCoords(s.row,a)),e.markEndSource()}}},ITe={name:"extendCellsSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:r}=t,{highlight:n,from:i,to:s}=t.getSelectedRangeActive(),o=n.isHeader()&&e.isSelectedByColumnHeader();if(n.isCell()||o){const a=r.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]),l=i.clone();l.col=n.col,e.markSource("keyboard"),e.setRangeStart(l,void 0,!1,n.clone()),o&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(s.row,a)),e.markEndSource()}}},ATe={name:"extendCellsSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:r}=t,{highlight:n,from:i,to:s}=t.getSelectedRangeActive(),o=n.isHeader()&&e.isSelectedByColumnHeader();if(n.isCell()||o){const a=r.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]),l=i.clone();l.col=n.col,e.markSource("keyboard"),e.setRangeStart(l,void 0,!1,n.clone()),o&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(s.row,a)),e.markEndSource()}}},OTe={name:"extendCellsSelectionToMostTop",callback(t){const{selection:e,rowIndexMapper:r}=t,{highlight:n,from:i,to:s}=t.getSelectedRangeActive(),o=n.isHeader()&&e.isSelectedByRowHeader();if(n.isCell()||o){const a=r.getNearestNotHiddenIndex(0,1),l=i.clone();l.row=n.row,e.markSource("keyboard"),e.setRangeStart(l,void 0,!1,n.clone()),o&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,s.col)),e.markEndSource()}}},HTe={name:"extendCellsSelectionToRows",callback(t){const{selection:e}=t,{highlight:r,from:n,to:i}=t.getSelectedRangeActive();e.markSource("keyboard"),e.isSelectedByColumnHeader()?e.selectAll(!0,!0):t.selectRows(n.row,i.row,r),e.markEndSource()}},jTe={name:"extendCellsSelectionUp",callback(t){const{selection:e}=t,{highlight:r}=t.getSelectedRangeActive();!e.isSelectedByColumnHeader()&&!e.isSelectedByCorner()&&(r.isCell()||r.isHeader()&&e.isSelectedByRowHeader())&&(e.markSource("keyboard"),e.transformEnd(-1,0),e.markEndSource())}},DTe={name:"extendCellsSelectionUpByViewportHeight",callback(t){const{selection:e,rowIndexMapper:r}=t,{to:n}=t.getSelectedRangeActive(),i=Math.max(n.row-t.countVisibleRows(),0),s=r.getNearestNotHiddenIndex(i,1);if(s!==null){const o=t._createCellCoords(s,n.col),a=n.row-t.getFirstFullyVisibleRow(),l=Math.max(o.row-a,0);e.markSource("keyboard"),e.setRangeEnd(o,t.getActiveSelectionLayerIndex()),e.markEndSource(),t.scrollViewportTo({row:l,verticalSnap:"top",horizontalSnap:"start"})}}};function $Te(){return[_Te,RTe,ETe,TTe,kTe,PTe,NTe,MTe,ITe,ATe,OTe,HTe,jTe,DTe]}const LTe={name:"moveCellSelectionDown",callback(t){let{selection:e}=t;e.markSource("keyboard"),e.transformStart(1,0),e.markEndSource()}},FTe={name:"moveCellSelectionDownByViewportHeight",callback(t){const{selection:e}=t,{navigableHeaders:r}=t.getSettings(),n=r?t.countColHeaders():0,{row:i}=t.getSelectedRangeActive().highlight;let s=t.countVisibleRows()+n;s=s===0?1:s,i===t.countRows()-1?s=1:i+s>t.countRows()&&(s=t.countRows()-i-1),e.markSource("keyboard"),e.transformStart(s,0),e.markEndSource(),t.getSelectedRangeActive().highlight.row<0&&t.scrollViewportTo({row:0})}},VTe={name:"moveCellSelectionInlineEnd",callback(t,e){const{selection:r}=t,n=t.getSettings(),i=t.getSelectedRange(),s=t.getSelectedRangeActive(),o=typeof n.tabMoves=="function"?n.tabMoves(e):n.tabMoves;r.markSource("keyboard"),(i.some(a=>r.isMultiple(a))||i.length>1)&&!s.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0?r.transformFocus(-o.row,-o.col):r.transformStart(-o.row,-o.col),r.markEndSource()}},WTe={name:"moveCellSelectionInlineStart",callback(t,e){const{selection:r}=t,n=t.getSettings(),i=t.getSelectedRange(),s=t.getSelectedRangeActive(),o=typeof n.tabMoves=="function"?n.tabMoves(e):n.tabMoves;r.markSource("keyboard"),(i.some(a=>r.isMultiple(a))||i.length>1)&&!s.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0?r.transformFocus(o.row,o.col):r.transformStart(o.row,o.col),r.markEndSource()}},BTe={name:"moveCellSelectionLeft",callback(t){const{selection:e}=t;e.markSource("keyboard"),e.transformStart(0,-1*t.getDirectionFactor()),e.markEndSource()}},zTe={name:"moveCellSelectionRight",callback(t){const{selection:e}=t;e.markSource("keyboard"),e.transformStart(0,t.getDirectionFactor()),e.markEndSource()}},UTe={name:"moveCellSelectionToMostBottom",callback(t){const{selection:e}=t,{col:r}=t.getSelectedRangeActive().highlight;let n=t.rowIndexMapper.getNearestNotHiddenIndex(t.countRows()-1,-1);n===null&&(n=-1),e.setRangeStart(t._createCellCoords(n,r))}},YTe={name:"moveCellSelectionToMostBottomInlineEnd",callback(t){const{selection:e,rowIndexMapper:r,columnIndexMapper:n}=t,i=parseInt(t.getSettings().fixedRowsBottom,10),s=r.getNearestNotHiddenIndex(t.countRows()-i-1,-1),o=n.getNearestNotHiddenIndex(t.countCols()-1,-1);e.markSource("keyboard"),e.setRangeStart(t._createCellCoords(s,o)),e.markEndSource()}},GTe={name:"moveCellSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:r}=t;e.markSource("keyboard"),e.setRangeStart(t._createCellCoords(t.getSelectedRangeActive().highlight.row,r.getNearestNotHiddenIndex(t.countCols()-1,-1))),e.markEndSource()}},KTe={name:"moveCellSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:r}=t,n=parseInt(t.getSettings().fixedColumnsStart,10),i=t.getSelectedRangeActive().highlight.row,s=r.getNearestNotHiddenIndex(n,1);e.markSource("keyboard"),e.setRangeStart(t._createCellCoords(i,s)),e.markEndSource()}},qTe={name:"moveCellSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:r}=t,n=t.getSelectedRangeActive().highlight.row;let i=r.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]);i===null&&(i=t.isRtl()?-1:-t.countRowHeaders()),e.markSource("keyboard"),e.setRangeStart(t._createCellCoords(n,i)),e.markEndSource()}},XTe={name:"moveCellSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:r}=t,{row:n}=t.getSelectedRangeActive().highlight;let i=r.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]);i===null&&(i=t.isRtl()?-t.countRowHeaders():-1),e.markSource("keyboard"),e.setRangeStart(t._createCellCoords(n,i)),e.markEndSource()}},QTe={name:"moveCellSelectionToMostTop",callback(t){const{selection:e}=t,{col:r}=t.getSelectedRangeActive().highlight;let n=t.rowIndexMapper.getNearestNotHiddenIndex(0,1);n===null&&(n=-t.countColHeaders()),e.markSource("keyboard"),e.setRangeStart(t._createCellCoords(n,r)),e.markEndSource()}},JTe={name:"moveCellSelectionToMostTopInlineStart",callback(t){const{selection:e,rowIndexMapper:r,columnIndexMapper:n}=t,i=parseInt(t.getSettings().fixedRowsTop,10),s=parseInt(t.getSettings().fixedColumnsStart,10),o=r.getNearestNotHiddenIndex(i,1),a=n.getNearestNotHiddenIndex(s,1);e.markSource("keyboard"),e.setRangeStart(t._createCellCoords(o,a)),e.markEndSource()}},ZTe={name:"moveCellSelectionUp",callback(t){let{selection:e}=t;e.markSource("keyboard"),e.transformStart(-1,0),e.markEndSource()}},eke={name:"moveCellSelectionUpByViewportHight",callback(t){const{selection:e}=t,{navigableHeaders:r}=t.getSettings(),n=r?t.countColHeaders():0,{row:i}=t.getSelectedRangeActive().highlight;let s=t.countVisibleRows()+n;s=s===0?-1:-s,i===-n?s=-1:i+s<n&&(s=-(i+n)),e.markSource("keyboard"),e.transformStart(s,0),e.markEndSource(),t.getSelectedRangeActive().highlight.row<0&&t.scrollViewportTo({row:0})}};function tke(){return[LTe,FTe,VTe,WTe,BTe,zTe,UTe,YTe,GTe,KTe,qTe,XTe,QTe,JTe,ZTe,eke]}const rke={name:"emptySelectedCells",callback(t){t.emptySelectedCells(),t._getEditorManager().prepareEditor()}},nke={name:"scrollToFocusedCell",callback(t){const{highlight:e}=t.getSelectedRangeActive(),r=t.getFirstFullyVisibleRow()-1,n=t.getFirstFullyVisibleColumn()-1,i=t.getLastFullyVisibleRow()+1,s=t.getLastFullyVisibleColumn()+1,o=t._createCellCoords(r,n),a=t._createCellCoords(i,s);if(!t._createCellRange(o,o,a).includes(e)&&(e.row>=0||e.col>=0)){const c={};if(e.col>=0){const d=Math.floor(t.countVisibleCols()/2);c.col=Math.max(e.col-d,0)}if(e.row>=0){const d=Math.floor(t.countVisibleRows()/2);c.row=Math.max(e.row-d,0)}t.scrollViewportTo({...c,verticalSnap:"top",horizontalSnap:"start"})}}},ike={name:"selectAllCells",callback(t){let{selection:e}=t;e.markSource("keyboard"),e.selectAll(!0,!0,{disableHeadersHighlight:!0}),e.markEndSource()}},ske={name:"selectAllCellsAndHeaders",callback(t){let{selection:e}=t;e.markSource("keyboard"),e.selectAll(!0,!0,{disableHeadersHighlight:!1}),e.markEndSource()}},oke={name:"populateSelectedCellsData",callback(t){const e=t.getSelectedRange(),{row:r,col:n}=e[e.length-1].highlight.normalize(),i=t.getDataAtCell(r,n),s=new Map;for(let o=0;o<e.length;o++)e[o].forAll((a,l)=>{if(a>=0&&l>=0&&(a!==r||l!==n)){const{readOnly:c}=t.getCellMeta(a,l);c||s.set(`${a}x${l}`,[a,l,i])}});t.setDataAtCell(Array.from(s.values()))}},ake={name:"tabNavigation",callback(t){const e={wrapped:!1,flipped:!1};let r=!1,n=!1;return t.addHook("afterSelection",(i,s,o,a,l)=>{r&&(e.wrapped&&e.flipped||n)&&(n=!1,l.value=!0)}),t.addHook("beforeRowWrap",(i,s,o)=>{e.wrapped=!0,e.flipped=o}),{before(){const{tabNavigation:i}=t.getSettings();r=!0,i||(n=!0)},after(i){const{tabNavigation:s,autoWrapRow:o}=t.getSettings();if(r=!1,!s||!t.selection.isSelected()||o&&e.wrapped&&e.flipped||!o&&e.wrapped)return e.wrapped=!1,e.flipped=!1,t.deselectCell(),!1;i.preventDefault()}}}},lke=[...CTe(),...$Te(),...tke(),rke,nke,ike,ske,oke,ake];function pG(t){const e={};return lke.forEach(r=>{let{name:n,callback:i}=r;e[n]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return i(t,...o)}}),e}function cke(t){const e=t.getShortcutManager().addContext(hTe),r=pG(t),n={group:xd};e.addShortcuts([{keys:[["Enter"],["Enter","Shift"]],callback:(i,s)=>r.editorCloseAndSaveByEnter(i,s)},{keys:[["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],captureCtrl:!0,callback:(i,s)=>r.editorCloseAndSaveByEnter(i,s)},{keys:[["Tab"],["Tab","Shift"],["PageDown"],["PageUp"]],forwardToContext:t.getShortcutManager().getContext(Uj),callback:(i,s)=>r.editorCloseAndSave(i,s)},{keys:[["ArrowDown"],["ArrowUp"],["ArrowLeft"],["ArrowRight"]],preventDefault:!1,callback:(i,s)=>r.editorCloseAndSaveByArrowKeys(i,s)},{keys:[["Escape"],["Escape","Control/Meta"]],callback:()=>r.editorCloseWithoutSaving()}],n)}function uke(t){const e=t.getShortcutManager().addContext(Uj),r=pG(t),n={runOnlyIf:()=>{const{navigableHeaders:s}=t.getSettings();return xe(t.getSelected())&&(s||!s&&t.countRenderedRows()>0&&t.countRenderedCols()>0)},group:Yy};e.addShortcuts([{keys:[["F2"]],callback:s=>r.editorFastOpen(s)},{keys:[["Enter"],["Enter","Shift"]],callback:(s,o)=>r.editorOpen(s,o)},{keys:[["Backspace"],["Delete"]],callback:()=>r.emptySelectedCells()}],{group:xd,runOnlyIf:()=>xe(t.getSelected())}),e.addShortcuts([{keys:[["Control/Meta","A"]],callback:()=>r.selectAllCells(),runOnlyIf:()=>{var s;return!((s=t.getSelectedRangeActive())!==null&&s!==void 0&&s.highlight.isHeader())}},{keys:[["Control/Meta","A"]],callback:()=>{},runOnlyIf:()=>{var s;return(s=t.getSelectedRangeActive())===null||s===void 0?void 0:s.highlight.isHeader()},preventDefault:!0},{keys:[["Control/Meta","Shift","Space"]],callback:()=>r.selectAllCellsAndHeaders()},{keys:[["Control/Meta","Enter"]],callback:()=>r.populateSelectedCellsData(),runOnlyIf:()=>{var s,o;return!((s=t.getSelectedRangeActive())!==null&&s!==void 0&&s.highlight.isHeader())&&((o=t.getSelectedRangeActive())===null||o===void 0?void 0:o.getCellsCount())>1}},{keys:[["Control","Space"]],captureCtrl:!0,callback:()=>r.extendCellsSelectionToColumns()},{keys:[["Shift","Space"]],stopPropagation:!0,callback:()=>r.extendCellsSelectionToRows()},{keys:[["ArrowUp"]],callback:()=>r.moveCellSelectionUp()},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostTop()},{keys:[["ArrowUp","Shift"]],callback:()=>r.extendCellsSelectionUp()},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>r.extendCellsSelectionToMostTop(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowDown"]],callback:()=>r.moveCellSelectionDown()},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostBottom()},{keys:[["ArrowDown","Shift"]],callback:()=>r.extendCellsSelectionDown()},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>r.extendCellsSelectionToMostBottom(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowLeft"]],callback:()=>r.moveCellSelectionLeft()},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostLeft()},{keys:[["ArrowLeft","Shift"]],callback:()=>r.extendCellsSelectionLeft()},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>r.extendCellsSelectionToMostLeft(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["ArrowRight"]],callback:()=>r.moveCellSelectionRight()},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostRight()},{keys:[["ArrowRight","Shift"]],callback:()=>r.extendCellsSelectionRight()},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>r.extendCellsSelectionToMostRight(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["Home"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["Home","Shift"]],callback:()=>r.extendCellsSelectionToMostInlineStart()},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostTopInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End","Shift"]],callback:()=>r.extendCellsSelectionToMostInlineEnd()},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostBottomInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["PageUp"]],callback:()=>r.moveCellSelectionUpByViewportHight()},{keys:[["PageUp","Shift"]],callback:()=>r.extendCellsSelectionUpByViewportHeight()},{keys:[["PageDown"]],callback:()=>r.moveCellSelectionDownByViewportHeight()},{keys:[["PageDown","Shift"]],callback:()=>r.extendCellsSelectionDownByViewportHeight()},{keys:[["Tab"]],preventDefault:!1,callback:s=>r.moveCellSelectionInlineStart(s)},{keys:[["Shift","Tab"]],preventDefault:!1,callback:s=>r.moveCellSelectionInlineEnd(s)},{keys:[["Control/Meta","Backspace"]],callback:()=>r.scrollToFocusedCell()}],n);const i=r.tabNavigation();e.addShortcuts([{keys:[["Tab"],["Shift","Tab"]],preventDefault:!1,stopPropagation:!1,relativeToGroup:Yy,group:I1,position:"before",callback:s=>i.before(s)},{keys:[["Tab"],["Shift","Tab"]],preventDefault:!1,stopPropagation:!1,relativeToGroup:Yy,group:I1,callback:s=>i.after(s),position:"after"}])}function dke(t){[uke,cke].forEach(e=>e(t))}function hke(t){var e;const r=dTe(t),n={wrapped:!1,flipped:!1};let i,s=!0,o=!1;t.addHook("afterSelection",()=>{if(s){var c;i=(c=t.getSelectedRangeActive())===null||c===void 0?void 0:c.highlight}}),t.addHook("beforeRowWrap",(c,d,h)=>{n.wrapped=!0,n.flipped=h}),t.addHook("beforeEmptyDataStateShow",()=>{o=!0}),t.addHook("beforeEmptyDataStateHide",()=>{o=!1}),t.getShortcutManager().getContext(Uj).addShortcuts([{keys:[["Tab"],["Shift","Tab"]],preventDefault:!1,stopPropagation:!1,relativeToGroup:Yy,group:I1,position:"before",callback(){const{tabNavigation:c}=t.getSettings();t.getSelectedRangeActive()&&!c&&(s=!1)}},{keys:[["Tab"],["Shift","Tab"]],preventDefault:!1,stopPropagation:!1,relativeToGroup:Yy,group:I1,callback(c){const{tabNavigation:d,autoWrapRow:h}=t.getSettings();s=!0,(!d||!t.selection.isSelected()||h&&n.wrapped&&n.flipped||!h&&n.wrapped)&&(h&&n.wrapped&&n.flipped&&(i=c.shiftKey?SI(t):xI(t)),n.wrapped=!1,n.flipped=!1)},position:"after"}]);const l=(e=t.rootGridElement)!==null&&e!==void 0?e:t.rootElement;t.getFocusScopeManager().registerScope("grid",l,{contains:c=>l===c||l.contains(c)?!0:c.closest(".htMenu")!==null?!1:t.rootPortalElement.contains(c),runOnlyIf:()=>{const{navigableHeaders:c}=t.getSettings();return(o||!c)&&t.countRenderedRows()===0&&t.countRenderedCols()===0&&t.countRowHeaders()>0&&t.countColHeaders()>0?!1:!c&&t.countRenderedRows()>0&&t.countRenderedCols()>0||c&&(t.countRowHeaders()>0||t.countColHeaders()>0)},onActivate:c=>{if(c==="tab_from_above"){var d;const f=(d=r(i))!==null&&d!==void 0?d:SI(t);f&&t.runHooks("modifyFocusOnTabNavigation","from_above",f)!==!1&&t.selectCell(f.row,f.col)}else if(c==="tab_from_below"){var h;const f=(h=r(i))!==null&&h!==void 0?h:xI(t);f&&t.runHooks("modifyFocusOnTabNavigation","from_below",f)!==!1&&t.selectCell(f.row,f.col)}}})}function fke(t){[hke].forEach(e=>e(t))}const C6=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),wS=t=>t.map(e=>{const r=e.toLowerCase();return C6.has(r)?C6.get(r):r}).sort().join("+"),gke=t=>t.split("+"),_6=new Map([[96,"numpad0"],[97,"numpad1"],[98,"numpad2"],[99,"numpad3"],[100,"numpad4"],[101,"numpad5"],[102,"numpad6"],[103,"numpad7"],[104,"numpad8"],[105,"numpad9"],[106,"multiply"],[107,"add"],[108,"decimal"],[109,"subtract"],[110,"decimal"],[111,"divide"],[112,"f1"],[113,"f2"],[114,"f3"],[115,"f4"],[116,"f5"],[117,"f6"],[118,"f7"],[119,"f8"],[120,"f9"],[121,"f10"],[122,"f11"],[123,"f12"],[186,"semicolon"],[187,"equal"],[188,"comma"],[189,"minus"],[190,"period"],[191,"slash"],[192,"backquote"],[219,"bracketleft"],[220,"backslash"],[221,"bracketright"],[222,"quote"]]),Ck=t=>{let{which:e,key:r}=t;if(_6.has(e))return _6.get(e);const n=String.fromCharCode(e).toLowerCase();return/^[a-z0-9]$/.test(n)?n:r.toLowerCase()},yG=Symbol("shortcut-context");function CI(t){return Le(t)&&t.__kindOf===yG}const mke=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"table";const r=Hw({errorIdExists:c=>`The "${c}" shortcut is already registered in the "${t}" context.`}),n=function(){let{keys:c,callback:d,group:h,runOnlyIf:f=()=>!0,captureCtrl:g=!1,preventDefault:m=!0,stopPropagation:p=!1,relativeToGroup:y,position:S,forwardToContext:w}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(cr(h))throw new Error("You need to define the shortcut's group.");if(It(d)===!1)throw new Error("The shortcut's callback needs to be a function.");if(Array.isArray(c)===!1)throw new Error(kt`Pass the shortcut\'s keys as an array of arrays,\x20
      using the KeyboardEvent.key properties:\x20
      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values.`);const b={callback:d,group:h,runOnlyIf:f,captureCtrl:g,preventDefault:m,stopPropagation:p};xe(y)&&(b.relativeToGroup=y,b.position=S),CI(w)&&(b.forwardToContext=w),c.forEach(C=>{const N=wS(C);if(r.hasItem(N)){const k=r.getItem(N);let R=k.findIndex(I=>I.group===y);R!==-1?S==="before"?R-=1:R+=1:R=k.length,k.splice(R,0,b)}else r.addItem(N,[b])})},i=function(c){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c.forEach(h=>{dt(d,(f,g)=>{Object.prototype.hasOwnProperty.call(h,g)===!1&&(h[g]=d[g])}),n(h)})},s=c=>{const d=wS(c);r.removeItem(d)};return{__kindOf:yG,scope:e,addShortcut:n,addShortcuts:i,getShortcuts:c=>{const d=wS(c),h=r.getItem(d);return xe(h)?h.slice():[]},hasShortcut:c=>{const d=wS(c);return r.hasItem(d)},removeShortcutsByKeys:s,removeShortcutsByGroup:c=>{r.getItems().forEach(h=>{let[f,g]=h;const m=g.filter(p=>p.group!==c);m.length===0?s(gke(f)):(g.length=0,g.push(...m))})}}};function pke(){const t=new Set;return{press(e){t.add(e)},release(e){t.delete(e)},releaseAll(){t.clear()},isPressed(e){return t.has(e)}}}const yke=["meta","alt","shift","control"],N0=pke(),M0=[];let bS=0;function vke(t,e,r,n,i){const s=g=>yke.includes(g),o=function(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const p=[];return g.altKey&&p.push("alt"),m&&(g.ctrlKey||g.metaKey)?p.push("control/meta"):(g.ctrlKey&&p.push("control"),g.metaKey&&p.push("meta")),g.shiftKey&&p.push("shift"),p},a=g=>{if(e(g)===!1||r(g)===!1||g.keyCode===229||typeof g.key!="string"||Sh(g))return;const p=Ck(g);let y=[];s(p)||(y=o(g));const S=[p].concat(y);!i(g,S)&&(s3()&&y.includes("meta")||!s3()&&y.includes("control"))&&i(g,[p].concat(o(g,!0))),n(g)},l=g=>{if(typeof g.key=="string"){const m=Ck(g);s(m)&&N0.press(m)}},c=g=>{if(typeof g.key=="string"){const m=Ck(g);s(m)&&N0.release(m)}},d=()=>{N0.releaseAll()};return{mount:()=>{let g=t;for(bS+=1;g;)bS===1&&(g.document.documentElement.addEventListener("keydown",l),M0.push({event:"keydown",listener:l}),g.document.documentElement.addEventListener("keyup",c),M0.push({event:"keyup",listener:c})),g.document.documentElement.addEventListener("keydown",a),g.document.documentElement.addEventListener("blur",d),g=hd(g)},unmount:()=>{let g=t;for(bS-=1;g;){if(bS===0){for(let m=0;m<M0.length;m++){const{event:p,listener:y}=M0[m];g.document.documentElement.removeEventListener(p,y)}M0.length=0}g.document.documentElement.removeEventListener("keydown",a),g.document.documentElement.removeEventListener("blur",d),g=hd(g)}},isPressed:g=>N0.isPressed(g),releasePressedKeys:()=>N0.releaseAll()}}const wke=t=>{let{ownerWindow:e,handleEvent:r,beforeKeyDown:n,afterKeyDown:i}=t;const s=Hw({errorIdExists:y=>`The "${y}" context name is already registered.`});let o="grid";const a=function(y){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"table";const w=mke(y,S);return s.addItem(y,w),w},l=()=>o,c=y=>s.getItem(y),d=function(y){var S;let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"table";return(S=c(y))!==null&&S!==void 0?S:a(y,w)},h=y=>{if(!s.hasItem(y))throw new Error(kt`You've tried to activate the "${y}" shortcut context\x20
        that does not exist. Before activation, register the context using the "addContext" method.`);o=y};let f=!1;const g=function(y,S){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l();const b=CI(w)?w:c(w);let C=!1;if(!b.hasShortcut(S))return C;const N=b.getShortcuts(S);for(let P=0;P<N.length;P++){const{callback:k,runOnlyIf:R,preventDefault:I,stopPropagation:O,captureCtrl:Z,forwardToContext:q}=N[P];if(R(y)===!0){if(f=Z,C=k(y,S)===!1,f=!1,I&&y.preventDefault(),O&&(Eo(y),y.stopPropagation()),C)break;q&&g(y,S,q)}}return C},p=vke(e,y=>{const S=l(),w=CI(S)?S:c(S);return r(y,w.scope)},n,i,g);return p.mount(),{addContext:a,getActiveContextName:l,getContext:c,getOrCreateContext:d,setActiveContextName:h,isCtrlPressed:()=>!f&&(p.isPressed("control")||p.isPressed("meta")),releasePressedKeys:()=>p.releasePressedKeys(),destroy:()=>p.unmount()}};function R6(t){const{classNames:e}=Zwe(t,/ht-theme-[a-zA-Z0-9_-]+/);return e.pop()}function bke(t,e){vG(t,e),e.add(t)}function Bl(t,e,r){vG(t,e),e.set(t,r)}function vG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Rr(t,e){return t.get(sa(t,e))}function Ji(t,e,r){return t.set(sa(t,e),r),r}function sa(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const E6=23;var _k=new WeakMap,Da=new WeakMap,A1=new WeakMap,Yj=new WeakMap,_I=new WeakMap,vu=new WeakMap,Sy=new WeakMap,Fv=new WeakMap,I0=new WeakMap,rl=new WeakSet;class Ske{constructor(e){let{hot:r,rootElement:n,rootDocument:i,onThemeChange:s=()=>{}}=e;bke(this,rl),Bl(this,_k,void 0),Bl(this,Da,void 0),Bl(this,A1,void 0),Bl(this,Yj,void 0),Bl(this,_I,void 0),Bl(this,vu,!0),Bl(this,Sy,{}),Bl(this,Fv,{}),Bl(this,I0,void 0),Ji(_k,this,r),Ji(A1,this,n),Ji(_I,this,i),Ji(I0,this,s)}isClassicTheme(){return Rr(vu,this)}getCSSVariableValue(e){var r;if(Rr(vu,this))return null;if(Rr(Sy,this)[`--ht-${e}`])return Rr(Sy,this)[`--ht-${e}`];const n=(r=sa(rl,this,_ke).call(this,`--ht-${e}`))!==null&&r!==void 0?r:sa(rl,this,wG).call(this,`--ht-${e}`);if(n!==null)return Rr(Sy,this)[`--ht-${e}`]=n,n}getStyleForTD(e){var r;return(r=Rr(Fv,this))===null||r===void 0?void 0:r.td[e]}getDefaultRowHeight(e){if(Rr(vu,this))return E6;const r=sa(rl,this,xke).call(this);return r?e!==void 0&&e===Rr(_k,this).view.getFirstRenderedVisibleRow()?r+1:r:E6}areCellsBorderBox(){return this.getStyleForTD("box-sizing")==="border-box"}useTheme(e){if(!e){Ji(Da,this,void 0),Ji(vu,this,!0),Rr(I0,this).call(this,Rr(Da,this)),sa(rl,this,Rk).call(this);return}if(e&&e!==Rr(Da,this)){if(!/ht-theme-.*/.test(e)){at(`Invalid theme name: ${e}. Please provide a valid theme name.`),Ji(Da,this,void 0),Ji(vu,this,!1),Rr(I0,this).call(this,Rr(Da,this)),sa(rl,this,Rk).call(this);return}Rr(Da,this)&&sa(rl,this,Rke).call(this),Ji(Da,this,e),Ji(vu,this,!1),Rr(I0,this).call(this,Rr(Da,this)),sa(rl,this,Rk).call(this)}}getThemeName(){return Rr(Da,this)}}function xke(){const t=this.getCSSVariableValue("line-height"),e=this.getCSSVariableValue("cell-vertical-padding"),r=Math.ceil(parseFloat(this.getStyleForTD("border-bottom-width")));return t===null||e===null||isNaN(r)?null:t+2*e+r}function Rk(){this.isClassicTheme()||Ji(Yj,this,getComputedStyle(Rr(A1,this)));const t=sa(rl,this,Cke).call(this,["box-sizing","border-bottom-width"]);Rr(Fv,this).td={...Rr(Fv,this).td,"box-sizing":t["box-sizing"],"border-bottom-width":t["border-bottom-width"]}}function Cke(t){const e=Rr(_I,this),r=Rr(A1,this),n=e.createElement("table"),i=e.createElement("tbody"),s=e.createElement("tr"),o=e.createElement("tr"),a=e.createElement("td");o.appendChild(a),i.appendChild(s),i.appendChild(o),n.appendChild(i),r.appendChild(n);const l=getComputedStyle(a),c={};return t.forEach(d=>{c[d]=l.getPropertyValue(d)}),r.removeChild(n),c}function _ke(t){const e=Math.ceil(parseFloat(sa(rl,this,wG).call(this,t)));return Number.isNaN(e)?null:e}function wG(t){const e=Rr(Yj,this).getPropertyValue(t);return e===""?null:e}function Rke(){Ji(Fv,this,{}),Ji(Sy,this,{}),Ji(vu,this,!0)}let Os=null,uC=0;function Eke(t){const e=t.ownerDocument;if(!Os){Os=e.createElement("div"),Os.setAttribute("role","status"),Os.setAttribute("aria-live","assertive"),Os.setAttribute("aria-atomic","true");const r=Os.style;r.position="absolute",r.width="1px",r.height="1px",r.margin="-1px",r.overflow="hidden",r.clipPath="rect(0 0 0 0)",r.whiteSpace="nowrap",t.appendChild(Os)}uC+=1}function Tke(){uC!==0&&(uC===1&&(Os.remove(),Os=null),uC-=1)}function kke(t){Os&&(Os.textContent="",setTimeout(()=>{Os&&(Os.textContent=t)},100))}let Ek=null;const SS=new WeakSet,Tk=new Map;function bG(t,e){var r,n,i=this;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=this;const a=new Sa(o);let l,c,d,h,f,g,m=!0;const p={...e.initialState,...e};b_e(s)&&w_e(this),this.rootContainer=t,this.rootWrapperElement=void 0,this.rootGridElement=void 0,this.rootPortalElement=void 0,this.rootElement=Ja(this)?t.ownerDocument.createElement("div"):t,this.rootDocument=t.ownerDocument,this.rootWindow=this.rootDocument.defaultView,Ja(this)&&(this.rootWrapperElement=this.rootDocument.createElement("div"),this.rootGridElement=this.rootDocument.createElement("div"),this.rootPortalElement=this.rootDocument.createElement("div"),oe(this.rootElement,["ht-wrapper","handsontable"]),oe(this.rootWrapperElement,"ht-root-wrapper"),oe(this.rootGridElement,"ht-grid"),this.rootGridElement.appendChild(this.rootElement),this.rootWrapperElement.appendChild(this.rootGridElement),this.rootContainer.appendChild(this.rootWrapperElement),oe(this.rootPortalElement,"ht-portal"),this.rootDocument.body.appendChild(this.rootPortalElement)),this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;const y=(r=p==null?void 0:p.layoutDirection)!==null&&r!==void 0?r:"inherit",S=["rtl","ltr"].includes(y)?y:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",S),(n=this.rootWrapperElement)===null||n===void 0||n.setAttribute("dir",S),this.isRtl=function(){return S==="rtl"},this.isLtr=function(){return!o.isRtl()},this.getDirectionFactor=function(){return o.isLtr()?1:-1},this.stylesHandler=new Ske({hot:o,rootElement:o.rootElement,rootDocument:o.rootDocument,onThemeChange:v=>{Ja(this)&&(Re(this.rootWrapperElement,/ht-theme-.*/g),Re(this.rootPortalElement,/ht-theme-.*/g),v&&(oe(this.rootWrapperElement,v),oe(this.rootPortalElement,v),getComputedStyle(this.rootWrapperElement).getPropertyValue("--ht-line-height")||at(`The "${v}" theme is enabled, but its stylesheets are missing or not imported correctly.               Import the correct CSS files in order to use that theme.`)))}}),p.language=PRe(p.language);const w=Object.fromEntries(Object.entries(p).filter(v=>{let[x]=v;return!(_e.getSingleton().isRegistered(x)||_e.getSingleton().isDeprecated(x))})),b=new hG(o,w,[HEe,WEe]),C=b.getTableMeta(),N=b.getGlobalMeta(),P=Hw();this.container=this.rootDocument.createElement("div"),this.rootElement.insertBefore(this.container,this.rootElement.firstChild),this.guid=`ht_${A9()}`,Tk.set(this.guid,this),this.columnIndexMapper=new pI,this.rowIndexMapper=new pI,this.columnIndexMapper.addLocalHook("indexesSequenceChange",v=>{o.runHooks("afterColumnSequenceChange",v)}),this.rowIndexMapper.addLocalHook("indexesSequenceChange",v=>{o.runHooks("afterRowSequenceChange",v)}),a.addEventListener(this.rootDocument.documentElement,"compositionstart",v=>{o.runHooks("beforeCompositionStart",v)}),c=new V_e(o);const k=No(this.guid);k.register("cellRangeMapper",new zEe({rowIndexMapper:this.rowIndexMapper,columnIndexMapper:this.columnIndexMapper})),(!this.rootElement.id||this.rootElement.id.substring(0,3)==="ht_")&&(this.rootElement.id=this.guid);const R=v=>{const{row:x,col:E}=v;return o._createCellCoords(x>=0?o.rowIndexMapper.getRenderableFromVisualIndex(x):x,E>=0?o.columnIndexMapper.getRenderableFromVisualIndex(E):E)},I=v=>{const{row:x,col:E}=v;return o._createCellCoords(x>=0?o.rowIndexMapper.getVisualFromRenderableIndex(x):x,E>=0?o.columnIndexMapper.getVisualFromRenderableIndex(E):E)},O=(v,x)=>{const E=x>v?1:-1,D=Math.min(v,x),Y=Math.max(v,x),_=o.rowIndexMapper.getNearestNotHiddenIndex(v,E);return _===null||E===1&&_>Y||E===-1&&_<D?null:_>=0?o.rowIndexMapper.getRenderableFromVisualIndex(_):_},Z=(v,x)=>{const E=x>v?1:-1,D=Math.min(v,x),Y=Math.max(v,x),_=o.columnIndexMapper.getNearestNotHiddenIndex(v,E);return _===null||E===1&&_>Y||E===-1&&_<D?null:_>=0?o.columnIndexMapper.getRenderableFromVisualIndex(_):_};let q=new cG(C,{rowIndexMapper:o.rowIndexMapper,columnIndexMapper:o.columnIndexMapper,countCols:()=>o.countCols(),countRows:()=>o.countRows(),propToCol:v=>l.propToCol(v),isEditorOpened:()=>o.getActiveEditor()?o.getActiveEditor().isOpened():!1,countRenderableColumns:()=>this.view.countRenderableColumns(),countRenderableRows:()=>this.view.countRenderableRows(),countRowHeaders:()=>this.countRowHeaders(),countColHeaders:()=>this.countColHeaders(),countRenderableRowsInRange:function(){return i.view.countRenderableRowsInRange(...arguments)},countRenderableColumnsInRange:function(){return i.view.countRenderableColumnsInRange(...arguments)},getShortcutManager:()=>o.getShortcutManager(),createCellCoords:(v,x)=>o._createCellCoords(v,x),createCellRange:(v,x,E)=>o._createCellRange(v,x,E),visualToRenderableCoords:R,renderableToVisualCoords:I,findFirstNonHiddenRenderableRow:O,findFirstNonHiddenRenderableColumn:Z,isDisabledCellSelection:(v,x)=>v<0||x<0?o.getSettings().disableVisualSelection:o.getCellMeta(v,x).disableVisualSelection});this.selection=q;const J=v=>{let{hiddenIndexesChanged:x}=v;this.forceFullRender=!0,x&&this.selection.commit()};this.columnIndexMapper.addLocalHook("cacheUpdated",v=>{J(v),this.runHooks("afterColumnSequenceCacheUpdate",v)}),this.rowIndexMapper.addLocalHook("cacheUpdated",v=>{J(v),this.runHooks("afterRowSequenceCacheUpdate",v)}),this.selection.addLocalHook("afterSetRangeEnd",(v,x)=>{const E=$s(!1),D=this.selection.getSelectedRange(),{from:Y,to:_}=D.current(),T=D.size()-1;this.runHooks("afterSelection",Y.row,Y.col,_.row,_.col,E,T),this.runHooks("afterSelectionByProp",Y.row,o.colToProp(Y.col),_.row,o.colToProp(_.col),E,T),x&&(!E.isTouched()||E.isTouched()&&!E.value)&&g.scrollTo(v);const M=q.isSelectedByRowHeader(),$=q.isSelectedByColumnHeader();M&&$?oe(this.rootElement,["ht__selection--rows","ht__selection--columns"]):M?(Re(this.rootElement,"ht__selection--columns"),oe(this.rootElement,"ht__selection--rows")):$?(Re(this.rootElement,"ht__selection--rows"),oe(this.rootElement,"ht__selection--columns")):Re(this.rootElement,["ht__selection--rows","ht__selection--columns"]),["shift","refresh"].includes(q.getSelectionSource())||h.closeEditor(null),q.getSelectionSource()!=="refresh"&&(o.view.render(),h.prepareEditor())}),this.selection.addLocalHook("beforeSetFocus",v=>{this.runHooks("beforeSelectionFocusSet",v.row,v.col)}),this.selection.addLocalHook("afterSetFocus",v=>{const x=$s(!1);this.runHooks("afterSelectionFocusSet",v.row,v.col,x),(!x.isTouched()||x.isTouched()&&!x.value)&&g.scrollTo(v),h.closeEditor(),o.view.render(),h.prepareEditor()}),this.selection.addLocalHook("afterSelectionFinished",v=>{const x=v.length-1,{from:E,to:D}=v[x];this.runHooks("afterSelectionEnd",E.row,E.col,D.row,D.col,x),this.runHooks("afterSelectionEndByProp",E.row,o.colToProp(E.col),D.row,o.colToProp(D.col),x),q.getSelectionSource()==="refresh"&&(o.view.render(),h.prepareEditor())}),this.selection.addLocalHook("afterIsMultipleSelection",v=>{const x=this.runHooks("afterIsMultipleSelection",v.value);v.value&&(v.value=x)}),this.selection.addLocalHook("afterDeselect",()=>{h.closeEditor(),o.view.render(),Re(this.rootElement,["ht__selection--rows","ht__selection--columns"]),this.runHooks("afterDeselect")}),this.selection.addLocalHook("beforeHighlightSet",()=>this.runHooks("beforeSelectionHighlightSet")).addLocalHook("beforeSetRangeStart",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("beforeSetRangeStart",...x)}).addLocalHook("beforeSetRangeStartOnly",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("beforeSetRangeStartOnly",...x)}).addLocalHook("beforeSetRangeEnd",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("beforeSetRangeEnd",...x)}).addLocalHook("beforeSelectColumns",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("beforeSelectColumns",...x)}).addLocalHook("afterSelectColumns",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("afterSelectColumns",...x)}).addLocalHook("beforeSelectRows",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("beforeSelectRows",...x)}).addLocalHook("afterSelectRows",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("afterSelectRows",...x)}).addLocalHook("beforeSelectAll",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("beforeSelectAll",...x)}).addLocalHook("afterSelectAll",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("afterSelectAll",...x)}).addLocalHook("beforeModifyTransformStart",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("modifyTransformStart",...x)}).addLocalHook("afterModifyTransformStart",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("afterModifyTransformStart",...x)}).addLocalHook("beforeModifyTransformFocus",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("modifyTransformFocus",...x)}).addLocalHook("afterModifyTransformFocus",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("afterModifyTransformFocus",...x)}).addLocalHook("beforeModifyTransformEnd",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("modifyTransformEnd",...x)}).addLocalHook("afterModifyTransformEnd",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("afterModifyTransformEnd",...x)}).addLocalHook("beforeRowWrap",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("beforeRowWrap",...x)}).addLocalHook("beforeColumnWrap",function(){for(var v=arguments.length,x=new Array(v),E=0;E<v;E++)x[E]=arguments[E];return i.runHooks("beforeColumnWrap",...x)}).addLocalHook("insertRowRequire",v=>this.alter("insert_row_above",v,1,"auto")).addLocalHook("insertColRequire",v=>this.alter("insert_col_start",v,1,"auto")),d={alter(v,x){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=arguments.length>3?arguments[3]:void 0,Y=arguments.length>4?arguments[4]:void 0;const _=T=>{if(T.length===0)return[];const M=[...T];return M.sort((j,A)=>{let[U]=j,[L]=A;return U===L?0:U>L?1:-1}),gs(M,(j,A)=>{let[U,L]=A;const V=j[j.length-1],[X,K]=V,se=X+K;if(U<=se){const we=Math.max(L-(se-U),0);V[1]+=we}else j.push([U,L]);return j},[M[0]])};switch(v){case"insert_row_below":case"insert_row_above":const T=o.countSourceRows();if(C.maxRows===T)return;const M=v==="insert_row_below"?"below":"above";x=x??(M==="below"?T:0);const{delta:$,startPhysicalIndex:j}=l.createRow(x,E,{source:D,mode:M});q.shiftRows(o.toVisualRow(j),$);break;case"insert_col_start":case"insert_col_end":const A=v==="insert_col_end"?"end":"start";x=x??(A==="end"?o.countSourceCols():0);const{delta:U,startPhysicalIndex:L}=l.createCol(x,E,{source:D,mode:A});if(U){if(Array.isArray(C.colHeaders)){const K=[o.toVisualColumn(L),0];K.length+=U,Array.prototype.splice.apply(C.colHeaders,K)}q.shiftColumns(o.toVisualColumn(L),U)}break;case"remove_row":const V=K=>{let se=0;B(K,we=>{let[pe,He]=we;const Je=Yr(pe)?o.countRows()-1:Math.max(pe-se,0);if(Number.isInteger(pe)&&(pe=Math.max(pe-se,0)),!l.removeRow(pe,He,D))return;if(q.isSelected()){const{row:_t}=o.getSelectedRangeActive().highlight;_t>=pe&&_t<=pe+He-1&&h.closeEditor(!0)}const Oe=o.countRows(),Ue=C.fixedRowsTop;Ue>=Je+1&&(C.fixedRowsTop-=Math.min(He,Ue-Je));const vt=C.fixedRowsBottom;if(vt&&Je>=Oe-vt&&(C.fixedRowsBottom-=Math.min(He,vt)),Oe===0)q.deselect();else if(D==="ContextMenu.removeRow"){const _t=q.getSelectedRange(),te=_t.pop();_t.clear().set(te.from).current().setTo(te.to),q.refresh()}else q.shiftRows(pe,-He);se+=He})};Array.isArray(x)?V(_(x)):V([[x,E]]);break;case"remove_col":const X=K=>{let se=0;B(K,we=>{let[pe,He]=we;const Je=Yr(pe)?o.countCols()-1:Math.max(pe-se,0);let ht=o.toPhysicalColumn(Je);if(Number.isInteger(pe)&&(pe=Math.max(pe-se,0)),!l.removeCol(pe,He,D))return;if(q.isSelected()){const{col:_t}=o.getSelectedRangeActive().highlight;_t>=pe&&_t<=pe+He-1&&h.closeEditor(!0)}if(o.countCols()===0)q.deselect();else if(D==="ContextMenu.removeColumn"){const _t=q.getSelectedRange(),te=_t.pop();_t.clear().set(te.from).current().setTo(te.to),q.refresh()}else q.shiftColumns(pe,-He);const vt=C.fixedColumnsStart;vt>=Je+1&&(C.fixedColumnsStart-=Math.min(He,vt-Je)),Array.isArray(C.colHeaders)&&(typeof ht>"u"&&(ht=-1),C.colHeaders.splice(ht,He)),se+=He})};Array.isArray(x)?X(_(x)):X([[x,E]]);break;default:throw new Error(`There is no such action "${v}"`)}Y||d.adjustRowsAndCols(),o.view.adjustElementsSize(),o.view.render()},adjustRowsAndCols(){const v=C.minRows,x=C.minSpareRows,E=C.minCols,D=C.minSpareCols;if(v){const Y=o.countRows();Y<v&&l.createRow(Y,v-Y,{source:"auto"})}if(x){const Y=o.countEmptyRows(!0);if(Y<x){const _=x-Y,T=Math.min(_,C.maxRows-o.countSourceRows());l.createRow(o.countRows(),T,{source:"auto"})}}{let Y;(E||D)&&(Y=o.countEmptyCols(!0));let _=o.countCols();if(E&&!C.columns&&_<E){const T=E-_;Y+=T,l.createCol(_,T,{source:"auto"})}if(D&&!C.columns&&o.dataType==="array"&&Y<D){_=o.countCols();const T=D-Y,M=Math.min(T,C.maxCols-_);l.createCol(_,M,{source:"auto"})}}},populateFromArray(v,x,E,D,Y){let _,T,M,$;const j=[],A={},U=[],L=v.row,V=v.col;if(T=x.length,T===0)return!1;let X=0,K=0;switch(Le(E)&&(X=E.col-V+1,K=E.row-L+1),Y){case"shift_down":const we=nC(x),pe=we.length,He=Math.max(pe,X),Je=o.getData().slice(L),ht=nC(Je).slice(V,V+He);for(M=0;M<He;M+=1)if(M<pe){for(_=0,T=we[M].length;_<K-T;_+=1)we[M].push(we[M][_%T]);M<ht.length?U.push(we[M].concat(ht[M])):U.push(we[M].concat(new Array(Je.length).fill(null)))}else U.push(we[M%pe].concat(ht[M]));o.populateFromArray(L,V,nC(U));break;case"shift_right":const Oe=x.length,Ue=Math.max(Oe,K),vt=o.getData().slice(L).map(qe=>qe.slice(V));for(_=0;_<Ue;_+=1)if(_<Oe){for(M=0,$=x[_].length;M<X-$;M+=1)x[_].push(x[_][M%$]);if(_<vt.length)for(let qe=0;qe<vt[_].length;qe+=1)x[_].push(vt[_][qe]);else x[_].push(...new Array(vt[0].length).fill(null))}else x.push(x[_%T].slice(0,Ue).concat(vt[_]));o.populateFromArray(L,V,x);break;case"overwrite":default:A.row=v.row,A.col=v.col;let _t=0,te=0,We=!0,Ye;const Nt=function(Qn){let Or=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const nr=x[Qn%x.length];return Or!==null?nr[Or%nr.length]:nr},De=x.length,rt=E?E.row-v.row+1:0;for(E?T=rt:T=Math.max(De,rt),_=0;_<T&&!(E&&A.row>E.row&&rt>De||!C.allowInsertRow&&A.row>o.countRows()-1||A.row>=C.maxRows);_++){const qe=_-_t,Qn=Nt(qe).length,Or=E?E.col-v.col+1:0;if(E?$=Or:$=Math.max(Qn,Or),A.col=v.col,Ye=o.getCellMeta(A.row,A.col),(D==="CopyPaste.paste"||D==="Autofill.fill")&&Ye.skipRowOnPaste){_t+=1,A.row+=1,T+=1;continue}for(te=0,M=0;M<$;M++){var se;if(E&&A.col>E.col&&Or>Qn||!C.allowInsertColumn&&A.col>o.countCols()-1||A.col>=C.maxCols)break;if(Ye=o.getCellMeta(A.row,A.col),(D==="CopyPaste.paste"||D==="Autofill.fill")&&Ye.skipColumnOnPaste){te+=1,A.col+=1,$+=1;continue}if(Ye.readOnly&&D!=="UndoRedo.undo"){A.col+=1;continue}const nr=M-te,Gt=!!Ye.valueSetter;let fr=Nt(qe,nr),Rt=(se=o.getSourceDataAtCell(A.row,A.col))!==null&&se!==void 0?se:null;if(fr!==null&&typeof fr=="object"){if(Array.isArray(fr)&&Rt===null&&(Rt=[]),!Gt&&(typeof Rt!="object"||Rt===null))We=!1;else if(Rt!==null){const gr=jv(Array.isArray(Rt)?Rt:Rt[0]||Rt),an=jv(Array.isArray(fr)?fr:fr[0]||fr);Gt||pR(gr,an)||Array.isArray(gr)&&Array.isArray(an)?fr=Di(fr):We=!1}}else!Gt&&Rt!==null&&typeof Rt=="object"&&(We=!1);We&&j.push([A.row,A.col,fr]),We=!0,A.col+=1}A.row+=1}o.setDataAtCell(j,null,null,D||"populateFromArray");break}}};function re(v){const x=qY(v);Fj(x)?(o.runHooks("beforeLanguageChange",x),N.language=x,o.runHooks("afterLanguageChange",x)):XY(v)}function ue(v,x){const E=v==="className"?o.rootElement:o.table;if(m)oe(E,x);else{let D=[],Y=[];N[v]&&(D=Array.isArray(N[v])?N[v]:WF(N[v])),x&&(Y=Array.isArray(x)?x:WF(x));const _=VF(D,Y),T=VF(Y,D);_.length&&Re(E,_),T.length&&oe(E,T)}N[v]=x}this.init=function(){c.setData(C.data),o.runHooks("beforeInit"),(bl()||R2())&&oe(o.rootElement,"mobile"),this.updateSettings(p,!0),this.view=new __e(this),h=dI.getInstance(o,C,q),g=JEe(o),f.init(),Ja(this)&&(Eke(o.rootPortalElement),Fve(p.licenseKey,this.rootWrapperElement)),o.runHooks("init"),this.render(),m&&o.rootElement.offsetParent===null&&lbe(o.rootElement,()=>{o.view._wt.wtOverlays.updateLastSpreaderSize(),o.view.adjustElementsSize(),o.render()}),typeof m=="object"&&(o.runHooks("afterChange",m[0],m[1]),m=!1),o.runHooks("afterInit")};function ve(){let v=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue(){this.validatorsInQueue+=1,v=!1},removeValidatorFormQueue(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty(){},checkIfQueueIsEmpty(){this.validatorsInQueue===0&&v===!1&&(v=!0,this.onQueueEmpty(this.valid))}}}function be(v,x,E){if(!v.length){E();return}const D=o.getActiveEditor(),Y=new ve;let _=!0;Y.onQueueEmpty=()=>{D&&_&&D.cancelChanges(),E()};for(let T=v.length-1;T>=0;T--){const[M,$,,j]=v[T],A=l.propToCol($);let U;Number.isInteger(A)?U=o.getCellMeta(M,A):U={...Object.getPrototypeOf(C),...C},o.getCellValidator(U)&&(Y.addValidatorToQueue(),o.validateCell(j,U,function(L,V){return function(X){if(typeof X!="boolean")throw new Error("Validation error: result is not boolean");X===!1&&V.allowInvalid===!1&&(_=!1,v.splice(L,1),V.valid=!0),Y.removeValidatorFormQueue()}}(T,U),x))}Y.checkIfQueueIsEmpty()}function ie(v,x){for(let D=v.length-1;D>=0;D--){let Y=!1;if(v[D]===null){v.splice(D,1);continue}if(!((v[D][2]===null||v[D][2]===void 0)&&(v[D][3]===null||v[D][3]===void 0))){if(C.allowInsertRow)for(;v[D][0]>o.countRows()-1;){const{delta:_}=l.createRow(void 0,void 0,{source:"auto"});if(_===0){Y=!0;break}}if(o.dataType==="array"&&(!C.columns||C.columns.length===0)&&C.allowInsertColumn)for(;l.propToCol(v[D][1])>o.countCols()-1;){const{delta:_}=l.createCol(void 0,void 0,{source:"auto"});if(_===0){Y=!0;break}}Y||l.set(v[D][0],v[D][1],v[D][3])}}if(v.length>0){d.adjustRowsAndCols(),o.runHooks("beforeChangeRender",v,x),h.closeEditor(),o.view.adjustElementsSize(),o.render(),h.prepareEditor(),o.runHooks("afterChange",v,x||"edit");const D=o.getActiveEditor();D&&xe(D.refreshValue)&&D.refreshValue()}else o.render()}this._createCellCoords=function(v,x){return o.view._wt.createCellCoords(v,x)},this._createCellRange=function(v,x,E){return o.view._wt.createCellRange(v,x,E)},this.validateCell=function(v,x,E,D){let Y=o.getCellValidator(x);function _(T){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)||x.hidden===!0){E(T);return}const $=x.visualCol,j=x.visualRow,A=o.getCell(j,$,!0);if(A&&A.nodeName!=="TH"){const U=o.rowIndexMapper.getRenderableFromVisualIndex(j),L=o.columnIndexMapper.getRenderableFromVisualIndex($);o.view._wt.getSetting("cellRenderer",U,L,A)}E(T)}Dve(Y)&&(Y=function(T){return function(M,$){$(T.test(M))}}(Y)),It(Y)?(v=o.runHooks("beforeValidate",v,x.visualRow,x.prop,D),o._registerImmediate(()=>{Y.call(x,v,T=>{o&&(T=o.runHooks("afterValidate",T,v,x.visualRow,x.prop,D),x.valid=T,_(T),o.runHooks("postAfterValidate",T,v,x.visualRow,x.prop,D))})})):o._registerImmediate(()=>{x.valid=!0,_(x.valid,!1)})};function ee(v,x,E){return Array.isArray(v)?v:[[v,x,E]]}function ce(v,x){const E=o.runHooks("beforeChange",v,x||"edit"),D=v.filter(_=>_!==null);if(E===!1||D.length===0){var Y;return(Y=o.getActiveEditor())===null||Y===void 0||Y.cancelChanges(),[]}for(let _=D.length-1;_>=0;_--){const[T,M,,$]=D[_],j=l.propToCol(M);let A;Number.isInteger(j)?A=o.getCellMeta(T,j):A={...Object.getPrototypeOf(C),...C},D[_][3]=Sk($,A)}return D}this.setDataAtCell=function(v,x,E,D){const Y=ee(v,x,E),_=[];let T=D,M,$,j;for(M=0,$=Y.length;M<$;M++){const[U,L,V]=Y[M];if(typeof Y[M]!="object")throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if(typeof L!="number")throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");L>=this.countCols()?j=L:j=l.colToProp(L),_.push([U,j,c.getAtCell(this.toPhysicalRow(U),L),V])}!T&&typeof v=="object"&&(T=x);const A=ce(_,T);o.runHooks("afterSetDataAtCell",A,T),be(A,T,()=>{ie(A,T)})},this.setDataAtRowProp=function(v,x,E,D){const Y=ee(v,x,E),_=[];let T=D,M,$;for(M=0,$=Y.length;M<$;M++){const[A,U,L]=Y[M];_.push([A,U,c.getAtCell(this.toPhysicalRow(A),U),L])}!T&&typeof v=="object"&&(T=x);const j=ce(_,D);o.runHooks("afterSetDataAtRowProp",j,T),be(j,T,()=>{ie(j,T)})},this.listen=function(){o&&!o.isListening()&&(Tk.forEach(v=>{o!==v&&v.unlisten()}),Ek=o.guid,o.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(Ek=null,o.runHooks("afterUnlisten"))},this.isListening=function(){return Ek===o.guid},this.destroyEditor=function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;h.closeEditor(v),o.view.render(),x&&q.isSelected()&&h.prepareEditor()},this.populateFromArray=function(v,x,E,D,Y,_,T){if(!(typeof E=="object"&&typeof E[0]=="object"))throw new Error("populateFromArray parameter `input` must be an array of arrays");const M=typeof D=="number"?o._createCellCoords(D,Y):null;return d.populateFromArray(o._createCellCoords(v,x),E,M,_,T)},this.spliceCol=function(v,x,E){for(var D=arguments.length,Y=new Array(D>3?D-3:0),_=3;_<D;_++)Y[_-3]=arguments[_];return l.spliceCol(v,x,E,...Y)},this.spliceRow=function(v,x,E){for(var D=arguments.length,Y=new Array(D>3?D-3:0),_=3;_<D;_++)Y[_-3]=arguments[_];return l.spliceRow(v,x,E,...Y)},this.getSelected=function(){if(q.isSelected())return Tt(q.getSelectedRange(),v=>{let{from:x,to:E}=v;return[x.row,x.col,E.row,E.col]})},this.getSelectedLast=function(){const v=this.getSelected();let x;return v&&v.length>0&&(x=v[v.length-1]),x},this.getSelectedActive=function(){const v=this.getSelectedRangeActive();if(!v)return;const{from:x,to:E}=v;return[x.row,x.col,E.row,E.col]},this.getSelectedRange=function(){if(q.isSelected())return Array.from(q.getSelectedRange())},this.getSelectedRangeLast=function(){const v=this.getSelectedRange();let x;return v&&v.length>0&&(x=v[v.length-1]),x},this.getSelectedRangeActive=function(){return q.getActiveSelectedRange()},this.getActiveSelectionLayerIndex=function(){return q.getActiveSelectionLayerIndex()},this.emptySelectedCells=function(v){if(!q.isSelected()||this.countRows()===0||this.countCols()===0)return;const x=[];B(q.getSelectedRange(),E=>{if(E.isSingleHeader())return;const D=E.getTopStartCorner(),Y=E.getBottomEndCorner();Ie(D.row,Y.row,_=>{Ie(D.col,Y.col,T=>{this.getCellMeta(_,T).readOnly||x.push([_,T,null])})})}),x.length>0&&this.setDataAtCell(x,v)},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){const v=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(v,0),!this.isRenderSuspended()&&v===this.renderSuspendedCounter&&o.view.render()},this.render=function(){this.view&&(this.forceFullRender=!0,this.isRenderSuspended()||o.view.render())},this.batchRender=function(v){this.suspendRender();const x=v();return this.resumeRender(),x},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const x=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(x,0),(!this.isExecutionSuspended()&&x===this.executionSuspendedCounter||v)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(v){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.suspendExecution();const E=v();return this.resumeExecution(x),E},this.batch=function(v){this.suspendRender(),this.suspendExecution();const x=v();return this.resumeExecution(),this.resumeRender(),x},this.refreshDimensions=function(){if(!o.view)return;const v=o.view,{width:x,height:E}=v.getLastSize(),{width:D,height:Y}=o.rootElement.getBoundingClientRect(),_=D!==x||Y!==E;o.runHooks("beforeRefreshDimensions",{width:x,height:E},{width:D,height:Y},_)!==!1&&((_||v._wt.wtOverlays.scrollableElement===o.rootWindow)&&(v.setLastSize(D,Y),v.adjustElementsSize(),o.render()),o.runHooks("afterRefreshDimensions",{width:x,height:E},{width:D,height:Y},_))},this.updateData=function(v,x){f6(v,E=>{l=E},E=>{l=E,o.columnIndexMapper.fitToLength(this.getInitialColumnCount()),o.rowIndexMapper.fitToLength(this.countSourceRows()),d.adjustRowsAndCols(),q.refresh()},{hotInstance:o,dataMap:l,dataSource:c,internalSource:"updateData",source:x,metaManager:b,firstRun:m})},this.loadData=function(v,x){f6(v,E=>{l=E},()=>{b.clearCellsCache(),o.initIndexMappers(),d.adjustRowsAndCols(),q.refresh(),m&&(m=[null,"loadData"])},{hotInstance:o,dataMap:l,dataSource:c,internalSource:"loadData",source:x,metaManager:b,firstRun:m})},this.getInitialColumnCount=function(){const v=C.columns;let x=0;if(Array.isArray(v))x=v.length;else if(It(v))if(o.dataType==="array"){const E=this.countSourceCols();for(let D=0;D<E;D+=1)v(D)&&(x+=1)}else(o.dataType==="object"||o.dataType==="function")&&(x=l.colToPropCache.length);else if(xe(C.dataSchema)){const E=l.getSchema();x=Array.isArray(E)?E.length:_2(E)}else x=this.countSourceCols();return x},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(v,x,E,D){return cr(v)?l.getAll():l.getRange(o._createCellCoords(v,x),o._createCellCoords(E,D),l.DESTINATION_RENDERER)},this.getCopyableText=function(v,x,E,D){return l.getCopyableText(o._createCellCoords(v,x),o._createCellCoords(E,D))},this.getCopyableData=function(v,x){return l.getCopyable(v,l.colToProp(x))},this.getCopyableSourceData=function(v,x){return c.getCopyable(v,l.colToProp(x))},this.getSchema=function(){return l.getSchema()},this.updateSettings=function(v){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const E=(m?o.loadData:o.updateData).bind(this);let D=!1,Y,_;if(xe(v.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(xe(v.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(xe(v.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');xe(v.rowHeights)&&xe(v.minRowHeights)&&at("Both `rowHeights` and `minRowHeights` are defined in your configuration. As one is the alias of the other, only one of them can be used at a time. `rowHeights` will be used as the row height configuration.");for(Y in v)if(!(Y==="data"||Y==="language"))if(Y==="className")ue("className",v.className);else if(Y==="tableClassName"&&o.table)ue("tableClassName",v.tableClassName),o.view._wt.wtOverlays.syncOverlayTableClassNames();else if(_e.getSingleton().isRegistered(Y)||_e.getSingleton().isDeprecated(Y)){const A=v[Y];It(A)?(_e.getSingleton().addAsFixed(Y,A,o),C[Y]=A):Array.isArray(A)&&(_e.getSingleton().add(Y,A,o),C[Y]=A)}else!x&&Ur(v,Y)&&(N[Y]=v[Y]);if(x)o.useTheme(C.themeName||R6(o.rootContainer));else{const A=o.getCurrentThemeName();Ur(v,"themeName")&&A!==v.themeName&&o.useTheme(v.themeName)}SS.has(o)&&o.stylesHandler.getThemeName()!==void 0&&SS.delete(o),Ja(o)&&!SS.has(o)&&o.stylesHandler.isClassicTheme()&&(hY("The stylesheet you are using is deprecated and will be removed in version 17.0. Please update your theme configuration to ensure compatibility with future releases."),SS.add(o)),v.data===void 0&&C.data===void 0?E(null,"updateSettings"):v.data!==void 0?E(v.data,"updateSettings"):v.columns!==void 0&&(l.createMap(),o.initIndexMappers()),!m&&v.language&&re(v.language);const T=o.countCols(),M=C.columns;if(M&&It(M)&&(D=!0),(v.cell!==void 0||v.cells!==void 0||v.columns!==void 0)&&b.clearCache(),T>0)for(Y=0,_=0;Y<T;Y++){if(M){const A=D?M(Y):M[_];A&&b.updateColumnMeta(_,A)}_+=1}xe(v.cell)&&dt(v.cell,A=>{o.setCellMetaObject(A.row,A.col,A)}),o.runHooks("afterCellMetaReset");let $=o.rootElement.style.height;$!==""&&($=parseInt(o.rootElement.style.height,10)),x&&o.rootElement.getAttribute("style")&&o.rootElement.setAttribute("data-initialstyle",o.rootElement.getAttribute("style"));let j=v.height;if(typeof v.height<"u")if(It(j)&&(j=j()),j=o.runHooks("beforeHeightChange",j),j===null){const A=o.rootElement.getAttribute("data-initialstyle");A&&(A.indexOf("height")>-1||A.indexOf("overflow")>-1)?o.rootElement.setAttribute("style",A):(o.rootElement.style.height="",o.rootElement.style.overflow="")}else j!==void 0&&(o.rootElement.style.height=isNaN(j)?`${j}`:`${j}px`,o.rootElement.style.overflow="hidden");if(typeof v.width<"u"){let A=v.width;It(A)&&(A=A()),A=o.runHooks("beforeWidthChange",A),o.rootElement.style.width=isNaN(A)?`${A}`:`${A}px`}x||(o.view&&(o.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),o.view._wt.exportSettingsAsClassNames()),o.runHooks("afterUpdateSettings",v)),d.adjustRowsAndCols(),o.view&&!m&&(o.render(),o.view._wt.wtOverlays.adjustElementsSize()),!x&&o.view&&($===""||j===""||j===void 0)&&$!==j&&o.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){const v=o.getSelectedRangeActive();if(C.getValue){if(It(C.getValue))return C.getValue.call(o);if(v)return o.getData()[v.highlight.row][C.getValue]}else if(v)return o.getDataAtCell(v.highlight.row,v.highlight.col);return null},this.getSettings=function(){return C},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(v,x,E,D,Y){d.alter(v,x,E,D,Y)},this.getCell=function(v,x){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=x,Y=v;if(x>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(x)))return null;D=this.columnIndexMapper.getRenderableFromVisualIndex(x)}if(v>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(v)))return null;Y=this.rowIndexMapper.getRenderableFromVisualIndex(v)}return Y===null||D===null||Y===void 0||D===void 0?null:o.view.getCellAtCoords(o._createCellCoords(Y,D),E)},this.getCoords=function(v){const x=this.view._wt.wtTable.getCoords(v);if(x===null)return null;const{row:E,col:D}=x;let Y=E,_=D;return E>=0&&(Y=this.rowIndexMapper.getVisualFromRenderableIndex(E)),D>=0&&(_=this.columnIndexMapper.getVisualFromRenderableIndex(D)),o._createCellCoords(Y,_)},this.colToProp=function(v){return l.colToProp(v)},this.propToCol=function(v){return l.propToCol(v)},this.toVisualRow=v=>this.rowIndexMapper.getVisualFromPhysicalIndex(v),this.toVisualColumn=v=>this.columnIndexMapper.getVisualFromPhysicalIndex(v),this.toPhysicalRow=v=>this.rowIndexMapper.getPhysicalFromVisualIndex(v),this.toPhysicalColumn=v=>this.columnIndexMapper.getPhysicalFromVisualIndex(v),this.getDataAtCell=function(v,x){return l.get(v,l.colToProp(x))},this.getDataAtRowProp=function(v,x){return l.get(v,x)},this.getDataAtCol=function(v){const x=[],E=l.getRange(o._createCellCoords(0,v),o._createCellCoords(C.data.length-1,v),l.DESTINATION_RENDERER);for(let D=0;D<E.length;D+=1)for(let Y=0;Y<E[D].length;Y+=1)x.push(E[D][Y]);return x},this.getDataAtProp=function(v){const x=[],E=l.getRange(o._createCellCoords(0,l.propToCol(v)),o._createCellCoords(C.data.length-1,l.propToCol(v)),l.DESTINATION_RENDERER);for(let D=0;D<E.length;D+=1)for(let Y=0;Y<E[D].length;Y+=1)x.push(E[D][Y]);return x},this.getSourceData=function(v,x,E,D){let Y;return v===void 0?Y=c.getData():Y=c.getByRange(o._createCellCoords(v,x),o._createCellCoords(E,D)),Y},this.getSourceDataArray=function(v,x,E,D){let Y;return v===void 0?Y=c.getData(!0):Y=c.getByRange(o._createCellCoords(v,x),o._createCellCoords(E,D),!0),Y},this.getSourceDataAtCol=function(v){return c.getAtColumn(v)},this.setSourceDataAtCell=function(v,x,E,D){const Y=ee(v,x,E),_=this.hasHook("afterSetSourceDataAtCell"),T=[],M=(j,A)=>{const U=this.toVisualRow(j),L=this.toVisualColumn(A);return Number.isInteger(L)?this.getCellMeta(U,L):{...Object.getPrototypeOf(C),...C}};_&&B(Y,j=>{let[A,U,L]=j;const V=Sk(L,M(A,U));T.push([A,U,c.getAtCell(A,U),V])}),B(Y,j=>{let[A,U,L]=j;const V=Sk(L,M(A,U));c.setAtCell(A,U,V)}),_&&this.runHooks("afterSetSourceDataAtCell",T,D),this.render();const $=o.getActiveEditor();$&&xe($.refreshValue)&&$.refreshValue()},this.getSourceDataAtRow=function(v){return c.getAtRow(v)},this.getSourceDataAtCell=function(v,x){return c.getAtCell(v,x)},this.getDataAtRow=function(v){return l.getRange(o._createCellCoords(v,0),o._createCellCoords(v,this.countCols()-1),l.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(v,x,E,D){const Y=v===void 0?[0,0,this.countRows(),this.countCols()]:[v,x,E,D],[_,T]=Y;let[,,M,$]=Y,j=null,A=null;M===void 0&&(M=_),$===void 0&&($=T);let U="mixed";return Ie(Math.max(Math.min(_,M),0),Math.max(_,M),L=>{let V=!0;return Ie(Math.max(Math.min(T,$),0),Math.max(T,$),X=>(A=this.getCellMeta(L,X).type,j?V=j===A:j=A,V)),U=V?A:"mixed",V}),U},this.removeCellMeta=function(v,x,E){const[D,Y]=[this.toPhysicalRow(v),this.toPhysicalColumn(x)];let _=b.getCellMetaKeyValue(D,Y,E);o.runHooks("beforeRemoveCellMeta",v,x,E,_)!==!1&&(b.removeCellMeta(D,Y,E),o.runHooks("afterRemoveCellMeta",v,x,E,_)),_=null},this.spliceCellsMeta=function(v){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(var E=arguments.length,D=new Array(E>2?E-2:0),Y=2;Y<E;Y++)D[Y-2]=arguments[Y];if(D.length>0&&!Array.isArray(D[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");x>0&&b.removeRow(this.toPhysicalRow(v),x),D.length>0&&B(D.reverse(),_=>{b.createRow(this.toPhysicalRow(v)),B(_,(T,M)=>this.setCellMetaObject(v,M,T))}),o.render()},this.setCellMetaObject=function(v,x,E){typeof E=="object"&&dt(E,(D,Y)=>{this.setCellMeta(v,x,Y,D)})},this.setCellMeta=function(v,x,E,D){if(o.runHooks("beforeSetCellMeta",v,x,E,D)===!1)return;let _=v,T=x;v<this.countRows()&&(_=this.toPhysicalRow(v)),x<this.countCols()&&(T=this.toPhysicalColumn(x)),b.setCellMeta(_,T,E,D),o.runHooks("afterSetCellMeta",v,x,E,D)},this.getCellsMeta=function(){return b.getCellsMeta()},this.getCellMeta=function(v,x){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{skipMetaExtension:!1},D=this.toPhysicalRow(v),Y=this.toPhysicalColumn(x);return D===null&&(D=v),Y===null&&(Y=x),b.getCellMeta(D,Y,{visualRow:v,visualColumn:x,...E})},this.getColumnMeta=function(v){return b.getColumnMeta(this.toPhysicalColumn(v))},this.getCellMetaAtRow=function(v){return b.getCellsMetaAtRow(v)},this.isColumnModificationAllowed=function(){return!(o.dataType==="object"||C.columns)},this.getCellRenderer=function(v,x){const E=typeof v=="number"?o.getCellMeta(v,x).renderer:v.renderer;return typeof E=="string"?gI(E):cr(E)?gI("text"):E},this.getCellEditor=function(v,x){const E=typeof v=="number"?o.getCellMeta(v,x).editor:v.editor;return typeof E=="string"?uI(E):cr(E)?uI("text"):E},this.getCellValidator=function(v,x){const E=typeof v=="number"?o.getCellMeta(v,x).validator:v.validator;return typeof E=="string"?axe(E):E},this.validateCells=function(v){this._validateCells(v)},this.validateRows=function(v,x){if(!Array.isArray(v))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(x,v)},this.validateColumns=function(v,x){if(!Array.isArray(v))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(x,void 0,v)},this._validateCells=function(v,x,E){const D=new ve;v&&(D.onQueueEmpty=v);let Y=o.countRows()-1;for(;Y>=0;){if(x!==void 0&&x.indexOf(Y)===-1){Y-=1;continue}let _=o.countCols()-1;for(;_>=0;){if(E!==void 0&&E.indexOf(_)===-1){_-=1;continue}D.addValidatorToQueue(),o.validateCell(o.getDataAtCell(Y,_),o.getCellMeta(Y,_),T=>{if(typeof T!="boolean")throw new Error("Validation error: result is not boolean");T===!1&&(D.valid=!1),D.removeValidatorFormQueue()},"validateCells"),_-=1}Y-=1}D.checkIfQueueIsEmpty()},this.getRowHeader=function(v){let x=C.rowHeaders,E=v;return E!==void 0&&(E=o.runHooks("modifyRowHeader",E)),E===void 0?(x=[],Ie(o.countRows()-1,D=>{x.push(o.getRowHeader(D))})):Array.isArray(x)&&x[E]!==void 0?x=x[E]:It(x)?x=x(E):x&&typeof x!="string"&&typeof x!="number"&&(x=E+1),x},this.hasRowHeaders=function(){return!!C.rowHeaders},this.hasColHeaders=function(){if(C.colHeaders!==void 0&&C.colHeaders!==null)return!!C.colHeaders;for(let v=0,x=o.countCols();v<x;v++)if(o.getColHeader(v))return!0;return!1},this.getColHeader=function(v){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;const E=o.runHooks("modifyColHeader",v);if(E===void 0){const M=[],$=o.countCols();for(let j=0;j<$;j++)M.push(o.getColHeader(j));return M}let D=C.colHeaders;const Y=function(M){const $=[],j=o.countCols();let A=0;for(;A<j;A++)It(C.columns)&&C.columns(A)&&$.push(A);return $[M]},_=o.toPhysicalColumn(E),T=Y(_);return C.colHeaders===!1?D=null:C.columns&&It(C.columns)&&C.columns(T)&&C.columns(T).title?D=C.columns(T).title:C.columns&&C.columns[_]&&C.columns[_].title?D=C.columns[_].title:Array.isArray(C.colHeaders)&&C.colHeaders[_]!==void 0?D=C.colHeaders[_]:It(C.colHeaders)?D=C.colHeaders(_):C.colHeaders&&typeof C.colHeaders!="string"&&typeof C.colHeaders!="number"&&(D=j_e(E)),D=o.runHooks("modifyColumnHeaderValue",D,v,x),D},this._getColWidthFromSettings=function(v){let x;if(v>=0&&(x=o.getCellMeta(0,v).width),(x===void 0||x===C.width)&&(x=C.colWidths),x!=null){switch(typeof x){case"object":x=x[v];break;case"function":x=x(v);break}typeof x=="string"&&(x=Number.parseInt(x,10))}return x},this.getColWidth=function(v,x){let E=o._getColWidthFromSettings(v);return E=o.runHooks("modifyColWidth",E,v,x),E===void 0&&(E=ap),E},this._getRowHeightFromSettings=function(v){var x;const E=o.stylesHandler.getDefaultRowHeight(v);let D=(x=C.rowHeights)!==null&&x!==void 0?x:C.minRowHeights;if(D!=null){switch(typeof D){case"object":D=D[v];break;case"function":D=D(v);break}typeof D=="string"&&(D=Number.parseInt(D,10))}return D!=null&&D<E?E:D},this.getRowHeight=function(v,x){let E=o._getRowHeightFromSettings(v);return E=o.runHooks("modifyRowHeight",E,v,x),E},this.countSourceRows=function(){return c.countRows()},this.countSourceCols=function(){return c.countFirstRowKeys()},this.countRows=function(){return l.getLength()},this.countCols=function(){const v=C.maxCols,x=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(v,x)},this.countRenderedRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleColumnsCount():-1},this.countRowHeaders=function(){return this.view.getRowHeadersCount()},this.countColHeaders=function(){return this.view.getColumnHeadersCount()},this.countEmptyRows=function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,x=0;return w3(o.countRows()-1,E=>{if(o.isEmptyRow(E))x+=1;else if(v===!0)return!1}),x},this.countEmptyCols=function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,x=0;return w3(o.countCols()-1,E=>{if(o.isEmptyCol(E))x+=1;else if(v===!0)return!1}),x},this.isEmptyRow=function(v){return C.isEmptyRow.call(o,v)},this.isEmptyCol=function(v){return C.isEmptyCol.call(o,v)},this.selectCell=function(v,x,E,D){let Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,_=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;return cr(v)||cr(x)?!1:this.selectCells([[v,x,E,D]],Y,_)},this.selectCells=function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[[]],x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;x===!1&&g.suspend();const D=q.selectCells(v);return D&&E&&o.listen(),g.resume(),D},this.selectColumns=function(v){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v,E=arguments.length>2?arguments[2]:void 0;return q.selectColumns(v,x,E)},this.selectRows=function(v){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v,E=arguments.length>2?arguments[2]:void 0;return q.selectRows(v,x,E)},this.deselectCell=function(){q.deselect()},this.selectAll=function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v,E=arguments.length>2?arguments[2]:void 0;g.skipNextScrollCycle(),q.selectAll(v,x,E)};const ae=(v,x)=>v.getNearestNotHiddenIndex(x,1,!0);this.scrollViewportTo=function(v,x){if(typeof v=="number"){var E;v={row:arguments[0],col:arguments[1],verticalSnap:arguments[2]?"bottom":"top",horizontalSnap:arguments[3]?"end":"start",considerHiddenIndexes:(E=arguments[4])!==null&&E!==void 0?E:!0}}const{row:D,col:Y,considerHiddenIndexes:_}=v??{};let T=D,M=Y;if(It(x)&&this.addHookOnce("afterScroll",x),_===void 0||_){const U=Number.isInteger(D)&&D>=0,L=Number.isInteger(Y)&&Y>=0,V=U?ae(this.rowIndexMapper,D):void 0,X=L?ae(this.columnIndexMapper,Y):void 0;if(V===null||X===null)return!1;T=U?o.rowIndexMapper.getRenderableFromVisualIndex(V):D,M=L?o.columnIndexMapper.getRenderableFromVisualIndex(X):Y}const $=Number.isInteger(T),j=Number.isInteger(M);let A=!1;return $&&T>=0&&j&&M>=0?A=o.view.scrollViewport(o._createCellCoords(T,M),v.horizontalSnap,v.verticalSnap):$&&T>=0&&(j&&M<0||!j)?A=o.view.scrollViewportVertically(T,v.verticalSnap):j&&M>=0&&($&&T<0||!$)&&(A=o.view.scrollViewportHorizontally(M,v.horizontalSnap)),It(x)&&(A?this.view.render():(this.removeHook("afterScroll",x),this._registerMicrotask(()=>x()))),A},this.scrollToFocusedCell=function(v){if(!this.selection.isSelected())return!1;It(v)&&this.addHookOnce("afterScroll",v);const{highlight:x}=this.getSelectedRangeActive(),E=this.scrollViewportTo(x.toObject());return E?this.view.render():It(v)&&(this.removeHook("afterScroll",v),this._registerMicrotask(()=>v())),E},this.destroy=function(){o._clearTimeouts(),o._clearImmediates(),o.view&&o.view.destroy(),c&&c.destroy(),c=null,Ja(this)&&(Tke(),this.getFocusScopeManager().destroy()),this.getShortcutManager().destroy(),k.clear(),b.clearCache(),Tk.delete(this.guid),a.destroy(),h&&h.destroy(),o.rootContainer&&Ic(o.rootContainer),o.rootPortalElement&&o.rootPortalElement.remove(),o.batchExecution(()=>{o.rowIndexMapper.unregisterAll(),o.columnIndexMapper.unregisterAll(),P.getItems().forEach(v=>{let[,x]=v;x.destroy()}),P.clear(),o.runHooks("afterDestroy")},!0),_e.getSingleton().destroy(o),dt(o,(v,x,E)=>{It(v)?E[x]=ye(x):x!=="guid"&&(E[x]=null)}),o.isDestroyed=!0,l&&l.destroy(),l=null,d=null,q=null,h=null,o=null};function ye(v){return()=>{throw new Error(`The "${v}" method cannot be called because this Handsontable instance has been destroyed`)}}this.getActiveEditor=function(){return h.getActiveEditor()},this.getFirstRenderedVisibleRow=function(){return o.view.getFirstRenderedVisibleRow()},this.getLastRenderedVisibleRow=function(){return o.view.getLastRenderedVisibleRow()},this.getFirstRenderedVisibleColumn=function(){return o.view.getFirstRenderedVisibleColumn()},this.getLastRenderedVisibleColumn=function(){return o.view.getLastRenderedVisibleColumn()},this.getFirstFullyVisibleRow=function(){return o.view.getFirstFullyVisibleRow()},this.getLastFullyVisibleRow=function(){return o.view.getLastFullyVisibleRow()},this.getFirstFullyVisibleColumn=function(){return o.view.getFirstFullyVisibleColumn()},this.getLastFullyVisibleColumn=function(){return o.view.getLastFullyVisibleColumn()},this.getFirstPartiallyVisibleRow=function(){return o.view.getFirstPartiallyVisibleRow()},this.getLastPartiallyVisibleRow=function(){return o.view.getLastPartiallyVisibleRow()},this.getFirstPartiallyVisibleColumn=function(){return o.view.getFirstPartiallyVisibleColumn()},this.getLastPartiallyVisibleColumn=function(){return o.view.getLastPartiallyVisibleColumn()},this.getPlugin=function(v){return P.getItem(wa(v))},this.getPluginName=function(v){return v===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:P.getId(v)},this.getInstance=function(){return o},this.addHook=function(v,x,E){_e.getSingleton().add(v,x,o,E)},this.hasHook=function(v){return _e.getSingleton().has(v,o)||_e.getSingleton().has(v)},this.addHookOnce=function(v,x,E){_e.getSingleton().once(v,x,o,E)},this.removeHook=function(v,x){_e.getSingleton().remove(v,x,o)},this.runHooks=function(v,x,E,D,Y,_,T){return _e.getSingleton().run(o,v,x,E,D,Y,_,T)},this.getTranslatedPhrase=function(v,x){return sG(C.language,v,x)},this.toHTML=()=>p3(this),this.toTableElement=()=>{const v=this.rootDocument.createElement("div");return v.insertAdjacentHTML("afterbegin",p3(this)),v.firstElementChild},this.timeouts=[],this.useTheme=v=>{const x=!!m;this.stylesHandler.useTheme(v);const E=this.stylesHandler.getThemeName();x||(o.render(),o.scrollViewportTo(0,0),R6(this.rootContainer)&&(Re(this.rootContainer,/ht-theme-.*/g),E&&oe(this.rootContainer,E))),this.runHooks("afterSetTheme",E,x)},this.getCurrentThemeName=()=>this.stylesHandler.getThemeName(),this.getTableHeight=()=>this.rootElement.offsetHeight,this.getTableWidth=()=>this.rootElement.offsetWidth,this._registerTimeout=function(v){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=v;typeof E=="function"&&(E=setTimeout(E,x)),this.timeouts.push(E)},this._clearTimeouts=function(){B(this.timeouts,v=>{clearTimeout(v)})},this.immediates=[],this._registerImmediate=function(v){this.immediates.push(setImmediate(v))},this._clearImmediates=function(){B(this.immediates,v=>{clearImmediate(v)})},this._registerMicrotask=function(v){this.rootWindow.queueMicrotask(()=>{this.isDestroyed||v()})},this._getEditorManager=function(){return h};const Q=wke({handleEvent(){return o.isListening()},beforeKeyDown:v=>this.runHooks("beforeKeyDown",v),afterKeyDown:v=>{this.isDestroyed||o.runHooks("afterDocumentKeyDown",v)},ownerWindow:this.rootWindow});this.addHook("beforeOnCellMouseDown",v=>{v.ctrlKey===!1&&v.metaKey===!1&&Q.releasePressedKeys()}),this.getShortcutManager=function(){return Q},f=new oTe(o);const F=Ja(this)?iTe(o):null;this.getFocusManager=function(){return f},this.getFocusScopeManager=function(){if(!Ja(o))throw new Error("The FocusScopeManager is only available for the main Handsontable instance.");return F},SY().forEach(v=>{const x=O2(v);P.addItem(v,new x(this))}),dke(o),Ja(this)&&fke(o),Q.setActiveContextName("grid"),_e.getSingleton().run(o,"construct")}function T6(t,e,r){t.addEventListener(e,r,!1)}function k6(t,e,r){t.removeEventListener(e,r,!1)}function xS(t){return t.ownerDocument.defaultView.getComputedStyle(t)}function SG(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300,textContent:h=>h.value,...e},n=t.body,i=t.createTextNode(""),s=t.createElement("span");let o;function a(){var h,f;i.textContent=r.textContent(o),s.style.position="absolute",s.style.fontSize=xS(o).fontSize,s.style.fontFamily=xS(o).fontFamily,s.style.whiteSpace="pre",n.appendChild(s);const g=parseInt(((h=xS(o))===null||h===void 0?void 0:h.paddingInlineStart)||0,10),m=parseInt(((f=xS(o))===null||f===void 0?void 0:f.paddingInlineEnd)||0,10),p=s.clientWidth+g+m+1;n.removeChild(s);const y=o.style;y.height=`${r.minHeight}px`,r.minWidth>p?y.width=`${r.minWidth}px`:p>r.maxWidth?y.width=`${r.maxWidth}px`:y.width=`${p}px`;const S=o.scrollHeight?o.scrollHeight-1:0;r.minHeight>S?y.height=`${r.minHeight}px`:r.maxHeight<S?(y.height=`${r.maxHeight}px`,y.overflowY="visible"):y.height=`${S}px`}function l(){t.defaultView.setTimeout(a,0)}function c(h){if(h&&h.minHeight)if(h.minHeight==="inherit")r.minHeight=o.clientHeight;else{const f=parseInt(h.minHeight,10);isNaN(f)||(r.minHeight=f)}if(h&&h.maxHeight)if(h.maxHeight==="inherit")r.maxHeight=o.clientHeight;else{const f=parseInt(h.maxHeight,10);isNaN(f)||(r.maxHeight=f)}if(h&&h.minWidth)if(h.minWidth==="inherit")r.minWidth=o.clientWidth;else{const f=parseInt(h.minWidth,10);isNaN(f)||(r.minWidth=f)}if(h&&h.maxWidth)if(h.maxWidth==="inherit")r.maxWidth=o.clientWidth;else{const f=parseInt(h.maxWidth,10);isNaN(f)||(r.maxWidth=f)}s.firstChild||(s.className="autoResize",s.style.display="inline-block",s.appendChild(i))}function d(h,f){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;o=h,c(f),o.nodeName==="TEXTAREA"&&(o.style.resize="none",o.style.height=`${r.minHeight}px`,o.style.minWidth=`${r.minWidth}px`,o.style.maxWidth=`${r.maxWidth}px`,o.style.overflowY="hidden"),g&&(T6(o,"input",a),T6(o,"keydown",l)),a()}return{init:d,resize:a,unObserve(){k6(o,"input",a),k6(o,"keydown",l)}}}function P6(t,e){const r=nY(e),n=e.value.split(`
`);let i=r,s=0;for(let o=0;o<n.length;o++){const a=n[o];o!==0&&(s+=n[o-1].length+1);const l=s+a.length;if(t==="home"?i=s:t==="end"&&(i=l),r<=l)break}vR(e,i)}function Dd(t,e,r){return(e=Pke(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pke(t){var e=Nke(t,"string");return typeof e=="symbol"?e:e+""}function Nke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Mke="ht_editor_visible",CS="ht_editor_hidden",N6="textEditor",Ike="text";class Ff extends jp{static get EDITOR_TYPE(){return Ike}constructor(e){super(e),Dd(this,"eventManager",new Sa(this)),Dd(this,"autoResize",SG(this.hot.rootDocument)),Dd(this,"TEXTAREA",void 0),Dd(this,"textareaStyle",void 0),Dd(this,"TEXTAREA_PARENT",void 0),Dd(this,"textareaParentStyle",void 0),Dd(this,"layerClass",void 0),this.eventManager=new Sa(this),this.createElements(),this.bindEvents(),this.hot.addHookOnce("afterDestroy",()=>this.destroy())}getValue(){return this.TEXTAREA.value}setValue(e){this.TEXTAREA.value=e}open(){this._opened=!0,this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this._opened=!1,this.autoResize.unObserve(),sC(this.hot.rootDocument.activeElement,this.hot.rootElement)&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts()}prepare(e,r,n,i,s,o){const a=this.state;if(super.prepare(e,r,n,i,s,o),!o.readOnly){this.refreshDimensions(!0);const{allowInvalid:l}=o;l&&!this.isOpened()&&(this.TEXTAREA.value=""),a!==Vr.FINISHED&&!this.isOpened()&&this.hideEditableElement()}}beginEditing(e,r){this.state===Vr.VIRGIN&&(this.TEXTAREA.value="",super.beginEditing(e,r))}focus(){this.TEXTAREA.select(),vR(this.TEXTAREA,this.TEXTAREA.value.length)}createElements(){const{rootDocument:e}=this.hot;this.TEXTAREA=e.createElement("TEXTAREA"),Ee(this.TEXTAREA,[["data-hot-input",""],ba(-1)]),oe(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=e.createElement("DIV"),oe(this.TEXTAREA_PARENT,"handsontableInputHolder"),Ve(this.TEXTAREA_PARENT,this.layerClass)&&Re(this.TEXTAREA_PARENT,this.layerClass),oe(this.TEXTAREA_PARENT,CS),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}hideEditableElement(){Xwe()&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",Re(this.TEXTAREA_PARENT,this.layerClass),oe(this.TEXTAREA_PARENT,CS)}showEditableElement(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="";const e=this.TEXTAREA_PARENT.childNodes;let r=!1;Ie(e.length-1,n=>{const i=e[n];if(Ve(i,"handsontableEditor"))return r=!0,!1}),Ve(this.TEXTAREA_PARENT,CS)&&Re(this.TEXTAREA_PARENT,CS),r?(this.layerClass=Mke,oe(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),oe(this.TEXTAREA_PARENT,this.layerClass))}refreshValue(){const e=this.hot.toPhysicalRow(this.row),r=this.hot.getSourceDataAtCell(e,this.col);this.originalValue=r,this.setValue(r),this.refreshDimensions()}refreshDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.state!==Vr.EDITING&&!e)return;if(this.TD=this.getEditedCell(),!this.TD){e||this.close();return}const{top:r,start:n,width:i,maxWidth:s,height:o,maxHeight:a}=this.getEditedCellRect();this.textareaParentStyle.top=`${r}px`,this.textareaParentStyle[this.hot.isRtl()?"right":"left"]=`${n}px`,this.showEditableElement();const l=this.hot.rootWindow.getComputedStyle(this.TD);this.TEXTAREA.style.fontSize=l.fontSize,this.TEXTAREA.style.fontFamily=l.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor,this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(i,s),minHeight:Math.min(o,a),maxWidth:s,maxHeight:a},!0)}bindEvents(){X9()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",()=>this.finishEditing(!1)),this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>{this.refreshDimensions(),this.state===Vr.EDITING&&this.focus()}),this.addHook("afterRowResize",()=>{this.refreshDimensions(),this.state===Vr.EDITING&&this.focus()})}destroy(){this.eventManager.destroy(),this.clearHooks()}registerShortcuts(){const r=this.hot.getShortcutManager().getContext("editor"),n={runOnlyIf:()=>xe(this.hot.getSelected()),group:N6},i=()=>{this.hot.rootDocument.execCommand("insertText",!1,`
`)};r.addShortcuts([{keys:[["Control","Enter"]],callback:()=>(i(),!1),runOnlyIf:s=>!this.hot.selection.isMultiple()&&!s.altKey},{keys:[["Meta","Enter"]],callback:()=>(i(),!1),runOnlyIf:()=>!this.hot.selection.isMultiple()},{keys:[["Alt","Enter"]],callback:()=>(i(),!1)},{keys:[["Home"]],callback:(s,o)=>{let[a]=o;P6(a,this.TEXTAREA)}},{keys:[["End"]],callback:(s,o)=>{let[a]=o;P6(a,this.TEXTAREA)}}],n)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(N6)}}const Ake="base",Oke="htTextEllipsis";function Lw(t,e,r,n,i,s,o){const a=o.ariaTags,l=[],c=[],d=[],h=[];o.className&&oe(e,o.className),o.readOnly?(l.push(o.readOnlyCellClassName),a&&h.push(GF())):a&&d.push(GF()[0]),o.valid===!1&&o.invalidCellClassName?(l.push(o.invalidCellClassName),a&&h.push(KF())):(c.push(o.invalidCellClassName),a&&d.push(KF()[0])),o.wordWrap===!1&&o.noWordWrapClassName&&l.push(o.noWordWrapClassName),!s&&o.placeholder&&l.push(o.placeholderCellClassName),o.textEllipsis&&l.push(Oke),Re(e,c),oe(e,l),_c(e,d),Ee(e,h)}Lw.RENDERER_TYPE=Ake;const Hke="text";function Uc(t,e,r,n,i,s,o){Lw.apply(this,[t,e,r,n,i,s,o]);let a=s;!a&&o.placeholder&&(a=o.placeholder),a=tr(a),o.trimWhitespace&&(a=a.trim()),mf(e,a)}Uc.RENDERER_TYPE=Hke;const jke="text",xG={CELL_TYPE:jke,editor:Ff,renderer:Uc};zo(xG);yt.editors={BaseEditor:jp};function yt(t,e){const r=new bG(t,e||{},X2);return r.init(),r}yt.Core=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new bG(t,e,X2)};yt.DefaultSettings=dG();yt.hooks=_e.getSingleton();yt.CellCoords=vf;yt.CellRange=Ip;yt.packageName="handsontable";yt.buildDate="20/11/2025 13:26:54";yt.version="16.2.0";yt.languages={dictionaryKeys:xRe,getLanguageDictionary:iG,getLanguagesDictionaries:TRe,registerLanguageDictionary:nG,getTranslatedPhrase:sG};function RI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Dke(t){if(Array.isArray(t))return RI(t)}function $ke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vv(t,e,r){return e=O1(e),Uke(t,CG()?Reflect.construct(e,r||[],O1(t).constructor):e.apply(t,r))}function up(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_G(n.key),n)}}function dp(t,e,r){return e&&M6(t.prototype,e),r&&M6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lke(t,e,r){return(e=_G(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O1(t){return O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O1(t)}function Wv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EI(t,e)}function CG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CG=function(){return!!t})()}function Fke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I6(Object(r),!0).forEach(function(n){Lke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bke(t,e){if(t==null)return{};var r,n,i=zke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function zke(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Uke(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ke(t)}function EI(t,e){return EI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},EI(t,e)}function Yke(t){return Dke(t)||Fke(t)||Kke(t)||Vke()}function Gke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _G(t){var e=Gke(t,"string");return typeof e=="symbol"?e:e+""}function Kke(t,e){if(t){if(typeof t=="string")return RI(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?RI(t,e):void 0}}var kk=null,qke="Your `HotTable` configuration includes `autoRowSize`/`autoColumnSize` options, which are not compatible with  the component-based renderers`. Disable `autoRowSize` and `autoColumnSize` to prevent row and column misalignment.",Xke="The Handsontable instance bound to this component was destroyed and cannot be used properly.",H1="global",Qke="hot-wrapper-editor-container";function Jke(){if(typeof console<"u"){var t;(t=console).warn.apply(t,arguments)}}function TI(t,e){var r=bt.Children.toArray(t),n=bt.Children.count(t),i=null;return n!==0&&(n===1&&r[0].props[e]?i=r[0]:i=r.find(function(s){return s.props[e]!==void 0})),i||null}function RG(t){return t?t.type.WrappedComponent?t.type.WrappedComponent:t.type:null}function EG(t,e){if(typeof t>"u"||e===null)return null;var r=kG(e.props,!1);return r.className="".concat(Qke," ").concat(r.className),g8.createPortal(bt.createElement("div",Object.assign({},r),e),t.body)}function TG(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:H1,n=TI(t,"hot-editor"),i=RG(n);return n?bt.cloneElement(n,{emitEditorInstance:function(o,a){e.get(i)||e.set(i,new Map);var l=e.get(i);l.set(a??H1,o)},editorColumnScope:r,isEditor:!0}):null}function Zke(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;r||(r=document),kk||(kk=r.createDocumentFragment());var s=i??r.createElement("DIV");kk.appendChild(s);var o=bt.cloneElement(t,Wke({key:"".concat(e.row,"-").concat(e.col)},e));return{portal:g8.createPortal(o,s,n),portalContainer:s}}function kG(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{id:t.id||(e?"hot-"+Math.random().toString(36).substring(5):void 0),className:t.className||"",style:t.style||{}}}function ePe(){return typeof window<"u"}var PG=function(){function t(){up(this,t)}return dp(t,null,[{key:"getSettings",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.prevProps,s=i===void 0?{}:i,o=n.isInit,a=o===void 0?!1:o,l=n.initOnlySettingKeys,c=l===void 0?[]:l,d=function(y){return!a&&c.includes(y)?s[y]===r[y]:!1},h={};if(r.settings){var f=r.settings;for(var g in f)f.hasOwnProperty(g)&&!d(g)&&(h[g]=f[g])}for(var m in r)m!=="settings"&&m!=="children"&&!d(m)&&r.hasOwnProperty(m)&&(h[m]=r[m]);return h}}])}(),tPe=function(t){function e(){return up(this,e),Vv(this,e,arguments)}return Wv(e,t),dp(e,[{key:"getSettingsProps",value:function(){var n=this;return this.internalProps=["_componentRendererColumns","_emitColumnSettings","_columnIndex","_getChildElementByType","_getRendererWrapper","_getEditorClass","_getEditorCache","_getOwnerDocument","hot-renderer","hot-editor","children"],Object.keys(this.props).filter(function(i){return!n.internalProps.includes(i)}).reduce(function(i,s){return i[s]=n.props[s],i},{})}},{key:"getLocalEditorElement",value:function(){return TG(this.props.children,this.props._getEditorCache(),this.props._columnIndex)}},{key:"createColumnSettings",value:function(){var n=this.props._getChildElementByType(this.props.children,"hot-renderer"),i=this.getLocalEditorElement();this.columnSettings=PG.getSettings(this.getSettingsProps()),n!==null&&(this.columnSettings.renderer=this.props._getRendererWrapper(n),this.props._componentRendererColumns.set(this.props._columnIndex,!0)),i!==null&&(this.columnSettings.editor=this.props._getEditorClass(i,this.props._columnIndex))}},{key:"emitColumnSettings",value:function(){this.props._emitColumnSettings(this.columnSettings,this.props._columnIndex)}},{key:"componentDidMount",value:function(){this.createColumnSettings(),this.emitColumnSettings()}},{key:"componentDidUpdate",value:function(){this.createColumnSettings(),this.emitColumnSettings()}},{key:"render",value:function(){var n=this.props._getOwnerDocument(),i=EG(n,this.getLocalEditorElement());return bt.createElement(bt.Fragment,null,i)}}])}(bt.Component),rPe=function(t){function e(){var r;return up(this,e),r=Vv(this,e,arguments),r.state={portals:[]},r}return Wv(e,t),dp(e,[{key:"render",value:function(){return bt.createElement(bt.Fragment,null,this.state.portals)}}])}(bt.Component),nPe="16.2.0";function iPe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NG={exports:{}},Pk,A6;function sPe(){if(A6)return Pk;A6=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Pk=t,Pk}var Nk,O6;function oPe(){if(O6)return Nk;O6=1;var t=sPe();function e(){}function r(){}return r.resetWarningCache=e,Nk=function(){function i(a,l,c,d,h,f){if(f!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},Nk}NG.exports=oPe()();var aPe=NG.exports,Mk=iPe(aPe),Gj=function(t){function e(){var r;return up(this,e),r=Vv(this,e,arguments),r.id=null,r.__hotInstance=null,r.hotElementRef=null,r.columnSettings=[],r.renderersPortalManager=null,r.portalCache=new Map,r.portalContainerCache=new Map,r.renderedCellCache=new Map,r.editorCache=new Map,r.componentRendererColumns=new Map,r}return Wv(e,t),dp(e,[{key:"hotInstance",get:function(){return!this.__hotInstance||this.__hotInstance&&!this.__hotInstance.isDestroyed?this.__hotInstance:(console.warn(Xke),null)},set:function(n){this.__hotInstance=n}},{key:"_isHotInstanceDestroyed",value:function(){return this.__hotInstance&&this.__hotInstance.isDestroyed}},{key:"getPortalContainerCache",value:function(){return this.portalContainerCache}},{key:"getRenderedCellCache",value:function(){return this.renderedCellCache}},{key:"getEditorCache",value:function(){return this.editorCache}},{key:"clearCache",value:function(){this.getRenderedCellCache().clear(),this.componentRendererColumns.clear()}},{key:"getOwnerDocument",value:function(){return ePe()?this.hotElementRef?this.hotElementRef.ownerDocument:document:null}},{key:"setHotElementRef",value:function(n){this.hotElementRef=n}},{key:"getRendererWrapper",value:function(n){var i=this;return function(o,a,l,c,d,h,f){var g=i.getRenderedCellCache(),m=i.getPortalContainerCache(),p="".concat(l,"-").concat(c),y=o.guid,S="".concat(y,"-").concat(p),w="".concat(p,"-").concat(y);if(g.has(p)&&(a.innerHTML=g.get(p).innerHTML),a&&!a.getAttribute("ghost-table")){for(var b=i.portalCache.get(w),C=m.get(S);a.firstChild;)a.removeChild(a.firstChild);if(b&&C)a.appendChild(C);else{var N=Zke(n,{TD:a,row:l,col:c,prop:d,value:h,cellProperties:f,isRenderer:!0},a.ownerDocument,w,C),P=N.portal,k=N.portalContainer;m.set(S,k),a.appendChild(k),i.portalCache.set(w,P)}}return g.set(p,a),a}}},{key:"getEditorClass",value:function(n){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H1,o=RG(n),a=(i=this.getEditorCache().get(o))===null||i===void 0?void 0:i.get(s);return this.makeEditorClass(a)}},{key:"makeEditorClass",value:function(n){var i=function(s){function o(a){var l;return up(this,o),l=Vv(this,o,[a]),n.hotCustomEditorInstance=l,l.editorComponent=n,l}return Wv(o,s),dp(o,[{key:"focus",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}}])}(yt.editors.BaseEditor);return Object.getOwnPropertyNames(yt.editors.BaseEditor.prototype).forEach(function(s){s!=="constructor"&&(i.prototype[s]=function(){for(var o,a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(o=n[s]).call.apply(o,[n].concat(l))})}),i}},{key:"getGlobalRendererElement",value:function(){return TI(this.props.children,"hot-renderer")}},{key:"getGlobalEditorElement",value:function(){return TG(this.props.children,this.getEditorCache())}},{key:"createNewGlobalSettings",value:function(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this._isHotInstanceDestroyed()?[]:((n=this.hotInstance)===null||n===void 0||(n=n.getSettings())===null||n===void 0?void 0:n._initOnlySettings)||[],a=PG.getSettings(this.props,{prevProps:s,isInit:i,initOnlySettingKeys:o}),l=this.getGlobalRendererElement(),c=this.getGlobalEditorElement();if(this.columnSettings.length&&(a.columns=this.columnSettings),c)a.editor=this.getEditorClass(c,H1);else{var d;this.props.editor||(d=this.props.settings)!==null&&d!==void 0&&d.editor?a.editor=this.props.editor||this.props.settings.editor:a.editor=uI("text")}if(l)a.renderer=this.getRendererWrapper(l),this.componentRendererColumns.set("global",!0);else{var h;this.props.renderer||(h=this.props.settings)!==null&&h!==void 0&&h.renderer?a.renderer=this.props.renderer||this.props.settings.renderer:a.renderer=gI("text")}return a}},{key:"displayAutoSizeWarning",value:function(n){var i,s;this.hotInstance&&((i=this.hotInstance.getPlugin("autoRowSize"))!==null&&i!==void 0&&i.enabled||(s=this.hotInstance.getPlugin("autoColumnSize"))!==null&&s!==void 0&&s.enabled)&&this.componentRendererColumns.size>0&&Jke(qke)}},{key:"setHotColumnSettings",value:function(n,i){this.columnSettings[i]=n}},{key:"handsontableBeforeViewRender",value:function(){this.portalCache.clear(),this.getRenderedCellCache().clear()}},{key:"handsontableAfterViewRender",value:function(){this.renderersPortalManager.setState({portals:Yke(this.portalCache.values())})}},{key:"updateHot",value:function(n){this.hotInstance&&this.hotInstance.updateSettings(n,!1)}},{key:"setRenderersPortalManagerRef",value:function(n){this.renderersPortalManager=n}},{key:"componentDidMount",value:function(){var n=this,i=this.createNewGlobalSettings(!0);this.hotInstance=new yt.Core(this.hotElementRef,i),this.hotInstance.addHook("beforeViewRender",function(){return n.handsontableBeforeViewRender()}),this.hotInstance.addHook("afterViewRender",function(){return n.handsontableAfterViewRender()}),this.hotInstance.init(),this.displayAutoSizeWarning(i)}},{key:"componentDidUpdate",value:function(n){this.clearCache();var i=this.createNewGlobalSettings(!1,n);this.updateHot(i),this.displayAutoSizeWarning(i)}},{key:"componentWillUnmount",value:function(){this.clearCache(),this.hotInstance&&this.hotInstance.destroy()}},{key:"render",value:function(){var n=this,i=function(d){return d.type===tPe},s=bt.Children.toArray(this.props.children),o=s.filter(function(c){return i(c)}).map(function(c,d){return bt.cloneElement(c,{_componentRendererColumns:n.componentRendererColumns,_emitColumnSettings:n.setHotColumnSettings.bind(n),_columnIndex:d,_getChildElementByType:TI.bind(n),_getRendererWrapper:n.getRendererWrapper.bind(n),_getEditorClass:n.getEditorClass.bind(n),_getOwnerDocument:n.getOwnerDocument.bind(n),_getEditorCache:n.getEditorCache.bind(n),children:c.props.children})}),a=kG(this.props),l=EG(this.getOwnerDocument(),this.getGlobalEditorElement());return bt.createElement(bt.Fragment,null,bt.createElement("div",Object.assign({ref:this.setHotElementRef.bind(this)},a),o),bt.createElement(rPe,{ref:this.setRenderersPortalManagerRef.bind(this)}),l)}}],[{key:"version",get:function(){return nPe}}])}(bt.Component);Gj.propTypes={style:Mk.object,id:Mk.string,className:Mk.string};var lPe=["children"],xo=bt.forwardRef(function(t,e){var r,n=t.children,i=Bke(t,lPe),s=typeof bt.useId=="function"?bt.useId():void 0,o=(r=i.id)!==null&&r!==void 0?r:s;return bt.createElement(Gj,Object.assign({id:o},i,{ref:e}),n)});xo.version=Gj.version;bt.Component;function H6(t,e,r){return(e=cPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cPe(t){var e=uPe(t,"string");return typeof e=="symbol"?e:e+""}function uPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const j6="handsontableEditor",dPe="handsontable";class Kj extends Ff{constructor(){super(...arguments),H6(this,"isFlippedVertically",!1),H6(this,"isFlippedHorizontally",!1)}static get EDITOR_TYPE(){return dPe}open(){super.open();const e=this.htContainer.style;this.htEditor&&(this.htEditor.destroy(),e.width="",e.height="",e.overflow=""),e.display==="none"&&(e.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),vR(this.TEXTAREA,0,this.TEXTAREA.value.length),this.htEditor.updateSettings({width:this.getTargetDropdownWidth(),height:this.getTargetDropdownHeight()}),this.refreshDimensions(),this.flipDropdownVerticallyIfNeeded(),this.flipDropdownHorizontallyIfNeeded()}close(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),super.close()}prepare(e,r,n,i,s,o){super.prepare(e,r,n,i,s,o);const a=this,l={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,ariaTags:!1,themeName:this.hot.getCurrentThemeName(),afterOnCellMouseDown(c,d){const h=this.getSourceData(d.row,d.col);h!==void 0&&a.setValue(h),a.hot.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&gn(l,o.handsontable),this.htOptions=l}beginEditing(e,r){const n=this.hot.getSettings().onBeginEditing;n&&n()===!1||super.beginEditing(e,r)}createElements(){super.createElements();const e=this.hot.rootDocument.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.htContainer=e,this.assignHooks()}finishEditing(e,r,n){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedActive()){const i=this.htEditor.getValue();i!==void 0&&this.setValue(i)}super.finishEditing(e,r,n)}flipDropdownVerticallyIfNeeded(){const{view:e}=this.hot,r=this.getEditedCellRect();let n=r.top;if(e.isVerticallyScrollableByWindow()){const a=e.getTableOffset().top-this.hot.rootWindow.scrollY;n=Math.max(n+a,0)}const i=this.getDropdownHeight(),s=e.getWorkspaceHeight()-n-r.height,o=i>s&&n>s+r.height;return o?this.flipDropdownVertically():this.unflipDropdownVertically(),{isFlipped:o,spaceAbove:n,spaceBelow:s}}flipDropdownVertically(){const e=this.htEditor.rootElement.style;e.position="absolute",e.top=`${-this.getDropdownHeight()}px`,this.isFlippedVertically=!0}unflipDropdownVertically(){const e=this.htEditor.rootElement.style;e.position="absolute",e.top="",this.isFlippedVertically=!1}flipDropdownHorizontallyIfNeeded(){const{view:e}=this.hot,r=this.getEditedCellRect();let n=r.start+r.width;if(e.isHorizontallyScrollableByWindow()){const a=e.getTableOffset().left-this.hot.rootWindow.scrollX;n=Math.max(n+a,0)}const i=this.getDropdownWidth(),s=e.getWorkspaceWidth()-n+r.width,o=i>s&&n>s;return o?this.flipDropdownHorizontally():this.unflipDropdownHorizontally(),{isFlipped:o,spaceInlineStart:n,spaceInlineEnd:s}}flipDropdownHorizontally(){const e=this.htEditor.rootElement.style,{width:r}=this.getEditedCellRect();e.position="absolute",e[this.hot.isRtl()?"right":"left"]=`${-(this.getDropdownWidth()-r)}px`,this.isFlippedHorizontally=!0}unflipDropdownHorizontally(){const e=this.htEditor.rootElement.style;e.position="absolute",e[this.hot.isRtl()?"right":"left"]="",this.isFlippedHorizontally=!1}getDropdownHeight(){return this.htEditor.getTableHeight()}getDropdownWidth(){return this.htEditor.getTableWidth()}getTargetDropdownWidth(){return this.htEditor.view.getTableWidth()}getTargetDropdownHeight(){return this.htEditor.view.getTableHeight()+1}assignHooks(){this.hot.addHook("afterDestroy",()=>{var e;(e=this.htEditor)===null||e===void 0||e.destroy()}),this.hot.addHook("afterSetTheme",(e,r)=>{r||this.close()})}registerShortcuts(){const r=this.hot.getShortcutManager().getContext("editor");super.registerShortcuts();const n={group:j6,relativeToGroup:xd,position:"before"},i=(s,o)=>{const a=this.htEditor;if(s!==void 0&&(s<0||this.isFlippedVertically&&s>a.countRows()-1?a.deselectCell():a.selectCell(s,0),a.getData().length))return o.preventDefault(),Eo(o),this.hot.listen(),this.TEXTAREA.focus(),!1};r.addShortcuts([{keys:[["ArrowUp"]],callback:s=>{const o=this.htEditor;let a,l;return!o.getSelectedActive()&&this.isFlippedVertically?a=o.countRows()-1:o.getSelectedActive()&&(this.isFlippedVertically?(l=o.getSelectedActive()[0],a=Math.max(0,l-1)):(l=o.getSelectedActive()[0],a=l-1)),i(a,s)},preventDefault:!1},{keys:[["ArrowDown"]],callback:s=>{const o=this.htEditor;let a,l;if(!o.getSelectedActive()&&!this.isFlippedVertically)a=0;else if(o.getSelectedActive()){if(this.isFlippedVertically)a=o.getSelectedActive()[0]+1;else if(!this.isFlippedVertically){const c=o.countRows()-1;l=o.getSelectedActive()[0],a=Math.min(c,l+1)}}return i(a,s)},preventDefault:!1}],n)}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(j6)}}function hPe(t,e){MG(t,e),e.add(t)}function D6(t,e,r){MG(t,e),e.set(t,r)}function MG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ik(t,e,r){return(e=fPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fPe(t){var e=gPe(t,"string");return typeof e=="symbol"?e:e+""}function gPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ak(t,e){return t.get(wu(t,e))}function wu(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const mPe="autocomplete";var Ok=new WeakMap,$6=new WeakMap,eu=new WeakSet;class qj extends Kj{constructor(){super(...arguments),hPe(this,eu),Ik(this,"query",null),Ik(this,"strippedChoices",[]),Ik(this,"rawChoices",[]),D6(this,Ok,this.hot.guid.slice(0,9)),D6(this,$6,bR(()=>{this.focus()},100))}static get EDITOR_TYPE(){return mPe}getValue(){const e=this.rawChoices.find(r=>{const n=this.stripValueIfNeeded(r);return(wu(eu,this,A0).call(this,n)?n.value:n)===this.TEXTAREA.value});return xe(e)?e:this.TEXTAREA.value}createElements(){super.createElements(),oe(this.htContainer,"autocompleteEditor"),oe(this.htContainer,this.hot.rootWindow.navigator.platform.indexOf("Mac")===-1?"":"htMacScroll"),this.hot.getSettings().ariaTags&&Ee(this.TEXTAREA,[iwe(),Qve(),$9("listbox"),cwe()])}prepare(e,r,n,i,s,o){super.prepare(e,r,n,i,s,o),this.hot.getSettings().ariaTags&&Ee(this.TEXTAREA,[So("false"),uwe(`${Ak(Ok,this)}-listbox-${e}-${r}`)]),this.htOptions={...this.htOptions,valueGetter:a=>wu(eu,this,A0).call(this,a)?a.value:a}}open(){super.open();const e=this.cellProperties.trimDropdown===void 0?!0:this.cellProperties.trimDropdown,r=this.hot.getSettings().ariaTags,n=Array.isArray(this.cellProperties.source)?this.cellProperties.source:null,i=n==null?void 0:n.length,{row:s,col:o}=this;this.showEditableElement(),this.focus(),this.addHook("beforeKeyDown",a=>this.onBeforeKeyDown(a)),this.htEditor.addHook("afterScroll",Ak($6,this)),this.htEditor.updateSettings({colWidths:e?[en(this.TEXTAREA)-2]:void 0,autoColumnSize:!0,renderer:(a,l,c,d,h,f,g)=>{Uc(a,l,c,d,h,f,g);const{filteringCaseSensitive:m,allowHtml:p,locale:y}=this.cellProperties,S=this.query;let w=tr(f),b,C;w&&!p&&(b=m===!0?w.indexOf(S):w.toLocaleLowerCase(y).indexOf(S.toLocaleLowerCase(y)),b!==-1&&(C=w.substr(b,S.length),w=w.replace(C,`<strong>${C}</strong>`))),r&&Ee(l,[Jve(),...n?[gwe(i)]:[],...n?[mwe(n.indexOf(f)+1)]:[],["id",`${this.htEditor.rootElement.id}_${c}-${d}`]]),l.innerHTML=w},afterSelectionEnd:(a,l)=>{if(r){const c=h=>{Ee(h,[x2()]),Ee(this.TEXTAREA,...dwe(h.id))},d=this.htEditor.getCell(a,l,!0);d!==null?c(d):this.htEditor.addHookOnce("afterScrollVertically",()=>{const h=this.htEditor.getCell(a,l,!0);c(h)})}}}),r&&(Ee(this.htEditor.view._wt.wtOverlays.wtTable.TABLE,...mc()),Ee(this.htEditor.rootElement,[D9(),hwe("polite"),fwe("text"),["id",`${Ak(Ok,this)}-listbox-${s}-${o}`]]),Ee(this.TEXTAREA,...So("true"))),this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)})}close(){this.removeHooksByKey("beforeKeyDown"),super.close(),this.hot.getSettings().ariaTags&&Ee(this.TEXTAREA,[So("false")])}discardEditor(e){super.discardEditor(e),this.hot.view.render()}finishEditing(e,r,n){if(this.isOpened()){const i=this.hot.getSelectedRangeActive();(cr(i)||xe(i)&&!i.includes(this.hot._createCellCoords(this.row,this.col)))&&(e=!0)}super.finishEditing(e,r,n)}queryChoices(e){const r=this.cellProperties.source;this.query=e,typeof r=="function"?r.call(this.cellProperties,e,n=>{this.rawChoices=n,this.updateChoicesList(this.stripValuesIfNeeded(n))}):Array.isArray(r)?(this.rawChoices=r,this.updateChoicesList(this.stripValuesIfNeeded(r))):this.updateChoicesList([])}updateChoicesList(e){const r=nY(this.TEXTAREA),n=sbe(this.TEXTAREA),i=this.cellProperties.sortByRelevance,s=this.cellProperties.filter,o=this.stripValueIfNeeded(this.getValue()),a=wu(eu,this,A0).call(this,o)?o.value:o;let l=null,c=e;i||(c=c.toSorted());const d=[],h=this.cellProperties.locale,f=this.cellProperties.filteringCaseSensitive,g=f?a:a.toLocaleLowerCase(h);for(let m=0;m<c.length;m++){const p=wu(eu,this,A0).call(this,c[m])?Cc(tr(c[m].value)):Cc(tr(c[m]));if((f?p:p.toLocaleLowerCase(h)).indexOf(g)!==-1&&(d.push(m),s===!1))break}s===!1?o.length>0&&(l=d[0]):(c=d.map(m=>c[m]),l=c.indexOf(g)>-1?c.indexOf(g):0),this.strippedChoices=c,c.length===0?this.htEditor.rootElement.style.display="none":this.htEditor.rootElement.style.display="",this.htEditor.loadData(nC([c])),c.length>0&&(this.updateDropdownDimensions(),this.flipDropdownVerticallyIfNeeded(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(l)),this.hot.listen(),vR(this.TEXTAREA,r,r===n?void 0:n)}flipDropdownVerticallyIfNeeded(){const e=super.flipDropdownVerticallyIfNeeded(),{isFlipped:r,spaceAbove:n,spaceBelow:i}=e;return this.limitDropdownIfNeeded(r?n:i),e}limitDropdownIfNeeded(e){const r=this.getDropdownHeight();if(r>e){let n=0,i=0,s=null;do i=this.htEditor.stylesHandler.getDefaultRowHeight(),n+=i;while(n<e);s=n-i,this.isFlippedVertically&&(this.htEditor.rootElement.style.top=`${parseInt(this.htEditor.rootElement.style.top,10)+r-s}px`),this.setDropdownHeight(n-i)}}updateDropdownDimensions(){const e=obe(),r=this.getTargetEditorWidth()+e,n=this.getTargetEditorHeight()+e;this.htEditor.updateSettings({width:r,height:n}),wu(eu,this,L6).call(this),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}setDropdownHeight(e){this.htEditor.updateSettings({height:e}),wu(eu,this,L6).call(this),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}highlightBestMatchingChoice(e){typeof e=="number"?this.htEditor.selectCell(e,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}getTargetEditorHeight(){let e=0;if(!this.hot.getCurrentThemeName()){const i=this.hot.rootWindow.getComputedStyle(this.htContainer.querySelector(".htCore"));e=parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)}const r=Math.min(this.cellProperties.visibleRows,this.strippedChoices.length);return Array.from({length:r},(i,s)=>s).reduce((i,s)=>{const o=this.hot.stylesHandler.getDefaultRowHeight()+(s===0?1:0);return i+o},0)+e}getTargetEditorWidth(){let e=0;if(!this.hot.getCurrentThemeName()){const r=this.hot.rootWindow.getComputedStyle(this.htContainer.querySelector(".htCore"));e=parseInt(r.borderInlineStartWidth,10)+parseInt(r.borderInlineEndWidth,10)}return this.htEditor.getColWidth(0)+e}stripValueIfNeeded(e){return this.stripValuesIfNeeded([e])[0]}stripValuesIfNeeded(e){const{allowHtml:r}=this.cellProperties,n=i=>tr(r?i:Cc(i));return e.every(i=>wu(eu,this,A0).call(this,i))?e.map(i=>({key:n(i.key),value:n(i.value)})):e.map(i=>n(i))}onBeforeKeyDown(e){if(hbe(e.keyCode)||e.keyCode===$e.BACKSPACE||e.keyCode===$e.DELETE||e.keyCode===$e.INSERT){let r=10;if(e.keyCode===$e.C&&(e.ctrlKey||e.metaKey))return;this.isOpened()||(r+=10),this.htEditor&&this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)},r)}}}function L6(){this.htEditor.view.hasVerticalScroll()&&this.htEditor.updateSettings({width:this.getTargetEditorWidth()+tn(this.hot.rootDocument)})}function A0(t){return Le(t)&&xe(t.key)&&xe(t.value)}const pPe="checkbox";class IG extends jp{static get EDITOR_TYPE(){return pPe}beginEditing(e,r){if(r&&r.type==="mouseup"&&r.target.nodeName==="TD"){const n=this.TD.querySelector('input[type="checkbox"]');Ve(n,"htBadValue")||n.click()}}finishEditing(){}init(){}open(){}close(){}getValue(){}setValue(){}focus(){}}/*!
 * Pikaday
 *
 * Copyright  2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */const zu=()=>window,uo=()=>window.document,kI=(t,e)=>window.setTimeout(t,e),Za=function(t,e,r,n){t.addEventListener(e,r,!!n)},zl=function(t,e,r,n){t.removeEventListener(e,r,!!n)},yPe=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},_s=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")!==-1},Hk=function(t,e){_s(t,e)||(t.className=t.className===""?e:t.className+" "+e)},jk=function(t,e){t.className=yPe((" "+t.className+" ").replace(" "+e+" "," "))},Xj=function(t){return/Array/.test(Object.prototype.toString.call(t))},ks=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},vPe=function(t){let e=t.getDay();return e===0||e===6},wPe=function(t){return t%4===0&&t%100!==0||t%400===0},F6=function(t,e){return[31,wPe(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},_S=function(t){ks(t)&&t.setHours(0,0,0,0)},RS=function(t,e){return t.getTime()===e.getTime()},j1=function(t,e,r){let n,i;for(n in e)i=t[n]!==void 0,i&&typeof e[n]=="object"&&e[n]!==null&&e[n].nodeName===void 0?ks(e[n])?r&&(t[n]=new Date(e[n].getTime())):Xj(e[n])?r&&(t[n]=e[n].slice(0)):t[n]=j1({},e[n],r):(r||!i)&&(t[n]=e[n]);return t},V6=function(t,e,r){let n=uo().createEvent("HTMLEvents");n.initEvent(e,!0,!1),n=j1(n,r),t.dispatchEvent(n)},W6=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},$a={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},B6=function(t,e,r){for(e+=t.firstDay;e>=7;)e-=7;return r?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},bPe=function(t){let e=[],r="false";if(t.isEmpty)if(t.showDaysInNextAndPreviousMonths)e.push("is-outside-current-month"),t.enableSelectionDaysInNextAndPreviousMonths||e.push("is-selection-disabled");else return'<td class="is-empty"></td>';return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),r="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+r+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},SPe=function(t,e){t.setHours(0,0,0,0);let r=t.getDate(),n=t.getDay(),i=e,s=i-1,o=7,a=function(f){return(f+o-1)%o};t.setDate(r+s-a(n));let l=new Date(t.getFullYear(),0,i),c=24*60*60*1e3,d=(t.getTime()-l.getTime())/c;return 1+Math.round((d-s+a(l.getDay()))/o)},xPe=function(t,e,r,n,i){let s=new Date(n,r,e);return'<td class="pika-week">'+(t.hasMoment?t.moment(s).isoWeek():SPe(s,i))+"</td>"},CPe=function(t,e,r,n){return'<tr class="pika-row'+(r?" pick-whole-week":"")+(n?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"},_Pe=function(t){return"<tbody>"+t.join("")+"</tbody>"},RPe=function(t){let e,r=[];for(t.showWeekNumber&&r.push("<th></th>"),e=0;e<7;e++)r.push('<th scope="col"><abbr title="'+B6(t,e)+'">'+B6(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?r.reverse():r).join("")+"</tr></thead>"},EPe=function(t,e,r,n,i,s){let o,a,l,c=t._o,d=r===c.minYear,h=r===c.maxYear,f='<div id="'+s+'" class="pika-title" role="heading" aria-live="polite">',g,m,p=!0,y=!0;for(l=[],o=0;o<12;o++)l.push('<option value="'+(r===i?o-e:12+o-e)+'"'+(o===n?' selected="selected"':"")+(d&&o<c.minMonth||h&&o>c.maxMonth?' disabled="disabled"':"")+">"+c.i18n.months[o]+"</option>");for(g='<div class="pika-label">'+c.i18n.months[n]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",Xj(c.yearRange)?(o=c.yearRange[0],a=c.yearRange[1]+1):(o=r-c.yearRange,a=1+r+c.yearRange),l=[];o<a&&o<=c.maxYear;o++)o>=c.minYear&&l.push('<option value="'+o+'"'+(o===r?' selected="selected"':"")+">"+o+"</option>");return m='<div class="pika-label">'+r+c.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",c.showMonthAfterYear?f+=m+g:f+=g+m,d&&(n===0||c.minMonth>=n)&&(p=!1),h&&(n===11||c.maxMonth<=n)&&(y=!1),e===0&&(f+='<button class="pika-prev'+(p?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(f+='<button class="pika-next'+(y?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),f+="</div>"},TPe=function(t,e,r){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+r+'">'+RPe(t)+_Pe(e)+"</table>"};function PI(t){let e=this,r=e.config(t);e._onMouseDown=function(i){if(!e._v)return;i=i||zu().event;let s=i.target||i.srcElement;if(s)if(_s(s,"is-disabled")||(_s(s,"pika-button")&&!_s(s,"is-empty")&&!_s(s.parentNode,"is-disabled")?(e.setDate(new Date(s.getAttribute("data-pika-year"),s.getAttribute("data-pika-month"),s.getAttribute("data-pika-day"))),r.bound&&kI(function(){e.hide(),r.blurFieldOnSelect&&r.field&&r.field.blur()},100)):_s(s,"pika-prev")?e.prevMonth():_s(s,"pika-next")&&e.nextMonth()),_s(s,"pika-select"))e._c=!0;else if(i.preventDefault)i.preventDefault();else return i.returnValue=!1,!1},e._onChange=function(i){i=i||zu().event;let s=i.target||i.srcElement;s&&(_s(s,"pika-select-month")?e.gotoMonth(s.value):_s(s,"pika-select-year")&&e.gotoYear(s.value))},e._onKeyChange=function(i){if(i=i||zu().event,e.isVisible())switch(i.keyCode){case 13:case 27:r.field&&r.field.blur();break;case 37:e.adjustDate("subtract",1);break;case 38:e.adjustDate("subtract",7);break;case 39:e.adjustDate("add",1);break;case 40:e.adjustDate("add",7);break;case 8:case 46:e.setDate(null);break}},e._parseFieldValue=function(){if(r.parse)return r.parse(r.field.value,r.format);if(this.hasMoment){let i=this.moment(r.field.value,r.format,r.formatStrict);return i&&i.isValid()?i.toDate():null}else return new Date(Date.parse(r.field.value))},e._onInputChange=function(i){let s;i.firedBy!==e&&(s=e._parseFieldValue(),ks(s)&&e.setDate(s),e._v||e.show())},e._onInputFocus=function(){e.show()},e._onInputClick=function(){e.show()},e._onInputBlur=function(){let i=uo().activeElement;do if(_s(i,"pika-single"))return;while(i=i.parentNode);e._c||(e._b=kI(function(){e.hide()},50)),e._c=!1},e._onClick=function(i){i=i||zu().event;let s=i.target||i.srcElement,o=s;if(s){!hasEventListeners&&_s(s,"pika-select")&&(s.onchange||(s.setAttribute("onchange","return;"),Za(s,"change",e._onChange)));do if(_s(o,"pika-single")||o===r.trigger)return;while(o=o.parentNode);e._v&&s!==r.trigger&&o!==r.trigger&&e.hide()}},e.el=uo().createElement("div"),e.el.className="pika-single"+(r.isRTL?" is-rtl":"")+(r.theme?" "+r.theme:""),Za(e.el,"mousedown",e._onMouseDown,!0),Za(e.el,"touchend",e._onMouseDown,!0),Za(e.el,"change",e._onChange),r.keyboardInput&&Za(uo(),"keydown",e._onKeyChange),r.field&&(r.container?r.container.appendChild(e.el):r.bound?uo().body.appendChild(e.el):r.field.parentNode.insertBefore(e.el,r.field.nextSibling),Za(r.field,"change",e._onInputChange),r.defaultDate||(r.defaultDate=e._parseFieldValue(),r.setDefaultDate=!0));let n=r.defaultDate;ks(n)?r.setDefaultDate?e.setDate(n,!0):e.gotoDate(n):e.gotoDate(new Date),r.bound?(this.hide(),e.el.className+=" is-bound",Za(r.trigger,"click",e._onInputClick),Za(r.trigger,"focus",e._onInputFocus),Za(r.trigger,"blur",e._onInputBlur)):this.show()}PI.prototype={config:function(t){this._o||(this._o=j1({},$a,!0));let e=j1(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme=typeof e.theme=="string"&&e.theme?e.theme:null,e.bound=!!(e.bound!==void 0?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn=typeof e.disableDayFn=="function"?e.disableDayFn:null;let r=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=r>4?4:r,ks(e.minDate)||(e.minDate=!1),ks(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),Xj(e.yearRange)){let n=new Date().getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||n,e.yearRange[1]=parseInt(e.yearRange[1],10)||n}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||$a.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(t){return t=t||this._o.format,ks(this._d)?this._o.toString?this._o.toString(this._d,t):this.hasMoment?this.moment(this._d).format(t):this._d.toDateString():""},getMoment:function(){return this.hasMoment?this.moment(this._d):null},setMoment:function(t,e){this.hasMoment&&this.moment.isMoment(t)&&this.setDate(t.toDate(),e)},useMoment:function(t){this.hasMoment=!0,this.moment=t},getDate:function(){return ks(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",V6(this._o.field,"change",{firedBy:this})),this.draw();if(typeof t=="string"&&(t=new Date(Date.parse(t))),!ks(t))return;let r=this._o.minDate,n=this._o.maxDate;ks(r)&&t<r?t=r:ks(n)&&t>n&&(t=n),this._d=new Date(t.getTime()),_S(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),V6(this._o.field,"change",{firedBy:this})),!e&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())},clear:function(){this.setDate(null)},gotoDate:function(t){let e=!0;if(ks(t)){if(this.calendars){let r=new Date(this.calendars[0].year,this.calendars[0].month,1),n=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=t.getTime();n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),e=i<r.getTime()||n.getTime()<i}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(t,e){let r=this.getDate()||new Date,n=parseInt(e)*24*60*60*1e3,i;t==="add"?i=new Date(r.valueOf()+n):t==="subtract"&&(i=new Date(r.valueOf()-n)),this.setDate(i)},adjustCalendars:function(){this.calendars[0]=W6(this.calendars[0]);for(let t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=W6({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){t instanceof Date?(_S(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()):(this._o.minDate=$a.minDate,this._o.minYear=$a.minYear,this._o.minMonth=$a.minMonth,this._o.startRange=$a.startRange),this.draw()},setMaxDate:function(t){t instanceof Date?(_S(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth()):(this._o.maxDate=$a.maxDate,this._o.maxYear=$a.maxYear,this._o.maxMonth=$a.maxMonth,this._o.endRange=$a.endRange),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(!this._v&&!t)return;let e=this._o,r=e.minYear,n=e.maxYear,i=e.minMonth,s=e.maxMonth,o="",a;this._y<=r&&(this._y=r,!isNaN(i)&&this._m<i&&(this._m=i)),this._y>=n&&(this._y=n,!isNaN(s)&&this._m>s&&(this._m=s));for(let l=0;l<e.numberOfMonths;l++)a="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),o+='<div class="pika-lendar">'+EPe(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,a)+this.render(this.calendars[l].year,this.calendars[l].month,a)+"</div>";this.el.innerHTML=o,e.bound&&e.field.type!=="hidden"&&kI(function(){e.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),e.bound&&e.field.setAttribute("aria-label",e.ariaLabel)},adjustPosition:function(){let t,e,r,n,i,s,o,a,l,c,d;this._o.container||(this.el.style.position="absolute",t=this._o.trigger,e=this.el.offsetWidth,r=this.el.offsetHeight,n=zu().innerWidth||uo().documentElement.clientWidth,i=zu().innerHeight||uo().documentElement.clientHeight,s=uo().body.scrollTop||uo().documentElement.scrollTop,c=!0,d=!0,l=t.getBoundingClientRect(),o=l.left+zu().pageXOffset,a=l.bottom+zu().pageYOffset,(this._o.reposition&&o+e>n||this._o.position.indexOf("right")>-1&&o-e+t.offsetWidth>0)&&(o=o-e+t.offsetWidth,c=!1),(this._o.reposition&&a+r>i+s||this._o.position.indexOf("top")>-1&&a-r-t.offsetHeight>0)&&(a=a-r-t.offsetHeight,d=!1),o<0&&(o=0),a<0&&(a=0),this.el.style.left=o+"px",this.el.style.top=a+"px",Hk(this.el,c?"left-aligned":"right-aligned"),Hk(this.el,d?"bottom-aligned":"top-aligned"),jk(this.el,c?"right-aligned":"left-aligned"),jk(this.el,d?"top-aligned":"bottom-aligned"))},render:function(t,e,r){let n=this._o,i=new Date,s=F6(t,e),o=new Date(t,e,1).getDay(),a=[],l=[];_S(i),n.firstDay>0&&(o-=n.firstDay,o<0&&(o+=7));let c=e===0?11:e-1,d=e===11?0:e+1,h=e===0?t-1:t,f=e===11?t+1:t,g=F6(h,c),m=s+o,p=m;for(;p>7;)p-=7;m+=7-p;let y=!1;for(let S=0,w=0;S<m;S++){let b=new Date(t,e,1+(S-o)),C=ks(this._d)?RS(b,this._d):!1,N=RS(b,i),P=n.events.indexOf(b.toDateString())!==-1,k=S<o||S>=s+o,R=1+(S-o),I=e,O=t,Z=n.startRange&&RS(n.startRange,b),q=n.endRange&&RS(n.endRange,b),J=n.startRange&&n.endRange&&n.startRange<b&&b<n.endRange,re=n.minDate&&b<n.minDate||n.maxDate&&b>n.maxDate||n.disableWeekends&&vPe(b)||n.disableDayFn&&n.disableDayFn(b);k&&(S<o?(R=g+R,I=c,O=h):(R=R-s,I=d,O=f));let ue={day:R,month:I,year:O,hasEvent:P,isSelected:C,isToday:N,isDisabled:re,isEmpty:k,isStartRange:Z,isEndRange:q,isInRange:J,showDaysInNextAndPreviousMonths:n.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:n.enableSelectionDaysInNextAndPreviousMonths};n.pickWholeWeek&&C&&(y=!0),l.push(bPe(ue)),++w===7&&(n.showWeekNumber&&l.unshift(xPe(this,S-o,e,t,n.firstWeekOfYearMinDays)),a.push(CPe(l,n.isRTL,n.pickWholeWeek,y)),l=[],w=0,y=!1)}return TPe(n,a,r)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),jk(this.el,"is-hidden"),this._o.bound&&(Za(uo(),"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){let t=this._v;t!==!1&&(this._o.bound&&zl(uo(),"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),Hk(this.el,"is-hidden"),this._v=!1,t!==void 0&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){let t=this._o;this.hide(),zl(this.el,"mousedown",this._onMouseDown,!0),zl(this.el,"touchend",this._onMouseDown,!0),zl(this.el,"change",this._onChange),t.keyboardInput&&zl(uo(),"keydown",this._onKeyChange),t.field&&(zl(t.field,"change",this._onInputChange),t.bound&&(zl(t.trigger,"click",this._onInputClick),zl(t.trigger,"focus",this._onInputFocus),zl(t.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};function kPe(t,e){PPe(t,e),e.add(t)}function PPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function z6(t,e,r){return(e=NPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NPe(t){var e=MPe(t,"string");return typeof e=="symbol"?e:e+""}function MPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dk(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const AG="date",U6="dateEditor",IPe="DD/MM/YYYY";var ES=new WeakSet;class OG extends Ff{constructor(){super(...arguments),kPe(this,ES),z6(this,"parentDestroyed",!1),z6(this,"$datePicker",null)}static get EDITOR_TYPE(){return AG}init(){if(typeof he!="function")throw new Error("You need to include moment.js to your project.");if(typeof PI!="function")throw new Error("You need to include Pikaday to your project.");super.init(),this.hot.addHook("afterDestroy",()=>{this.parentDestroyed=!0,this.destroyElements()}),this.hot.addHook("afterSetTheme",(e,r)=>{r||this.close()})}createElements(){super.createElements(),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),oe(this.datePicker,"htDatepickerHolder"),this.hot.rootPortalElement.appendChild(this.datePicker),this.eventManager.addEventListener(this.datePicker,"mousedown",e=>{Ve(e.target,"pika-day")&&this.hideDatepicker(),e.stopPropagation()})}destroyElements(){const e=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),e&&e.removeChild(this.datePicker)}prepare(e,r,n,i,s,o){super.prepare(e,r,n,i,s,o)}open(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const n=this.hot.getShortcutManager().getContext("editor");this.showDatepicker(e),super.open(),n.addShortcuts([{keys:[["ArrowLeft"]],callback:()=>{this.$datePicker.adjustDate("subtract",1)}},{keys:[["ArrowRight"]],callback:()=>{this.$datePicker.adjustDate("add",1)}},{keys:[["ArrowUp"]],callback:()=>{this.$datePicker.adjustDate("subtract",7)}},{keys:[["ArrowDown"]],callback:()=>{this.$datePicker.adjustDate("add",7)}}],{group:U6})}close(){var e;(e=this.$datePicker)!==null&&e!==void 0&&e.destroy&&this.$datePicker.destroy(),this.hot._registerTimeout(()=>{const i=this.hot._getEditorManager();i.closeEditor(),this.hot.view.render(),i.prepareEditor()}),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(U6),super.close()}finishEditing(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.finishEditing(e,r)}showDatepicker(e){const r=Dk(ES,this,$k).call(this),n=this.hot.view.isMouseDown(),i=e?dY(e.keyCode):!1;let s;this.datePicker.style.display="block",this.$datePicker=new PI(this.getDatePickerConfig()),typeof this.$datePicker.useMoment=="function"&&this.$datePicker.useMoment(he),this.$datePicker._onInputFocus=function(){},this.originalValue?(s=this.originalValue,he(s,r,!0).isValid()&&this.$datePicker.setMoment(he(s,r),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!i&&!n&&this.setValue("")):this.cellProperties.defaultDate?(s=this.cellProperties.defaultDate,he(s,r,!0).isValid()&&this.$datePicker.setMoment(he(s,r),!0),!i&&!n&&this.setValue("")):this.$datePicker.gotoToday()}hideDatepicker(){this.datePickerStyle.display="none",this.$datePicker.hide()}getDatePickerConfig(){var e;const r=this.TEXTAREA,n={};this.cellProperties&&this.cellProperties.datePickerConfig&&mR(n,this.cellProperties.datePickerConfig);const i=n.onSelect,s=n.onClose;return n.field=r,n.trigger=r,n.container=this.datePicker,n.bound=!1,n.keyboardInput=!1,n.format=(e=n.format)!==null&&e!==void 0?e:Dk(ES,this,$k).call(this),n.reposition=n.reposition||!1,n.isRTL=!1,n.onSelect=o=>{let a=o;isNaN(a.getTime())||(a=he(a).format(Dk(ES,this,$k).call(this))),this.setValue(a),i&&i(),bl()&&this.hideDatepicker()},n.onClose=()=>{this.parentDestroyed||this.finishEditing(!1),s&&s()},n}refreshDimensions(e){var r;if(super.refreshDimensions(e),this.state!==Vr.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.hideDatepicker();return}const{rowIndexMapper:n,columnIndexMapper:i}=this.hot,{wtOverlays:s}=this.hot.view._wt,{wtTable:o}=(r=s.getParentOverlay(this.TD))!==null&&r!==void 0?r:this.hot.view._wt,a=n.getVisualFromRenderableIndex(o.getFirstPartiallyVisibleRow()),l=n.getVisualFromRenderableIndex(o.getLastPartiallyVisibleRow()),c=i.getVisualFromRenderableIndex(o.getFirstPartiallyVisibleColumn()),d=i.getVisualFromRenderableIndex(o.getLastPartiallyVisibleColumn());if(this.row>=a&&this.row<=l&&this.col>=c&&this.col<=d){const h=this.TD.getBoundingClientRect();this.datePickerStyle.top=`${this.hot.rootWindow.pageYOffset+h.top+fn(this.TD)}px`;let f=this.hot.rootWindow.pageXOffset;this.hot.isRtl()?f+=h.right-en(this.datePicker):f+=h.left,this.datePickerStyle.left=`${f}px`}else this.hideDatepicker()}}function $k(){var t;return(t=this.cellProperties.dateFormat)!==null&&t!==void 0?t:IPe}const APe="dropdown";class HG extends qj{static get EDITOR_TYPE(){return APe}prepare(e,r,n,i,s,o){o.filter=!1,o.strict=!0,super.prepare(e,r,n,i,s,o)}}const OPe="numeric";class jG extends Ff{static get EDITOR_TYPE(){return OPe}}function HPe(t,e,r){return(e=jPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jPe(t){var e=DPe(t,"string");return typeof e=="symbol"?e:e+""}function DPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const $Pe="password";class DG extends Ff{constructor(){super(...arguments),HPe(this,"autoResize",SG(this.hot.rootDocument,{textContent:e=>"".repeat(e.value.length)}))}static get EDITOR_TYPE(){return $Pe}createElements(){super.createElements(),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,Ic(this.TEXTAREA_PARENT),this.TEXTAREA.setAttribute(...ba(-1)),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}const Lk="ht_editor_visible",Y6="selectEditor",LPe="select";class $G extends jp{static get EDITOR_TYPE(){return LPe}init(){this.selectWrapper=this.hot.rootDocument.createElement("div"),this.select=this.hot.rootDocument.createElement("select"),this.select.setAttribute("data-hot-input","true"),this.selectWrapper.style.display="none";const e=this.hot.rootDocument.createElement("DIV"),r=this.hot.getSettings().ariaTags;e.className="htAutocompleteArrow",r&&e.setAttribute(...jf()),e.appendChild(this.hot.rootDocument.createTextNode("")),oe(this.selectWrapper,"htSelectEditor"),this.selectWrapper.appendChild(this.select),this.selectWrapper.insertBefore(e,this.selectWrapper.firstChild),this.hot.rootElement.appendChild(this.selectWrapper),this.registerHooks()}getValue(){return this.select.value}setValue(e){this.select.value=e}open(){this._opened=!0,this.refreshDimensions(),this.selectWrapper.style.display="",this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this._opened=!1,this.selectWrapper.style.display="none",Ve(this.selectWrapper,Lk)&&Re(this.selectWrapper,Lk),this.unregisterShortcuts(),this.clearHooks()}focus(){this.select.focus()}registerHooks(){this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>this.refreshDimensions()),this.addHook("afterRowResize",()=>this.refreshDimensions())}prepare(e,r,n,i,s,o){super.prepare(e,r,n,i,s,o);const a=this.cellProperties.selectOptions;let l;typeof a=="function"?l=this.prepareOptions(a(this.row,this.col,this.prop)):l=this.prepareOptions(a),Ic(this.select),dt(l,(c,d)=>{const h=this.hot.rootDocument.createElement("OPTION");h.value=d,$f(h,c),this.select.appendChild(h)})}prepareOptions(e){let r={};if(Array.isArray(e))for(let n=0,i=e.length;n<i;n++)r[e[n]]=e[n];else typeof e=="object"&&(r=e);return r}refreshValue(){const e=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=e,this.setValue(e),this.refreshDimensions()}refreshDimensions(){if(this.state!==Vr.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.close();return}const{top:e,start:r,width:n,height:i}=this.getEditedCellRect(),s=this.selectWrapper.style;s.height=`${i}px`,s.width=`${n}px`,s.top=`${e}px`,s[this.hot.isRtl()?"right":"left"]=`${r}px`,s.margin="0px",oe(this.selectWrapper,Lk)}registerShortcuts(){const r=this.hot.getShortcutManager().getContext("editor"),n={group:Y6};this.isInFullEditMode()&&r.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{const i=this.select.selectedIndex-1;i>=0&&(this.select[i].selected=!0)}},{keys:[["ArrowDown"]],callback:()=>{const i=this.select.selectedIndex+1;i<=this.select.length-1&&(this.select[i].selected=!0)}}],n)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(Y6)}}const FPe="time";class LG extends Ff{static get EDITOR_TYPE(){return FPe}prepare(e,r,n,i,s,o){super.prepare(e,r,n,i,s,o),this.TEXTAREA.dir="ltr"}}function VPe(){Es(jp),Es(qj),Es(IG),Es(OG),Es(HG),Es(Kj),Es(jG),Es(DG),Es($G),Es(Ff),Es(LG)}const WPe="html";function Qj(t,e,r,n,i,s,o){Lw.apply(this,[t,e,r,n,i,s,o]),$f(e,s??"",!1)}Qj.RENDERER_TYPE=WPe;const BPe="autocomplete";function Dp(t,e,r,n,i,s,o){const{rootDocument:a}=t,l=o.allowHtml?Qj:Uc,c=a.createElement("DIV"),d=t.getSettings().ariaTags;if(c.className="htAutocompleteArrow",d&&c.setAttribute(...jf()),c.appendChild(a.createTextNode("")),l.apply(this,[t,e,r,n,i,s,o]),e.firstChild||e.appendChild(a.createTextNode("")),e.insertBefore(c,e.firstChild),oe(e,"htAutocomplete"),!t.acArrowListener){const h=new Sa(t);t.acArrowListener=function(f){Ve(f.target,"htAutocompleteArrow")&&t.view._wt.getSetting("onCellDblClick",null,t._createCellCoords(r,n),e)},h.addEventListener(t.rootElement,"mousedown",t.acArrowListener),t.addHookOnce("afterDestroy",()=>{h.destroy()})}}Dp.RENDERER_TYPE=BPe;const zPe="dropdown";function Jj(t,e,r,n,i,s,o){Dp.apply(this,[t,e,r,n,i,s,o])}Jj.RENDERER_TYPE=zPe;const G6=new WeakMap,K6=new WeakMap,UPe="htBadValue",hp="data-row",fp="data-col",YPe="checkboxRenderer",FG="checkbox";_e.getSingleton().add("modifyAutoColumnSizeSeed",function(t,e,r){const{label:n,type:i,row:s,column:o,prop:a}=e;if(i!==FG||!n)return;const{value:l,property:c}=n;let d=r;if(l)d=typeof l=="function"?l(s,o,a,r):l;else if(c){const h=this.getDataAtRowProp(s,c);d=h!==null?h:r}return`${tr(d).length}`});function Zj(t,e,r,n,i,s,o){const{rootDocument:a}=t,l=t.getSettings().ariaTags;Lw.apply(this,[t,e,r,n,i,s,o]),GPe(t);let c=KPe(a);const d=o.label;let h=!1;if(typeof o.checkedTemplate>"u"&&(o.checkedTemplate=!0),typeof o.uncheckedTemplate>"u"&&(o.uncheckedTemplate=!1),Ic(e),s===o.checkedTemplate||tr(s).toLocaleLowerCase(o.locale)===tr(o.checkedTemplate).toLocaleLowerCase(o.locale)?c.checked=!0:s===o.uncheckedTemplate||tr(s).toLocaleLowerCase(o.locale)===tr(o.uncheckedTemplate).toLocaleLowerCase(o.locale)?c.checked=!1:Yr(s)?oe(c,"noValue"):(c.style.display="none",oe(c,UPe),h=!0),Ee(c,[[hp,r],[fp,n]]),l&&Ee(c,[Hs(c.checked?t.getTranslatedPhrase(Ij):t.getTranslatedPhrase(Aj)),V9(c.checked),Zve()]),!h&&d){let p="";if(d.value)p=typeof d.value=="function"?d.value.call(this,r,n,i,s):d.value;else if(d.property){const S=t.getDataAtRowProp(r,d.property);p=S!==null?S:""}const y=qPe(a,p,d.separated!==!0);d.position==="before"?d.separated?(e.appendChild(y),e.appendChild(c)):(y.appendChild(c),c=y):(!d.position||d.position==="after")&&(d.separated?(e.appendChild(c),e.appendChild(y)):(y.insertBefore(c,y.firstChild),c=y))}(!d||d&&!d.separated)&&e.appendChild(c),h&&e.appendChild(a.createTextNode("#bad-value#")),G6.has(t)||(G6.set(t,!0),f());function f(){const y=t.getShortcutManager().getContext("grid"),S={group:YPe,relativeToGroup:xd,position:"before"};y.addShortcuts([{keys:[["space"]],callback:()=>(g(),!m()),runOnlyIf:()=>{var w;return(w=t.getSelectedRangeActive())===null||w===void 0?void 0:w.highlight.isCell()}},{keys:[["enter"]],callback:()=>(g(),!m()),runOnlyIf:()=>{const w=t.getSelectedRangeActive();return t.getSettings().enterBeginsEditing&&(w==null?void 0:w.highlight.isCell())&&!t.selection.isMultiple()}},{keys:[["delete"],["backspace"]],callback:()=>(g(!0),!m()),runOnlyIf:()=>{var w;return(w=t.getSelectedRangeActive())===null||w===void 0?void 0:w.highlight.isCell()}}],S)}function g(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const y=t.getSelectedRange(),S=[],w=new Map;let b=[],C=0;if(y){for(let N=0;N<y.length;N++){const{row:P,col:k}=y[N].getTopStartCorner(),{row:R,col:I}=y[N].getBottomEndCorner();for(let O=P;O<=R;O+=1)for(let Z=k;Z<=I;Z+=1){const q=t.getCellMeta(O,Z);if(q.hidden)continue;const J={checkedTemplate:q.checkedTemplate,uncheckedTemplate:q.uncheckedTemplate};if(q.type!=="checkbox"){p===!0&&!q.readOnly&&(w.has(S.length)?w.set(S.length,[...w.get(S.length),[O,Z,null]]):w.set(S.length,[[O,Z,null]]));continue}if(q.readOnly===!0)continue;typeof q.checkedTemplate>"u"&&(q.checkedTemplate=!0),typeof q.uncheckedTemplate>"u"&&(q.uncheckedTemplate=!1);const re=t.getDataAtCell(O,Z);p===!1?[q.checkedTemplate,q.checkedTemplate.toString()].includes(re)?b.push([O,Z,q.uncheckedTemplate,J]):[q.uncheckedTemplate,q.uncheckedTemplate.toString(),null,void 0].includes(re)&&b.push([O,Z,q.checkedTemplate,J]):b.push([O,Z,q.uncheckedTemplate,J]),C+=1}S.push(C),C=0}b.every(N=>{let[,,P]=N;return P===b[0][2]})?b=b.map(N=>{let[P,k,R]=N;return[P,k,R]}):b=b.map(N=>{let[P,k,,R]=N;return[P,k,R.checkedTemplate]}),b.length>0&&S.forEach((N,P)=>{let k=b.splice(0,N);w.size&&w.has(P)&&(k=[...k,...w.get(P)]),t.setDataAtCell(k)})}}function m(){const p=t.getSelectedRange();if(p){for(let y=0;y<p.length;y++){const S=p[y].getTopStartCorner(),w=p[y].getBottomEndCorner();for(let b=S.row;b<=w.row;b++)for(let C=S.col;C<=w.col;C++){if(t.getCellMeta(b,C).readOnly)continue;const P=t.getCell(b,C);if(Rc(P)&&P.querySelectorAll("input[type=checkbox]").length>0)return!0}}return!1}}}Zj.RENDERER_TYPE=FG;function GPe(t){let e=K6.get(t);if(!e){const{rootElement:r}=t;e=new Sa(t),e.addEventListener(r,"click",n=>QPe(n,t)),e.addEventListener(r,"mouseup",n=>XPe(n,t)),e.addEventListener(r,"change",n=>JPe(n,t)),K6.set(t,e)}return e}function KPe(t){const e=t.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("tabindex","-1"),e.cloneNode(!1)}function qPe(t,e,r){const n=t.createElement("label");n.className=`htCheckboxRendererLabel ${r?"fullWidth":""}`;const i=t.createTextNode(e);if(r){const s=t.createElement("span");s.appendChild(i),n.appendChild(s)}else n.appendChild(i);return n.cloneNode(!0)}function XPe(t,e){const{target:r}=t;eD(r)&&(!r.hasAttribute(hp)||!r.hasAttribute(fp)||setTimeout(e.listen,10))}function QPe(t,e){const{target:r}=t;if(!eD(r)||!r.hasAttribute(hp)||!r.hasAttribute(fp))return;const n=parseInt(r.getAttribute(hp),10),i=parseInt(r.getAttribute(fp),10);e.getCellMeta(n,i).readOnly&&t.preventDefault()}function JPe(t,e){const{target:r}=t;if(!eD(r)||!r.hasAttribute(hp)||!r.hasAttribute(fp))return;const n=parseInt(r.getAttribute(hp),10),i=parseInt(r.getAttribute(fp),10),s=e.getCellMeta(n,i);if(!s.readOnly){let o=null;t.target.checked?o=s.uncheckedTemplate===void 0?!0:s.checkedTemplate:o=s.uncheckedTemplate===void 0?!1:s.uncheckedTemplate,e.setDataAtCell(n,i,o)}}function eD(t){return t.tagName==="INPUT"&&t.getAttribute("type")==="checkbox"}const ZPe="handsontable";function tD(t,e,r,n,i,s,o){Dp.apply(this,[t,e,r,n,i,s,o])}tD.RENDERER_TYPE=ZPe;var eNe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tNe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Fk,q6;function rNe(){return q6||(q6=1,Fk={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(t){let e=t%10;return~~(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th"},bytes:{binarySuffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0,spaceSeparatedCurrency:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}),Fk}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Vk,X6;function VG(){if(X6)return Vk;X6=1;const t=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function e(l){return l.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function r(l,c,d,h,f,g,m){if(!isNaN(+l))return+l;let p="",y=l.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(y!==l)return-1*r(y,c,d,h,f,g);for(let P=0;P<t.length;P++){let k=t[P];if(p=l.replace(RegExp(`([0-9 ])(${k.key})$`),"$1"),p!==l)return r(p,c,d,h,f,g)*k.factor}if(p=l.replace("%",""),p!==l)return r(p,c,d,h,f,g)/100;let S=parseFloat(l);if(isNaN(S))return;let w=h(S);if(w&&w!=="."&&(p=l.replace(new RegExp(`${e(w)}$`),""),p!==l))return r(p,c,d,h,f,g);let b={};Object.keys(g).forEach(P=>{b[g[P]]=P});let C=Object.keys(b).sort().reverse(),N=C.length;for(let P=0;P<N;P++){let k=C[P],R=b[k];if(p=l.replace(k,""),p!==l){let I;switch(R){case"thousand":I=Math.pow(10,3);break;case"million":I=Math.pow(10,6);break;case"billion":I=Math.pow(10,9);break;case"trillion":I=Math.pow(10,12);break}return r(p,c,d,h,f,g)*I}}}function n(l,c,d){let h=l.replace(d,"");return h=h.replace(new RegExp(`([0-9])${e(c.thousands)}([0-9])`,"g"),"$1$2"),h=h.replace(c.decimal,"."),h}function i(l,c,d="",h,f,g,m){if(l==="")return;if(l===f)return 0;let p=n(l,c,d);return r(p,c,d,h,f,g)}function s(l,c){if(!(l.indexOf(":")&&c.thousands!==":"))return!1;let h=l.split(":");if(h.length!==3)return!1;let f=+h[0],g=+h[1],m=+h[2];return!isNaN(f)&&!isNaN(g)&&!isNaN(m)}function o(l){let c=l.split(":"),d=+c[0],h=+c[1];return+c[2]+60*h+3600*d}function a(l,c){const d=iD();let h=d.currentDelimiters(),f=d.currentCurrency().symbol,g=d.currentOrdinal(),m=d.getZeroFormat(),p=d.currentAbbreviations(),y;if(typeof l=="string")s(l,h)?y=o(l):y=i(l,h,f,g,m,p);else if(typeof l=="number")y=l;else return;if(y!==void 0)return y}return Vk={unformat:a},Vk}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Wk,Q6;function rD(){if(Q6)return Wk;Q6=1;let t=VG();const e=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,r=["currency","percent","byte","time","ordinal","number"],n=["trillion","billion","million","thousand"],i=["prefix","infix","postfix"],s=["sign","parenthesis"],o={type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},c={output:{type:"string",validValues:r},base:{type:"string",validValues:["decimal","binary","general"],restriction:(y,S)=>S.output==="byte",message:"`base` must be provided only when the output is `byte`",mandatory:y=>y.output==="byte"},characteristic:{type:"number",restriction:y=>y>=0,message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:n},average:"boolean",lowPrecision:{type:"boolean",restriction:(y,S)=>S.average===!0,message:"`lowPrecision` must be provided only when the option `average` is set"},currencyPosition:{type:"string",validValues:i},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:y=>y>=0,message:"value must be positive"},{restriction:(y,S)=>!S.exponential,message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:y=>y>=0,message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",roundingFunction:"function",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",spaceSeparatedAbbreviation:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:s},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:(y,S)=>S.output==="percent",message:"`prefixSymbol` can be provided only when the output is `percent`"}},d={languageTag:{type:"string",mandatory:!0,restriction:y=>y.match(e),message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:o,spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",ordinal:{type:"function",mandatory:!0},bytes:{type:"object",children:{binarySuffixes:"object",decimalSuffixes:"object"}},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function h(y,S){let w=f(y),b=m(S);return w&&b}function f(y){return t.unformat(y)!==void 0}function g(y,S,w,b=!1){let C=Object.keys(y).map(N=>{if(!S[N])return console.error(`${w} Invalid key: ${N}`),!1;let P=y[N],k=S[N];if(typeof k=="string"&&(k={type:k}),k.type==="format"){if(!g(P,c,`[Validate ${N}]`,!0))return!1}else if(typeof P!==k.type)return console.error(`${w} ${N} type mismatched: "${k.type}" expected, "${typeof P}" provided`),!1;if(k.restrictions&&k.restrictions.length){let R=k.restrictions.length;for(let I=0;I<R;I++){let{restriction:O,message:Z}=k.restrictions[I];if(!O(P,y))return console.error(`${w} ${N} invalid value: ${Z}`),!1}}return k.restriction&&!k.restriction(P,y)?(console.error(`${w} ${N} invalid value: ${k.message}`),!1):k.validValues&&k.validValues.indexOf(P)===-1?(console.error(`${w} ${N} invalid value: must be among ${JSON.stringify(k.validValues)}, "${P}" provided`),!1):!(k.children&&!g(P,k.children,`[Validate ${N}]`))});return b||C.push(...Object.keys(S).map(N=>{let P=S[N];if(typeof P=="string"&&(P={type:P}),P.mandatory){let k=P.mandatory;if(typeof k=="function"&&(k=k(y)),k&&y[N]===void 0)return console.error(`${w} Missing mandatory key "${N}"`),!1}return!0})),C.reduce((N,P)=>N&&P,!0)}function m(y){return g(y,c,"[Validate format]")}function p(y){return g(y,d,"[Validate language]")}return Wk={validate:h,validateFormat:m,validateInput:f,validateLanguage:p},Wk}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function nNe(t,e){let r=t.match(/^{([^}]*)}/);return r?(e.prefix=r[1],t.slice(r[0].length)):t}function iNe(t,e){let r=t.match(/{([^}]*)}$/);return r?(e.postfix=r[1],t.slice(0,-r[0].length)):t}function sNe(t,e){if(t.indexOf("$")!==-1){e.output="currency";return}if(t.indexOf("%")!==-1){e.output="percent";return}if(t.indexOf("bd")!==-1){e.output="byte",e.base="general";return}if(t.indexOf("b")!==-1){e.output="byte",e.base="binary";return}if(t.indexOf("d")!==-1){e.output="byte",e.base="decimal";return}if(t.indexOf(":")!==-1){e.output="time";return}t.indexOf("o")!==-1&&(e.output="ordinal")}function oNe(t,e){t.indexOf(",")!==-1&&(e.thousandSeparated=!0)}function aNe(t,e){t.indexOf(" ")!==-1&&(e.spaceSeparated=!0,e.spaceSeparatedCurrency=!0,(e.average||e.forceAverage)&&(e.spaceSeparatedAbbreviation=!0))}function lNe(t,e){let r=t.match(/[1-9]+[0-9]*/);r&&(e.totalLength=+r[0])}function cNe(t,e){let n=t.split(".")[0].match(/0+/);n&&(e.characteristic=n[0].length)}function uNe(t,e){let r=t.split(".")[1];if(r){let n=r.match(/0+/);n&&(e.mantissa=n[0].length)}}function dNe(t,e){const r=t.split(".")[1];r&&(e.trimMantissa=r.indexOf("[")!==-1)}function hNe(t,e){t.indexOf("a")!==-1&&(e.average=!0)}function fNe(t,e){t.indexOf("K")!==-1?e.forceAverage="thousand":t.indexOf("M")!==-1?e.forceAverage="million":t.indexOf("B")!==-1?e.forceAverage="billion":t.indexOf("T")!==-1&&(e.forceAverage="trillion")}function gNe(t,e){t.match(/\[\.]/)?e.optionalMantissa=!0:t.match(/\./)&&(e.optionalMantissa=!1)}function mNe(t,e){if(t.indexOf(".")!==-1){let r=t.split(".")[0];e.optionalCharacteristic=r.indexOf("0")===-1}}function pNe(t,e){t.match(/^\+?\([^)]*\)$/)&&(e.negative="parenthesis"),t.match(/^\+?-/)&&(e.negative="sign")}function yNe(t,e){t.match(/^\+/)&&(e.forceSign=!0)}function vNe(t,e={}){return typeof t!="string"?t:(t=nNe(t,e),t=iNe(t,e),sNe(t,e),lNe(t,e),cNe(t,e),mNe(t,e),hNe(t,e),fNe(t,e),uNe(t,e),gNe(t,e),dNe(t,e),oNe(t,e),aNe(t,e),pNe(t,e),yNe(t,e),e)}var nD={parseFormat:vNe};/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Bk,J6;function iD(){if(J6)return Bk;J6=1;const t=rNe(),e=rD(),r=nD;let n={},i,s={},o=null,a={};function l(d){i=d}function c(){return s[i]}return n.languages=()=>Object.assign({},s),n.currentLanguage=()=>i,n.currentBytes=()=>c().bytes||{},n.currentCurrency=()=>c().currency,n.currentAbbreviations=()=>c().abbreviations,n.currentDelimiters=()=>c().delimiters,n.currentOrdinal=()=>c().ordinal,n.currentDefaults=()=>Object.assign({},c().defaults,a),n.currentOrdinalDefaultFormat=()=>Object.assign({},n.currentDefaults(),c().ordinalFormat),n.currentByteDefaultFormat=()=>Object.assign({},n.currentDefaults(),c().byteFormat),n.currentPercentageDefaultFormat=()=>Object.assign({},n.currentDefaults(),c().percentageFormat),n.currentCurrencyDefaultFormat=()=>Object.assign({},n.currentDefaults(),c().currencyFormat),n.currentTimeDefaultFormat=()=>Object.assign({},n.currentDefaults(),c().timeFormat),n.setDefaults=d=>{d=r.parseFormat(d),e.validateFormat(d)&&(a=d)},n.getZeroFormat=()=>o,n.setZeroFormat=d=>o=typeof d=="string"?d:null,n.hasZeroFormat=()=>o!==null,n.languageData=d=>{if(d){if(s[d])return s[d];throw new Error(`Unknown tag "${d}"`)}return c()},n.registerLanguage=(d,h=!1)=>{if(!e.validateLanguage(d))throw new Error("Invalid language data");s[d.languageTag]=d,h&&l(d.languageTag)},n.setLanguage=(d,h=t.languageTag)=>{if(!s[d]){let f=d.split("-")[0],g=Object.keys(s).find(m=>m.split("-")[0]===f);if(!s[g]){l(h);return}l(g);return}l(d)},n.registerLanguage(t),i=t.languageTag,Bk=n,Bk}function wNe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function bNe(t,e){t.forEach(r=>{let n;try{n=wNe(`../languages/${r}`)}catch{console.error(`Unable to load "${r}". No matching language file found.`)}n&&e.registerLanguage(n)})}var SNe=t=>({loadLanguagesInNode:e=>bNe(e,t)}),WG={exports:{}};(function(t){(function(e){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",l=1e14,c=14,d=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,g=1e9;function m(P){var k,R,I,O=F.prototype={constructor:F,toString:null,valueOf:null},Z=new F(1),q=20,J=4,re=-7,ue=21,ve=-1e7,be=1e7,ie=!1,ee=1,ce=0,ae={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},ye="0123456789abcdefghijklmnopqrstuvwxyz",Q=!0;function F(_,T){var M,$,j,A,U,L,V,X,K=this;if(!(K instanceof F))return new F(_,T);if(T==null){if(_&&_._isBigNumber===!0){K.s=_.s,!_.c||_.e>be?K.c=K.e=null:_.e<ve?K.c=[K.e=0]:(K.e=_.e,K.c=_.c.slice());return}if((L=typeof _=="number")&&_*0==0){if(K.s=1/_<0?(_=-_,-1):1,_===~~_){for(A=0,U=_;U>=10;U/=10,A++);A>be?K.c=K.e=null:(K.e=A,K.c=[_]);return}X=String(_)}else{if(!n.test(X=String(_)))return I(K,X,L);K.s=X.charCodeAt(0)==45?(X=X.slice(1),-1):1}(A=X.indexOf("."))>-1&&(X=X.replace(".","")),(U=X.search(/e/i))>0?(A<0&&(A=U),A+=+X.slice(U+1),X=X.substring(0,U)):A<0&&(A=X.length)}else{if(w(T,2,ye.length,"Base"),T==10&&Q)return K=new F(_),D(K,q+K.e+1,J);if(X=String(_),L=typeof _=="number"){if(_*0!=0)return I(K,X,L,T);if(K.s=1/_<0?(X=X.slice(1),-1):1,F.DEBUG&&X.replace(/^0\.0*|\./,"").length>15)throw Error(a+_)}else K.s=X.charCodeAt(0)===45?(X=X.slice(1),-1):1;for(M=ye.slice(0,T),A=U=0,V=X.length;U<V;U++)if(M.indexOf($=X.charAt(U))<0){if($=="."){if(U>A){A=V;continue}}else if(!j&&(X==X.toUpperCase()&&(X=X.toLowerCase())||X==X.toLowerCase()&&(X=X.toUpperCase()))){j=!0,U=-1,A=0;continue}return I(K,String(_),L,T)}L=!1,X=R(X,T,10,K.s),(A=X.indexOf("."))>-1?X=X.replace(".",""):A=X.length}for(U=0;X.charCodeAt(U)===48;U++);for(V=X.length;X.charCodeAt(--V)===48;);if(X=X.slice(U,++V)){if(V-=U,L&&F.DEBUG&&V>15&&(_>d||_!==s(_)))throw Error(a+K.s*_);if((A=A-U-1)>be)K.c=K.e=null;else if(A<ve)K.c=[K.e=0];else{if(K.e=A,K.c=[],U=(A+1)%c,A<0&&(U+=c),U<V){for(U&&K.c.push(+X.slice(0,U)),V-=c;U<V;)K.c.push(+X.slice(U,U+=c));U=c-(X=X.slice(U)).length}else U-=V;for(;U--;X+="0");K.c.push(+X)}}else K.c=[K.e=0]}F.clone=m,F.ROUND_UP=0,F.ROUND_DOWN=1,F.ROUND_CEIL=2,F.ROUND_FLOOR=3,F.ROUND_HALF_UP=4,F.ROUND_HALF_DOWN=5,F.ROUND_HALF_EVEN=6,F.ROUND_HALF_CEIL=7,F.ROUND_HALF_FLOOR=8,F.EUCLID=9,F.config=F.set=function(_){var T,M;if(_!=null)if(typeof _=="object"){if(_.hasOwnProperty(T="DECIMAL_PLACES")&&(M=_[T],w(M,0,g,T),q=M),_.hasOwnProperty(T="ROUNDING_MODE")&&(M=_[T],w(M,0,8,T),J=M),_.hasOwnProperty(T="EXPONENTIAL_AT")&&(M=_[T],M&&M.pop?(w(M[0],-g,0,T),w(M[1],0,g,T),re=M[0],ue=M[1]):(w(M,-g,g,T),re=-(ue=M<0?-M:M))),_.hasOwnProperty(T="RANGE"))if(M=_[T],M&&M.pop)w(M[0],-g,-1,T),w(M[1],1,g,T),ve=M[0],be=M[1];else if(w(M,-g,g,T),M)ve=-(be=M<0?-M:M);else throw Error(o+T+" cannot be zero: "+M);if(_.hasOwnProperty(T="CRYPTO"))if(M=_[T],M===!!M)if(M)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ie=M;else throw ie=!M,Error(o+"crypto unavailable");else ie=M;else throw Error(o+T+" not true or false: "+M);if(_.hasOwnProperty(T="MODULO_MODE")&&(M=_[T],w(M,0,9,T),ee=M),_.hasOwnProperty(T="POW_PRECISION")&&(M=_[T],w(M,0,g,T),ce=M),_.hasOwnProperty(T="FORMAT"))if(M=_[T],typeof M=="object")ae=M;else throw Error(o+T+" not an object: "+M);if(_.hasOwnProperty(T="ALPHABET"))if(M=_[T],typeof M=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(M))Q=M.slice(0,10)=="0123456789",ye=M;else throw Error(o+T+" invalid: "+M)}else throw Error(o+"Object expected: "+_);return{DECIMAL_PLACES:q,ROUNDING_MODE:J,EXPONENTIAL_AT:[re,ue],RANGE:[ve,be],CRYPTO:ie,MODULO_MODE:ee,POW_PRECISION:ce,FORMAT:ae,ALPHABET:ye}},F.isBigNumber=function(_){if(!_||_._isBigNumber!==!0)return!1;if(!F.DEBUG)return!0;var T,M,$=_.c,j=_.e,A=_.s;e:if({}.toString.call($)=="[object Array]"){if((A===1||A===-1)&&j>=-g&&j<=g&&j===s(j)){if($[0]===0){if(j===0&&$.length===1)return!0;break e}if(T=(j+1)%c,T<1&&(T+=c),String($[0]).length==T){for(T=0;T<$.length;T++)if(M=$[T],M<0||M>=l||M!==s(M))break e;if(M!==0)return!0}}}else if($===null&&j===null&&(A===null||A===1||A===-1))return!0;throw Error(o+"Invalid BigNumber: "+_)},F.maximum=F.max=function(){return x(arguments,-1)},F.minimum=F.min=function(){return x(arguments,1)},F.random=function(){var _=9007199254740992,T=Math.random()*_&2097151?function(){return s(Math.random()*_)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(M){var $,j,A,U,L,V=0,X=[],K=new F(Z);if(M==null?M=q:w(M,0,g),U=i(M/c),ie)if(crypto.getRandomValues){for($=crypto.getRandomValues(new Uint32Array(U*=2));V<U;)L=$[V]*131072+($[V+1]>>>11),L>=9e15?(j=crypto.getRandomValues(new Uint32Array(2)),$[V]=j[0],$[V+1]=j[1]):(X.push(L%1e14),V+=2);V=U/2}else if(crypto.randomBytes){for($=crypto.randomBytes(U*=7);V<U;)L=($[V]&31)*281474976710656+$[V+1]*1099511627776+$[V+2]*4294967296+$[V+3]*16777216+($[V+4]<<16)+($[V+5]<<8)+$[V+6],L>=9e15?crypto.randomBytes(7).copy($,V):(X.push(L%1e14),V+=7);V=U/7}else throw ie=!1,Error(o+"crypto unavailable");if(!ie)for(;V<U;)L=T(),L<9e15&&(X[V++]=L%1e14);for(U=X[--V],M%=c,U&&M&&(L=h[c-M],X[V]=s(U/L)*L);X[V]===0;X.pop(),V--);if(V<0)X=[A=0];else{for(A=-1;X[0]===0;X.splice(0,1),A-=c);for(V=1,L=X[0];L>=10;L/=10,V++);V<c&&(A-=c-V)}return K.e=A,K.c=X,K}}(),F.sum=function(){for(var _=1,T=arguments,M=new F(T[0]);_<T.length;)M=M.plus(T[_++]);return M},R=function(){var _="0123456789";function T(M,$,j,A){for(var U,L=[0],V,X=0,K=M.length;X<K;){for(V=L.length;V--;L[V]*=$);for(L[0]+=A.indexOf(M.charAt(X++)),U=0;U<L.length;U++)L[U]>j-1&&(L[U+1]==null&&(L[U+1]=0),L[U+1]+=L[U]/j|0,L[U]%=j)}return L.reverse()}return function(M,$,j,A,U){var L,V,X,K,se,we,pe,He,Je=M.indexOf("."),ht=q,Oe=J;for(Je>=0&&(K=ce,ce=0,M=M.replace(".",""),He=new F($),we=He.pow(M.length-Je),ce=K,He.c=T(N(y(we.c),we.e,"0"),10,j,_),He.e=He.c.length),pe=T(M,$,j,U?(L=ye,_):(L=_,ye)),X=K=pe.length;pe[--K]==0;pe.pop());if(!pe[0])return L.charAt(0);if(Je<0?--X:(we.c=pe,we.e=X,we.s=A,we=k(we,He,ht,Oe,j),pe=we.c,se=we.r,X=we.e),V=X+ht+1,Je=pe[V],K=j/2,se=se||V<0||pe[V+1]!=null,se=Oe<4?(Je!=null||se)&&(Oe==0||Oe==(we.s<0?3:2)):Je>K||Je==K&&(Oe==4||se||Oe==6&&pe[V-1]&1||Oe==(we.s<0?8:7)),V<1||!pe[0])M=se?N(L.charAt(1),-ht,L.charAt(0)):L.charAt(0);else{if(pe.length=V,se)for(--j;++pe[--V]>j;)pe[V]=0,V||(++X,pe=[1].concat(pe));for(K=pe.length;!pe[--K];);for(Je=0,M="";Je<=K;M+=L.charAt(pe[Je++]));M=N(M,X,L.charAt(0))}return M}}(),k=function(){function _($,j,A){var U,L,V,X,K=0,se=$.length,we=j%f,pe=j/f|0;for($=$.slice();se--;)V=$[se]%f,X=$[se]/f|0,U=pe*V+X*we,L=we*V+U%f*f+K,K=(L/A|0)+(U/f|0)+pe*X,$[se]=L%A;return K&&($=[K].concat($)),$}function T($,j,A,U){var L,V;if(A!=U)V=A>U?1:-1;else for(L=V=0;L<A;L++)if($[L]!=j[L]){V=$[L]>j[L]?1:-1;break}return V}function M($,j,A,U){for(var L=0;A--;)$[A]-=L,L=$[A]<j[A]?1:0,$[A]=L*U+$[A]-j[A];for(;!$[0]&&$.length>1;$.splice(0,1));}return function($,j,A,U,L){var V,X,K,se,we,pe,He,Je,ht,Oe,Ue,vt,_t,te,We,Ye,Nt,De=$.s==j.s?1:-1,rt=$.c,qe=j.c;if(!rt||!rt[0]||!qe||!qe[0])return new F(!$.s||!j.s||(rt?qe&&rt[0]==qe[0]:!qe)?NaN:rt&&rt[0]==0||!qe?De*0:De/0);for(Je=new F(De),ht=Je.c=[],X=$.e-j.e,De=A+X+1,L||(L=l,X=p($.e/c)-p(j.e/c),De=De/c|0),K=0;qe[K]==(rt[K]||0);K++);if(qe[K]>(rt[K]||0)&&X--,De<0)ht.push(1),se=!0;else{for(te=rt.length,Ye=qe.length,K=0,De+=2,we=s(L/(qe[0]+1)),we>1&&(qe=_(qe,we,L),rt=_(rt,we,L),Ye=qe.length,te=rt.length),_t=Ye,Oe=rt.slice(0,Ye),Ue=Oe.length;Ue<Ye;Oe[Ue++]=0);Nt=qe.slice(),Nt=[0].concat(Nt),We=qe[0],qe[1]>=L/2&&We++;do{if(we=0,V=T(qe,Oe,Ye,Ue),V<0){if(vt=Oe[0],Ye!=Ue&&(vt=vt*L+(Oe[1]||0)),we=s(vt/We),we>1)for(we>=L&&(we=L-1),pe=_(qe,we,L),He=pe.length,Ue=Oe.length;T(pe,Oe,He,Ue)==1;)we--,M(pe,Ye<He?Nt:qe,He,L),He=pe.length,V=1;else we==0&&(V=we=1),pe=qe.slice(),He=pe.length;if(He<Ue&&(pe=[0].concat(pe)),M(Oe,pe,Ue,L),Ue=Oe.length,V==-1)for(;T(qe,Oe,Ye,Ue)<1;)we++,M(Oe,Ye<Ue?Nt:qe,Ue,L),Ue=Oe.length}else V===0&&(we++,Oe=[0]);ht[K++]=we,Oe[0]?Oe[Ue++]=rt[_t]||0:(Oe=[rt[_t]],Ue=1)}while((_t++<te||Oe[0]!=null)&&De--);se=Oe[0]!=null,ht[0]||ht.splice(0,1)}if(L==l){for(K=1,De=ht[0];De>=10;De/=10,K++);D(Je,A+(Je.e=K+X*c-1)+1,U,se)}else Je.e=X,Je.r=+se;return Je}}();function v(_,T,M,$){var j,A,U,L,V;if(M==null?M=J:w(M,0,8),!_.c)return _.toString();if(j=_.c[0],U=_.e,T==null)V=y(_.c),V=$==1||$==2&&(U<=re||U>=ue)?C(V,U):N(V,U,"0");else if(_=D(new F(_),T,M),A=_.e,V=y(_.c),L=V.length,$==1||$==2&&(T<=A||A<=re)){for(;L<T;V+="0",L++);V=C(V,A)}else if(T-=U,V=N(V,A,"0"),A+1>L){if(--T>0)for(V+=".";T--;V+="0");}else if(T+=A-L,T>0)for(A+1==L&&(V+=".");T--;V+="0");return _.s<0&&j?"-"+V:V}function x(_,T){for(var M,$,j=1,A=new F(_[0]);j<_.length;j++)$=new F(_[j]),(!$.s||(M=S(A,$))===T||M===0&&A.s===T)&&(A=$);return A}function E(_,T,M){for(var $=1,j=T.length;!T[--j];T.pop());for(j=T[0];j>=10;j/=10,$++);return(M=$+M*c-1)>be?_.c=_.e=null:M<ve?_.c=[_.e=0]:(_.e=M,_.c=T),_}I=function(){var _=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,M=/^\.([^.]+)$/,$=/^-?(Infinity|NaN)$/,j=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(A,U,L,V){var X,K=L?U:U.replace(j,"");if($.test(K))A.s=isNaN(K)?null:K<0?-1:1;else{if(!L&&(K=K.replace(_,function(se,we,pe){return X=(pe=pe.toLowerCase())=="x"?16:pe=="b"?2:8,!V||V==X?we:se}),V&&(X=V,K=K.replace(T,"$1").replace(M,"0.$1")),U!=K))return new F(K,X);if(F.DEBUG)throw Error(o+"Not a"+(V?" base "+V:"")+" number: "+U);A.s=null}A.c=A.e=null}}();function D(_,T,M,$){var j,A,U,L,V,X,K,se=_.c,we=h;if(se){e:{for(j=1,L=se[0];L>=10;L/=10,j++);if(A=T-j,A<0)A+=c,U=T,V=se[X=0],K=s(V/we[j-U-1]%10);else if(X=i((A+1)/c),X>=se.length)if($){for(;se.length<=X;se.push(0));V=K=0,j=1,A%=c,U=A-c+1}else break e;else{for(V=L=se[X],j=1;L>=10;L/=10,j++);A%=c,U=A-c+j,K=U<0?0:s(V/we[j-U-1]%10)}if($=$||T<0||se[X+1]!=null||(U<0?V:V%we[j-U-1]),$=M<4?(K||$)&&(M==0||M==(_.s<0?3:2)):K>5||K==5&&(M==4||$||M==6&&(A>0?U>0?V/we[j-U]:0:se[X-1])%10&1||M==(_.s<0?8:7)),T<1||!se[0])return se.length=0,$?(T-=_.e+1,se[0]=we[(c-T%c)%c],_.e=-T||0):se[0]=_.e=0,_;if(A==0?(se.length=X,L=1,X--):(se.length=X+1,L=we[c-A],se[X]=U>0?s(V/we[j-U]%we[U])*L:0),$)for(;;)if(X==0){for(A=1,U=se[0];U>=10;U/=10,A++);for(U=se[0]+=L,L=1;U>=10;U/=10,L++);A!=L&&(_.e++,se[0]==l&&(se[0]=1));break}else{if(se[X]+=L,se[X]!=l)break;se[X--]=0,L=1}for(A=se.length;se[--A]===0;se.pop());}_.e>be?_.c=_.e=null:_.e<ve&&(_.c=[_.e=0])}return _}function Y(_){var T,M=_.e;return M===null?_.toString():(T=y(_.c),T=M<=re||M>=ue?C(T,M):N(T,M,"0"),_.s<0?"-"+T:T)}return O.absoluteValue=O.abs=function(){var _=new F(this);return _.s<0&&(_.s=1),_},O.comparedTo=function(_,T){return S(this,new F(_,T))},O.decimalPlaces=O.dp=function(_,T){var M,$,j,A=this;if(_!=null)return w(_,0,g),T==null?T=J:w(T,0,8),D(new F(A),_+A.e+1,T);if(!(M=A.c))return null;if($=((j=M.length-1)-p(this.e/c))*c,j=M[j])for(;j%10==0;j/=10,$--);return $<0&&($=0),$},O.dividedBy=O.div=function(_,T){return k(this,new F(_,T),q,J)},O.dividedToIntegerBy=O.idiv=function(_,T){return k(this,new F(_,T),0,1)},O.exponentiatedBy=O.pow=function(_,T){var M,$,j,A,U,L,V,X,K,se=this;if(_=new F(_),_.c&&!_.isInteger())throw Error(o+"Exponent not an integer: "+Y(_));if(T!=null&&(T=new F(T)),L=_.e>14,!se.c||!se.c[0]||se.c[0]==1&&!se.e&&se.c.length==1||!_.c||!_.c[0])return K=new F(Math.pow(+Y(se),L?_.s*(2-b(_)):+Y(_))),T?K.mod(T):K;if(V=_.s<0,T){if(T.c?!T.c[0]:!T.s)return new F(NaN);$=!V&&se.isInteger()&&T.isInteger(),$&&(se=se.mod(T))}else{if(_.e>9&&(se.e>0||se.e<-1||(se.e==0?se.c[0]>1||L&&se.c[1]>=24e7:se.c[0]<8e13||L&&se.c[0]<=9999975e7)))return A=se.s<0&&b(_)?-0:0,se.e>-1&&(A=1/A),new F(V?1/A:A);ce&&(A=i(ce/c+2))}for(L?(M=new F(.5),V&&(_.s=1),X=b(_)):(j=Math.abs(+Y(_)),X=j%2),K=new F(Z);;){if(X){if(K=K.times(se),!K.c)break;A?K.c.length>A&&(K.c.length=A):$&&(K=K.mod(T))}if(j){if(j=s(j/2),j===0)break;X=j%2}else if(_=_.times(M),D(_,_.e+1,1),_.e>14)X=b(_);else{if(j=+Y(_),j===0)break;X=j%2}se=se.times(se),A?se.c&&se.c.length>A&&(se.c.length=A):$&&(se=se.mod(T))}return $?K:(V&&(K=Z.div(K)),T?K.mod(T):A?D(K,ce,J,U):K)},O.integerValue=function(_){var T=new F(this);return _==null?_=J:w(_,0,8),D(T,T.e+1,_)},O.isEqualTo=O.eq=function(_,T){return S(this,new F(_,T))===0},O.isFinite=function(){return!!this.c},O.isGreaterThan=O.gt=function(_,T){return S(this,new F(_,T))>0},O.isGreaterThanOrEqualTo=O.gte=function(_,T){return(T=S(this,new F(_,T)))===1||T===0},O.isInteger=function(){return!!this.c&&p(this.e/c)>this.c.length-2},O.isLessThan=O.lt=function(_,T){return S(this,new F(_,T))<0},O.isLessThanOrEqualTo=O.lte=function(_,T){return(T=S(this,new F(_,T)))===-1||T===0},O.isNaN=function(){return!this.s},O.isNegative=function(){return this.s<0},O.isPositive=function(){return this.s>0},O.isZero=function(){return!!this.c&&this.c[0]==0},O.minus=function(_,T){var M,$,j,A,U=this,L=U.s;if(_=new F(_,T),T=_.s,!L||!T)return new F(NaN);if(L!=T)return _.s=-T,U.plus(_);var V=U.e/c,X=_.e/c,K=U.c,se=_.c;if(!V||!X){if(!K||!se)return K?(_.s=-T,_):new F(se?U:NaN);if(!K[0]||!se[0])return se[0]?(_.s=-T,_):new F(K[0]?U:J==3?-0:0)}if(V=p(V),X=p(X),K=K.slice(),L=V-X){for((A=L<0)?(L=-L,j=K):(X=V,j=se),j.reverse(),T=L;T--;j.push(0));j.reverse()}else for($=(A=(L=K.length)<(T=se.length))?L:T,L=T=0;T<$;T++)if(K[T]!=se[T]){A=K[T]<se[T];break}if(A&&(j=K,K=se,se=j,_.s=-_.s),T=($=se.length)-(M=K.length),T>0)for(;T--;K[M++]=0);for(T=l-1;$>L;){if(K[--$]<se[$]){for(M=$;M&&!K[--M];K[M]=T);--K[M],K[$]+=l}K[$]-=se[$]}for(;K[0]==0;K.splice(0,1),--X);return K[0]?E(_,K,X):(_.s=J==3?-1:1,_.c=[_.e=0],_)},O.modulo=O.mod=function(_,T){var M,$,j=this;return _=new F(_,T),!j.c||!_.s||_.c&&!_.c[0]?new F(NaN):!_.c||j.c&&!j.c[0]?new F(j):(ee==9?($=_.s,_.s=1,M=k(j,_,0,3),_.s=$,M.s*=$):M=k(j,_,0,ee),_=j.minus(M.times(_)),!_.c[0]&&ee==1&&(_.s=j.s),_)},O.multipliedBy=O.times=function(_,T){var M,$,j,A,U,L,V,X,K,se,we,pe,He,Je,ht,Oe=this,Ue=Oe.c,vt=(_=new F(_,T)).c;if(!Ue||!vt||!Ue[0]||!vt[0])return!Oe.s||!_.s||Ue&&!Ue[0]&&!vt||vt&&!vt[0]&&!Ue?_.c=_.e=_.s=null:(_.s*=Oe.s,!Ue||!vt?_.c=_.e=null:(_.c=[0],_.e=0)),_;for($=p(Oe.e/c)+p(_.e/c),_.s*=Oe.s,V=Ue.length,se=vt.length,V<se&&(He=Ue,Ue=vt,vt=He,j=V,V=se,se=j),j=V+se,He=[];j--;He.push(0));for(Je=l,ht=f,j=se;--j>=0;){for(M=0,we=vt[j]%ht,pe=vt[j]/ht|0,U=V,A=j+U;A>j;)X=Ue[--U]%ht,K=Ue[U]/ht|0,L=pe*X+K*we,X=we*X+L%ht*ht+He[A]+M,M=(X/Je|0)+(L/ht|0)+pe*K,He[A--]=X%Je;He[A]=M}return M?++$:He.splice(0,1),E(_,He,$)},O.negated=function(){var _=new F(this);return _.s=-_.s||null,_},O.plus=function(_,T){var M,$=this,j=$.s;if(_=new F(_,T),T=_.s,!j||!T)return new F(NaN);if(j!=T)return _.s=-T,$.minus(_);var A=$.e/c,U=_.e/c,L=$.c,V=_.c;if(!A||!U){if(!L||!V)return new F(j/0);if(!L[0]||!V[0])return V[0]?_:new F(L[0]?$:j*0)}if(A=p(A),U=p(U),L=L.slice(),j=A-U){for(j>0?(U=A,M=V):(j=-j,M=L),M.reverse();j--;M.push(0));M.reverse()}for(j=L.length,T=V.length,j-T<0&&(M=V,V=L,L=M,T=j),j=0;T;)j=(L[--T]=L[T]+V[T]+j)/l|0,L[T]=l===L[T]?0:L[T]%l;return j&&(L=[j].concat(L),++U),E(_,L,U)},O.precision=O.sd=function(_,T){var M,$,j,A=this;if(_!=null&&_!==!!_)return w(_,1,g),T==null?T=J:w(T,0,8),D(new F(A),_,T);if(!(M=A.c))return null;if(j=M.length-1,$=j*c+1,j=M[j]){for(;j%10==0;j/=10,$--);for(j=M[0];j>=10;j/=10,$++);}return _&&A.e+1>$&&($=A.e+1),$},O.shiftedBy=function(_){return w(_,-d,d),this.times("1e"+_)},O.squareRoot=O.sqrt=function(){var _,T,M,$,j,A=this,U=A.c,L=A.s,V=A.e,X=q+4,K=new F("0.5");if(L!==1||!U||!U[0])return new F(!L||L<0&&(!U||U[0])?NaN:U?A:1/0);if(L=Math.sqrt(+Y(A)),L==0||L==1/0?(T=y(U),(T.length+V)%2==0&&(T+="0"),L=Math.sqrt(+T),V=p((V+1)/2)-(V<0||V%2),L==1/0?T="5e"+V:(T=L.toExponential(),T=T.slice(0,T.indexOf("e")+1)+V),M=new F(T)):M=new F(L+""),M.c[0]){for(V=M.e,L=V+X,L<3&&(L=0);;)if(j=M,M=K.times(j.plus(k(A,j,X,1))),y(j.c).slice(0,L)===(T=y(M.c)).slice(0,L))if(M.e<V&&--L,T=T.slice(L-3,L+1),T=="9999"||!$&&T=="4999"){if(!$&&(D(j,j.e+q+2,0),j.times(j).eq(A))){M=j;break}X+=4,L+=4,$=1}else{(!+T||!+T.slice(1)&&T.charAt(0)=="5")&&(D(M,M.e+q+2,1),_=!M.times(M).eq(A));break}}return D(M,M.e+q+1,J,_)},O.toExponential=function(_,T){return _!=null&&(w(_,0,g),_++),v(this,_,T,1)},O.toFixed=function(_,T){return _!=null&&(w(_,0,g),_=_+this.e+1),v(this,_,T)},O.toFormat=function(_,T,M){var $,j=this;if(M==null)_!=null&&T&&typeof T=="object"?(M=T,T=null):_&&typeof _=="object"?(M=_,_=T=null):M=ae;else if(typeof M!="object")throw Error(o+"Argument not an object: "+M);if($=j.toFixed(_,T),j.c){var A,U=$.split("."),L=+M.groupSize,V=+M.secondaryGroupSize,X=M.groupSeparator||"",K=U[0],se=U[1],we=j.s<0,pe=we?K.slice(1):K,He=pe.length;if(V&&(A=L,L=V,V=A,He-=A),L>0&&He>0){for(A=He%L||L,K=pe.substr(0,A);A<He;A+=L)K+=X+pe.substr(A,L);V>0&&(K+=X+pe.slice(A)),we&&(K="-"+K)}$=se?K+(M.decimalSeparator||"")+((V=+M.fractionGroupSize)?se.replace(new RegExp("\\d{"+V+"}\\B","g"),"$&"+(M.fractionGroupSeparator||"")):se):K}return(M.prefix||"")+$+(M.suffix||"")},O.toFraction=function(_){var T,M,$,j,A,U,L,V,X,K,se,we,pe=this,He=pe.c;if(_!=null&&(L=new F(_),!L.isInteger()&&(L.c||L.s!==1)||L.lt(Z)))throw Error(o+"Argument "+(L.isInteger()?"out of range: ":"not an integer: ")+Y(L));if(!He)return new F(pe);for(T=new F(Z),X=M=new F(Z),$=V=new F(Z),we=y(He),A=T.e=we.length-pe.e-1,T.c[0]=h[(U=A%c)<0?c+U:U],_=!_||L.comparedTo(T)>0?A>0?T:X:L,U=be,be=1/0,L=new F(we),V.c[0]=0;K=k(L,T,0,1),j=M.plus(K.times($)),j.comparedTo(_)!=1;)M=$,$=j,X=V.plus(K.times(j=X)),V=j,T=L.minus(K.times(j=T)),L=j;return j=k(_.minus(M),$,0,1),V=V.plus(j.times(X)),M=M.plus(j.times($)),V.s=X.s=pe.s,A=A*2,se=k(X,$,A,J).minus(pe).abs().comparedTo(k(V,M,A,J).minus(pe).abs())<1?[X,$]:[V,M],be=U,se},O.toNumber=function(){return+Y(this)},O.toPrecision=function(_,T){return _!=null&&w(_,1,g),v(this,_,T,2)},O.toString=function(_){var T,M=this,$=M.s,j=M.e;return j===null?$?(T="Infinity",$<0&&(T="-"+T)):T="NaN":(_==null?T=j<=re||j>=ue?C(y(M.c),j):N(y(M.c),j,"0"):_===10&&Q?(M=D(new F(M),q+j+1,J),T=N(y(M.c),M.e,"0")):(w(_,2,ye.length,"Base"),T=R(N(y(M.c),j,"0"),10,_,$,!0)),$<0&&M.c[0]&&(T="-"+T)),T},O.valueOf=O.toJSON=function(){return Y(this)},O._isBigNumber=!0,P!=null&&F.set(P),F}function p(P){var k=P|0;return P>0||P===k?k:k-1}function y(P){for(var k,R,I=1,O=P.length,Z=P[0]+"";I<O;){for(k=P[I++]+"",R=c-k.length;R--;k="0"+k);Z+=k}for(O=Z.length;Z.charCodeAt(--O)===48;);return Z.slice(0,O+1||1)}function S(P,k){var R,I,O=P.c,Z=k.c,q=P.s,J=k.s,re=P.e,ue=k.e;if(!q||!J)return null;if(R=O&&!O[0],I=Z&&!Z[0],R||I)return R?I?0:-J:q;if(q!=J)return q;if(R=q<0,I=re==ue,!O||!Z)return I?0:!O^R?1:-1;if(!I)return re>ue^R?1:-1;for(J=(re=O.length)<(ue=Z.length)?re:ue,q=0;q<J;q++)if(O[q]!=Z[q])return O[q]>Z[q]^R?1:-1;return re==ue?0:re>ue^R?1:-1}function w(P,k,R,I){if(P<k||P>R||P!==s(P))throw Error(o+(I||"Argument")+(typeof P=="number"?P<k||P>R?" out of range: ":" not an integer: ":" not a primitive number: ")+String(P))}function b(P){var k=P.c.length-1;return p(P.e/c)==k&&P.c[k]%2!=0}function C(P,k){return(P.length>1?P.charAt(0)+"."+P.slice(1):P)+(k<0?"e":"e+")+k}function N(P,k,R){var I,O;if(k<0){for(O=R+".";++k;O+=R);P=O+P}else if(I=P.length,++k>I){for(O=R,k-=I;--k;O+=R);P+=O}else k<I&&(P=P.slice(0,k)+"."+P.slice(k));return P}r=m(),r.default=r.BigNumber=r,t.exports?t.exports=r:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=r)})(eNe)})(WG);var BG=WG.exports;/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const Ko=iD(),xNe=rD(),CNe=nD,_Ne=BG,zn={trillion:Math.pow(10,12),billion:Math.pow(10,9),million:Math.pow(10,6),thousand:Math.pow(10,3)},Fw={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1,roundingFunction:Math.round,spaceSeparatedAbbreviation:!1},{binarySuffixes:zG,decimalSuffixes:D1}=Ko.currentBytes(),sD={general:{scale:1024,suffixes:D1},binary:{scale:1024,suffixes:zG},decimal:{scale:1e3,suffixes:D1}};function RNe(t,e={},r){if(typeof e=="string"&&(e=CNe.parseFormat(e)),!xNe.validateFormat(e))return"ERROR: invalid format";let i=e.prefix||"",s=e.postfix||"",o=ENe(t,e,r);return o=UNe(o,i),o=YNe(o,s),o}function ENe(t,e,r){switch(e.output){case"currency":return e=Wg(e,Ko.currentCurrencyDefaultFormat()),ONe(t,e,Ko);case"percent":return e=Wg(e,Ko.currentPercentageDefaultFormat()),ANe(t,e,Ko,r);case"byte":return e=Wg(e,Ko.currentByteDefaultFormat()),NNe(t,e,Ko,r);case"time":return e=Wg(e,Ko.currentTimeDefaultFormat()),INe(t);case"ordinal":return e=Wg(e,Ko.currentOrdinalDefaultFormat()),MNe(t,e,Ko);case"number":default:return Vw({instance:t,providedFormat:e})}}function TNe(t){let e=sD.decimal;return IR(t._value,e.suffixes,e.scale).suffix}function kNe(t){let e=sD.binary;return IR(t._value,e.suffixes,e.scale).suffix}function PNe(t){let e=sD.general;return IR(t._value,e.suffixes,e.scale).suffix}function IR(t,e,r){let n=e[0],i=Math.abs(t);if(i>=r){for(let s=1;s<e.length;++s){let o=Math.pow(r,s),a=Math.pow(r,s+1);if(i>=o&&i<a){n=e[s],t=t/o;break}}n===e[0]&&(t=t/Math.pow(r,e.length-1),n=e[e.length-1])}return{value:t,suffix:n}}function NNe(t,e,r,n){let i=e.base||"binary",s=Object.assign({},Fw,e);const{binarySuffixes:o,decimalSuffixes:a}=r.currentBytes();let c={general:{scale:1024,suffixes:a||D1,marker:"bd"},binary:{scale:1024,suffixes:o||zG,marker:"b"},decimal:{scale:1e3,suffixes:a||D1,marker:"d"}}[i],{value:d,suffix:h}=IR(t._value,c.suffixes,c.scale);return`${Vw({instance:n(d),providedFormat:e,state:r,defaults:r.currentByteDefaultFormat()})}${s.spaceSeparated?" ":""}${h}`}function MNe(t,e,r){let n=r.currentOrdinal(),i=Object.assign({},Fw,e),s=Vw({instance:t,providedFormat:e,state:r}),o=n(t._value);return`${s}${i.spaceSeparated?" ":""}${o}`}function INe(t){let e=Math.floor(t._value/60/60),r=Math.floor((t._value-e*60*60)/60),n=Math.round(t._value-e*60*60-r*60);return`${e}:${r<10?"0":""}${r}:${n<10?"0":""}${n}`}function ANe(t,e,r,n){let i=e.prefixSymbol,s=Vw({instance:n(t._value*100),providedFormat:e,state:r}),o=Object.assign({},Fw,e);return i?`%${o.spaceSeparated?" ":""}${s}`:`${s}${o.spaceSeparated?" ":""}%`}function ONe(t,e,r){const n=r.currentCurrency();let i=Object.assign({},e),s=Object.assign({},Fw,i),o,a="",l=!!s.totalLength||!!s.forceAverage||s.average,c=i.currencyPosition||n.position,d=i.currencySymbol||n.symbol;const h=s.spaceSeparatedCurrency!==void 0?s.spaceSeparatedCurrency:s.spaceSeparated;i.lowPrecision===void 0&&(i.lowPrecision=!1),h&&(a=" "),c==="infix"&&(o=a+d+a);let f=Vw({instance:t,providedFormat:i,state:r,decimalSeparator:o});return c==="prefix"&&(t._value<0&&s.negative==="sign"?f=`-${a}${d}${f.slice(1)}`:t._value>0&&s.forceSign?f=`+${a}${d}${f.slice(1)}`:f=d+a+f),(!c||c==="postfix")&&(a=!s.spaceSeparatedAbbreviation&&l?"":a,f=f+a+d),f}function HNe({value:t,forceAverage:e,lowPrecision:r=!0,abbreviations:n,spaceSeparated:i=!1,totalLength:s=0,roundingFunction:o=Math.round}){let a="",l=Math.abs(t),c=-1;if(e&&n[e]&&zn[e]?(a=n[e],t=t/zn[e]):l>=zn.trillion||r&&o(l/zn.trillion)===1?(a=n.trillion,t=t/zn.trillion):l<zn.trillion&&l>=zn.billion||r&&o(l/zn.billion)===1?(a=n.billion,t=t/zn.billion):l<zn.billion&&l>=zn.million||r&&o(l/zn.million)===1?(a=n.million,t=t/zn.million):(l<zn.million&&l>=zn.thousand||r&&o(l/zn.thousand)===1)&&(a=n.thousand,t=t/zn.thousand),a&&(a=(i?" ":"")+a),s){let h=t<0,f=t.toString().split(".")[0],g=h?f.length-1:f.length;c=Math.max(s-g,0)}return{value:t,abbreviation:a,mantissaPrecision:c}}function jNe({value:t,characteristicPrecision:e}){let[r,n]=t.toExponential().split("e"),i=+r;if(!e)return{value:i,abbreviation:`e${n}`};let s=1;return s<e&&(i=i*Math.pow(10,e-s),n=+n-(e-s),n=n>=0?`+${n}`:n),{value:i,abbreviation:`e${n}`}}function TS(t){let e="";for(let r=0;r<t;r++)e+="0";return e}function DNe(t,e){let r=t.toString(),[n,i]=r.split("e"),[s,o=""]=n.split(".");if(+i>0)r=s+o+TS(i-o.length);else{let a=".";+s<0?a=`-0${a}`:a=`0${a}`;let l=(TS(-i-1)+Math.abs(s)+o).substr(0,e);l.length<e&&(l+=TS(e-l.length)),r=a+l}return+i>0&&e>0&&(r+=`.${TS(e)}`),r}function $Ne(t,e,r=Math.round){return t.toString().indexOf("e")!==-1?DNe(t,e):new _Ne(r(+`${t}e+${e}`)/Math.pow(10,e)).toFixed(e)}function LNe(t,e,r,n,i,s){if(n===-1)return t;let o=$Ne(e,n,s),[a,l=""]=o.toString().split(".");if(l.match(/^0+$/)&&(r||i))return a;let c=l.match(/0+$/);return i&&c?`${a}.${l.toString().slice(0,c.index)}`:o.toString()}function FNe(t,e,r,n){let i=t,[s,o]=i.toString().split(".");if(s.match(/^-?0$/)&&r)return o?`${s.replace("0","")}.${o}`:s.replace("0","");const a=e<0&&s.indexOf("-")===0;if(a&&(s=s.slice(1),i=i.slice(1)),s.length<n){let l=n-s.length;for(let c=0;c<l;c++)i=`0${i}`}return a&&(i=`-${i}`),i.toString()}function VNe(t,e){let r=[],n=0;for(let i=t;i>0;i--)n===e&&(r.unshift(i),n=0),n++;return r}function WNe(t,e,r,n,i){let s=n.currentDelimiters(),o=s.thousands;i=i||s.decimal;let a=s.thousandsSize||3,l=t.toString(),c=l.split(".")[0],d=l.split(".")[1];const h=e<0&&c.indexOf("-")===0;return r&&(h&&(c=c.slice(1)),VNe(c.length,a).forEach((g,m)=>{c=c.slice(0,g+m)+o+c.slice(g+m)}),h&&(c=`-${c}`)),d?l=c+i+d:l=c,l}function BNe(t,e){return t+e}function zNe(t,e,r){return e===0?t:+t==0?t.replace("-",""):e>0?`+${t}`:r==="sign"?t:`(${t.replace("-","")})`}function UNe(t,e){return e+t}function YNe(t,e){return t+e}function Vw({instance:t,providedFormat:e,state:r=Ko,decimalSeparator:n,defaults:i=r.currentDefaults()}){let s=t._value;if(s===0&&r.hasZeroFormat())return r.getZeroFormat();if(!isFinite(s))return s.toString();let o=Object.assign({},Fw,i,e),a=o.totalLength,l=a?0:o.characteristic,c=o.optionalCharacteristic,d=o.forceAverage,h=o.lowPrecision,f=!!a||!!d||o.average,g=a?-1:f&&e.mantissa===void 0?0:o.mantissa,m=a?!1:e.optionalMantissa===void 0?g===-1:o.optionalMantissa,p=o.trimMantissa,y=o.thousandSeparated,S=o.spaceSeparated,w=o.negative,b=o.forceSign,C=o.exponential,N=o.roundingFunction,P="";if(f){let R=HNe({value:s,forceAverage:d,lowPrecision:h,abbreviations:r.currentAbbreviations(),spaceSeparated:S,roundingFunction:N,totalLength:a});s=R.value,P+=R.abbreviation,a&&(g=R.mantissaPrecision)}if(C){let R=jNe({value:s,characteristicPrecision:l});s=R.value,P=R.abbreviation+P}let k=LNe(s.toString(),s,m,g,p,N);return k=FNe(k,s,c,l),k=WNe(k,s,y,r,n),(f||C)&&(k=BNe(k,P)),(b||s<0)&&(k=zNe(k,s,w)),k}function Wg(t,e){if(!t)return e;let r=Object.keys(t);return r.length===1&&r[0]==="output"?e:t}var GNe=t=>({format:(...e)=>RNe(...e,t),getByteUnit:(...e)=>PNe(...e,t),getBinaryByteUnit:(...e)=>kNe(...e,t),getDecimalByteUnit:(...e)=>TNe(...e,t),formatOrDefault:Wg});/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const Ac=BG;function KNe(t,e,r){let n=new Ac(t._value),i=e;return r.isNumbro(e)&&(i=e._value),i=new Ac(i),t._value=n.plus(i).toNumber(),t}function UG(t,e,r){let n=new Ac(t._value),i=e;return r.isNumbro(e)&&(i=e._value),i=new Ac(i),t._value=n.minus(i).toNumber(),t}function qNe(t,e,r){let n=new Ac(t._value),i=e;return r.isNumbro(e)&&(i=e._value),i=new Ac(i),t._value=n.times(i).toNumber(),t}function XNe(t,e,r){let n=new Ac(t._value),i=e;return r.isNumbro(e)&&(i=e._value),i=new Ac(i),t._value=n.dividedBy(i).toNumber(),t}function QNe(t,e,r){let n=e;return r.isNumbro(e)&&(n=e._value),t._value=n,t}function JNe(t,e,r){let n=r(t._value);return UG(n,e,r),Math.abs(n._value)}var ZNe=t=>({add:(e,r)=>KNe(e,r,t),subtract:(e,r)=>UG(e,r,t),multiply:(e,r)=>qNe(e,r,t),divide:(e,r)=>XNe(e,r,t),set:(e,r)=>QNe(e,r,t),difference:(e,r)=>JNe(e,r,t),BigNumber:Ac});/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const eMe="2.5.0",Al=iD(),tMe=rD(),rMe=SNe(Kr),nMe=VG();let $d=GNe(Kr),ph=ZNe(Kr);const iMe=nD;class YG{constructor(e){this._value=e}clone(){return Kr(this._value)}format(e={}){return $d.format(this,e)}formatCurrency(e){return typeof e=="string"&&(e=iMe.parseFormat(e)),e=$d.formatOrDefault(e,Al.currentCurrencyDefaultFormat()),e.output="currency",$d.format(this,e)}formatTime(e={}){return e.output="time",$d.format(this,e)}binaryByteUnits(){return $d.getBinaryByteUnit(this)}decimalByteUnits(){return $d.getDecimalByteUnit(this)}byteUnits(){return $d.getByteUnit(this)}difference(e){return ph.difference(this,e)}add(e){return ph.add(this,e)}subtract(e){return ph.subtract(this,e)}multiply(e){return ph.multiply(this,e)}divide(e){return ph.divide(this,e)}set(e){return ph.set(this,GG(e))}value(){return this._value}valueOf(){return this._value}}function GG(t){let e=t;return Kr.isNumbro(t)?e=t._value:typeof t=="string"?e=Kr.unformat(t):isNaN(t)&&(e=NaN),e}function Kr(t){return new YG(GG(t))}Kr.version=eMe;Kr.isNumbro=function(t){return t instanceof YG};Kr.language=Al.currentLanguage;Kr.registerLanguage=Al.registerLanguage;Kr.setLanguage=Al.setLanguage;Kr.languages=Al.languages;Kr.languageData=Al.languageData;Kr.zeroFormat=Al.setZeroFormat;Kr.defaultFormat=Al.currentDefaults;Kr.setDefaults=Al.setDefaults;Kr.defaultCurrencyFormat=Al.currentCurrencyDefaultFormat;Kr.validate=tMe.validate;Kr.loadLanguagesInNode=rMe.loadLanguagesInNode;Kr.unformat=nMe.unformat;Kr.BigNumber=ph.BigNumber;var sMe=Kr,Ld=tNe(sMe);const oMe="numeric";function KG(t,e){if(Ii(t)){const r=e.numericFormat,n=r&&r.culture||"-",i=r&&r.pattern;if(typeof n<"u"&&!Ld.languages()[n]){const s=n.replace("-",""),o=Ld.allLanguages?Ld.allLanguages[n]:Ld[s];o&&Ld.registerLanguage(o)}Ld.setLanguage(n),t=Ld(t).format(i||"0")}return t}function oD(t,e,r,n,i,s,o){let a=s;if(Ii(a)){let c=[];if(Array.isArray(o.className))c=o.className;else{var l;const d=(l=o.className)!==null&&l!==void 0?l:"";d.length&&(c=d.split(" "))}a=KG(a,o),c.indexOf("htLeft")<0&&c.indexOf("htCenter")<0&&c.indexOf("htRight")<0&&c.indexOf("htJustify")<0&&c.push("htRight"),c.indexOf("htNumeric")<0&&c.push("htNumeric"),o.className=c.join(" "),e.dir="ltr"}Uc(t,e,r,n,i,a,o)}oD.RENDERER_TYPE=oMe;const aMe="password";function aD(t,e,r,n,i,s,o){Uc.apply(this,[t,e,r,n,i,s,o]);const a=o.hashLength||e.innerHTML.length,l=o.hashSymbol||"*";let c="";Ie(a-1,()=>{c+=l}),$f(e,c)}aD.RENDERER_TYPE=aMe;const lMe="select";function lD(t,e,r,n,i,s,o){Uc.apply(this,[t,e,r,n,i,s,o])}lD.RENDERER_TYPE=lMe;const cMe="time";function cD(t,e,r,n,i,s,o){Uc.apply(this,[t,e,r,n,i,s,o]),e.dir="ltr"}cD.RENDERER_TYPE=cMe;function uMe(){ro(Dp),ro(Lw),ro(Zj),ro(Jj),ro(tD),ro(Qj),ro(oD),ro(aD),ro(lD),ro(Uc),ro(cD)}const dMe="autocomplete";function AR(t,e){let r=t;if(r==null&&(r=""),this.allowEmpty&&r===""){e(!0);return}this.strict&&this.source?typeof this.source=="function"?this.source(r,Z6(r,e)):Z6(r,e)(this.source):e(!0)}AR.VALIDATOR_TYPE=dMe;function Z6(t,e){const r=t;return function(n){let i=!1;for(let s=0,o=n.length;s<o;s++)if(pR(r,n[s])){i=!0;break}e(i)}}function hMe(t){const e=new Date(t);return isNaN(new Date(`${t}T00:00`).getDate())?e:new Date(e.getTime()+e.getTimezoneOffset()*6e4)}const fMe="date";function uD(t,e){const r=pY(AG,this.instance);let n=t,i=!0;n==null&&(n="");let s=he(n,this.dateFormat||r.defaultDateFormat,!0).isValid(),o=he(new Date(n)).isValid()||s;if(this.allowEmpty&&n===""&&(o=!0,s=!0),o||(i=!1),!o&&s&&(i=!0),o&&!s)if(this.correctFormat===!0){const a=gMe(n,this.dateFormat);this.instance.setDataAtCell(this.visualRow,this.visualCol,a,"dateValidator"),i=!0}else i=!1;e(i)}uD.VALIDATOR_TYPE=fMe;function gMe(t,e){const r=he(hMe(t)),n=he(t,e),i=t.search(/[A-Za-z]/g)>-1;let s;return r.isValid()&&r.format("x")===n.format("x")||!n.isValid()||i?s=r:s=n,s.format(e)}const mMe="dropdown";function dD(t,e){AR.apply(this,[t,e])}dD.VALIDATOR_TYPE=mMe;const pMe="numeric";function hD(t,e){let r=t;r==null&&(r=""),this.allowEmpty&&r===""?e(!0):e(r===""?!1:Ii(t))}hD.VALIDATOR_TYPE=pMe;const yMe=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"],vMe="time";function fD(t,e){const r=this.timeFormat||"h:mm:ss a";let n=!0,i=t;i===null&&(i=""),i=/^\d{3,}$/.test(i)?parseInt(i,10):i;const s=/^\d{1,2}$/.test(i);s&&(i+=":00");const o=he(i,yMe,!0).isValid()?he(i):he(i,r);let a=o.isValid(),l=he(i,r,!0).isValid()&&!s;if(this.allowEmpty&&i===""&&(a=!0,l=!0),a||(n=!1),!a&&l&&(n=!0),a&&!l)if(this.correctFormat===!0){const c=o.format(r);this.instance.setDataAtCell(this.visualRow,this.visualCol,c,"timeValidator"),n=!0}else n=!1;e(n)}fD.VALIDATOR_TYPE=vMe;function wMe(){Vg(AR),Vg(dD),Vg(uD),Vg(hD),Vg(fD)}function qG(t){return Le(t)&&t.value!==void 0?t.value:t}function XG(t,e,r){const n=this.getSourceDataAtCell(this.toPhysicalRow(e),this.toPhysicalColumn(r)),i=s=>Le(s)&&xe(s.key)&&xe(s.value);return i(n)?i(t)?t:{key:t,value:t}:t}const bMe="autocomplete",SMe={CELL_TYPE:bMe,editor:qj,renderer:Dp,validator:AR,valueGetter:qG,valueSetter:XG};function xMe(t,e,r){const{checkedTemplate:n,uncheckedTemplate:i}=this.getCellMeta(e,r),s=tr(t),o=s===tr(n),a=s===tr(i);return o||a?o?n:i:t}const CMe="checkbox",_Me={CELL_TYPE:CMe,editor:IG,renderer:Zj,valueSetter:xMe},RMe="date";function QG(t,e,r,n,i,s,o){Dp.apply(this,[t,e,r,n,i,s,o])}QG.RENDERER_TYPE=RMe;const EMe="date",TMe={CELL_TYPE:EMe,editor:OG,renderer:QG,validator:uD};function kMe(t){return qG.call(this,t)}function PMe(t,e,r,n){return XG.call(this,t,e,r,n)}const NMe="dropdown",MMe={CELL_TYPE:NMe,editor:HG,renderer:Jj,validator:dD,filter:!1,strict:!0,valueGetter:kMe,valueSetter:PMe},IMe="handsontable",AMe={CELL_TYPE:IMe,editor:Kj,renderer:tD};function OMe(t){if(typeof t=="string"&&BSe(t)){const e=zSe(t);return by(e)?t:e}return t}const HMe="numeric",jMe={CELL_TYPE:HMe,editor:jG,renderer:oD,validator:hD,dataType:"number",valueSetter:OMe},DMe="password",$Me={CELL_TYPE:DMe,editor:DG,renderer:aD,copyable:!1},LMe="select",FMe={CELL_TYPE:LMe,editor:$G,renderer:lD},VMe="time",WMe={CELL_TYPE:VMe,editor:LG,renderer:cD,validator:fD};function BMe(){zo(SMe),zo(_Me),zo(TMe),zo(MMe),zo(AMe),zo(jMe),zo($Me),zo(FMe),zo(xG),zo(WMe)}function zMe(t,e){JG(t,e),e.add(t)}function og(t,e,r){return(e=UMe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UMe(t){var e=YMe(t,"string");return typeof e=="symbol"?e:e+""}function YMe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eV(t,e,r){JG(t,e),e.set(t,r)}function JG(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kS(t,e,r){return t.set(gD(t,e),r),r}function Dr(t,e){return t.get(gD(t,e))}function gD(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const tV=new Map([["plugin",exe],["cell-type",uG],["editor",mY],["renderer",xY],["validator",CY]]),ZG=Symbol("mainSetting"),GMe="base",PS=[];let Fd=null;var Xr=new WeakMap,Vd=new WeakMap,rV=new WeakSet;class xt{static get PLUGIN_KEY(){return GMe}static get SETTING_KEYS(){return[this.PLUGIN_KEY]}static get DEFAULT_SETTINGS(){return{}}static get SETTINGS_VALIDATORS(){return null}constructor(e){zMe(this,rV),eV(this,Xr,null),og(this,"eventManager",new Sa(this)),og(this,"pluginName",null),og(this,"pluginsInitializedCallbacks",[]),og(this,"isPluginsReady",!1),og(this,"enabled",!1),og(this,"initialized",!1),eV(this,Vd,{}),Bc(this,"hot",e,{writable:!1}),Fd=null,this.hot.addHook("afterPluginsInitialized",()=>this.onAfterPluginsInitialized()),this.hot.addHook("afterUpdateSettings",r=>this.onUpdateSettings(r)),this.hot.addHook("beforeInit",()=>this.init())}init(){this.pluginName=this.hot.getPluginName(this),this.updatePluginSettings(this.hot.getSettings()[this.constructor.PLUGIN_KEY]);const e=this.constructor.PLUGIN_DEPS,r=Array.isArray(e)?e:[];if(r.length>0){const i=[];if(r.forEach(s=>{const[o,a]=s.split(":");if(!tV.has(o))throw new Error(`Unknown plugin dependency type "${o}" was found.`);tV.get(o)(a)||i.push(` - ${a} (${o})`)}),i.length>0){const s=[`The ${this.pluginName} plugin requires the following modules:
`,`${i.join(`
`)}
`].join("");PS.push(s)}}if(Fd||(Fd=SY()),Fd.indexOf(this.pluginName)>=0&&Fd.splice(Fd.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",()=>{this.isEnabled&&this.isEnabled()&&this.enablePlugin()}),Fd.length===0){if(PS.length>0){const i=[`${PS.join(`
`)}
`,"You have to import and register them manually."].join("");throw PS.length=0,new Error(i)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}enablePlugin(){this.enabled=!0}disablePlugin(){var e;(e=this.eventManager)===null||e===void 0||e.clear(),this.clearHooks(),this.enabled=!1}getSetting(e){var r=this;const n=this.constructor.DEFAULT_SETTINGS,i=this.constructor.SETTINGS_VALIDATORS;if(e===void 0)return Le(Dr(Xr,this))?iC(Dr(Xr,this),n):Dr(Xr,this);let s;if((Array.isArray(Dr(Xr,this))||Le(Dr(Xr,this)))&&n[ZG]===e)if(Array.isArray(Dr(Xr,this)))s=Dr(Xr,this);else{var o;s=(o=Dr(Xr,this)[e])!==null&&o!==void 0?o:n[e]}else if(e.includes(".")){const a=iI(Dr(Xr,this),e),l=iI(n,e);Le(a)?s=iC(a,l):s=a!==void 0?a:l}else Le(Dr(Xr,this))?s=iC(Dr(Xr,this),n)[e]:s=n[e];if(typeof s=="function"&&i&&typeof i=="object"){const a=i[e];if(a&&typeof a=="function")return function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];const h=s(...c);if(a(h)===!1){const g=c.map(p=>typeof p=="string"?`"${p}"`:"").join(", "),m=c.length>0?g:"";at(`${r.pluginName} Plugin: "${e}" function (${m}) result                is not valid and will be ignored.`);return}return h}}return s}updatePluginSettings(e){const r=this.constructor.SETTINGS_VALIDATORS;if(r&&typeof r=="function"&&typeof e!="object"){if(r(e)===!1){at(`${this.pluginName} Plugin: option is not valid and it will be ignored.`);return}return kS(Xr,this,e),Dr(Xr,this)}return r&&typeof r=="object"&&typeof e=="object"?((Dr(Xr,this)===null||typeof Dr(Xr,this)!="object")&&kS(Xr,this,{...this.constructor.DEFAULT_SETTINGS}),Object.keys(r).forEach(n=>{if(!(n in e))return;const i=r[n];if((i?i(e[n]):!0)===!1){at(`${this.pluginName} Plugin: "${n}" option is not valid and it will be ignored.`);return}Dr(Xr,this)[n]=e[n]}),Dr(Xr,this)):(kS(Xr,this,e),e)}addHook(e,r,n){Dr(Vd,this)[e]=Dr(Vd,this)[e]||[];const i=Dr(Vd,this)[e];this.hot.addHook(e,r,n),i.push(r),Dr(Vd,this)[e]=i}removeHooks(e){B(Dr(Vd,this)[e]||[],r=>{this.hot.removeHook(e,r)})}clearHooks(){const e=Dr(Vd,this);dt(e,(r,n)=>this.removeHooks(n)),e.length=0}callOnPluginsReady(e){this.isPluginsReady?e():this.pluginsInitializedCallbacks.push(e)}onAfterPluginsInitialized(){B(this.pluginsInitializedCallbacks,e=>e()),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}onUpdateSettings(e){const r=gD(rV,this,KMe).call(this,e);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&r&&(this.updatePluginSettings(e[this.constructor.PLUGIN_KEY]),this.updatePlugin(e)))}updatePlugin(){}destroy(){var e;kS(Xr,this,null),(e=this.eventManager)===null||e===void 0||e.destroy(),this.clearHooks(),dt(this,(r,n)=>{n!=="hot"&&(this[n]=null)}),delete this.t,delete this.hot}}function KMe(t){if(!t)return!1;const e=this.constructor.SETTING_KEYS;if(typeof e=="boolean")return e;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)return!0;return!1}function Wd(t,e,r){return(e=qMe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qMe(t){var e=XMe(t,"string");return typeof e=="symbol"?e:e+""}function XMe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let eK=class{constructor(e){Wd(this,"hot",null),Wd(this,"container",null),Wd(this,"injected",!1),Wd(this,"rows",[]),Wd(this,"columns",[]),Wd(this,"samples",null),Wd(this,"settings",{useHeaders:!0}),this.hot=e}addRow(e,r){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));const n={row:e};this.rows.push(n),this.samples=r,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol(e)),this.table.tr.appendChild(this.createRow(e)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}addColumnHeadersRow(e){const r=this.hot.getColHeader(0);if(r!=null){const n={row:-1};this.rows.push(n),this.container=this.createContainer(this.hot.rootElement.className),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}}addColumn(e,r){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));const n={col:e};this.columns.push(n),this.samples=r,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&this.hot.getColHeader(e)!==null&&this.hot.view.appendColHeader(e,this.table.th,void 0,-1),this.table.tBody.appendChild(this.createCol(e)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}getHeights(e){this.injected||this.injectTable(),B(this.rows,r=>{const{height:n}=r.table.getBoundingClientRect();e(r.row,Math.ceil(n))})}getWidths(e){this.injected||this.injectTable(),B(this.columns,r=>{const{width:n}=r.table.getBoundingClientRect();e(r.col,Math.ceil(n))})}setSettings(e){this.settings=e}setSetting(e,r){this.settings||(this.settings={}),this.settings[e]=r}getSettings(){return this.settings}getSetting(e){return this.settings?this.settings[e]:null}createColGroupsCol(e){const r=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&r.appendChild(this.createColElement(-1,-1)),this.samples.forEach(n=>{B(n.strings,i=>{r.appendChild(this.createColElement(i.col,e))})}),r}createRow(e){const{rootDocument:r}=this.hot,n=r.createDocumentFragment(),i=r.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(e,i),n.appendChild(i)),this.samples.forEach(s=>{B(s.strings,o=>{const a=o.col,l=this.hot.getCellMeta(e,a),c=this.hot.getCellRenderer(l),d=r.createElement("td");d.setAttribute("ghost-table",1),c(this.hot,d,e,a,this.hot.colToProp(a),o.value,l),n.appendChild(d)})}),n}appendColumnHeadersRow(){const{rootDocument:e}=this.hot,r=e.createDocumentFragment(),n=[];if(this.hot.hasRowHeaders()){const i=e.createElement("th");n.push([-1,i]),r.appendChild(i)}this.samples.forEach(i=>{B(i.strings,s=>{const o=s.col,a=e.createElement("th");n.push([o,a]),r.appendChild(a)})}),this.table.tHead.appendChild(r),B(n,i=>{const[s,o]=i;this.hot.view.appendColHeader(s,o)})}createCol(e){const{rootDocument:r}=this.hot,n=r.createDocumentFragment();return this.samples.forEach(i=>{B(i.strings,s=>{const o=s.row,a=this.hot.getCellMeta(o,e),l=this.hot.getCellRenderer(a),c=r.createElement("td"),d=r.createElement("tr");c.setAttribute("ghost-table",1),l(this.hot,c,o,e,this.hot.colToProp(e),s.value,a),d.appendChild(c),n.appendChild(d)})}),n}clean(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}injectTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.injected||((e||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}removeTable(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}createColElement(e,r){const n=this.hot.rootDocument.createElement("col");let i=0;r>=0&&e>=0&&(i=this.hot.getCellMeta(r,e).colspan);let s=this.hot.getColWidth(e);if(i>1)for(let o=e+1;o<e+i;o++)s+=this.hot.getColWidth(o);return n.style.width=`${s}px`,n}createTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{rootDocument:r}=this.hot,n=r.createDocumentFragment(),i=r.createElement("table"),s=r.createElement("thead"),o=r.createElement("tbody"),a=r.createElement("colgroup"),l=r.createElement("tr"),c=r.createElement("th");return this.isVertical()&&i.appendChild(a),this.isHorizontal()&&(l.appendChild(c),s.appendChild(l),i.style.tableLayout="auto",i.style.width="auto"),i.appendChild(s),this.isVertical()&&o.appendChild(l),i.appendChild(o),oe(i,e),n.appendChild(i),{fragment:n,table:i,tHead:s,tBody:o,colGroup:a,tr:l,th:c}}createContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{rootDocument:r}=this.hot,n=r.createDocumentFragment(),i=r.createElement("div"),s=`htGhostTable htAutoSize ${e.trim()}`;return oe(i,s),n.appendChild(i),{fragment:n,container:i}}isVertical(){return!!(this.rows.length&&!this.columns.length)}isHorizontal(){return!!(this.columns.length&&!this.rows.length)}};function O0(t,e,r){return(e=QMe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QMe(t){var e=JMe(t,"string");return typeof e=="symbol"?e:e+""}function JMe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class OR{static get SAMPLE_COUNT(){return 3}constructor(e){O0(this,"samples",null),O0(this,"dataFactory",null),O0(this,"customSampleCount",null),O0(this,"allowDuplicates",!1),O0(this,"includeHidden",!1),this.dataFactory=e}getSampleCount(){return this.customSampleCount?this.customSampleCount:OR.SAMPLE_COUNT}setSampleCount(e){this.customSampleCount=e}setAllowDuplicates(e){this.allowDuplicates=e}setIncludeHidden(e){this.includeHidden=e}generateRowSamples(e,r){return this.generateSamples("row",r,e)}generateColumnSamples(e,r){return this.generateSamples("col",r,e)}generateSamples(e,r,n){const i=new Map,{from:s,to:o}=typeof n=="number"?{from:n,to:n}:n;return Ie(s,o,a=>{const l=this.generateSample(e,r,a);i.set(a,l)}),i}generateSample(e,r,n){if(e!=="row"&&e!=="col")throw new Error("Unsupported sample type");const i=new Map,s=e==="row"?"col":"row",o=[];return Ie(r.from,r.to,a=>{const l=e==="row"?this.dataFactory(n,a,this):this.dataFactory(a,n,this);if(l===!1)return;const{value:c,bundleSeed:d}=l,h=typeof d=="string"&&d.length>0;let f;h?f=d:Le(c)?f=`${Object.keys(c).length}`:Array.isArray(c)?f=`${c.length}`:f=`${tr(c).length}`,i.has(f)||i.set(f,{needed:this.getSampleCount(),strings:[]});const g=i.get(f);g.needed&&(!(o.indexOf(c)>-1)||this.allowDuplicates||h)&&(g.strings.push({value:c,[s]:a}),o.push(c),g.needed-=1)}),i}}function ZMe(t,e){tK(t,e),e.add(t)}function zk(t,e,r){tK(t,e),e.set(t,r)}function tK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function H0(t,e,r){return(e=eIe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eIe(t){var e=tIe(t,"string");return typeof e=="symbol"?e:e+""}function tIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uu(t,e){return t.get(es(t,e))}function $1(t,e,r){return t.set(es(t,e),r),r}function es(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}_e.getSingleton().register("modifyAutoColumnSizeSeed");const Uk="autoColumnSize",rIe=10,nIe="autoColumnSize";var mD=new WeakMap,Bg=new WeakMap,gp=new WeakMap,Ts=new WeakSet;class Gy extends xt{static get PLUGIN_KEY(){return Uk}static get PLUGIN_PRIORITY(){return rIe}static get SETTING_KEYS(){return!0}static get DEFAULT_SETTINGS(){return{useHeaders:!0,samplingRatio:null,allowSampleDuplicates:!1}}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 50}constructor(e){super(e),ZMe(this,Ts),H0(this,"ghostTable",new eK(this.hot)),H0(this,"samplesGenerator",new OR((r,n)=>{const i=this.hot.toPhysicalRow(r),s=this.hot.toPhysicalColumn(n);if(this.hot.rowIndexMapper.isHidden(i)||this.hot.columnIndexMapper.isHidden(s))return!1;const o=this.hot.getCellMeta(r,n);let a="";o.spanned||(a=this.hot.getDataAtCell(r,n));let l="";return this.hot.hasHook("modifyAutoColumnSizeSeed")&&(l=this.hot.runHooks("modifyAutoColumnSizeSeed",l,o,a)),{value:a,bundleSeed:l}})),H0(this,"inProgress",!1),H0(this,"measuredColumns",0),H0(this,"columnWidthsMap",new Sd),zk(this,mD,!1),zk(this,Bg,[]),zk(this,gp,[]),this.hot.columnIndexMapper.registerMap(nIe,this.columnWidthsMap),this.addHook("beforeColumnResize",(r,n,i)=>es(Ts,this,nV).call(this,r,n,i))}isEnabled(){return this.hot.getSettings()[Uk]!==!1&&!this.hot.getSettings().colWidths}enablePlugin(){var e=this;if(this.enabled)return;this.ghostTable.setSetting("useHeaders",this.getSetting("useHeaders")),this.samplesGenerator.setAllowDuplicates(this.getSetting("allowSampleDuplicates"));const r=this.getSetting("samplingRatio");r&&!isNaN(r)&&this.samplesGenerator.setSampleCount(parseInt(r,10)),this.addHook("afterLoadData",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return es(Ts,e,oIe).call(e,...i)}),this.addHook("beforeChangeRender",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return es(Ts,e,aIe).call(e,...i)}),this.addHook("afterFormulasValuesUpdate",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return es(Ts,e,cIe).call(e,...i)}),this.addHook("beforeRender",()=>es(Ts,this,sIe).call(this)),this.addHook("modifyColWidth",(n,i)=>this.getColumnWidth(i,n)),this.addHook("init",()=>es(Ts,this,lIe).call(this)),super.enablePlugin()}updatePlugin(){$1(gp,this,this.findColumnsWhereHeaderWasChanged()),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.addHook("beforeColumnResize",(e,r,n)=>es(Ts,this,nV).call(this,e,r,n))}calculateVisibleColumnsWidth(){if(!this.hot.countRows())return;const e=this.getFirstVisibleColumn(),r=this.getLastVisibleColumn();if(e===-1||r===-1)return;const n=this.hot.forceFullRender;this.calculateColumnsWidth({from:e,to:r},void 0,n)}calculateColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countRows()-1},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=typeof e=="number"?{from:e,to:e}:e,s=typeof r=="number"?{from:r,to:r}:r;Ie(i.from,i.to,o=>{let a=this.hot.toPhysicalColumn(o);a===null&&(a=o),(n||this.columnWidthsMap.getValueAtIndex(a)===null&&!this.hot._getColWidthFromSettings(a))&&es(Ts,this,rK).call(this,o,s)}),this.ghostTable.columns.length&&(es(Ts,this,nK).call(this),this.measuredColumns=i.to+1,this.ghostTable.clean())}calculateAllColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0;const i=this.hot.countCols()-1;let s=null;this.inProgress=!0;const o=()=>{if(!this.hot){b1(s),this.inProgress=!1;return}this.calculateColumnsWidth({from:n,to:Math.min(n+Gy.CALCULATION_STEP,i)},e,r),n=n+Gy.CALCULATION_STEP+1,n<i?s=w1(o):(b1(s),this.inProgress=!1,this.hot.view.adjustElementsSize())},a=this.getSyncCalculationLimit();a>=0&&(this.calculateColumnsWidth({from:0,to:a},e,r),n=a+1),n<i?o():this.inProgress=!1}recalculateAllColumnsWidth(){this.hot.view.isVisible()&&this.calculateAllColumnsWidth({from:0,to:this.hot.countRows()-1},!0)}getSyncCalculationLimit(){const e=this.hot.getSettings()[Uk];let r=Gy.SYNC_CALCULATION_LIMIT;const n=this.hot.countCols()-1;return Le(e)&&(r=e.syncLimit,O9(r)?r=vY(n,r):r>>=0),Math.min(r,n)}getColumnWidth(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=r;return i===void 0&&(i=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e)),n&&typeof i=="number"&&(i=Math.max(i,ap))),i}getFirstVisibleColumn(){var e;return(e=this.hot.getFirstRenderedVisibleColumn())!==null&&e!==void 0?e:-1}getLastVisibleColumn(){var e;return(e=this.hot.getLastRenderedVisibleColumn())!==null&&e!==void 0?e:-1}findColumnsWhereHeaderWasChanged(){return this.hot.getColHeader().reduce((n,i,s)=>{const o=Uu(Bg,this).length;return(o-1<s||Uu(Bg,this)[s]!==i)&&n.push(this.hot.toVisualColumn(s)),o-1<s?Uu(Bg,this).push(i):Uu(Bg,this)[s]=i,n},[])}clearCache(e){Array.isArray(e)?this.hot.batchExecution(()=>{e.forEach(r=>{this.columnWidthsMap.setValueAtIndex(r,null)})},!0):this.columnWidthsMap.clear()}isNeedRecalculate(){return!!this.columnWidthsMap.getValues().slice(0,this.measuredColumns).filter(e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}}function iIe(t){const e={from:0,to:this.hot.countRows()-1};t.forEach(r=>{const n=this.hot.toPhysicalColumn(r);n!==null&&(this.hot._getColWidthFromSettings(n)||es(Ts,this,rK).call(this,r,e))}),this.ghostTable.columns.length&&(es(Ts,this,nK).call(this),this.ghostTable.clean())}function rK(t,e){this.samplesGenerator.generateColumnSamples(t,e).forEach((n,i)=>this.ghostTable.addColumn(i,n))}function nK(){this.hot.batchExecution(()=>{this.ghostTable.getWidths((t,e)=>{const r=this.hot.toPhysicalColumn(t);this.columnWidthsMap.setValueAtIndex(r,e)})},!0)}function sIe(){this.calculateVisibleColumnsWidth(),this.inProgress||(es(Ts,this,iIe).call(this,Uu(gp,this)),$1(gp,this,[]))}function oIe(t,e){e||this.recalculateAllColumnsWidth()}function aIe(t){const e=t.reduce((r,n)=>{let[,i]=n;const s=this.hot.propToCol(i);return Number.isInteger(s)&&r.indexOf(s)===-1&&r.push(s),r},[]);Uu(gp,this).push(...e)}function nV(t,e,r){let n=t;return r&&(this.calculateColumnsWidth(e,void 0,!0),n=this.getColumnWidth(e,void 0,!1)),n}function lIe(){$1(Bg,this,this.hot.getColHeader()),this.recalculateAllColumnsWidth(),$1(mD,this,!0)}function cIe(t){if(!Uu(mD,this))return;const e=t.reduce((r,n)=>{var i;const s=(i=n.address)===null||i===void 0?void 0:i.col;if(Number.isInteger(s)){const o=this.hot.toVisualColumn(s);r.indexOf(o)===-1&&r.push(o)}return r},[]);Uu(gp,this).push(...e)}const Hh={horizontal:"horizontal",vertical:"vertical"};function uIe(t,e,r){let n,i,s;return e[0]===t[0]&&e[1]<t[1]?(s="left",n=r(e[0],e[1]),i=r(e[2],t[1]-1)):e[2]===t[2]&&e[0]===t[0]&&e[3]>t[3]?(s="right",n=r(e[0],t[3]+1),i=r(e[2],e[3])):e[0]<t[0]&&e[1]===t[1]?(s="up",n=r(e[0],e[1]),i=r(t[0]-1,e[3])):e[2]>t[2]&&e[1]===t[1]&&(s="down",n=r(t[2]+1,e[1]),i=r(e[2],e[3])),n&&n.normalize(),i&&i.normalize(),{directionOfDrag:s,startOfDragCoords:n,endOfDragCoords:i}}function dIe(t){const e={};return t===!0?(e.directions=Object.keys(Hh),e.autoInsertRow=!0):Le(t)?(xe(t.autoInsertRow)?t.direction===Hh.horizontal?e.autoInsertRow=!1:e.autoInsertRow=t.autoInsertRow:e.autoInsertRow=!1,xe(t.direction)?e.directions=[t.direction]:e.directions=Object.keys(Hh)):typeof t=="string"?(e.directions=[t],e.autoInsertRow=!0):(e.directions=[],e.autoInsertRow=!1),e}function hIe(t,e){fIe(t,e),e.add(t)}function fIe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ag(t,e,r){return(e=gIe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gIe(t){var e=mIe(t,"string");return typeof e=="symbol"?e:e+""}function mIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lg(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}_e.getSingleton().register("modifyAutofillRange");_e.getSingleton().register("beforeAutofill");_e.getSingleton().register("afterAutofill");const iV="autofill",pIe=20,yIe=["fillHandle"],vIe="insert_row_below",wIe=200;var Bd=new WeakSet;class bIe extends xt{constructor(){super(...arguments),hIe(this,Bd),ag(this,"addingStarted",!1),ag(this,"mouseDownOnCellCorner",!1),ag(this,"mouseDragOutside",!1),ag(this,"handleDraggedCells",0),ag(this,"directions",[]),ag(this,"autoInsertRow",!1)}static get PLUGIN_KEY(){return iV}static get PLUGIN_PRIORITY(){return pIe}static get SETTING_KEYS(){return[iV,...yIe]}isEnabled(){return this.hot.getSettings().fillHandle}enablePlugin(){this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",e=>lg(Bd,this,CIe).call(this,e)),this.addHook("afterOnCellCornerDblClick",e=>lg(Bd,this,xIe).call(this,e)),this.addHook("beforeOnCellMouseOver",(e,r)=>lg(Bd,this,_Ie).call(this,r)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.clearMappedSettings(),super.disablePlugin()}getSelectionData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const r=this.hot.getSelectedRangeLast(),{row:n,col:i}=r.getTopStartCorner(),{row:s,col:o}=r.getBottomEndCorner(),a=this.hot.runHooks("modifyCopyableRange",[{startRow:n,startCol:i,endRow:s,endCol:o}]),l=[],c=[],d=[];return B(a,h=>{for(let f=h.startRow;f<=h.endRow;f+=1)l.indexOf(f)===-1&&l.push(f);for(let f=h.startCol;f<=h.endCol;f+=1)c.indexOf(f)===-1&&c.push(f)}),B(l,h=>{const f=[];B(c,g=>{const m=e?this.hot.getSourceDataAtCell(h,g):null;e&&Le(m)?f.push(this.hot.getCopyableSourceData(h,g)):f.push(this.hot.getCopyableData(h,g))}),d.push(f)}),d}fillIn(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;const[e,r,n,i]=this.hot.selection.highlight.getFill().getVisualCorners(),s=this.hot.getSelectedRangeLast(),o=s.getTopStartCorner(),a=s.getBottomEndCorner();this.resetSelectionOfDraggedArea();const l=[o.row,o.col,a.row,a.col],c=this.hot.runHooks("modifyAutofillRange",[Math.min(o.row,e),Math.min(o.col,r),Math.max(a.row,n),Math.max(a.col,i)],l),{directionOfDrag:d,startOfDragCoords:h,endOfDragCoords:f}=uIe(l,c,(g,m)=>this.hot._createCellCoords(g,m));if(h&&h.row>-1&&h.col>-1){const g=this.getSelectionData(),m=this.getSelectionData(!0),p=s.clone(),y=this.hot._createCellRange(h,h,f),S=this.hot.runHooks("beforeAutofill",g,p,y,d);if(S===!1)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;let w=S;const b=S;if(["up","left"].indexOf(d)>-1&&!(b.length===1&&b[0].length===0))if(w=[],d==="up"){const C=f.row-h.row+1,N=C%b.length;for(let P=0;P<C;P++)w.push(b[(P+(b.length-N))%b.length])}else{const C=f.col-h.col+1,N=C%b[0].length;for(let P=0;P<b.length;P++){w.push([]);for(let k=0;k<C;k++)w[P].push(b[P][(k+(b[P].length-N))%b[P].length])}}if(m.some(C=>C.some(N=>Le(N)))){const C=lg(Bd,this,SIe).call(this,w,m,h,f,d);C.length&&(w=C)}this.hot.populateFromArray(h.row,h.col,w,f.row,f.col,`${this.pluginName}.fill`,null),this.setSelection(c),this.hot.runHooks("afterAutofill",w,p,y,d),this.hot.render()}else this.hot.view.render();return!0}reduceSelectionAreaIfNeeded(e){return e.row<0&&(e.row=0),e.col<0&&(e.col=0),e}getCoordsOfDragAndDropBorders(e){const r=this.hot.getSelectedRangeLast(),n=r.getBottomEndCorner();let i=e;if(this.directions.includes(Hh.vertical)&&this.directions.includes(Hh.horizontal)){const s=r.getTopStartCorner();(n.col<=e.col||s.col>=e.col)&&(i=this.hot._createCellCoords(n.row,e.col)),(n.row<e.row||s.row>e.row)&&(i=this.hot._createCellCoords(e.row,n.col))}else if(this.directions.includes(Hh.vertical))i=this.hot._createCellCoords(e.row,n.col);else if(this.directions.includes(Hh.horizontal))i=this.hot._createCellCoords(n.row,e.col);else return;return this.reduceSelectionAreaIfNeeded(i)}showBorder(e){const r=this.getCoordsOfDragAndDropBorders(e);r&&this.redrawBorders(r)}addRow(){this.hot._registerTimeout(()=>{this.hot.alter(vIe,void 0,1,`${this.pluginName}.fill`),this.addingStarted=!1},wIe)}addNewRowIfNeeded(){if(!this.hot.selection.highlight.getFill().isEmpty()&&this.addingStarted===!1&&this.autoInsertRow){const e=this.hot.getSelectedLast(),r=this.hot.selection.highlight.getFill().getVisualCorners(),n=this.hot.countRows();e[2]<n-1&&r[2]===n-1&&(this.addingStarted=!0,this.addRow())}}getIndexOfLastAdjacentFilledInRow(e){const r=this.hot.getData(),n=this.hot.countRows();let i;for(let s=e[2]+1;s<n;s++){for(let l=e[1];l<=e[3];l++){const c=r[s][l];if(!Yr(c))return-1}const o=r[s][e[1]-1],a=r[s][e[3]+1];(!Yr(o)||!Yr(a))&&(i=s)}return i}addSelectionFromStartAreaToSpecificRowIndex(e,r){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(e[0],e[1])).add(this.hot._createCellCoords(r,e[3])).commit()}setSelection(e){this.hot.selectCell(...Tt(e,r=>Math.max(r,0)),!1,!1)}selectAdjacent(){const e=this.hot.getSelectedLast(),r=this.getIndexOfLastAdjacentFilledInRow(e);return r===-1||r===void 0?!1:(this.addSelectionFromStartAreaToSpecificRowIndex(e,r),!0)}resetSelectionOfDraggedArea(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}redrawBorders(e){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(e).commit(),this.hot.view.render()}getIfMouseWasDraggedOutside(e){const{documentElement:r}=this.hot.rootDocument,n=mi(this.hot.table).top-(this.hot.rootWindow.pageYOffset||r.scrollTop)+fn(this.hot.table),i=mi(this.hot.table).left-(this.hot.rootWindow.pageXOffset||r.scrollLeft)+en(this.hot.table);return e.clientY>n&&e.clientX<=i}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mouseup",()=>lg(Bd,this,RIe).call(this)),this.eventManager.addEventListener(e,"mousemove",r=>lg(Bd,this,EIe).call(this,r))}clearMappedSettings(){this.directions.length=0,this.autoInsertRow=!1}mapSettings(){const e=dIe(this.hot.getSettings().fillHandle);this.directions=e.directions,this.autoInsertRow=e.autoInsertRow}destroy(){super.destroy()}}function SIe(t,e,r,n){const i=[];for(let s=Math.min(r.row,n.row);s<=Math.max(r.row,n.row);s+=1){i.push([]);for(let o=Math.min(r.col,n.col);o<=Math.max(r.col,n.col);o+=1){const a=this.hot.getSourceDataAtCell(s,o),l=s-Math.min(r.row,n.row),c=o-Math.min(r.col,n.col),d=l%e.length,h=c%e[0].length;Le(a)?i[l][c]=e[d][h]:i[l][c]=t[d][h]}}return i}function xIe(){this.selectAdjacent()&&this.fillIn()}function CIe(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}function _Ie(t){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(t),this.addNewRowIfNeeded())}function RIe(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}function EIe(t){const e=this.getIfMouseWasDraggedOutside(t);this.addingStarted===!1&&this.handleDraggedCells>0&&e?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}function TIe(t,e){iK(t,e),e.add(t)}function sV(t,e,r){iK(t,e),e.set(t,r)}function iK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cg(t,e,r){return(e=kIe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kIe(t){var e=PIe(t,"string");return typeof e=="symbol"?e:e+""}function PIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sK(t,e,r){return t.set(Ps(t,e),r),r}function L1(t,e){return t.get(Ps(t,e))}function Ps(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const Yk="autoRowSize",NIe=40,MIe="autoRowSize",oV="htFirstDatasetColumnNotRendered",aV="htAutoRowSize";var Bv=new WeakMap,pD=new WeakMap,no=new WeakSet;class Ky extends xt{static get PLUGIN_KEY(){return Yk}static get PLUGIN_PRIORITY(){return NIe}static get SETTING_KEYS(){return!0}static get DEFAULT_SETTINGS(){return{useHeaders:!0,samplingRatio:null,allowSampleDuplicates:!1}}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 500}constructor(e){super(e),TIe(this,no),cg(this,"headerHeight",null),cg(this,"ghostTable",new eK(this.hot)),cg(this,"samplesGenerator",new OR((r,n)=>{const i=this.hot.toPhysicalColumn(n);if(this.hot.columnIndexMapper.isHidden(i)||r>=0&&n>=0&&this.hot.getCellMeta(r,n).hidden)return!1;let s;return r>=0?s=this.hot.getDataAtCell(r,n):r===-1&&(s=this.hot.getColHeader(n)),{value:s}})),cg(this,"inProgress",!1),cg(this,"measuredRows",0),cg(this,"rowHeightsMap",new Sd),sV(this,Bv,[]),sV(this,pD,!1),this.hot.rowIndexMapper.registerMap(MIe,this.rowHeightsMap),this.addHook("beforeRowResize",(r,n,i)=>Ps(no,this,lV).call(this,r,n,i))}isEnabled(){const e=this.hot.getSettings()[Yk];return e===!0||Le(e)}enablePlugin(){var e=this;if(this.enabled)return;this.samplesGenerator.setAllowDuplicates(this.getSetting("allowSampleDuplicates"));const r=this.getSetting("samplingRatio");r&&!isNaN(r)&&this.samplesGenerator.setSampleCount(parseInt(r,10)),this.addHook("afterLoadData",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return Ps(no,e,HIe).call(e,...i)}),this.addHook("beforeChangeRender",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return Ps(no,e,jIe).call(e,...i)}),this.addHook("beforeColumnResize",()=>this.recalculateAllRowsHeight()),this.addHook("afterFormulasValuesUpdate",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return Ps(no,e,$Ie).call(e,...i)}),this.addHook("beforeViewRender",()=>Ps(no,this,AIe).call(this)),this.addHook("beforeRender",()=>Ps(no,this,OIe).call(this)),this.addHook("modifyRowHeight",(n,i)=>this.getRowHeight(i,n)),this.addHook("init",()=>Ps(no,this,DIe).call(this)),this.addHook("modifyColumnHeaderHeight",()=>this.getColumnHeaderHeight()),oe(this.hot.rootElement,aV),super.enablePlugin()}disablePlugin(){this.headerHeight=null,Re(this.hot.rootElement,aV),super.disablePlugin(),Ps(no,this,oK).call(this,!1),this.addHook("beforeRowResize",(e,r,n)=>Ps(no,this,lV).call(this,e,r,n))}calculateVisibleRowsHeight(){if(!this.hot.countCols())return;const e=this.getFirstVisibleRow(),r=this.getLastVisibleRow();if(e===-1||r===-1)return;const n=this.hot.forceFullRender;this.calculateRowsHeight({from:e,to:r},void 0,n)}calculateRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countCols()-1},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=typeof e=="number"?{from:e,to:e}:e,s=typeof r=="number"?{from:r,to:r}:r;if(this.hot.getColHeader(0)!==null){const o=this.samplesGenerator.generateRowSamples(-1,s);this.ghostTable.addColumnHeadersRow(o.get(-1))}Ie(i.from,i.to,o=>{let a=this.hot.toPhysicalRow(o);a===null&&(a=o),(n||this.rowHeightsMap.getValueAtIndex(a)===null)&&this.samplesGenerator.generateRowSamples(o,s).forEach((c,d)=>this.ghostTable.addRow(d,c))}),this.ghostTable.rows.length&&(this.hot.batchExecution(()=>{this.ghostTable.getHeights((o,a)=>{o<0?this.headerHeight=a:this.rowHeightsMap.setValueAtIndex(this.hot.toPhysicalRow(o),a)})},!0),this.measuredRows=i.to+1,this.ghostTable.clean())}calculateAllRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0;const i=this.hot.countRows()-1;let s=null;this.inProgress=!0;const o=()=>{if(!this.hot){b1(s),this.inProgress=!1;return}this.calculateRowsHeight({from:n,to:Math.min(n+Ky.CALCULATION_STEP,i)},e,r),n=n+Ky.CALCULATION_STEP+1,n<i?s=w1(o):(b1(s),this.inProgress=!1,this.hot.view.adjustElementsSize())},a=this.getSyncCalculationLimit();a>=0&&(this.calculateRowsHeight({from:0,to:a},e,r),n=a+1),n<i?o():(this.inProgress=!1,this.hot.view.adjustElementsSize())}recalculateAllRowsHeight(){this.hot.view.isVisible()&&this.calculateAllRowsHeight({from:0,to:this.hot.countCols()-1},!0)}getSyncCalculationLimit(){const e=this.hot.getSettings()[Yk];let r=Ky.SYNC_CALCULATION_LIMIT;const n=this.hot.countRows()-1;return Le(e)&&(r=e.syncLimit,O9(r)?r=vY(n,r):r>>=0),Math.min(r,n)}getRowHeight(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.hot.stylesHandler.getDefaultRowHeight(e);if(e<0){var n;return(n=this.headerHeight)!==null&&n!==void 0?n:r}const i=this.hot.toPhysicalRow(e);if(this.hot.rowIndexMapper.isHidden(i))return r;const s=this.rowHeightsMap.getValueAtIndex(i);let o=r;return s!==null&&s>r&&(o=s,!this.hot.stylesHandler.isClassicTheme()&&e===this.hot.view.getFirstRenderedVisibleRow()&&(o+=1)),o}getColumnHeaderHeight(){return this.headerHeight}getFirstVisibleRow(){var e;return(e=this.hot.getFirstRenderedVisibleRow())!==null&&e!==void 0?e:-1}getLastVisibleRow(){var e;return(e=this.hot.getLastRenderedVisibleRow())!==null&&e!==void 0?e:-1}clearCache(e){this.headerHeight=null,Array.isArray(e)?this.hot.batchExecution(()=>{e.forEach(r=>{this.rowHeightsMap.setValueAtIndex(r,null)})},!0):this.rowHeightsMap.clear()}clearCacheByRange(e){const{from:r,to:n}=typeof e=="number"?{from:e,to:e}:e;this.hot.batchExecution(()=>{Ie(Math.min(r,n),Math.max(r,n),i=>{this.rowHeightsMap.setValueAtIndex(i,null)})},!0)}isNeedRecalculate(){return!!this.rowHeightsMap.getValues().slice(0,this.measuredRows).filter(e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}}function IIe(t){const e={from:0,to:this.hot.countCols()-1};t.forEach(r=>{this.samplesGenerator.generateRowSamples(r,e).forEach((i,s)=>this.ghostTable.addRow(s,i))}),this.ghostTable.rows.length&&(this.hot.batchExecution(()=>{this.ghostTable.getHeights((r,n)=>{const i=this.hot.toPhysicalRow(r);this.rowHeightsMap.setValueAtIndex(i,n)})},!0),this.ghostTable.clean())}function oK(t){const e=this.hot.getFirstRenderedVisibleColumn(),r=this.hot.columnIndexMapper.getPhysicalFromVisualIndex(e);t===!1||r===this.hot.columnIndexMapper.getPhysicalFromRenderableIndex(0)?Re(this.hot.rootElement,oV):oe(this.hot.rootElement,oV)}function AIe(){Ps(no,this,oK).call(this)}function OIe(){this.calculateVisibleRowsHeight(),this.inProgress||(Ps(no,this,IIe).call(this,L1(Bv,this)),sK(Bv,this,[]))}function lV(t,e,r){let n=t;return r&&(this.calculateRowsHeight(e,void 0,!0),n=this.getRowHeight(e)),n}function HIe(t,e){e||this.recalculateAllRowsHeight()}function jIe(t){const e=t.reduce((r,n)=>{let[i]=n;return r.indexOf(i)===-1&&r.push(i),r},[]);L1(Bv,this).push(...e)}function DIe(){this.recalculateAllRowsHeight(),sK(pD,this,!0)}function $Ie(t){if(!L1(pD,this))return;const e=t.reduce((r,n)=>{var i;const s=(i=n.address)===null||i===void 0?void 0:i.row;if(Number.isInteger(s)){const o=this.hot.toVisualRow(s);r.indexOf(o)===-1&&r.push(o)}return r},[]);L1(Bv,this).push(...e)}const{getListWithInsertedItems:LIe,getListWithRemovedItems:FIe}=zY("physicallyIndexed");class VIe extends Lf{constructor(){super(e=>e)}insert(e,r){const n=tH(this.indexedValues,r);this.indexedValues=LIe(n,e,r,this.initValueOrFn),super.insert(e,r)}remove(e){const r=FIe(this.indexedValues,e);this.indexedValues=eH(r,e),super.remove(e)}}const{getListWithInsertedItems:WIe,getListWithRemovedItems:BIe}=zY("physicallyIndexed");class zIe extends Lf{constructor(){super(e=>e)}insert(e,r){this.indexedValues=WIe(this.indexedValues,e,r,(n,i)=>this.getNextValue(i)),super.insert(e,r)}remove(e){this.indexedValues=BIe(this.indexedValues,e),super.remove(e)}getNextValue(e){return Math.max(...this.getValues())+1+e}}function UIe(t,e){YIe(t,e),e.add(t)}function YIe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function GIe(t,e,r){return(e=KIe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KIe(t){var e=qIe(t,"string");return typeof e=="symbol"?e:e+""}function qIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XIe(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const cV="bindRowsWithHeaders",QIe=210,JIe="loose",uV=new Map([["loose",VIe],["strict",zIe]]);var dV=new WeakSet;class ZIe extends xt{constructor(){super(...arguments),UIe(this,dV),GIe(this,"headerIndexes",null)}static get PLUGIN_KEY(){return cV}static get PLUGIN_PRIORITY(){return QIe}isEnabled(){return!!this.hot.getSettings()[cV]}enablePlugin(){var e;if(this.enabled)return;const r=(e=uV.get(this.getSetting()))!==null&&e!==void 0?e:uV.get(JIe);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new r),this.addHook("modifyRowHeader",n=>XIe(dV,this,eAe).call(this,n)),super.enablePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),super.disablePlugin()}destroy(){super.destroy()}}function eAe(t){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(t))}function tAe(t,e){aK(t,e),e.add(t)}function rAe(t,e,r){aK(t,e),e.set(t,r)}function aK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hV(t,e,r){return(e=nAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nAe(t){var e=iAe(t,"string");return typeof e=="symbol"?e:e+""}function iAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fV(t,e){return t.get(hm(t,e))}function Gk(t,e,r){return t.set(hm(t,e),r),r}function hm(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const dC="collapsibleColumns",sAe=290,oAe=["nestedHeaders"],Om="collapsibleIndicator",gV=dC,mV=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]);var ug=new WeakMap,j0=new WeakSet;class aAe extends xt{constructor(){super(...arguments),tAe(this,j0),hV(this,"nestedHeadersPlugin",null),hV(this,"headerStateManager",null),rAe(this,ug,null)}static get PLUGIN_KEY(){return dC}static get PLUGIN_PRIORITY(){return sAe}static get PLUGIN_DEPS(){return["plugin:NestedHeaders"]}static get SETTING_KEYS(){return[dC,...oAe]}isEnabled(){return!!this.hot.getSettings()[dC]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:r}=this.hot.getSettings();r||at("You need to configure the Nested Headers plugin in order to use collapsible headers."),Gk(ug,this,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",()=>hm(j0,this,uAe).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return hm(j0,e,dAe).call(e,...i)}),this.addHook("afterGetColHeader",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return hm(j0,e,lAe).call(e,...i)}),this.addHook("beforeOnCellMouseDown",(n,i,s)=>hm(j0,this,cAe).call(this,n,i,s)),this.registerShortcuts(),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){const{collapsibleColumns:e}=this.hot.getSettings();typeof e=="boolean"?this.headerStateManager.mapState(r=>({collapsible:r.origColspan>1})):Array.isArray(e)&&(this.headerStateManager.mapState(()=>({collapsible:!1})),this.headerStateManager.mergeStateWith(e))}super.updatePlugin()}}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),Gk(ug,this,null),this.nestedHeadersPlugin=null,this.unregisterShortcuts(),this.clearButtons(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{var e;const{row:r,col:n}=this.hot.getSelectedRangeActive().highlight,{collapsible:i,isCollapsed:s,columnIndex:o}=(e=this.headerStateManager.getHeaderTreeNodeData(r,n))!==null&&e!==void 0?e:{};if(i)return s?this.expandSection({row:r,col:o}):this.collapseSection({row:r,col:o}),!1},runOnlyIf:()=>{var e,r;return((e=this.hot.getSelectedRangeActive())===null||e===void 0?void 0:e.isSingle())&&((r=this.hot.getSelectedRangeActive())===null||r===void 0?void 0:r.highlight.isHeader())},group:gV,relativeToGroup:xd,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(gV)}clearButtons(){if(!this.hot.view)return;const e=this.hot.view._wt.getSetting("columnHeaders").length,r=this.hot.view._wt.wtTable.THEAD,n=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,i=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,s=function(o){o&&o.parentNode.removeChild(o)};Ie(0,e-1,o=>{const a=r.childNodes[o],l=n.childNodes[o],c=i?i.childNodes[o]:null;Ie(0,a.childNodes.length-1,d=>{let h=a.childNodes[d].querySelector(`.${Om}`);s(h),l&&l.childNodes[d]&&(h=l.childNodes[d].querySelector(`.${Om}`),s(h)),i&&c&&c.childNodes[d]&&(h=c.childNodes[d].querySelector(`.${Om}`),s(h))})})}expandSection(e){this.toggleCollapsibleSection([e],"expand")}collapseSection(e){this.toggleCollapsibleSection([e],"collapse")}toggleAllCollapsibleSections(e){const r=this.headerStateManager.mapNodes(n=>{const{collapsible:i,origColspan:s,headerLevel:o,columnIndex:a,isCollapsed:l}=n;if(i===!0&&s>1&&(l&&e==="expand"||!l&&e==="collapse"))return{row:this.headerStateManager.levelToRowCoords(o),col:a}});this.toggleCollapsibleSection(r,e)}collapseAll(){this.toggleAllCollapsibleSections("collapse")}expandAll(){this.toggleAllCollapsibleSections("expand")}toggleCollapsibleSection(e,r){if(!mV.has(r))throw new Error(`Unsupported action is passed (${r}).`);if(!Array.isArray(e))return;const n=ff(e,g=>{let{row:m}=g;return m<0});let i=n.length>0;B(n,g=>{var m;let{row:p,col:y}=g;const{collapsible:S,isCollapsed:w}=(m=this.headerStateManager.getHeaderSettings(p,y))!==null&&m!==void 0?m:{};if(!S||w&&r==="collapse"||!w&&r==="expand")return i=!1,!1});const s=[],o=[];i&&B(n,g=>{let{row:m,col:p}=g;const{colspanCompensation:y,affectedColumns:S,rollbackModification:w}=this.headerStateManager.triggerNodeModification(r,m,p);y>0&&(o.push(...S),s.push(w))});const a=this.getCollapsedColumns();let l=[];r==="collapse"?l=jve([...a,...o]):r==="expand"&&(l=ff(a,g=>!o.includes(g)));const c=mV.get(r);if(this.hot.runHooks(c.beforeHook,a,l,i)===!1){B(s,g=>{g()});return}this.hot.batchExecution(()=>{B(o,g=>{fV(ug,this).setValueAtIndex(this.hot.toPhysicalColumn(g),c.hideColumn)})},!0);const h=this.getCollapsedColumns().length!==a.length,f=this.hot.getSelectedRangeActive();if(r==="collapse"&&h&&f){const{row:g,col:m}=f.highlight;if((this.hot.rowIndexMapper.isHidden(g)||this.hot.columnIndexMapper.isHidden(m))&&o.includes(m)){const y=g>=0?this.hot.rowIndexMapper.getNearestNotHiddenIndex(g,1,!0):g,S=m>=0?this.hot.columnIndexMapper.getNearestNotHiddenIndex(m,1,!0):m;y!==null&&S!==null&&this.hot.selectCell(y,S)}}this.hot.runHooks(c.afterHook,a,l,i,h),this.hot.view.adjustElementsSize(),this.hot.render()}getCollapsedColumns(){return fV(ug,this).getHiddenIndexes()}destroy(){Gk(ug,this,null),super.destroy()}}function lAe(t,e,r){var n;const{collapsible:i,origColspan:s,isCollapsed:o}=(n=this.headerStateManager.getHeaderSettings(r,t))!==null&&n!==void 0?n:{},a=i&&s>1&&t>=this.hot.getSettings().fixedColumnsStart,l=this.hot.getSettings().ariaTags;let c=e.querySelector(`.${Om}`);if(_c(e,[So("")[0]]),a)c||(c=this.hot.rootDocument.createElement("div"),oe(c,Om),e.querySelector("div:first-child").appendChild(c)),Re(c,["collapsed","expanded"]),o?(oe(c,"collapsed"),mf(c,"+"),l&&Ee(e,...So(!1))):(oe(c,"expanded"),mf(c,"-"),l&&Ee(e,...So(!0))),l&&Ee(c,...jf());else{var d;(d=c)===null||d===void 0||d.remove()}}function cAe(t,e){Ve(t.target,Om)&&(Ve(t.target,"expanded")?(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"collapse")):Ve(t.target,"collapsed")&&(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"expand")),Eo(t))}function uAe(){this.updatePlugin()}function dAe(t,e){e||this.updatePlugin()}function zd(t,e,r){return(e=hAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hAe(t){var e=fAe(t,"string");return typeof e=="symbol"?e:e+""}function fAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const gAe=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],mAe=!1,pAe=!0,yAe=!0;class vAe{constructor(e,r){zd(this,"hot",void 0),zd(this,"sortingStates",new RR),zd(this,"sortEmptyCells",mAe),zd(this,"indicator",pAe),zd(this,"headerAction",yAe),zd(this,"compareFunctionFactory",void 0),zd(this,"mapName",void 0),this.hot=e,this.mapName=r,this.hot.columnIndexMapper.registerMap(r,this.sortingStates)}updateAllColumnsProperties(e){Le(e)&&dt(e,(r,n)=>{gAe.includes(n)&&(this[n]=r)})}getAllColumnsProperties(){const e={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return typeof this.compareFunctionFactory=="function"&&(e.compareFunctionFactory=this.compareFunctionFactory),e}getSortOrderOfColumn(e){var r;return(r=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))===null||r===void 0?void 0:r.sortOrder}getIndexOfColumnInSortQueue(e){return e=this.hot.toPhysicalColumn(e),this.sortingStates.getEntries().findIndex(r=>{let[n]=r;return n===e})}getNumberOfSortedColumns(){return this.sortingStates.getLength()}isListOfSortedColumnsEmpty(){return this.getNumberOfSortedColumns()===0}isColumnSorted(e){return Le(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))}getSortStates(){return this.sortingStates===null?[]:this.sortingStates.getEntries().map(r=>{let[n,i]=r;return{column:this.hot.toVisualColumn(n),...i}})}getColumnSortState(e){const r=this.getSortOrderOfColumn(e);if(xe(r))return{column:e,sortOrder:r}}setSortStates(e){this.sortingStates.clear();for(let r=0;r<e.length;r+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(e[r].column),{sortOrder:e[r].sortOrder})}destroy(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}}function lK(t,e,r){const n=e.locale;return function(i,s){const{sortEmptyCells:o}=r;return typeof i=="string"&&(i=i.toLocaleLowerCase(n)),typeof s=="string"&&(s=s.toLocaleLowerCase(n)),i===s?_l:Yr(i)?Yr(s)?_l:o&&t==="asc"?kr:Pr:Yr(s)?o&&t==="asc"?Pr:kr:isNaN(i)&&!isNaN(s)?t==="asc"?Pr:kr:!isNaN(i)&&isNaN(s)||(isNaN(i)||isNaN(s)||(i=parseFloat(i),s=parseFloat(s)),i<s)?t==="asc"?kr:Pr:i>s?t==="asc"?Pr:kr:_l}}const cK="default";function wAe(t,e,r){return function(n,i){const s=parseFloat(n),o=parseFloat(i),{sortEmptyCells:a}=r;if(s===o||isNaN(s)&&isNaN(o))return _l;if(a){if(Yr(n))return t==="asc"?kr:Pr;if(Yr(i))return t==="asc"?Pr:kr}return isNaN(s)?Pr:isNaN(o)?kr:s<o?t==="asc"?kr:Pr:s>o?t==="asc"?Pr:kr:_l}}const bAe="numeric";function SAe(t,e,r){const n=e.checkedTemplate,i=e.uncheckedTemplate,{sortEmptyCells:s}=r;return function(o,a){const l=Yr(o),c=Yr(a),d=l?i:o,h=c?i:a,f=d===i||d===n,g=h===i||h===n;if(s===!1){if(l&&c===!1)return Pr;if(l===!1&&c)return kr}return f===!1&&g?t==="asc"?kr:Pr:f&&g===!1?t==="asc"?Pr:kr:f===!1&&g===!1?lK(t,e,r)(o,a):d===i&&h===n?t==="asc"?kr:Pr:d===n&&h===i?t==="asc"?Pr:kr:_l}}const xAe="checkbox";function CAe(t,e,r){return mK(t,e.dateFormat,r)}const _Ae="date";function RAe(t,e,r){return mK(t,e.timeFormat,r)}const EAe="time",{register:Ww,getItem:pV,hasItem:TAe}=No("sorting.compareFunctionFactory"),{register:uK,getItem:kAe}=No("sorting.mainSortComparator");function dK(t){return TAe(t)?pV(t):pV(cK)}Ww(xAe,SAe);Ww(_Ae,CAe);Ww(cK,lK);Ww(bAe,wAe);Ww(EAe,RAe);const _l=0,kr=-1,Pr=1;function PAe(t,e){const r=kAe(e);for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];t.sort(r(...i))}const F1="asc",V1="desc",hK="colHeader";function NAe(t){if(Le(t)===!1)return!1;const{column:e,sortOrder:r}=t;return Number.isInteger(e)&&[F1,V1].includes(r)}function MAe(t){if(t.some(r=>NAe(r)===!1))return!1;const e=t.map(r=>{let{column:n}=r;return n});return new Set(e).size===e.length}function yV(t){if(t!==V1)return t===F1?V1:F1}function fK(t){return t.querySelector(`.${hK}`)}function gK(t,e){if(t<0||!e.parentNode)return!1;const r=e.parentNode.parentNode.childNodes;return Array.from(r).indexOf(e.parentNode)-r.length===-1}function yD(t,e,r){return t===-1&&e>=0&&yf(r)===!1}function mK(t,e,r){return function(n,i){const{sortEmptyCells:s}=r;if(n===i)return _l;if(Yr(n))return Yr(i)?_l:s&&t==="asc"?kr:Pr;if(Yr(i))return s&&t==="asc"?Pr:kr;const o=he(n,e),a=he(i,e);return o.isValid()?a.isValid()?a.isAfter(o)?t==="asc"?kr:Pr:a.isBefore(o)?t==="asc"?Pr:kr:_l:kr:Pr}}function IAe(t,e){at(kt`Plugins \`columnSorting\` and \`multiColumnSorting\` should not be enabled simultaneously.\x20
    Only \`${t}\` will work. The \`${e}\` plugin will remain disabled.`)}const AAe="ascending",OAe="descending",pK="indicatorDisabled",yK="columnSorting",vK="sortAction",wK=new Map([[F1,AAe],[V1,OAe]]);function HAe(t,e,r,n){const i=[yK];if(n&&i.push(vK),r===!1)return i.push(pK),i;const s=t.getSortOrderOfColumn(e);return xe(s)&&i.push(wK.get(s)),i}function jAe(){return Array.from(wK.values()).concat(vK,pK,yK)}function DAe(t,e){return function(r,n){const[,...i]=r,[,...s]=n;return function(a){const l=t[a],c=e[a],d=i[a],h=s[a],f=c.columnSorting;return(f.compareFunctionFactory?f.compareFunctionFactory:dK(c.type))(l,c,f)(d,h)}(0)}}function $Ae(t,e){LAe(t,e),e.add(t)}function LAe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function NS(t,e,r){return(e=FAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FAe(t){var e=VAe(t,"string");return typeof e=="symbol"?e:e+""}function VAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zg(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const W1="columnSorting",WAe=50,B1="append",BAe="replace",vV=W1;uK(W1,DAe);_e.getSingleton().register("beforeColumnSort");_e.getSingleton().register("afterColumnSort");const D0=new WeakMap;var yh=new WeakSet;class bK extends xt{constructor(){super(...arguments),$Ae(this,yh),NS(this,"columnStatesManager",null),NS(this,"columnMetaCache",null),NS(this,"pluginKey",W1),NS(this,"indexesSequenceCache",null)}static get PLUGIN_KEY(){return W1}static get PLUGIN_PRIORITY(){return WAe}isEnabled(){return!!this.hot.getSettings()[this.pluginKey]}enablePlugin(){var e=this;if(D0.has(this.hot)&&D0.get(this.hot)!==this.pluginKey){this.hot.updateSettings({[this.pluginKey]:!1}),IAe(D0.get(this.hot),this.pluginKey);return}this.enabled||(D0.set(this.hot,this.pluginKey),this.columnStatesManager=new vAe(this.hot,`${this.pluginKey}.sortingStates`),this.columnMetaCache=new Sd(r=>{let n=this.hot.toVisualColumn(r);return n===null&&(n=r),this.getMergedPluginSettings(n)}),this.hot.columnIndexMapper.registerMap(`${this.pluginKey}.columnMeta`,this.columnMetaCache),this.addHook("afterGetColHeader",(r,n)=>zg(yh,this,zAe).call(this,r,n)),this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return zg(yh,e,YAe).call(e,...n)}),this.addHook("afterOnCellMouseDown",(r,n)=>this.onAfterOnCellMouseDown(r,n)),this.addHook("afterInit",()=>zg(yh,this,NI).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return zg(yh,e,UAe).call(e,...n)}),this.hot.view&&zg(yh,this,NI).call(this),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){const e=(r,n)=>{const i=fK(n);gK(r,n)===!1||i===null||this.updateHeaderClasses(i)};D0.delete(this.hot),this.hot.addHook("afterGetColHeader",e),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("afterGetColHeader",e)}),this.hot.batchExecution(()=>{this.indexesSequenceCache!==null&&(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginKey),this.indexesSequenceCache=null)},!0),this.hot.columnIndexMapper.unregisterMap(`${this.pluginKey}.columnMeta`),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeActive();return this.sort(this.getColumnNextConfig(e.col)),!1},runOnlyIf:()=>{var e,r;const n=(e=this.hot.getSelectedRangeActive())===null||e===void 0?void 0:e.highlight;return n&&((r=this.hot.getSelectedRangeActive())===null||r===void 0?void 0:r.isSingle())&&this.hot.selection.isCellVisible(n)&&n.row===-1&&n.col>=0},relativeToGroup:xd,position:"before",group:vV})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(vV)}sort(e){const r=this.getSortConfig(),n=this.getNormalizedSortConfigs(e),i=this.areValidSortConfigs(n);this.hot.runHooks("beforeColumnSort",r,n,i)!==!1&&(r.length===0&&this.indexesSequenceCache===null&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new UY),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),i&&(this.columnStatesManager.setSortStates(n),this.sortByPresetSortStates(n),this.saveAllSortSettings(n)),this.hot.runHooks("afterColumnSort",r,i?n:r,i),i&&this.hot.render())}clearSort(){this.sort([])}isSorted(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}getSortConfig(e){return xe(e)?this.columnStatesManager.getColumnSortState(e):this.columnStatesManager.getSortStates()}setSortConfig(e){const r=this.getNormalizedSortConfigs(e);this.areValidSortConfigs(r)&&this.columnStatesManager.setSortStates(r)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e.slice(0,1):[e]}areValidSortConfigs(e){const r=this.hot.countCols();return MAe(e)&&e.every(n=>{let{column:i}=n;return i<=r&&i>=0})}saveAllSortSettings(e){const r=this.columnStatesManager.getAllColumnsProperties(),n=i=>{let{column:s,...o}=i;return{column:this.hot.toPhysicalColumn(s),...o}};r.initialConfig=Tt(e,n),this.hot.runHooks("persistentStateSave","columnSorting",r)}getAllSavedSortSettings(){const e={};this.hot.runHooks("persistentStateLoad","columnSorting",e);const r=e.value,n=i=>{let{column:s,...o}=i;return{column:this.hot.toVisualColumn(s),...o}};return xe(r)&&Array.isArray(r.initialConfig)&&(r.initialConfig=Tt(r.initialConfig,n)),r}getColumnNextConfig(e){const r=this.columnStatesManager.getSortOrderOfColumn(e);if(xe(r)){const i=yV(r);return xe(i)?{column:e,sortOrder:i}:void 0}const n=this.hot.countCols();if(Number.isInteger(e)&&e>=0&&e<n)return{column:e,sortOrder:yV()}}getNextSortConfig(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:B1;const n=this.columnStatesManager.getIndexOfColumnInSortQueue(e),i=n!==-1,s=this.getSortConfig(),o=this.getColumnNextConfig(e);if(i){if(cr(o))return[...s.slice(0,n),...s.slice(n+1)];if(r===B1)return[...s.slice(0,n),...s.slice(n+1),o];if(r===BAe)return[...s.slice(0,n),o,...s.slice(n+1)]}return xe(o)?s.concat(o):s}getPluginColumnConfig(e){if(Le(e)){const r=e[this.pluginKey];if(Le(r))return r}return{}}getMergedPluginSettings(e){const r=this.hot.getSettings()[this.pluginKey],n=this.columnStatesManager.getAllColumnsProperties(),i=this.hot.getCellMeta(0,e),s=Object.getPrototypeOf(i);return Array.isArray(s.columns)?Object.assign(n,r,this.getPluginColumnConfig(s.columns[e])):It(s.columns)?Object.assign(n,r,this.getPluginColumnConfig(s.columns(e))):Object.assign(n,r)}getFirstCellSettings(e){const r=this.hot.getCellMeta(0,e),n=Object.create(r);return n[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(e)),n}getNumberOfRowsToSort(e){const r=this.hot.getSettings();return r.maxRows<=e?r.maxRows:e-r.minSpareRows}sortByPresetSortStates(e){if(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),e.length===0)return;const r=[],n=this.hot.countRows(),i=c=>Tt(e,d=>this.hot.getDataAtCell(c,d.column));for(let c=0;c<this.getNumberOfRowsToSort(n);c+=1)r.push([this.hot.toPhysicalRow(c)].concat(i(c)));const s=Tt(r,c=>c[0]);PAe(r,this.pluginKey,Tt(e,c=>c.sortOrder),Tt(e,c=>this.getFirstCellSettings(c.column)));for(let c=r.length;c<n;c+=1)r.push([c].concat(i(c)));const o=Tt(r,c=>c[0]),a=new Map(Tt(s,(c,d)=>[c,o[d]])),l=Tt(this.hot.rowIndexMapper.getIndexesSequence(),c=>a.has(c)?a.get(c):c);this.hot.rowIndexMapper.setIndexesSequence(l)}sortBySettings(e){if(Le(e)){this.columnStatesManager.updateAllColumnsProperties(e);const r=e.initialConfig;(Array.isArray(r)||Le(r))&&this.sort(r)}else this.hot.render()}updateHeaderClasses(e){if(Re(e,jAe()),this.enabled!==!1){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];oe(e,HAe(...n))}}onUpdateSettings(e){super.onUpdateSettings(e),this.columnMetaCache!==null&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),xe(e[this.pluginKey])&&this.sortBySettings(e[this.pluginKey])}wasClickableHeaderClicked(e,r){return this.getFirstCellSettings(r)[this.pluginKey].headerAction&&Ve(e.target,hK)}onAfterOnCellMouseDown(e,r){if(yD(r.row,r.col,e)!==!1&&this.wasClickableHeaderClicked(e,r.col)){this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(r.col));const n=this.hot.getActiveEditor(),i=this.getColumnNextConfig(r.col);n!=null&&n.isOpened()&&this.hot.getCellValidator(n.row,n.col)?this.hot.addHookOnce("postAfterValidate",()=>{this.sort(i)}):this.sort(i)}}destroy(){var e;(e=this.columnStatesManager)===null||e===void 0||e.destroy(),super.destroy()}}function NI(){const t=this.getAllSavedSortSettings();if(Le(t))this.sortBySettings(t);else{const e=this.hot.getSettings()[this.pluginKey];this.sortBySettings(e)}}function zAe(t,e){const r=fK(e);if(gK(t,e)===!1||r===null)return;const n=this.getFirstCellSettings(t)[this.pluginKey],i=n.indicator,s=n.headerAction;if(this.updateHeaderClasses(r,this.columnStatesManager,t,i,s),this.hot.getSettings().ariaTags){const o=this.columnStatesManager.getSortOrderOfColumn(t);Ee(e,...lwe(o?`${o}ending`:"none"))}}function UAe(t){t===!0&&this.hot.view&&zg(yh,this,NI).call(this)}function YAe(t,e,r,n){yD(e.row,e.col,t)!==!1&&this.wasClickableHeaderClicked(t,e.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(n.column=!0)}function Kk(t){return t==null||isNaN(t)}function GAe(t,e){if(typeof t!="number")return t;const r=n=>n.toString();switch(typeof e){case"number":return r(t.toFixed(Math.min(Math.max(0,e),100)));case"boolean":return e?r(Math.round(t)):t;case"string":if(e==="auto"){const n=Math.round(t).toString().length;return r(t.toFixed(8-n))}return t;default:return t}}function Ud(t,e,r){return(e=KAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KAe(t){var e=qAe(t,"string");return typeof e=="symbol"?e:e+""}function qAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class XAe{constructor(e,r){Ud(this,"plugin",void 0),Ud(this,"hot",void 0),Ud(this,"endpoints",[]),Ud(this,"settings",void 0),Ud(this,"settingsType","array"),Ud(this,"currentEndpoint",null),Ud(this,"cellsToSetCache",[]),this.plugin=e,this.hot=this.plugin.hot,this.settings=r}initEndpoints(){this.endpoints=this.parseSettings(),this.refreshAllEndpoints()}getEndpoint(e){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings)[e]:this.endpoints[e]}getAllEndpoints(){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings):this.endpoints}fillMissingEndpointData(e){return this.parseSettings(e.call(this))}parseSettings(e){const r=[];let n=e;if(!n&&typeof this.settings=="function"){this.settingsType="function";return}return n||(n=this.settings),B(n,i=>{const s={};this.assignSetting(i,s,"ranges",[[0,this.hot.countRows()-1]]),this.assignSetting(i,s,"reversedRowCoords",!1),this.assignSetting(i,s,"destinationRow",new Error(`
        You must provide a destination row for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(i,s,"destinationColumn",new Error(`
        You must provide a destination column for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(i,s,"sourceColumn",i.destinationColumn),this.assignSetting(i,s,"type","sum"),this.assignSetting(i,s,"forceNumeric",!1),this.assignSetting(i,s,"suppressDataTypeErrors",!0),this.assignSetting(i,s,"customFunction",null),this.assignSetting(i,s,"readOnly",!0),this.assignSetting(i,s,"roundFloat",!1),r.push(s)}),r}assignSetting(e,r,n,i){if(n==="ranges"&&e[n]===void 0){r[n]=i;return}else if(n==="ranges"&&e[n].length===0)return;if(e[n]===void 0){if(i instanceof Error)throw i;r[n]=i}else n==="destinationRow"&&r.reversedRowCoords?r[n]=this.hot.countRows()-e[n]-1:r[n]=e[n]}resetSetupBeforeStructureAlteration(e,r,n){if(this.settingsType!=="function")return;const i=e.indexOf("row")>-1?"row":"col",s=this.getAllEndpoints();B(s,o=>{i==="row"&&o.destinationRow>=r&&(e==="insert_row"?o.alterRowOffset=n:e==="remove_row"&&(o.alterRowOffset=-1*n)),i==="col"&&o.destinationColumn>=r&&(e==="insert_col"?o.alterColumnOffset=n:e==="remove_col"&&(o.alterColumnOffset=-1*n))}),this.resetAllEndpoints(s,!1)}resetSetupAfterStructureAlteration(e,r,n,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(s==="auto")return;if(this.settingsType==="function"){const f=()=>(this.hot.removeHook("beforeViewRender",f),this.refreshAllEndpoints());this.hot.addHookOnce("beforeViewRender",f);return}const a=e.indexOf("row")>-1?"row":"col",l=e.indexOf("remove")>-1?-1:1,c=this.getAllEndpoints(),d=e.indexOf("move_row")===0,h=r;B(c,f=>{a==="row"&&f.destinationRow>=h&&(f.alterRowOffset=l*n),a==="col"&&f.destinationColumn>=h&&(f.alterColumnOffset=l*n)}),this.resetAllEndpoints(c,!d),d?B(c,f=>{this.extendEndpointRanges(f,h,i[0],i.length),this.recreatePhysicalRanges(f),this.clearOffsetInformation(f)}):B(c,f=>{this.shiftEndpointCoordinates(f,h)}),o&&this.refreshAllEndpoints()}clearOffsetInformation(e){e.alterRowOffset=void 0,e.alterColumnOffset=void 0}extendEndpointRanges(e,r,n,i){B(e.ranges,s=>{s[1]&&(r>=s[0]&&r<=s[1]?n>s[1]?s[1]+=i:n<s[0]&&(s[0]-=i):n>=s[0]&&n<=s[1]&&(s[1]-=i,r<=s[0]&&(s[0]+=1,s[1]+=1)))})}recreatePhysicalRanges(e){const r=e.ranges,n=[],i=[];B(r,s=>{const o=[];if(s[1])for(let a=s[0];a<=s[1];a++)o.push(this.hot.toPhysicalRow(a));else o.push(this.hot.toPhysicalRow(s[0]));i.push(o)}),B(i,s=>{let o=[];B(s,(a,l)=>{l===0?o.push(a):s[l]!==s[l-1]+1&&(o.push(s[l-1]),n.push(o),o=[],o.push(a)),l===s.length-1&&(o.push(a),n.push(o))})}),e.ranges=n}shiftEndpointCoordinates(e,r){e.alterRowOffset&&e.alterRowOffset!==0?(e.destinationRow+=e.alterRowOffset||0,B(e.ranges,n=>{B(n,(i,s)=>{i>=r&&(n[s]+=e.alterRowOffset||0)})})):e.alterColumnOffset&&e.alterColumnOffset!==0&&(e.destinationColumn+=e.alterColumnOffset||0,e.sourceColumn+=e.alterColumnOffset||0)}resetAllEndpoints(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getAllEndpoints(),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e.some(i=>{const s=i.alterRowOffset||0,o=i.alterColumnOffset||0;return i.destinationRow+s>=this.hot.countRows()||i.destinationColumn+o>=this.hot.countCols()})||(this.cellsToSetCache=[],B(e,i=>{this.resetEndpointValue(i,r)}),this.cellsToSetCache.length&&this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}refreshAllEndpoints(){this.cellsToSetCache=[],B(this.getAllEndpoints(),e=>{this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e,"init")}),this.currentEndpoint=null,this.cellsToSetCache.length&&this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshChangedEndpoints(e){const r=[];this.cellsToSetCache=[],B(e,(n,i,s)=>{`${n[2]||""}`!=`${n[3]}`&&B(this.getAllEndpoints(),(o,a)=>{this.hot.propToCol(s[i][1])===o.sourceColumn&&r.indexOf(a)===-1&&r.push(a)})}),B(r,n=>{this.refreshEndpoint(this.getEndpoint(n))}),this.cellsToSetCache.length&&this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshCellMetas(){this.endpoints.forEach(e=>{const r=this.hot.toVisualRow(e.destinationRow);if(r!==null){const n=this.hot.getCellMeta(r,e.destinationColumn);n.readOnly=e.readOnly,n.className="columnSummaryResult"}})}refreshEndpoint(e){this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e),this.currentEndpoint=null}resetEndpointValue(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=e.alterRowOffset||0,i=e.alterColumnOffset||0;this.cellsToSetCache.push([this.hot.toVisualRow(e.destinationRow+(r?n:0)),this.hot.toVisualColumn(e.destinationColumn+(r?i:0)),""])}setEndpointValue(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.hot.toVisualRow(e.destinationRow);if(e.destinationRow>=this.hot.countRows()||e.destinationColumn>=this.hot.countCols()){this.throwOutOfBoundsWarning();return}const s=this.hot.toVisualRow(e.destinationRow);if(s!==null){const o=this.hot.getCellMeta(s,e.destinationColumn);(r==="init"||o.readOnly!==e.readOnly)&&(o.readOnly=e.readOnly,o.className="columnSummaryResult")}e.result=GAe(e.result,e.roundFloat),n?this.hot.setDataAtCell(i,e.destinationColumn,e.result,"ColumnSummary.set"):this.cellsToSetCache.push([i,e.destinationColumn,e.result]),e.alterRowOffset=void 0,e.alterColumnOffset=void 0}throwOutOfBoundsWarning(){at("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}}function QAe(t,e){JAe(t,e),e.add(t)}function JAe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ZAe(t,e,r){return(e=eOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eOe(t){var e=tOe(t,"string");return typeof e=="symbol"?e:e+""}function tOe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dg(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const qk="columnSummary",rOe=220;var Yd=new WeakSet;class nOe extends xt{constructor(){super(...arguments),QAe(this,Yd),ZAe(this,"endpoints",null)}static get PLUGIN_KEY(){return qk}static get PLUGIN_PRIORITY(){return rOe}isEnabled(){return!!this.hot.getSettings()[qk]}enablePlugin(){var e=this;this.enabled||(this.settings=this.hot.getSettings()[qk],this.endpoints=new XAe(this,this.settings),this.addHook("afterInit",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return dg(Yd,e,iOe).call(e,...n)}),this.addHook("afterChange",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return dg(Yd,e,oOe).call(e,...n)}),this.addHook("afterUpdateSettings",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return dg(Yd,e,sOe).call(e,...n)}),this.addHook("afterLoadData",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return dg(Yd,e,aOe).call(e,...n)}),this.addHook("afterUpdateData",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return dg(Yd,e,lOe).call(e,...n)}),this.addHook("beforeCreateRow",(r,n,i)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_row",r,n,null,i)),this.addHook("beforeCreateCol",(r,n,i)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_col",r,n,null,i)),this.addHook("beforeRemoveRow",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.endpoints.resetSetupBeforeStructureAlteration("remove_row",...n)}),this.addHook("beforeRemoveCol",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.endpoints.resetSetupBeforeStructureAlteration("remove_col",...n)}),this.addHook("afterCreateRow",(r,n,i)=>this.endpoints.resetSetupAfterStructureAlteration("insert_row",r,n,null,i)),this.addHook("afterCreateCol",(r,n,i)=>this.endpoints.resetSetupAfterStructureAlteration("insert_col",r,n,null,i)),this.addHook("afterRemoveRow",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.endpoints.resetSetupAfterStructureAlteration("remove_row",...n)}),this.addHook("afterRemoveCol",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.endpoints.resetSetupAfterStructureAlteration("remove_col",...n)}),this.addHook("afterRowMove",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return dg(Yd,e,cOe).call(e,...n)}),super.enablePlugin())}disablePlugin(){this.endpoints=null,this.settings=null,this.currentEndpoint=null,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.endpoints.initEndpoints(),super.updatePlugin()}calculate(e){switch(e.type.toLowerCase()){case"sum":e.result=this.calculateSum(e);break;case"min":e.result=this.calculateMinMax(e,e.type);break;case"max":e.result=this.calculateMinMax(e,e.type);break;case"count":e.result=this.countEntries(e);break;case"average":e.result=this.calculateAverage(e);break;case"custom":e.result=e.customFunction.call(this,e);break}}calculateSum(e){let r=0;return dt(e.ranges,n=>{r+=this.getPartialSum(n,e.sourceColumn)}),r}getPartialSum(e,r){let n=0,i=e[1]||e[0],s=null,o=0;do{if(s=this.getCellValue(i,r),s=Kk(s)?null:s,s!==null){const a=(`${s}`.split(".")[1]||[]).length||1;a>o&&(o=a)}n+=s||0,i-=1}while(i>=e[0]);return Math.round(n*10**o)/10**o}calculateMinMax(e,r){let n=null;return dt(e.ranges,i=>{const s=this.getPartialMinMax(i,e.sourceColumn,r);if(n===null&&s!==null&&(n=s),s!==null)switch(r){case"min":n=Math.min(n,s);break;case"max":n=Math.max(n,s);break}}),n===null?"Not enough data":n}getPartialMinMax(e,r,n){let i=null,s=e[1]||e[0],o;do{if(o=this.getCellValue(s,r),o=Kk(o)?null:o,i===null)i=o;else if(o!==null)switch(n){case"min":i=Math.min(i,o);break;case"max":i=Math.max(i,o);break}s-=1}while(s>=e[0]);return i}countEmpty(e,r){let n,i=0,s=e[1]||e[0];do n=this.getCellValue(s,r),n=Kk(n)?null:n,n===null&&(i+=1),s-=1;while(s>=e[0]);return i}countEntries(e){let r=0;const n=e.ranges;return dt(n,i=>{const s=i[1]===void 0?1:i[1]-i[0]+1,o=this.countEmpty(i,e.sourceColumn);r+=s,r-=o}),r}calculateAverage(e){const r=this.calculateSum(e),n=this.countEntries(e);return r/n}getCellValue(e,r){const n=this.hot.toVisualRow(e),i=this.hot.toVisualColumn(r);let s=this.hot.getSourceDataAtCell(e,r),o="";if(n!==null&&i!==null&&(o=this.hot.getCellMeta(n,i).className||""),o.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&(typeof s=="string"&&(s=s.replace(/,/,".")),s=parseFloat(s)),isNaN(s)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(kt`ColumnSummary plugin: cell at (${e}, ${r}) is not in a\x20
          numeric format. Cannot do the calculation.`);return s}}function iOe(){this.endpoints.initEndpoints()}function sOe(t){t.columns!==void 0&&this.endpoints.refreshCellMetas()}function oOe(t,e){t&&e!=="ColumnSummary.reset"&&e!=="ColumnSummary.set"&&e!=="loadData"&&this.endpoints.refreshChangedEndpoints(t)}function aOe(t,e){e||this.endpoints.refreshAllEndpoints()}function lOe(t,e){e||this.endpoints.refreshAllEndpoints()}function cOe(t,e){this.endpoints.resetSetupBeforeStructureAlteration("move_row",t[0],t.length,t,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",e,t.length,t,this.pluginName)}function uOe(t,e){SK(t,e),e.add(t)}function Xk(t,e,r){SK(t,e),e.set(t,r)}function SK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ug(t,e){return t.get(vD(t,e))}function MI(t,e,r){return t.set(vD(t,e),r),r}function vD(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var z1=new WeakMap,MS=new WeakMap,IS=new WeakMap,wV=new WeakSet;class xK{constructor(){uOe(this,wV),Xk(this,z1,!0),Xk(this,MS,null),Xk(this,IS,new ResizeObserver(e=>vD(wV,this,dOe).call(this,e)))}setObservedElement(e){MI(MS,this,e)}unobserve(){Ug(IS,this).unobserve(Ug(MS,this))}observe(){MI(z1,this,!0),Ug(IS,this).observe(Ug(MS,this))}destroy(){Ug(IS,this).disconnect()}}function dOe(t){if(Ug(z1,this)||!Array.isArray(t)||!t.length){MI(z1,this,!1);return}t.forEach(e=>{let{borderBoxSize:r}=e;const{inlineSize:n,blockSize:i}=r[0];this.runLocalHooks("resize",n,i)})}Dt(xK,Tn);function tu(t,e,r){hOe(t,e),e.set(t,r)}function hOe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Vt(t,e){return t.get(CK(t,e))}function La(t,e,r){return t.set(CK(t,e),r),r}function CK(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var hg=new WeakMap,Qk=new WeakMap,Jk=new WeakMap,Ul=new WeakMap,ru=new WeakMap,nu=new WeakMap,AS=new WeakMap,fg=new WeakMap;class jh{static get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"}static get CLASS_EDITOR(){return"htComments"}static get CLASS_INPUT(){return"htCommentTextArea"}static get CLASS_CELL(){return"htCommentCell"}constructor(e,r,n){var i=this;tu(this,hg,void 0),tu(this,Qk,void 0),tu(this,Jk,!1),tu(this,Ul,null),tu(this,ru,void 0),tu(this,nu,void 0),tu(this,AS,!0),tu(this,fg,new xK),La(hg,this,e),La(Qk,this,n),La(Jk,this,r),La(ru,this,this.createEditor()),La(nu,this,Vt(ru,this).style),Vt(fg,this).setObservedElement(this.getInputElement()),Vt(fg,this).addLocalHook("resize",function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return i.runLocalHooks("resize",...o)}),this.hide()}setPosition(e,r){Vt(nu,this).left=`${e}px`,Vt(nu,this).top=`${r}px`}setSize(e,r){if(e&&r){const n=this.getInputElement();n.style.width=`${e}px`,n.style.height=`${r}px`}}getSize(){return{width:en(this.getInputElement()),height:fn(this.getInputElement())}}observeSize(){Vt(fg,this).observe()}resetSize(){const e=this.getInputElement();e.style.width="",e.style.height=""}setReadOnlyState(e){const r=this.getInputElement();r.readOnly=e}show(){Vt(nu,this).display="block",La(AS,this,!1)}hide(){Vt(fg,this).unobserve(),Vt(AS,this)||(Vt(nu,this).display="none"),La(AS,this,!0)}isVisible(){return Vt(nu,this).display==="block"}setValue(){const r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"")||"";this.getInputElement().value=r}getValue(){return this.getInputElement().value}isFocused(){return Vt(hg,this).activeElement===this.getInputElement()}focus(){this.getInputElement().focus()}createEditor(){const e=Vt(hg,this).createElement("div"),r=Vt(hg,this).createElement("textarea");return e.style.display="none",La(Ul,this,Vt(hg,this).createElement("div")),Vt(Ul,this).setAttribute("dir",Vt(Jk,this)?"rtl":"ltr"),oe(Vt(Ul,this),jh.CLASS_EDITOR_CONTAINER),Vt(Qk,this).appendChild(Vt(Ul,this)),oe(e,jh.CLASS_EDITOR),oe(r,jh.CLASS_INPUT),r.setAttribute("data-hot-input",!0),e.appendChild(r),Vt(Ul,this).appendChild(e),e}getInputElement(){return Vt(ru,this).querySelector(`.${jh.CLASS_INPUT}`)}getEditorElement(){return Vt(ru,this)}destroy(){const e=Vt(Ul,this)?Vt(Ul,this).parentNode:null;Vt(ru,this).parentNode.removeChild(Vt(ru,this)),La(ru,this,null),La(nu,this,null),Vt(fg,this).destroy(),e&&e.removeChild(Vt(Ul,this))}}Dt(jh,Tn);function Zk(t,e,r){return(e=fOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fOe(t){var e=gOe(t,"string");return typeof e=="symbol"?e:e+""}function gOe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const mOe=250,pOe=250;class _K{constructor(e){Zk(this,"wasLastActionShow",!0),Zk(this,"showDebounced",null),Zk(this,"hidingTimer",null),this.updateDelay(e)}hide(){this.wasLastActionShow=!1,this.hidingTimer=setTimeout(()=>{this.wasLastActionShow===!1&&this.runLocalHooks("hide")},pOe)}show(e){this.wasLastActionShow=!0,this.showDebounced(e)}cancelHiding(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}updateDelay(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mOe;this.showDebounced=bR(r=>{this.wasLastActionShow&&this.runLocalHooks("show",r.from.row,r.from.col)},e)}destroy(){this.clearLocalHooks()}}Dt(_K,Tn);function yOe(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","")} ${e}`}function vOe(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","")} ${e}`}function Gd(t,e){const r={};return B(t,n=>{n.forAll((i,s)=>{i>=0&&s>=0&&(r[i]||(r[i]=[]),r[i][s]=e(i,s))})}),r}function bu(t,e,r,n,i){B(t,s=>{s.forAll((o,a)=>{o>=0&&a>=0&&wOe(o,a,e,r,n,i)})})}function wOe(t,e,r,n,i,s){const o=i(t,e);let a=n;o.className&&(r==="vertical"?a=yOe(o.className,n):a=vOe(o.className,n)),s(t,e,"className",a)}function RK(t){return`<span class="selected"></span>${t}`}function hC(t,e){let r=!1;return Array.isArray(t)&&B(t,n=>(n.forAll((i,s)=>{if(i>=0&&s>=0&&e(i,s))return r=!0,!1}),r)),r}function HR(t,e){const r={top:0,left:0};if(e!==t.ownerDocument){const{frameElement:n}=e.defaultView,{top:i,left:s}=n.getBoundingClientRect();r.top=i,r.left=s}return r}const ut="---------";function bOe(){return{name:ut}}const ao="alignment";function SOe(){return{key:ao,name(){return this.getTranslatedPhrase(kH)},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const t=this.getSelectedRangeActive();return!t||t.isSingleHeader()?!0:!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:`${ao}:left`,name(){return this.getTranslatedPhrase(PH)},callback(){const t=this.getSelectedRange(),e=Gd(t,(i,s)=>this.getCellMeta(i,s).className),r="horizontal",n="htLeft";this.runHooks("beforeCellAlignment",e,t,r,n),bu(t,r,n,(i,s)=>this.getCellMeta(i,s),(i,s,o,a)=>this.setCellMeta(i,s,o,a)),this.render()},disabled:!1},{key:`${ao}:center`,name(){return this.getTranslatedPhrase(NH)},callback(){const t=this.getSelectedRange(),e=Gd(t,(i,s)=>this.getCellMeta(i,s).className),r="horizontal",n="htCenter";this.runHooks("beforeCellAlignment",e,t,r,n),bu(t,r,n,(i,s)=>this.getCellMeta(i,s),(i,s,o,a)=>this.setCellMeta(i,s,o,a)),this.render()},disabled:!1},{key:`${ao}:right`,name(){return this.getTranslatedPhrase(MH)},callback(){const t=this.getSelectedRange(),e=Gd(t,(i,s)=>this.getCellMeta(i,s).className),r="horizontal",n="htRight";this.runHooks("beforeCellAlignment",e,t,r,n),bu(t,r,n,(i,s)=>this.getCellMeta(i,s),(i,s,o,a)=>this.setCellMeta(i,s,o,a)),this.render()},disabled:!1},{key:`${ao}:justify`,name(){return this.getTranslatedPhrase(IH)},callback(){const t=this.getSelectedRange(),e=Gd(t,(i,s)=>this.getCellMeta(i,s).className),r="horizontal",n="htJustify";this.runHooks("beforeCellAlignment",e,t,r,n),bu(t,r,n,(i,s)=>this.getCellMeta(i,s),(i,s,o,a)=>this.setCellMeta(i,s,o,a)),this.render()},disabled:!1},{name:ut},{key:`${ao}:top`,name(){return this.getTranslatedPhrase(AH)},callback(){const t=this.getSelectedRange(),e=Gd(t,(i,s)=>this.getCellMeta(i,s).className),r="vertical",n="htTop";this.runHooks("beforeCellAlignment",e,t,r,n),bu(t,r,n,(i,s)=>this.getCellMeta(i,s),(i,s,o,a)=>this.setCellMeta(i,s,o,a)),this.render()},disabled:!1},{key:`${ao}:middle`,name(){return this.getTranslatedPhrase(OH)},callback(){const t=this.getSelectedRange(),e=Gd(t,(i,s)=>this.getCellMeta(i,s).className),r="vertical",n="htMiddle";this.runHooks("beforeCellAlignment",e,t,r,n),bu(t,r,n,(i,s)=>this.getCellMeta(i,s),(i,s,o,a)=>this.setCellMeta(i,s,o,a)),this.render()},disabled:!1},{key:`${ao}:bottom`,name(){return this.getTranslatedPhrase(HH)},callback(){const t=this.getSelectedRange(),e=Gd(t,(i,s)=>this.getCellMeta(i,s).className),r="vertical",n="htBottom";this.runHooks("beforeCellAlignment",e,t,r,n),bu(t,r,n,(i,s)=>this.getCellMeta(i,s),(i,s,o,a)=>this.setCellMeta(i,s,o,a)),this.render()},disabled:!1}]}}}const jR="clear_column";function xOe(){return{key:jR,name(){return this.getTranslatedPhrase(gH)},callback(t,e){const r=e[0].start.col,n=e[0].end.col;this.countRows()&&this.populateFromArray(0,r,[[null]],Math.max(e[0].start.row,e[0].end.row),n,"ContextMenu.clearColumn")},disabled(){const t=this.getSelectedRangeActive();if(!t||t.isSingleHeader()&&t.highlight.col<0||!this.selection.isSelectedByColumnHeader())return!0;let e=!1;return t.forAll((r,n)=>{if(r<0||n<0)return!0;const{readOnly:i}=this.getCellMeta(r,n);return i?!0:(e=!0,!1)}),!e}}}const Bw="col_left";function COe(){return{key:Bw,name(){return this.getTranslatedPhrase(lH)},callback(){const t=this.getSelectedRangeActive().getTopLeftCorner(),e=this.isRtl()?"insert_col_end":"insert_col_start";this.alter(e,t.col,1,"ContextMenu.columnLeft")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeActive();return!t||this.selection.isSelectedByRowHeader()||t.isSingleHeader()&&t.highlight.col<0||this.countSourceCols()>=this.getSettings().maxCols?!0:this.selection.isSelectedByCorner()?this.countCols()===0:!1},hidden(){return!this.getSettings().allowInsertColumn}}}const zw="col_right";function _Oe(){return{key:zw,name(){return this.getTranslatedPhrase(cH)},callback(){const t=this.getSelectedRangeActive().getTopRightCorner(),e=this.isRtl()?"insert_col_start":"insert_col_end";this.alter(e,t.col,1,"ContextMenu.columnRight")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeActive();return!!(!t||this.selection.isSelectedByRowHeader()||t.isSingleHeader()&&t.highlight.col<0||this.countSourceCols()>=this.getSettings().maxCols)},hidden(){return!this.getSettings().allowInsertColumn}}}const Uw="make_read_only";function ROe(){return{key:Uw,checkable:!0,ariaChecked(){return hC(this.getSelectedRange(),(e,r)=>this.getCellMeta(e,r).readOnly)},ariaLabel(){return this.getTranslatedPhrase(E1)},name(){let t=this.getTranslatedPhrase(E1);return hC(this.getSelectedRange(),(r,n)=>this.getCellMeta(r,n).readOnly)&&(t=RK(t)),t},callback(){const t=this.getSelectedRange(),e=hC(t,(r,n)=>this.getCellMeta(r,n).readOnly);B(t,r=>{r.forAll((n,i)=>{n>=0&&i>=0&&this.setCellMeta(n,i,"readOnly",!e)})}),this.render()},disabled(){const t=this.getSelectedRangeActive();return!!(!t||t.isSingleHeader()||this.selection.isSelectedByCorner()||this.countRows()===0||this.countCols()===0||!this.getSelectedRange()||this.getSelectedRange().length===0)}}}const DR="redo";function EOe(){return{key:DR,name(){return this.getTranslatedPhrase(fH)},callback(){this.getPlugin("undoRedo").redo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}const Yw="remove_col";function TOe(){return{key:Yw,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[,r,,n]=t[0];r-n!==0&&(e=1)}return this.getTranslatedPhrase(dH,e)},callback(){this.alter("remove_col",tEe(this),null,"ContextMenu.removeColumn")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeActive();if(!t||t.isSingleHeader()&&t.highlight.col<0)return!0;const e=this.countCols();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByRowHeader()||e===0},hidden(){return!this.getSettings().allowRemoveColumn}}}const $R="remove_row";function kOe(){return{key:$R,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[r,,n]=t[0];r-n!==0&&(e=1)}return this.getTranslatedPhrase(uH,e)},callback(){this.alter("remove_row",rEe(this),1,"ContextMenu.removeRow")},disabled(){const t=this.getSelectedRangeActive();if(!t||t.isSingleHeader()&&t.highlight.row<0)return!0;const e=this.countRows();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByColumnHeader()||e===0},hidden(){return!this.getSettings().allowRemoveRow}}}const LR="row_above";function POe(){return{key:LR,name(){return this.getTranslatedPhrase(oH)},callback(){const t=this.getSelectedRangeActive().getTopLeftCorner();this.alter("insert_row_above",t.row,1,"ContextMenu.rowAbove")},disabled(){const t=this.getSelectedRangeActive();return!t||this.selection.isSelectedByColumnHeader()||t.isSingleHeader()&&t.highlight.row<0||this.countSourceRows()>=this.getSettings().maxRows?!0:this.selection.isSelectedByCorner()?this.countRows()===0:!1},hidden(){return!this.getSettings().allowInsertRow}}}const FR="row_below";function NOe(){return{key:FR,name(){return this.getTranslatedPhrase(aH)},callback(){const t=this.getSelectedRangeActive().getBottomRightCorner();this.alter("insert_row_below",t.row,1,"ContextMenu.rowBelow")},disabled(){const t=this.getSelectedRangeActive();return!!(!t||this.selection.isSelectedByColumnHeader()||t.isSingleHeader()&&t.highlight.row<0||this.countSourceRows()>=this.getSettings().maxRows)},hidden(){return!this.getSettings().allowInsertRow}}}const zv="no_items";function MOe(){return{key:zv,name(){return this.getTranslatedPhrase(sH)},disabled:!0,isCommand:!1}}const VR="undo";function IOe(){return{key:VR,name(){return this.getTranslatedPhrase(hH)},callback(){this.getPlugin("undoRedo").undo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}const AOe=[LR,FR,Bw,zw,jR,$R,Yw,VR,DR,Uw,ao,ut,zv],OOe={[ut]:bOe,[zv]:MOe,[LR]:POe,[FR]:NOe,[Bw]:COe,[zw]:_Oe,[jR]:xOe,[$R]:kOe,[Yw]:TOe,[VR]:IOe,[DR]:EOe,[Uw]:ROe,[ao]:SOe};function EK(){const t={};return dt(OOe,(e,r)=>{t[r]=e()}),t}function HOe(t){return{key:"commentsAddEdit",name(){var e;const r=(e=this.getSelectedRangeActive())===null||e===void 0?void 0:e.highlight;return r!=null&&r.isCell()&&t.getCommentAtCell(r.row,r.col)?this.getTranslatedPhrase(RH):this.getTranslatedPhrase(_H)},callback(){const e=this.getSelectedRangeActive();t.setRange(e),t.show(),t.focusEditor()},disabled(){const e=this.getSelectedRangeActive();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function jOe(t){return{key:"commentsRemove",name(){return this.getTranslatedPhrase(EH)},callback(){this.getSelectedRangeActive().forAll((r,n)=>{r>=0&&n>=0&&t.removeCommentAtCell(r,n,!1)}),this.render()},disabled(){const e=this.getSelectedRangeActive();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function DOe(t){return{key:"commentsReadOnly",name(){const e=this.getTranslatedPhrase(TH);return hC(this.getSelectedRange(),(n,i)=>t.getCommentMeta(n,i,fC))?RK(e):e},callback(){this.getSelectedRangeActive().forAll((r,n)=>{if(r>=0&&n>=0){const i=!!t.getCommentMeta(r,n,fC);t.updateCommentMeta(r,n,{[fC]:!i})}})},disabled(){const e=this.getSelectedRangeActive();return!!(!e||e.highlight.isHeader()||!t.getCommentAtCell(e.highlight.row,e.highlight.col)||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function $Oe(t,e){TK(t,e),e.add(t)}function Kd(t,e,r){TK(t,e),e.set(t,r)}function TK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function LOe(t,e,r){return(e=FOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FOe(t){var e=VOe(t,"string");return typeof e=="symbol"?e:e+""}function VOe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yl(t,e,r){return t.set(Sn(t,e),r),r}function st(t,e){return t.get(Sn(t,e))}function Sn(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const U1="comments",WOe=60,sc="comment",xy="value",kK="style",fC="readOnly",$0=U1,II=`plugin:${U1}`;var Bt=new WeakMap,nl=new WeakMap,WR=new WeakMap,gC=new WeakMap,Y1=new WeakMap,AI=new WeakMap,G1=new WeakMap,On=new WeakSet;class BOe extends xt{constructor(){super(...arguments),$Oe(this,On),LOe(this,"range",{}),Kd(this,Bt,null),Kd(this,nl,null),Kd(this,WR,!1),Kd(this,gC,!1),Kd(this,Y1,!1),Kd(this,AI,null),Kd(this,G1,"")}static get PLUGIN_KEY(){return U1}static get PLUGIN_PRIORITY(){return WOe}static get DEFAULT_SETTINGS(){return{displayDelay:250}}isEnabled(){return!!this.hot.getSettings()[U1]}enablePlugin(){var e=this;this.enabled||(st(Bt,this)||(yl(Bt,this,new jh(this.hot.rootDocument,this.hot.isRtl(),this.hot.rootPortalElement)),st(Bt,this).addLocalHook("resize",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Sn(On,e,QOe).call(e,...n)}),this.hot.addHook("afterSetTheme",(r,n)=>{n||this.hide()})),st(nl,this)||yl(nl,this,new _K(this.getSetting("displayDelay"))),this.addHook("afterContextMenuDefaultOptions",r=>this.addToContextMenu(r)),this.addHook("afterRenderer",(r,n,i,s,o,a)=>Sn(On,this,KOe).call(this,r,a)),this.addHook("afterScroll",()=>Sn(On,this,JOe).call(this)),this.addHook("afterBeginEditing",()=>this.hide()),this.addHook("afterDocumentKeyDown",r=>Sn(On,this,bV).call(this,r)),this.addHook("beforeCompositionStart",r=>Sn(On,this,bV).call(this,r)),st(nl,this).addLocalHook("hide",()=>this.hide()),st(nl,this).addLocalHook("show",(r,n)=>this.showAtCell(r,n)),this.registerShortcuts(),this.registerListeners(),super.enablePlugin())}updatePlugin(){st(nl,this).updateDelay(this.getSetting("displayDelay")),super.updatePlugin()}disablePlugin(){this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager(),r=e.getContext("grid"),n=e.addContext(II);r.addShortcut({keys:[["Control","Alt","M"]],callback:()=>{const i=this.hot.getSelectedRangeActive();yl(gC,this,!0),this.hot.scrollToFocusedCell(()=>{this.setRange(i),this.show(),this.focusEditor(),e.setActiveContextName(II),this.hot._registerTimeout(()=>{yl(gC,this,!1)})})},stopPropagation:!0,runOnlyIf:()=>{var i;return(i=this.hot.getSelectedRangeActive())===null||i===void 0?void 0:i.highlight.isCell()},group:$0}),n.addShortcut({keys:[["Escape"]],callback:()=>{st(Bt,this).setValue(st(G1,this)),this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>st(Bt,this).isVisible()&&st(Bt,this).isFocused(),group:$0}),n.addShortcut({keys:[["Control/Meta","Enter"]],callback:()=>{this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>st(Bt,this).isVisible()&&st(Bt,this).isFocused(),group:$0}),n.addShortcut({keys:[["Shift","Tab"],["Tab"]],forwardToContext:e.getContext("grid"),callback:()=>{yl(Y1,this,!0),st(Bt,this).setValue(st(Bt,this).getValue()),this.setComment(),this.hide(),e.setActiveContextName("grid")},group:$0})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup($0)}registerListeners(){const{rootDocument:e}=this.hot,r=this.getEditorInputElement();this.eventManager.addEventListener(e,"mouseover",n=>Sn(On,this,YOe).call(this,n)),this.eventManager.addEventListener(e,"mousedown",n=>Sn(On,this,zOe).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>Sn(On,this,GOe).call(this)),this.eventManager.addEventListener(r,"focus",()=>Sn(On,this,XOe).call(this)),this.eventManager.addEventListener(r,"blur",()=>Sn(On,this,qOe).call(this)),this.eventManager.addEventListener(this.getEditorInputElement(),"mousedown",n=>Sn(On,this,UOe).call(this,n))}setRange(e){this.range=e}clearRange(){this.range={}}targetIsCellWithComment(e){const r=gf(e.target,"TD","TBODY");return!!(r&&Ve(r,"htCommentCell")&&gf(r,[this.hot.rootElement]))}targetIsCommentTextArea(e){return this.getEditorInputElement()===e.target}setComment(e){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const r=st(Bt,this).getValue();let n="";e!=null?n=e:r!=null&&(n=r);const{row:i,col:s}=Sn(On,this,Yg).call(this);this.updateCommentMeta(i,s,{[xy]:n}),this.hot.render()}setCommentAtCell(e,r,n){this.setRange({from:this.hot._createCellCoords(e,r)}),this.setComment(n)}removeComment(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const{row:r,col:n}=Sn(On,this,Yg).call(this);this.hot.setCellMeta(r,n,sc),e&&this.hot.render(),this.hide()}removeCommentAtCell(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.setRange({from:this.hot._createCellCoords(e,r)}),this.removeComment(n)}getComment(){const{row:e,col:r}=Sn(On,this,Yg).call(this);return this.getCommentMeta(e,r,xy)}getCommentAtCell(e,r){return this.getCommentMeta(e,r,xy)}show(){var e;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const{row:r,col:n}=Sn(On,this,Yg).call(this);if(r<0||r>this.hot.countSourceRows()-1||n<0||n>this.hot.countSourceCols()-1)return!1;const i=this.hot.getCellMeta(r,n);return st(nl,this).cancelHiding(),st(Bt,this).setValue((e=i[sc]?i[sc][xy]:null)!==null&&e!==void 0?e:""),st(Bt,this).show(),this.refreshEditor(!0),!0}showAtCell(e,r){return this.setRange({from:this.hot._createCellCoords(e,r)}),this.show()}hide(){st(Bt,this).hide()}refreshEditor(){if(!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(!this.range.from||!st(Bt,this).isVisible()))return;const{rowIndexMapper:r,columnIndexMapper:n}=this.hot,{row:i,col:s}=Sn(On,this,Yg).call(this);let o=r.getRenderableFromVisualIndex(i),a=n.getRenderableFromVisualIndex(s);const l=o===null;st(Bt,this).setPosition(0,0),o===null&&(o=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(i,-1))),a===null&&(a=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(s,-1)));const c=o===null,d=a===null;o=o??0,a=a??0;const{rootWindow:h,view:{_wt:f}}=this.hot,{wtTable:g}=f,m=f.getCell({row:o,col:a},!0),p=this.getCommentMeta(i,s,kK);p?st(Bt,this).setSize(p.width,p.height):st(Bt,this).resetSize();const y=d?0:g.getColumnWidth(a),S=l&&!c?fn(m):0,{left:w,top:b,width:C,height:N}=m.getBoundingClientRect(),{width:P,height:k}=st(Bt,this).getSize(),{innerWidth:R,innerHeight:I}=this.hot.rootWindow,O=this.hot.rootDocument.documentElement,Z=tn(this.hot.rootDocument),q=iY(this.hot.rootWindow)?Z:0,J=sY(this.hot.rootWindow)?Z:0;let re=w+h.scrollX+y,ue=b+h.scrollY+S;this.hot.isRtl()&&(re-=P+y),this.hot.isLtr()&&w+C+P>R-q?re=w+h.scrollX-P-1:this.hot.isRtl()&&re<-(O.scrollWidth-O.clientWidth)&&(re=w+h.scrollX+y+1),b+k>I-J&&(ue-=k-N+1),st(Bt,this).setPosition(re,ue),st(Bt,this).setReadOnlyState(this.getCommentMeta(i,s,fC)),st(Bt,this).observeSize()}focusEditor(){st(Bt,this).focus()}updateCommentMeta(e,r,n){const i=this.hot.getCellMeta(e,r)[sc];let s;i?(s=Di(i),mR(s,n)):s=n,this.hot.setCellMeta(e,r,sc,s)}getCommentMeta(e,r,n){const i=this.hot.getCellMeta(e,r);if(i[sc])return i[sc][n]}addToContextMenu(e){e.items.push({name:ut},HOe(this),jOe(this),DOe(this))}getEditorInputElement(){return st(Bt,this).getInputElement()}destroy(){var e,r;(e=st(Bt,this))===null||e===void 0||e.destroy(),(r=st(nl,this))===null||r===void 0||r.destroy(),super.destroy()}}function zOe(t){if(!(!this.hot.view||!this.hot.view._wt)&&!st(WR,this)&&!this.targetIsCommentTextArea(t)){const e=gf(t.target,"TD","TBODY");let r=null;e&&(r=this.hot.getCoords(e)),(!e||this.range.from&&r&&(this.range.from.row!==r.row||this.range.from.col!==r.col))&&this.hide()}}function UOe(t){t.stopPropagation()}function YOe(t){const{rootDocument:e}=this.hot;if(!(st(WR,this)||st(Bt,this).isFocused()||Ve(t.target,"wtBorder")||st(AI,this)===t.target||!st(Bt,this)))if(yl(AI,this,e.elementFromPoint(t.clientX,t.clientY)),this.targetIsCellWithComment(t)){const r=this.hot._createCellRange(this.hot.getCoords(t.target));st(nl,this).show(r)}else tf(t.target,e)&&!this.targetIsCommentTextArea(t)&&st(nl,this).hide()}function GOe(){yl(WR,this,!1)}function KOe(t,e){e[sc]&&e[sc][xy]&&oe(t,e.commentedCellClassName)}function qOe(){if(st(Y1,this)){yl(Y1,this,!1);return}yl(G1,this,""),this.hot.getShortcutManager().setActiveContextName("grid"),this.setComment()}function XOe(){yl(G1,this,this.getComment()),this.hot.listen(),this.hot.getShortcutManager().setActiveContextName(II)}function QOe(t,e){const{row:r,col:n}=Sn(On,this,Yg).call(this);this.updateCommentMeta(r,n,{[kK]:{width:t,height:e}})}function bV(t){st(Bt,this).isFocused()&&Eo(t)}function JOe(){st(gC,this)||this.hide()}function Yg(){return this.range instanceof Ip?this.range.highlight:this.hot._createCellCoords(this.range.from.row,this.range.from.col)}function eP(t,e,r){return(e=ZOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZOe(t){var e=e2e(t,"string");return typeof e=="symbol"?e:e+""}function e2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class PK{constructor(e){eP(this,"hot",void 0),eP(this,"commands",{}),eP(this,"commonCallback",null),this.hot=e}registerCommand(e,r){this.commands[e]=r}setCommonCallback(e){this.commonCallback=e}execute(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const s=e.split(":"),o=s[0],a=s.length===2?s[1]:null;let l=this.commands[o];if(!l)throw new Error(`Menu command '${o}' not exists.`);if(a&&l.submenu&&(l=t2e(a,l.submenu.items)),l.disabled===!0||typeof l.disabled=="function"&&l.disabled.call(this.hot)===!0||Ur(l,"submenu"))return;const c=[];typeof l.callback=="function"&&c.push(l.callback),typeof this.commonCallback=="function"&&c.push(this.commonCallback),n.unshift(s.join(":")),B(c,d=>d.apply(this.hot,n))}}function t2e(t,e){let r;return B(e,n=>{const i=n.key?n.key.split(":"):null;if(Array.isArray(i)&&i[1]===t)return r=n,!1}),r}function tP(t,e,r){return(e=r2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r2e(t){var e=n2e(t,"string");return typeof e=="symbol"?e:e+""}function n2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class NK{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;tP(this,"hot",void 0),tP(this,"predefinedItems",EK()),tP(this,"defaultOrderPattern",void 0),this.hot=e,this.defaultOrderPattern=r}setPredefinedItems(e){const r={};this.defaultOrderPattern.length=0,dt(e,(n,i)=>{let s="";n.name===ut?(r[ut]=n,s=ut):isNaN(parseInt(i,10))?(n.key=n.key===void 0?i:n.key,r[i]=n,s=n.key):(r[n.key]=n,s=n.key),this.defaultOrderPattern.push(s)}),this.predefinedItems=r}getItems(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return i2e(e,this.defaultOrderPattern,this.predefinedItems)}}function i2e(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=[];let i=t;return i&&i.items?i=i.items:Array.isArray(i)||(i=e),Le(i)?dt(i,(s,o)=>{let a=r[typeof s=="string"?s:o];a||(a=s),Le(s)?gn(a,s):typeof a=="string"&&(a={name:a}),a.key===void 0&&(a.key=o),n.push(a)}):B(i,(s,o)=>{let a=r[s];!a&&AOe.indexOf(s)>=0||(a||(a={name:s,key:`${o}`}),Le(s)&&gn(a,s),a.key===void 0&&(a.key=o),n.push(a))}),n}function iu(t,e,r){return(e=s2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s2e(t){var e=o2e(t,"string");return typeof e=="symbol"?e:e+""}function o2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class a2e{constructor(e,r){iu(this,"top",void 0),iu(this,"topRelative",void 0),iu(this,"left",void 0),iu(this,"leftRelative",void 0),iu(this,"scrollTop",void 0),iu(this,"scrollLeft",void 0),iu(this,"cellHeight",void 0),iu(this,"cellWidth",void 0);const n=r.scrollY,i=r.scrollX;let s,o,a,l,c,d;this.rootWindow=r,this.type=this.getSourceType(e),this.type==="literal"?(s=parseInt(e.top,10),a=parseInt(e.left,10),c=e.height||0,d=e.width||0,o=s,l=a,s+=n,a+=i):this.type==="event"&&(s=parseInt(e.pageY,10),a=parseInt(e.pageX,10),c=e.target.clientHeight,d=e.target.clientWidth,o=s-n,l=a-i),this.top=s,this.topRelative=o,this.left=a,this.leftRelative=l,this.scrollTop=n,this.scrollLeft=i,this.cellHeight=c,this.cellWidth=d}getSourceType(e){let r="literal";return e instanceof Event&&(r="event"),r}fitsAbove(e){return this.topRelative>=e.offsetHeight}fitsBelow(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+e.offsetHeight<=r}fitsOnRight(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.document.documentElement.clientWidth;return this.leftRelative+this.cellWidth+e.offsetWidth<=r}fitsOnLeft(e){return this.leftRelative>=e.offsetWidth}}function L0(t,e,r){l2e(t,e),e.set(t,r)}function l2e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ze(t,e){return t.get(MK(t,e))}function OS(t,e,r){return t.set(MK(t,e),r),r}function MK(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Si=new WeakMap,Ui=new WeakMap,Yi=new WeakMap,rP=new WeakMap,gg=new WeakMap;class c2e{constructor(e){L0(this,Si,void 0),L0(this,Ui,void 0),L0(this,Yi,void 0),L0(this,rP,!1),L0(this,gg,{above:0,below:0,left:0,right:0}),OS(rP,this,e)}setOffset(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ze(gg,this)[e]=r,this}setElement(e){return OS(Si,this,e),this}setParentElement(e){return OS(Ui,this,e),this}updatePosition(e){OS(Yi,this,new a2e(e,Ze(Si,this).ownerDocument.defaultView)),Ze(rP,this)?(Ze(Yi,this).fitsBelow(Ze(Si,this))?this.setPositionBelowCursor():Ze(Yi,this).fitsAbove(Ze(Si,this))?this.setPositionAboveCursor():this.setPositionBelowCursor(),this.updateHorizontalPosition()):(this.setPositionBelowCursor(),this.setPositionOnRightOfCursor())}updateHorizontalPosition(){Ze(Si,this).dir==="rtl"?Ze(Yi,this).fitsOnLeft(Ze(Si,this))?this.setPositionOnLeftOfCursor():this.setPositionOnRightOfCursor():Ze(Yi,this).fitsOnRight(Ze(Si,this))?this.setPositionOnRightOfCursor():this.setPositionOnLeftOfCursor()}setPositionAboveCursor(){let e=Ze(gg,this).above+Ze(Yi,this).top-Ze(Si,this).offsetHeight;if(Ze(Ui,this)){const n=Ze(Ui,this).ownerDocument.defaultView.getComputedStyle(Ze(Ui,this).querySelector(".ht_master")),i=Number.parseInt(n.paddingTop,10),s=Number.parseInt(n.borderTop,10);e=Ze(Yi,this).top+Ze(Yi,this).cellHeight-Ze(Si,this).scrollHeight+i+s}Ze(Si,this).style.top=`${e}px`}setPositionBelowCursor(){let e=Ze(gg,this).below+Ze(Yi,this).top+1;if(Ze(Ui,this)){const n=Ze(Ui,this).ownerDocument.defaultView.getComputedStyle(Ze(Ui,this).querySelector(".ht_master")),i=Number.parseInt(n.paddingTop,10),s=Number.parseInt(n.borderTop,10);e=Ze(Yi,this).top-i-s}Ze(Si,this).style.top=`${e}px`}setPositionOnRightOfCursor(){let e=Ze(Yi,this).left;if(Ze(Ui,this)){const r=Ze(Ui,this).ownerDocument.defaultView,n=Number.parseInt(r.getComputedStyle(Ze(Ui,this).querySelector(".htCore")).borderRightWidth,10);e+=Ze(Yi,this).cellWidth+n}else e+=Ze(gg,this).right;Ze(Si,this).style.left=`${e}px`}setPositionOnLeftOfCursor(){let e=Ze(gg,this).left+Ze(Yi,this).left-Ze(Si,this).offsetWidth;if(Ze(Ui,this)){const r=Ze(Ui,this).ownerDocument.defaultView,n=Number.parseInt(r.getComputedStyle(Ze(Ui,this).querySelector(".htCore")).borderLeftWidth,10);e-=n}Ze(Si,this).style.left=`${e}px`}}function IK(t){let{initialPage:e=-1,size:r=()=>0,onItemSelect:n=()=>{},onClear:i=()=>{}}=t;const s=new Set;let o=ft(e,-1,p()-1);function a(S,w){const b=p()-1;return S<0&&(S=b),S>b&&(S=0),s.has(S)?-1:(s.add(S),n(S,!1)===!1&&(S=a(w===1?++S:--S,w)),S)}function l(S){S>-1&&S<p()&&n(S,!0)!==!1&&(o=S)}function c(S){S>-1&&S<p()&&(o=S)}function d(){return o}function h(){p()>0&&(s.clear(),o=a(0,1))}function f(){p()>0&&(s.clear(),o=a(p()-1,-1))}function g(){p()>0&&(s.clear(),o=a(++o,1))}function m(){p()>0&&(s.clear(),o=a(--o,-1))}function p(){return Math.max(r(),0)}function y(){s.clear(),o=e,i()}return{setCurrentPage:l,setPageCursorAt:c,getCurrentPage:d,toFirstItem:h,toLastItem:f,toNextItem:g,toPreviousItem:m,getSize:p,clear:y}}function u2e(t){return Tt(t,e=>({start:e.getTopStartCorner(),end:e.getBottomEndCorner()}))}function OI(t){return Ur(t,"submenu")}function HI(t){return new RegExp(ut,"i").test(t.name)}function mC(t,e){return t.disabled===!0||typeof t.disabled=="function"&&t.disabled.call(e)===!0}function SV(t){return Ur(t,"disableSelection")}function d2e(t){return Ve(t,"htSeparator")}function h2e(t){return Ve(t,"htSubmenu")}function f2e(t){return Ve(t,"htDisabled")}function g2e(t){return Ve(t,"htSelectionDisabled")}function m2e(t,e){return!t.hidden||!(typeof t.hidden=="function"&&t.hidden.call(e))}function AK(t,e){const r=t.slice(0);for(let n=0;n<r.length&&r[n].name===e;)r.shift();return r}function p2e(t,e){let r=t.slice(0);return r.reverse(),r=AK(r,e),r.reverse(),r}function y2e(t){const e=[];return B(t,(r,n)=>{n>0?e[e.length-1].name!==r.name&&e.push(r):e.push(r)}),e}function v2e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ut,r=t.slice(0);return r=AK(r,e),r=p2e(r,e),r=y2e(r),r}function w2e(t){return t.checkable===!0}function b2e(t){return IK({size:()=>t.countRows(),onItemSelect(e,r){const n=t.getCell(e,0);if(!n||d2e(n)||f2e(n)||g2e(n))return!1;t.selectCell(e,0,...r?[e,0,!1,!1]:[])},onClear(){t.deselectCell()}})}function S2e(t){const{hot:e,hotMenu:r}=t;return[{keys:[["Control/Meta","A"]],forwardToContext:e.getShortcutManager().getContext("grid"),callback:()=>t.close(!0)},{keys:[["Tab"],["Shift","Tab"]],callback:(n,i)=>{const s=e.getSettings(),o=typeof s.tabMoves=="function"?s.tabMoves(n):s.tabMoves;i.includes("shift")?e.selection.transformStart(-o.row,-o.col):e.selection.transformStart(o.row,o.col),t.close(!0)}},{keys:[["Escape"]],callback:()=>t.close()},{keys:[["ArrowDown"]],callback:()=>t.getNavigator().toNextItem()},{keys:[["ArrowUp"]],callback:()=>t.getNavigator().toPreviousItem()},{keys:[[e.isRtl()?"ArrowLeft":"ArrowRight"]],callback:()=>{const n=r.getSelectedActive();if(n){const i=t.openSubMenu(n[0]);i&&i.getNavigator().toFirstItem()}}},{keys:[[e.isRtl()?"ArrowRight":"ArrowLeft"]],callback:()=>{r.getSelectedActive()&&t.isSubMenu()&&(t.close(),t.isSubMenu()&&t.parentMenu.hotMenu.listen())}},{keys:[["Control/Meta","ArrowUp"],["Home"]],callback:()=>t.getNavigator().toFirstItem()},{keys:[["Control/Meta","ArrowDown"],["End"]],callback:()=>t.getNavigator().toLastItem()},{keys:[["Enter"],["Space"]],callback:n=>{const i=r.getSelectedActive();i&&(r.getSourceDataAtRow(i[0]).submenu?t.openSubMenu(i[0]).getNavigator().toFirstItem():(t.executeCommand(n),t.close(!0)))}},{keys:[["PageUp"]],callback:()=>{r.getSelectedActive()?r.selection.transformStart(-r.countVisibleRows(),0):t.getNavigator().toFirstItem()}},{keys:[["PageDown"]],callback:()=>{r.getSelectedActive()?r.selection.transformStart(r.countVisibleRows(),0):t.getNavigator().toLastItem()}}]}const OK="menu",xV=OK;function x2e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=[];n(S2e(t)),e.forEach(c=>{let{shortcuts:d,contextName:h}=c;i(d,h)});function n(c,d){a(d).addShortcuts(c,{group:OK})}function i(c,d){const h=a(d);c.forEach(f=>{let{keys:g}=f;g.forEach(m=>h.removeShortcutsByKeys(m))}),r.push({shortcuts:c,contextName:d}),n(c,d)}function s(){return[...r]}function o(c){return c?`${xV}:${c}`:xV}function a(c){var d;const h=t.hotMenu.getShortcutManager(),f=o(c);return(d=h.getContext(f))!==null&&d!==void 0?d:h.addContext(f)}function l(c){t.hotMenu.getShortcutManager().setActiveContextName(o(c))}return{addCustomShortcuts:i,getCustomShortcuts:s,getContext:a,listen:l}}function C2e(t){return(e,r,n,i,s,o)=>{const a=e.getSourceDataAtRow(n),l=t.rootDocument.createElement("div"),c=typeof o=="function"?o.call(t):o,d=typeof a.ariaLabel=="function"?a.ariaLabel.call(t):a.ariaLabel,h=typeof a.ariaChecked=="function"?a.ariaChecked.call(t):a.ariaChecked;if(Ic(r),oe(l,"htItemWrapper"),t.getSettings().ariaTags){const f=!mC(a,t)&&!SV(a)&&!HI(a);Ee(r,[...w2e(a)?[Xve(),Hs(d),V9(h)]:[qve(),Hs(c)],...f?[ba(-1)]:[],...mC(a,t)?[yy()]:[],...OI(a)?[So(!1)]:[]])}r.className="",r.appendChild(l),HI(a)?oe(r,"htSeparator"):typeof a.renderer=="function"?(oe(r,"htCustomMenuRenderer"),r.appendChild(a.renderer(e,l,n,i,s,c))):$f(l,c),mC(a,t)?oe(r,"htDisabled"):SV(a)?oe(r,"htSelectionDisabled"):OI(a)&&oe(r,"htSubmenu")}}function nP(t,e,r){_2e(t,e),e.set(t,r)}function _2e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Fa(t,e,r){return(e=R2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R2e(t){var e=E2e(t,"string");return typeof e=="symbol"?e:e+""}function E2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iP(t,e,r){return t.set(HK(t,e),r),r}function su(t,e){return t.get(HK(t,e))}function HK(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const CV=215;var mg=new WeakMap,HS=new WeakMap,jS=new WeakMap;class $p{get tableBorderWidth(){return su(jS,this)===void 0&&this.hotMenu&&iP(jS,this,parseInt(this.hotMenu.rootWindow.getComputedStyle(this.hotMenu.view._wt.wtTable.TABLE).borderWidth,10)),su(jS,this)}constructor(e,r){var n=this;Fa(this,"hot",void 0),Fa(this,"options",void 0),Fa(this,"eventManager",new Sa(this)),Fa(this,"container",void 0),Fa(this,"positioner",void 0),Fa(this,"hotMenu",null),Fa(this,"hotSubMenus",{}),Fa(this,"parentMenu",void 0),Fa(this,"menuItems",null),Fa(this,"origOutsideClickDeselects",null),nP(this,mg,void 0),nP(this,HS,void 0),nP(this,jS,void 0),this.hot=e,this.options=r||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:CV,container:this.hot.rootPortalElement},this.container=this.createContainer(this.options.name),this.positioner=new c2e(this.options.keepInViewport),this.parentMenu=this.options.parent||null,this.registerEvents(),this.isSubMenu()&&this.addLocalHook("afterSelectionChange",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n.parentMenu.runLocalHooks("afterSelectionChange",...s)}),this.hot.addHook("afterSetTheme",(i,s)=>{this.options.container!==this.hot.rootPortalElement&&(Re(this.options.container,/ht-theme-.*/g),oe(this.options.container,i)),s||this.close()})}registerEvents(){let e=this.hot.rootWindow;for(;e;)this.eventManager.addEventListener(e.document,"mousedown",r=>this.onDocumentMouseDown(r)),this.eventManager.addEventListener(e.document,"touchstart",r=>this.onDocumentMouseDown(r)),this.eventManager.addEventListener(e.document,"contextmenu",r=>this.onDocumentContextMenu(r)),e=hd(e)}setMenuItems(e){this.menuItems=e}getNavigator(){return su(mg,this)}getKeyboardShortcutsCtrl(){return su(HS,this)}getSelectedItem(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedActive()[0]):null}hasSelectedItem(){return Array.isArray(this.hotMenu.getSelectedActive())}isSubMenu(){return this.parentMenu!==null}open(){this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";const e=bR(a=>this.openSubMenu(a),300),r=this.options.minWidth||CV;let n=!1,i=ff(this.menuItems,a=>(a.key===zv&&(n=!0),m2e(a,this.hot)));if(i.length<1&&!n)i.push(EK()[zv]);else if(i.length===0)return;i=v2e(i,ut);let s=!1;const o={data:i,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth(a){return xe(a)&&a<r?r:a},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,hiddenRows:!0,maxCols:1,columns:[{data:"name",renderer:C2e(this.hot)}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",ariaTags:!1,themeName:this.hot.getCurrentThemeName(),beforeRefreshDimensions:()=>!1,beforeOnCellMouseOver:(a,l)=>{this.hotMenu.stylesHandler.isClassicTheme()?su(mg,this).setCurrentPage(l.row):su(mg,this).setPageCursorAt(l.row)},afterOnCellMouseOver:(a,l)=>{this.isAllSubMenusClosed()?e(l.row):this.openSubMenu(l.row)},afterOnCellContextMenu:a=>{a.preventDefault(),sI()&&s&&this.hasSelectedItem()&&this.close(!0)},afterSelection:(a,l,c,d,h)=>{this.hotMenu.view.isMouseDown()&&(h.value=!0),this.runLocalHooks("afterSelectionChange",this.getSelectedItem())},beforeOnCellMouseUp:a=>{this.hasSelectedItem()&&(s=!this.isCommandPassive(this.getSelectedItem()),this.executeCommand(a))},afterOnCellMouseUp:a=>{(!sI()||!yf(a))&&s&&this.hasSelectedItem()&&(bl()||R2()?this.hot._registerTimeout(()=>this.close(!0),325):this.close(!0))},afterUnlisten:()=>{!this.hasSelectedItem()&&this.isOpened()&&this.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new this.hot.constructor(this.container,o),this.hotMenu.addHook("afterInit",()=>this.onAfterInit()),this.hotMenu.init(),iP(mg,this,b2e(this.hotMenu)),iP(HS,this,x2e(this)),su(HS,this).listen(),this.focus(),this.isSubMenu()&&this.addLocalHook("afterOpen",()=>this.parentMenu.runLocalHooks("afterSubmenuOpen",this)),this.runLocalHooks("afterOpen",this)}close(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isOpened()){if(e&&this.isSubMenu())this.parentMenu.close();else if(su(mg,this).clear(),this.closeAllSubMenus(),this.container.style.display="none",this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.isSubMenu()){if(this.hot.getSettings().ariaTags){const r=this.parentMenu.hotMenu.getSelectedActive();if(r){const n=this.parentMenu.hotMenu.getCell(r[0],0);Ee(n,[So(!1)])}}this.parentMenu.hotMenu.listen()}}}openSubMenu(e){if(!this.hotMenu)return!1;const r=this.hotMenu.getCell(e,0);if(this.closeAllSubMenus(),!r||!h2e(r))return!1;const n=this.hotMenu.getSourceDataAtRow(e),i=new $p(this.hot,{parent:this,name:n.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return i.setMenuItems(n.submenu.items),i.open(),i.setPosition(r.getBoundingClientRect()),this.hotSubMenus[n.key]=i,this.hot.getSettings().ariaTags&&Ee(r,[So(!0)]),i}closeSubMenu(e){const r=this.hotMenu.getSourceDataAtRow(e),n=this.hotSubMenus[r.key];if(n){n.destroy(),delete this.hotSubMenus[r.key];const i=this.hotMenu.getCell(e,0);this.hot.getSettings().ariaTags&&Ee(i,[So(!1)])}}closeAllSubMenus(){B(this.hotMenu.getData(),(e,r)=>this.closeSubMenu(r))}isAllSubMenusClosed(){return Object.keys(this.hotSubMenus).length===0}focus(){this.isOpened()&&(this.hotMenu.rootElement.focus({preventScroll:!0}),this.getKeyboardShortcutsCtrl().listen(),this.hotMenu.listen())}destroy(){const e=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),e&&e.removeChild(this.container)}isOpened(){return this.hotMenu!==null}executeCommand(e){if(!this.isOpened()||!this.hasSelectedItem())return;const r=this.getSelectedItem();if(this.runLocalHooks("select",r,e),this.isCommandPassive(r))return;const n=this.hot.getSelectedRange(),i=n?u2e(n):[];this.runLocalHooks("executeCommand",r.key,i,e),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",r.key,i,e)}isCommandPassive(e){return e.isCommand===!1||HI(e)||mC(e,this.hot)||OI(e)}setOffset(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.positioner.setOffset(e,r)}setPosition(e){this.isSubMenu()&&this.positioner.setParentElement(this.parentMenu.container),this.positioner.setElement(this.container).updatePosition(e)}updateMenuDimensions(){const{wtTable:e}=this.hotMenu.view._wt,r=this.hotMenu.getSettings().data,n=e.hider.style,i=e.holder.style,s=parseInt(n.width,10),o=gs(r,(a,l,c)=>{const h=this.hotMenu.getCell(c,0)?fn(this.hotMenu.getCell(c,0)):0;return a+(l.name===ut?1:h)},0);this.hotMenu.stylesHandler.isClassicTheme()?(i.width=`${s+3}px`,i.height=`${o+3}px`):(i.width=`${s}px`,i.height=`${o}px`),n.height=i.height}createContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const r=this.options.container.ownerDocument;let n=e,i;return n&&(It(n)&&(n=n.call(this.hot),n===null||cr(n)?n="":n=n.toString()),n=n.replace(/[^A-Za-z0-9]/g,"_"),n=`${this.options.className}Sub_${n}`,i=r.querySelector(`.${this.options.className}.${n}`)),i||(i=r.createElement("div"),oe(i,`htMenu handsontable ${this.options.className}`),n&&oe(i,n),this.options.container.appendChild(i)),i}onAfterInit(){this.updateMenuDimensions(),this.hot.getSettings().ariaTags&&Ee(this.hotMenu.rootElement,[Kve(),ba(-1)])}onDocumentMouseDown(e){this.isOpened()&&(this.options.standalone&&this.hotMenu&&!tf(e.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!tf(e.target,".htMenu")&&this.close(!0))}onDocumentContextMenu(e){this.isOpened()&&Ve(e.target,"htCore")&&tf(e.target,this.hotMenu.rootElement)&&e.preventDefault()}}Dt($p,Tn);function T2e(t,e){k2e(t,e),e.add(t)}function k2e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sP(t,e,r){return(e=P2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P2e(t){var e=N2e(t,"string");return typeof e=="symbol"?e:e+""}function N2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DS(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const Cy="contextMenu",M2e=70,_V=Cy;_e.getSingleton().register("afterContextMenuDefaultOptions");_e.getSingleton().register("beforeContextMenuShow");_e.getSingleton().register("afterContextMenuShow");_e.getSingleton().register("afterContextMenuHide");_e.getSingleton().register("afterContextMenuExecute");var F0=new WeakSet;class BR extends xt{constructor(){super(...arguments),T2e(this,F0),sP(this,"commandExecutor",new PK(this.hot)),sP(this,"itemsFactory",null),sP(this,"menu",null)}static get PLUGIN_KEY(){return Cy}static get PLUGIN_PRIORITY(){return M2e}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[LR,FR,ut,Bw,zw,ut,$R,Yw,ut,VR,DR,ut,Uw,ut,ao]}isEnabled(){return!!this.hot.getSettings()[Cy]}enablePlugin(){var e=this;if(this.enabled)return;const r=this.hot.getSettings()[Cy];typeof r.callback=="function"&&this.commandExecutor.setCommonCallback(r.callback),this.menu=new $p(this.hot,{className:"htContextMenu",keepInViewport:!0,container:r.uiContainer||this.hot.rootPortalElement}),this.menu.addLocalHook("beforeOpen",()=>DS(F0,this,A2e).call(this)),this.menu.addLocalHook("afterOpen",()=>DS(F0,this,O2e).call(this)),this.menu.addLocalHook("afterClose",()=>DS(F0,this,H2e).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e.executeCommand.call(e,...i)}),this.addHook("afterOnCellContextMenu",n=>DS(F0,this,I2e).call(this,n)),this.addHook("beforeDialogShow",()=>this.close()),this.registerShortcuts(),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control/Meta","Shift","Backslash"],["Shift","F10"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeActive();this.hot.scrollToFocusedCell();const r=this.hot.getCell(e.row,e.col,!0).getBoundingClientRect(),n=HR(this.menu.container,this.hot.rootDocument);this.open({left:r.left+n.left,top:r.top+n.top-1+r.height},{left:r.width,above:-r.height}),this.menu.getNavigator().toFirstItem()},runOnlyIf:()=>{var e;const r=(e=this.hot.getSelectedRangeActive())===null||e===void 0?void 0:e.highlight;return r&&this.hot.selection.isCellVisible(r)&&!this.menu.isOpened()},group:_V})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(_V)}open(e){var r;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(r=this.menu)!==null&&r!==void 0&&r.isOpened()||(this.prepareMenuItems(),this.menu.open(),dt(n,(i,s)=>{this.menu.setOffset(s,i)}),this.menu.setPosition(e))}close(){var e;(e=this.menu)===null||e===void 0||e.close(),this.itemsFactory=null}executeCommand(e){this.itemsFactory===null&&this.prepareMenuItems();for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.commandExecutor.execute(e,...n)}prepareMenuItems(){this.itemsFactory=new NK(this.hot,BR.DEFAULT_ITEMS);const e=this.hot.getSettings()[Cy],r={items:this.itemsFactory.getItems(e)};this.hot.runHooks("afterContextMenuDefaultOptions",r),this.itemsFactory.setPredefinedItems(r.items);const n=this.itemsFactory.getItems(e);this.hot.runHooks("beforeContextMenuSetItems",n),this.menu.setMenuItems(n),B(n,i=>this.commandExecutor.registerCommand(i.key,i))}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function I2e(t){const e=this.hot.getSettings(),r=e.rowHeaders,n=e.colHeaders;function i(a){return a.nodeName==="TD"||a.parentNode.nodeName==="TD"}const s=t.target;if(this.close(),Ve(s,"handsontableInput")||(t.preventDefault(),t.stopPropagation(),!(r||n)&&!i(s)&&!(Ve(s,"current")&&Ve(s,"wtBorder"))))return;const o=HR(this.menu.container,this.hot.rootDocument);this.open({top:t.clientY+o.top,left:t.clientX+o.left})}function A2e(){this.hot.runHooks("beforeContextMenuShow",this)}function O2e(){this.hot.runHooks("afterContextMenuShow",this)}function H2e(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}BR.SEPARATOR={name:ut};function j2e(t){return{key:"copy",name(){return this.getTranslatedPhrase(mH)},callback(){t.copyCellsOnly()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const e=this.getSelectedRangeActive();if(!e||e.isSingleHeader())return!0;const r=this.getSelected();return!r||r.length>1},hidden:!1}}function D2e(t){return{key:"copy_column_headers_only",name(){const e=this.getSelectedRangeActive(),r=e?ft(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(vH,r)},callback(){t.copyColumnHeadersOnly()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeActive();if(!e||e.isSingleHeader())return!0;const r=this.getSelected();return!r||r.length>1},hidden:!1}}function $2e(t){return{key:"copy_with_column_group_headers",name(){const e=this.getSelectedRangeActive(),r=e?ft(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(yH,r)},callback(){t.copyWithAllColumnHeaders()},disabled(){if(!this.hasColHeaders()||!this.getSettings().nestedHeaders)return!0;const e=this.getSelectedRangeActive();if(!e||e.isSingleHeader())return!0;const r=this.getSelected();return!r||r.length>1},hidden:!1}}function L2e(t){return{key:"copy_with_column_headers",name(){const e=this.getSelectedRangeActive(),r=e?ft(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(pH,r)},callback(){t.copyWithColumnHeaders()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeActive();if(!e||e.isSingleHeader())return!0;const r=this.getSelected();return!r||r.length>1},hidden:!1}}function F2e(t){return{key:"cut",name(){return this.getTranslatedPhrase(wH)},callback(){t.cut()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const e=this.getSelectedRangeActive();if(!e||e.isSingleHeader())return!0;const r=this.getSelected();return!r||r.length>1},hidden:!1}}class V2e{constructor(){this.data={}}setData(e,r){this.data[e]=r}getData(e){return this.data[e]||void 0}}class W2e{constructor(){this.clipboardData=new V2e}preventDefault(){}composedPath(){return[]}}function B2e(t,e){jK(t,e),e.add(t)}function pg(t,e,r){jK(t,e),e.set(t,r)}function jK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _i(t,e){return t.get(fm(t,e))}function yg(t,e,r){return t.set(fm(t,e),r),r}function fm(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var ou=new WeakMap,oP=new WeakMap,V0=new WeakMap,jI=new WeakMap,DI=new WeakMap,W0=new WeakMap,B0=new WeakSet;class z2e{constructor(e){let{countRows:r,countColumns:n,rowsLimit:i,columnsLimit:s,countColumnHeaders:o}=e;B2e(this,B0),pg(this,ou,void 0),pg(this,oP,void 0),pg(this,V0,void 0),pg(this,jI,void 0),pg(this,DI,void 0),pg(this,W0,void 0),yg(oP,this,r),yg(V0,this,n),yg(jI,this,i),yg(DI,this,s),yg(W0,this,o)}setSelectedRange(e){yg(ou,this,e)}getCellsRange(){if(_i(oP,this).call(this)===0||_i(V0,this).call(this)===0)return null;const{row:e,col:r}=_i(ou,this).getTopStartCorner(),{row:n,col:i}=_i(ou,this).getBottomEndCorner(),s=fm(B0,this,U2e).call(this,e,n),o=fm(B0,this,aP).call(this,r,i);return{isRangeTrimmed:n!==s||i!==o,startRow:e,startCol:r,endRow:s,endCol:o}}getMostBottomColumnHeadersRange(){if(_i(V0,this).call(this)===0||_i(W0,this).call(this)===0)return null;const{col:e}=_i(ou,this).getTopStartCorner(),{col:r}=_i(ou,this).getBottomEndCorner(),n=fm(B0,this,aP).call(this,e,r);return{isRangeTrimmed:r!==n,startRow:-1,startCol:e,endRow:-1,endCol:n}}getAllColumnHeadersRange(){if(_i(V0,this).call(this)===0||_i(W0,this).call(this)===0)return null;const{col:e}=_i(ou,this).getTopStartCorner(),{col:r}=_i(ou,this).getBottomEndCorner(),n=fm(B0,this,aP).call(this,e,r);return{isRangeTrimmed:r!==n,startRow:-_i(W0,this).call(this),startCol:e,endRow:-1,endCol:n}}}function aP(t,e){return Math.min(e,Math.max(t+_i(DI,this).call(this)-1,t))}function U2e(t,e){return Math.min(e,Math.max(t+_i(jI,this).call(this)-1,t))}function DK(t){const e=[],r=[];return B(t,n=>{const i=Math.min(n.startRow,n.endRow),s=Math.max(n.startRow,n.endRow);Ie(i,s,l=>{e.indexOf(l)===-1&&e.push(l)});const o=Math.min(n.startCol,n.endCol),a=Math.max(n.startCol,n.endCol);Ie(o,a,l=>{r.indexOf(l)===-1&&r.push(l)})}),{rows:e,columns:r}}function Y2e(t,e){$K(t,e),e.add(t)}function au(t,e,r){$K(t,e),e.set(t,r)}function $K(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function z0(t,e,r){return(e=G2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G2e(t){var e=K2e(t,"string");return typeof e=="symbol"?e:e+""}function K2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zi(t,e){return t.get(di(t,e))}function Uo(t,e,r){return t.set(di(t,e),r),r}function di(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}_e.getSingleton().register("afterCopyLimit");_e.getSingleton().register("modifyCopyableRange");_e.getSingleton().register("beforeCut");_e.getSingleton().register("afterCut");_e.getSingleton().register("beforePaste");_e.getSingleton().register("afterPaste");_e.getSingleton().register("beforeCopy");_e.getSingleton().register("afterCopy");const lP="copyPaste",q2e=80,X2e=["fragmentSelection"],LK="application/ht-source-data-json-html",RV=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join("");var $I=new WeakMap,LI=new WeakMap,FI=new WeakMap,vg=new WeakMap,$S=new WeakMap,LS=new WeakMap,wg=new WeakMap,K1=new WeakMap,Ri=new WeakSet;class Q2e extends xt{constructor(){super(...arguments),Y2e(this,Ri),z0(this,"columnsLimit",1/0),z0(this,"rowsLimit",1/0),z0(this,"pasteMode","overwrite"),z0(this,"uiContainer",this.hot.rootDocument.body),au(this,$I,!1),au(this,LI,!1),au(this,FI,!1),au(this,vg,"cells-only"),au(this,$S,!1),au(this,LS,!1),au(this,wg,new z2e({countRows:()=>this.hot.countRows(),countColumns:()=>this.hot.countCols(),rowsLimit:()=>this.rowsLimit,columnsLimit:()=>this.columnsLimit,countColumnHeaders:()=>this.hot.view.getColumnHeadersCount()})),au(this,K1,!1),z0(this,"copyableRanges",[])}static get PLUGIN_KEY(){return lP}static get SETTING_KEYS(){return[lP,...X2e]}static get PLUGIN_PRIORITY(){return q2e}static get DEFAULT_SETTINGS(){return{pasteMode:"overwrite",rowsLimit:1/0,columnsLimit:1/0,copyColumnHeaders:!1,copyColumnGroupHeaders:!1,copyColumnHeadersOnly:!1}}isEnabled(){return!!this.hot.getSettings()[lP]}enablePlugin(){var e,r,n=this;this.enabled||(this.pasteMode=(e=this.getSetting("pasteMode"))!==null&&e!==void 0?e:this.pasteMode,this.rowsLimit=isNaN(this.getSetting("rowsLimit"))?this.rowsLimit:this.getSetting("rowsLimit"),this.columnsLimit=isNaN(this.getSetting("columnsLimit"))?this.columnsLimit:this.getSetting("columnsLimit"),Uo($I,this,this.getSetting("copyColumnHeaders")),Uo(LI,this,this.getSetting("copyColumnGroupHeaders")),Uo(FI,this,this.getSetting("copyColumnHeadersOnly")),this.uiContainer=(r=this.getSetting("uiContainer"))!==null&&r!==void 0?r:this.uiContainer,this.addHook("afterContextMenuDefaultOptions",i=>di(Ri,this,eHe).call(this,i)),this.addHook("afterSelection",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return di(Ri,n,tHe).call(n,...s)}),this.addHook("afterSelectionEnd",()=>di(Ri,this,rHe).call(this)),this.eventManager.addEventListener(this.hot.rootDocument,"copy",function(){return n.onCopy(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"cut",function(){return n.onCut(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"paste",function(){return n.onPaste(...arguments)}),yR()&&(this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseenter",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return di(Ri,n,nHe).call(n,...s)}),this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseleave",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return di(Ri,n,iHe).call(n,...s)}),this.addHook("afterSelection",()=>di(Ri,this,sHe).call(this))),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin()}copy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cells-only";Uo(vg,this,e),Uo($S,this,!0),di(Ri,this,EV).call(this,"copy")}copyCellsOnly(){this.copy("cells-only")}copyColumnHeadersOnly(){this.copy("column-headers-only")}copyWithAllColumnHeaders(){this.copy("with-column-group-headers")}copyWithColumnHeaders(){this.copy("with-column-headers")}cut(){Uo(LS,this,!0),di(Ri,this,EV).call(this,"cut")}getRangedCopyableData(e){return P1(this.getRangedData(e))}getRangedData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=[],{rows:i,columns:s}=DK(e);return B(i,o=>{const a=[];B(s,l=>{if(o<0)a.push(this.hot.getColHeader(l,o));else{let c=r?this.hot.getCopyableSourceData(o,l):this.hot.getCopyableData(o,l);r&&Le(c)&&(c=JSON.stringify(c)),a.push(c)}}),n.push(a)}),n}paste(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;if(!e&&!r)return;const n=new W2e;e&&n.clipboardData.setData("text/plain",e),r&&n.clipboardData.setData("text/html",r),this.onPaste(n)}setCopyableText(){const e=this.hot.getSelectedRangeActive();if(!e)return;if(e.isSingleHeader()){this.copyableRanges=[];return}Zi(wg,this).setSelectedRange(e);const r=new Map([["headers",null],["cells",null]]);Zi(vg,this)==="column-headers-only"?r.set("headers",Zi(wg,this).getMostBottomColumnHeadersRange()):(Zi(vg,this)==="with-column-headers"?r.set("headers",Zi(wg,this).getMostBottomColumnHeadersRange()):Zi(vg,this)==="with-column-group-headers"&&r.set("headers",Zi(wg,this).getAllColumnHeadersRange()),r.set("cells",Zi(wg,this).getCellsRange())),this.copyableRanges=Array.from(r.values()).filter(i=>i!==null).map(i=>{let{startRow:s,startCol:o,endRow:a,endCol:l}=i;return{startRow:s,startCol:o,endRow:a,endCol:l}}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges);const n=r.get("cells");if(n!==null&&n.isRangeTrimmed){const{startRow:i,startCol:s,endRow:o,endCol:a}=n;this.hot.runHooks("afterCopyLimit",o-i+1,a-s+1,this.rowsLimit,this.columnsLimit)}}isEditorOpened(){var e;return(e=this.hot.getActiveEditor())===null||e===void 0?void 0:e.isOpened()}populateValues(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hot.getSelectedRangeActive();if(!e.length)return[null,null,null,null];const i=e.length,s=e[0].length,o=[],{row:a,col:l}=n.getTopStartCorner(),{row:c,col:d}=n.getBottomEndCorner();let h=a,f=l,g=a,m=l;for(;o.length<i||h<=c;){const{skipRowOnPaste:y,visualRow:S}=this.hot.getCellMeta(h,l);if(h=S+1,y===!0)continue;g=S,f=l;const w=[],b=o.length%i;for(;w.length<s||f<=d;){var p;const{skipColumnOnPaste:C,visualCol:N}=this.hot.getCellMeta(S,f),P=this.hot.getSourceDataAtCell(S,f),k=w.length%s;if(f=N+1,C===!0)continue;m=N;const R=r==null||(p=r[b])===null||p===void 0?void 0:p[k];let I=e[b][k];if(r&&Wve(R)){const O=JSON.parse(R);(Le(P)||P===null)&&(I=O)}w.push(I)}o.push(w)}return Uo(K1,this,!0),this.hot.populateFromArray(a,l,o,void 0,void 0,"CopyPaste.paste",this.pasteMode),[a,l,g,m]}onCopy(e){const r=e.composedPath()[0],n=this.hot.getFocusManager().getRefocusElement(),i=r==null?void 0:r.hasAttribute("data-hot-input");if(!this.hot.isListening()&&!Zi($S,this)||this.isEditorOpened()||Rc(r)&&(i&&r!==n||!i&&r!==this.hot.rootDocument.body&&!sC(r,this.hot.rootElement)))return;e.preventDefault(),this.setCopyableText(),Uo($S,this,!1);const s=this.getRangedData(this.copyableRanges),o=this.getRangedData(this.copyableRanges,!0),a=di(Ri,this,J2e).call(this,this.copyableRanges);!!this.hot.runHooks("beforeCopy",s,this.copyableRanges,a)&&(di(Ri,this,TV).call(this,e,s,o),this.hot.runHooks("afterCopy",s,this.copyableRanges,a)),Uo(vg,this,"cells-only")}onCut(e){const r=e.composedPath()[0],n=this.hot.getFocusManager().getRefocusElement(),i=r==null?void 0:r.hasAttribute("data-hot-input");if(!this.hot.isListening()&&!Zi(LS,this)||this.isEditorOpened()||Rc(r)&&(i&&r!==n||!i&&r!==this.hot.rootDocument.body&&!sC(r,this.hot.rootElement)))return;e.preventDefault(),this.setCopyableText(),Uo(LS,this,!1);const s=this.getRangedData(this.copyableRanges),o=this.getRangedData(this.copyableRanges,!0);!!this.hot.runHooks("beforeCut",s,this.copyableRanges)&&(di(Ri,this,TV).call(this,e,s,o),this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",s,this.copyableRanges))}onPaste(e){const r=e.composedPath()[0],n=this.hot.getFocusManager().getRefocusElement(),i=r==null?void 0:r.hasAttribute("data-hot-input");if(!this.hot.isListening()||this.isEditorOpened()||!this.hot.getSelected()||Rc(r)&&(i&&r!==n||!i&&r!==this.hot.rootDocument.body&&!sC(r,this.hot.rootElement)))return;e.preventDefault();let s,o;if(e&&typeof e.clipboardData<"u"){const h=e.clipboardData.getData(LK);h&&(o=v3(h,this.hot.rootDocument).data);const f=b2(e.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});f&&/(<table)|(<TABLE)/g.test(f)?s=v3(f,this.hot.rootDocument).data:s=e.clipboardData.getData("text/plain")}else typeof ClipboardEvent>"u"&&typeof this.hot.rootWindow.clipboardData<"u"&&(s=this.hot.rootWindow.clipboardData.getData("Text"));if(typeof s=="string"&&(s=aEe(s)),s===void 0||s&&s.length===0||this.hot.runHooks("beforePaste",s,this.copyableRanges)===!1)return;const[a,l,c,d]=this.populateValues(s,o);a!==null&&l!==null&&this.hot.selectCell(a,l,Math.min(this.hot.countRows()-1,c),Math.min(this.hot.countCols()-1,d)),this.hot.runHooks("afterPaste",s,this.copyableRanges)}destroy(){super.destroy()}}function EV(t){if(yR()){const e=this.hot.getSelectedRangeActive();if(e){const{row:r,col:n}=e.highlight,i=this.hot.getCell(r,n,!0);i&&cbe(i,()=>{this.hot.rootDocument.execCommand(t)})}}else this.hot.rootDocument.execCommand(t)}function J2e(t){const{rows:e}=DK(t);let r=0;for(let n=0;n<e.length&&!(e[n]>=0);n++)r+=1;return{columnHeadersCount:r}}function Z2e(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeActive();if(t){const{row:e,col:r}=t.highlight,n=this.hot.getCell(e,r,!0);n&&lY(n)}}}function FK(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeActive();if(t){const{row:e,col:r}=t.highlight,n=this.hot.getCell(e,r,!0);n!=null&&n.hasAttribute("contenteditable")&&cY(n)}}}function TV(t,e,r){const n=P1(e);if(t&&t.clipboardData){const i=y3(e),s=y3(r);t.clipboardData.setData("text/plain",n),t.clipboardData.setData("text/html",[RV,i].join("")),t.clipboardData.setData(LK,[RV,s].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",n)}function eHe(t){t.items.push({name:"---------"},j2e(this)),Zi($I,this)&&t.items.push(L2e(this)),Zi(LI,this)&&t.items.push($2e(this)),Zi(FI,this)&&t.items.push(D2e(this)),t.items.push(F2e(this))}function tHe(t,e,r,n,i){Zi(K1,this)&&(i.value=!0),Uo(K1,this,!1)}function rHe(){this.isEditorOpened()||this.hot.getSettings().fragmentSelection||this.setCopyableText()}function nHe(){di(Ri,this,FK).call(this)}function iHe(){di(Ri,this,Z2e).call(this)}function sHe(){di(Ri,this,FK).call(this)}function VK(t,e){return`border_row${t}col${e}`}function _y(){return{width:1,color:"#000"}}function pc(){return{hide:!0}}function oHe(){return{width:1,color:"#000",cornerVisible:!1}}function cP(t){if(xe(t.start)||xe(t.left)){var e;t.start=(e=t.start)!==null&&e!==void 0?e:t.left}if(xe(t.end)||xe(t.right)){var r;t.end=(r=t.end)!==null&&r!==void 0?r:t.right}return delete t.left,delete t.right,t}function U0(t){return xe(t.start)&&(t.left=t.start),xe(t.end)&&(t.right=t.end),t}function uP(t,e){return{id:VK(t,e),border:oHe(),row:t,col:e,top:pc(),bottom:pc(),start:pc(),end:pc()}}function aHe(t,e){return Ur(e,"border")&&e.border&&(t.border=e.border),Ur(e,"top")&&xe(e.top)&&(e.top?(Le(e.top)||(e.top=_y()),t.top=e.top):(e.top=pc(),t.top=e.top)),Ur(e,"bottom")&&xe(e.bottom)&&(e.bottom?(Le(e.bottom)||(e.bottom=_y()),t.bottom=e.bottom):(e.bottom=pc(),t.bottom=e.bottom)),Ur(e,"start")&&xe(e.start)&&(e.start?(Le(e.start)||(e.start=_y()),t.start=e.start):(e.start=pc(),t.start=e.start)),Ur(e,"end")&&xe(e.end)&&(e.end?(Le(e.end)||(e.end=_y()),t.end=e.end):(e.end=pc(),t.end=e.end)),t}function Oc(t,e){let r=!1;return B(t.getSelectedRange(),n=>{n.forAll((i,s)=>{if(i<0||s<0)return;const o=t.getCellMeta(i,s).borders;if(o)if(e){if(!Ur(o[e],"hide")||o[e].hide===!1)return r=!0,!1}else return r=!0,!1})}),r}function zR(t){return`<span class="selected"></span>${t}`}function lHe(t){return t.some(e=>xe(e.left)||xe(e.right))}function cHe(t){return t.some(e=>xe(e.start)||xe(e.end))}const uHe=new Map([["left","start"],["right","end"]]);function dHe(t){var e;return(e=uHe.get(t))!==null&&e!==void 0?e:t}function hHe(t){return{key:"borders:bottom",name(){let e=this.getTranslatedPhrase(LH);return Oc(this,"bottom")&&(e=zR(e)),e},callback(e,r){const n=Oc(this,"bottom");t.prepareBorder(r,"bottom",n)}}}function fHe(t){const e=t.hot.isRtl()?"end":"start";return{key:"borders:left",name(){let r=this.getTranslatedPhrase(FH);return Oc(this,e)&&(r=zR(r)),r},callback(r,n){const i=Oc(this,e);t.prepareBorder(n,e,i)}}}function gHe(t){return{key:"borders:no_borders",name(){return this.getTranslatedPhrase(VH)},callback(e,r){t.prepareBorder(r,"noBorders")},disabled(){return!Oc(this)}}}function mHe(t){const e=t.hot.isRtl()?"start":"end";return{key:"borders:right",name(){let r=this.getTranslatedPhrase($H);return Oc(this,e)&&(r=zR(r)),r},callback(r,n){const i=Oc(this,e);t.prepareBorder(n,e,i)}}}function pHe(t){return{key:"borders:top",name(){let e=this.getTranslatedPhrase(DH);return Oc(this,"top")&&(e=zR(e)),e},callback(e,r){const n=Oc(this,"top");t.prepareBorder(r,"top",n)}}}function yHe(t,e){vHe(t,e),e.add(t)}function vHe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wHe(t,e,r){return(e=bHe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bHe(t){var e=SHe(t,"string");return typeof e=="symbol"?e:e+""}function SHe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dP(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const pC="customBorders",xHe=90,kV=["dashed","dotted","solid"];var FS=new WeakSet;class CHe extends xt{constructor(){super(...arguments),yHe(this,FS),wHe(this,"savedBorders",[])}static get PLUGIN_KEY(){return pC}static get PLUGIN_PRIORITY(){return xHe}isEnabled(){return!!this.hot.getSettings()[pC]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>dP(FS,this,RHe).call(this,e)),this.addHook("init",()=>dP(FS,this,EHe).call(this)),super.enablePlugin())}disablePlugin(){this.hideBorders(),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),super.updatePlugin()}setBorders(e,r){let n=["top","bottom","start","end"],i=null;r&&(this.checkSettingsCohesion([r]),n=Object.keys(r),i=cP(r));const s=lp(e),o=Lv(s,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)});B(e,a=>{o(a).forAll((l,c)=>{B(n,d=>{this.prepareBorderFromCustomAdded(l,c,i,dHe(d))})})}),this.hot.view.render()}getBorders(e){if(!Array.isArray(e))return this.savedBorders;const r=lp(e),n=Lv(r,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)}),i=[];return B(e,s=>{n(s).forAll((o,a)=>{B(this.savedBorders,l=>{l.row===o&&l.col===a&&i.push(U0(l))})})}),i}clearBorders(e){e?this.setBorders(e):(B(this.savedBorders,r=>{this.clearBordersFromSelectionSettings(r.id),this.clearNullCellRange(),this.hot.removeCellMeta(r.row,r.col,"borders")}),this.savedBorders.length=0)}insertBorderIntoSettings(e,r){this.checkSavedBorders(e)||this.savedBorders.push(e);const i=this.hot._createCellRange(this.hot._createCellCoords(e.row,e.col));this.checkCustomSelections(e,i,r)||this.hot.selection.highlight.addCustomSelection({border:e,visualCellRange:i})}prepareBorderFromCustomAdded(e,r,n,i){const s=this.hot.countRows(),o=this.hot.countCols();if(e>=s||r>=o)return;let a=uP(e,r);n&&(a=aHe(a,n),B(this.hot.selection.highlight.customSelections,l=>{if(a.id===l.settings.id)return Object.assign(l.settings,n),a.id=l.settings.id,a.top=l.settings.top,a.bottom=l.settings.bottom,a.start=l.settings.start,a.end=l.settings.end,!1})),this.hot.setCellMeta(e,r,"borders",U0(a)),this.insertBorderIntoSettings(a,i)}prepareBorderFromCustomAddedRange(e,r){const n=Math.min(e.to.row,this.hot.countRows()-1),i=Math.min(e.to.col,this.hot.countCols()-1);Ie(e.from.row,n,s=>{Ie(e.from.col,i,o=>{const a=uP(s,o);let l=0;s===e.from.row&&Ur(r,"top")&&(l+=1,a.top=r.top),s===e.to.row&&Ur(r,"bottom")&&(l+=1,a.bottom=r.bottom),o===e.from.col&&Ur(r,"start")&&(l+=1,a.start=r.start),o===e.to.col&&Ur(r,"end")&&(l+=1,a.end=r.end),l>0&&(this.hot.setCellMeta(s,o,"borders",U0(a)),this.insertBorderIntoSettings(a))})})}removeAllBorders(e,r){const n=VK(e,r);this.spliceBorder(n),this.clearBordersFromSelectionSettings(n),this.clearNullCellRange(),this.hot.removeCellMeta(e,r,"borders")}setBorder(e,r,n,i){let s=this.hot.getCellMeta(e,r).borders;!s||s.border===void 0?s=uP(e,r):s=cP(s),i?(s[n]=pc(),this.countHide(s)===4?this.removeAllBorders(e,r):(this.checkCustomSelectionsFromContextMenu(s,n,i)||this.insertBorderIntoSettings(s),this.hot.setCellMeta(e,r,"borders",U0(s)))):(s[n]=_y(),this.checkCustomSelectionsFromContextMenu(s,n,i)||this.insertBorderIntoSettings(s),this.hot.setCellMeta(e,r,"borders",U0(s)))}prepareBorder(e,r,n){B(e,i=>{let{start:s,end:o}=i;if(s.row===o.row&&s.col===o.col)r==="noBorders"?this.removeAllBorders(s.row,s.col):this.setBorder(s.row,s.col,r,n);else switch(r){case"noBorders":Ie(s.col,o.col,a=>{Ie(s.row,o.row,l=>{this.removeAllBorders(l,a)})});break;case"top":Ie(s.col,o.col,a=>{this.setBorder(s.row,a,r,n)});break;case"bottom":Ie(s.col,o.col,a=>{this.setBorder(o.row,a,r,n)});break;case"start":Ie(s.row,o.row,a=>{this.setBorder(a,s.col,r,n)});break;case"end":Ie(s.row,o.row,a=>{this.setBorder(a,o.col,r,n)});break}})}createCustomBorders(e){B(e,r=>{const n=cP(r);r.range?this.prepareBorderFromCustomAddedRange(r.range,n):this.prepareBorderFromCustomAdded(r.row,r.col,n)})}countHide(e){const{top:r,bottom:n,start:i,end:s}=e;return gs([r,n,i,s],(a,l)=>{let c=a;return l&&l.hide&&(c+=1),c},0)}clearBordersFromSelectionSettings(e){const r=Tt(this.hot.selection.highlight.customSelections,n=>n.settings.id).indexOf(e);r>-1&&this.hot.selection.highlight.customSelections[r].clear()}clearNullCellRange(){B(this.hot.selection.highlight.customSelections,(e,r)=>{if(e.cellRange===null)return this.hot.selection.highlight.customSelections[r].destroy(),this.hot.selection.highlight.customSelections.splice(r,1),!1})}hideBorders(){B(this.savedBorders,e=>{this.clearBordersFromSelectionSettings(e.id),this.clearNullCellRange()})}spliceBorder(e){const r=Tt(this.savedBorders,n=>n.id).indexOf(e);r>-1&&this.savedBorders.splice(r,1)}checkSavedBorders(e){let r=!1;return this.countHide(e)===4?(this.spliceBorder(e.id),r=!0):B(this.savedBorders,(i,s)=>{if(e.id===i.id)return this.savedBorders[s]=e,r=!0,!1}),r}checkCustomSelectionsFromContextMenu(e,r,n){let i=!1;return B(this.hot.selection.highlight.customSelections,s=>{if(e.id===s.settings.id){const o=this.hot.view._wt.selectionManager.getBorderInstances(s);return B(o,a=>{a.toggleHiddenClass(r,n)}),i=!0,!1}}),i}checkCustomSelections(e,r,n){const i=this.countHide(e);let s=!1;return i===4?(this.removeAllBorders(e.row,e.col),s=!0):B(this.hot.selection.highlight.customSelections,o=>{if(e.id===o.settings.id){if(o.visualCellRange=r,o.commit(),n){const a=this.hot.view._wt.selectionManager.getBorderInstances(o);B(a,l=>{l.changeBorderStyle(n,e)})}return s=!0,!1}}),s}changeBorderSettings(){const e=this.hot.getSettings()[pC];if(Array.isArray(e)){const r=Di(e);this.checkSettingsCohesion(r),r.length||(this.savedBorders=r),this.createCustomBorders(r)}else e!==void 0&&this.createCustomBorders(this.savedBorders)}checkSettingsCohesion(e){const r=lHe(e),n=cHe(e);if(r&&n)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&r)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".');dP(FS,this,_He).call(this,e)}destroy(){super.destroy()}}function _He(t){t.forEach(e=>{Object.keys(e).forEach(r=>{const n=e[r].style;xe(n)&&!kV.includes(n)?(at(`The "${n}" border style is not supported. Please use one of the following styles: ${kV.join(", ")}.
The border style will be ignored.`),delete e[r].style):xe(n)&&n==="solid"&&delete e[r].style})})}function RHe(t){this.hot.getSettings()[pC]&&t.items.push({name:"---------"},{key:"borders",name(){return this.getTranslatedPhrase(jH)},disabled(){const e=this.getSelectedRangeActive();return!e||e.isSingleHeader()?!0:this.selection.isSelectedByCorner()},submenu:{items:[pHe(this),mHe(this),hHe(this),fHe(this),gHe(this)]}})}function EHe(){this.changeBorderSettings()}function THe(t,e){kHe(t,e),e.add(t)}function kHe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hP(t,e,r){return(e=PHe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PHe(t){var e=NHe(t,"string");return typeof e=="symbol"?e:e+""}function NHe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PV(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const NV="dragToScroll",MHe=100;var fP=new WeakSet;class IHe extends xt{constructor(){super(...arguments),THe(this,fP),hP(this,"boundaries",null),hP(this,"callback",null),hP(this,"listening",!1)}static get PLUGIN_KEY(){return NV}static get PLUGIN_PRIORITY(){return MHe}isEnabled(){return!!this.hot.getSettings()[NV]}enablePlugin(){this.enabled||(this.addHook("afterOnCellMouseDown",e=>PV(fP,this,MV).call(this,e)),this.addHook("afterOnCellCornerMouseDown",e=>PV(fP,this,MV).call(this,e)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.unregisterEvents(),super.disablePlugin()}setBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{left:0,right:this.hot.rootWindow.innerWidth,top:0,bottom:this.hot.rootWindow.innerHeight};this.boundaries=e}setCallback(e){this.callback=e}check(e,r){let n=0,i=0;r<this.boundaries.top?i=r-this.boundaries.top:r>this.boundaries.bottom&&(i=r-this.boundaries.bottom),e<this.boundaries.left?n=e-this.boundaries.left:e>this.boundaries.right&&(n=e-this.boundaries.right),this.callback(n,i)}listen(){this.listening=!0}unlisten(){this.listening=!1}isListening(){return this.listening}registerEvents(){const{rootWindow:e}=this.hot;let r=e;for(;r;)this.eventManager.addEventListener(r.document,"contextmenu",()=>this.unlisten()),this.eventManager.addEventListener(r.document,"mouseup",()=>this.unlisten()),this.eventManager.addEventListener(r.document,"mousemove",n=>this.onMouseMove(n)),r=hd(r)}unregisterEvents(){this.eventManager.clear()}onMouseMove(e){this.isListening()&&this.check(e.clientX,e.clientY)}destroy(){super.destroy()}}function MV(t){if(yf(t))return;const e=this.hot.view._wt.wtOverlays.topOverlay.mainTableScrollableElement;this.setBoundaries(e!==this.hot.rootWindow?e.getBoundingClientRect():void 0),this.setCallback((r,n)=>{var i,s;const o=(i=e.scrollLeft)!==null&&i!==void 0?i:e.scrollX,a=(s=e.scrollTop)!==null&&s!==void 0?s:e.scrollY;e.scroll(o+Math.sign(r)*50,a+Math.sign(n)*20)}),this.listen()}function AHe(t,e){WK(t,e),e.add(t)}function OHe(t,e,r){WK(t,e),e.set(t,r)}function WK(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gP(t,e,r){return(e=HHe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HHe(t){var e=jHe(t,"string");return typeof e=="symbol"?e:e+""}function jHe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DHe(t,e){return t.get(lo(t,e))}function BK(t,e,r){return t.set(lo(t,e),r),r}function lo(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}_e.getSingleton().register("afterDropdownMenuDefaultOptions");_e.getSingleton().register("beforeDropdownMenuShow");_e.getSingleton().register("afterDropdownMenuShow");_e.getSingleton().register("afterDropdownMenuHide");_e.getSingleton().register("afterDropdownMenuExecute");const yC="dropdownMenu",$He=230,Uv="changeType",mP=yC;var UR=new WeakMap,qo=new WeakSet;class YR extends xt{static get PLUGIN_KEY(){return yC}static get PLUGIN_PRIORITY(){return $He}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[Bw,zw,ut,Yw,ut,jR,ut,Uw,ut,ao]}constructor(e){super(e),AHe(this,qo),gP(this,"commandExecutor",new PK(this.hot)),gP(this,"itemsFactory",null),gP(this,"menu",null),OHe(this,UR,!1),this.hot.addHook("afterGetColHeader",(r,n)=>lo(qo,this,FHe).call(this,r,n))}isEnabled(){return this.hot.getSettings()[yC]}enablePlugin(){var e=this;if(this.enabled)return;this.itemsFactory=new NK(this.hot,YR.DEFAULT_ITEMS),this.addHook("beforeOnCellMouseDown",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return lo(qo,e,YHe).call(e,...s)}),this.addHook("beforeViewportScrollHorizontally",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return lo(qo,e,UHe).call(e,...s)}),this.addHook("beforeDialogShow",()=>this.close());const r=this.hot.getSettings()[yC],n={items:this.itemsFactory.getItems(r)};this.registerEvents(),typeof r.callback=="function"&&this.commandExecutor.setCommonCallback(r.callback),this.registerShortcuts(),super.enablePlugin(),this.callOnPluginsReady(()=>{this.hot.runHooks("afterDropdownMenuDefaultOptions",n),this.itemsFactory.setPredefinedItems(n.items);const i=this.itemsFactory.getItems(r);this.menu&&this.menu.destroy(),this.menu=new $p(this.hot,{className:"htDropdownMenu",keepInViewport:!0,container:r.uiContainer||this.hot.rootPortalElement}),this.hot.runHooks("beforeDropdownMenuSetItems",i),this.menu.setMenuItems(i),this.menu.addLocalHook("beforeOpen",()=>lo(qo,this,VHe).call(this)),this.menu.addLocalHook("afterOpen",()=>lo(qo,this,WHe).call(this)),this.menu.addLocalHook("afterSubmenuOpen",s=>lo(qo,this,BHe).call(this,s)),this.menu.addLocalHook("afterClose",()=>lo(qo,this,zHe).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return e.executeCommand.call(e,...o)}),B(i,s=>this.commandExecutor.registerCommand(s.key,s))})}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&this.menu.destroy(),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager().getContext("grid"),r=()=>{const{highlight:n}=this.hot.getSelectedRangeActive();if((n.isHeader()&&n.row===-1||n.isCell())&&n.col>=0){this.hot.selectColumns(n.col,n.col,-1);const{from:i}=this.hot.getSelectedRangeActive(),s=HR(this.menu.container,this.hot.rootDocument),o=this.hot.getCell(-1,i.col,!0).querySelector(`.${Uv}`),a=o.getBoundingClientRect();this.open({left:a.left+s.left,top:a.top+o.offsetHeight+s.top},{left:a.width,right:0,above:0,below:3}),this.menu.getNavigator().toFirstItem()}};e.addShortcuts([{keys:[["Shift","Alt","ArrowDown"],["Control/Meta","Enter"]],callback:r,runOnlyIf:()=>{var n;const i=(n=this.hot.getSelectedRangeActive())===null||n===void 0?void 0:n.highlight;return i&&this.hot.selection.isCellVisible(i)&&i.isHeader()&&!this.menu.isOpened()},captureCtrl:!0,group:mP},{keys:[["Shift","Alt","ArrowDown"]],callback:r,runOnlyIf:()=>{var n;const i=(n=this.hot.getSelectedRangeActive())===null||n===void 0?void 0:n.highlight;return i&&this.hot.selection.isCellVisible(i)&&i.isCell()&&!this.menu.isOpened()},group:mP}])}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(mP)}registerEvents(){this.eventManager.addEventListener(this.hot.rootElement,"click",e=>lo(qo,this,LHe).call(this,e))}open(e){var r;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(r=this.menu)!==null&&r!==void 0&&r.isOpened()||(this.menu.open(),dt(n,(i,s)=>{this.menu.setOffset(s,i)}),this.menu.setPosition(e))}close(){var e;(e=this.menu)===null||e===void 0||e.close()}executeCommand(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.commandExecutor.execute(e,...n)}setListening(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.menu.isOpened()&&(e?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function zK(t){t.getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Control/Meta","A"]],callback:()=>!1}])}function LHe(t){if(Ve(t.target,Uv)){const e=HR(this.menu.container,this.hot.rootDocument),r=t.target.getBoundingClientRect();t.stopPropagation(),BK(UR,this,!1),this.open({left:r.left+e.left,top:r.top+t.target.offsetHeight+e.top},{left:r.width,right:0,above:0,below:3})}}function FHe(t,e){const r=e.parentNode;if(!r)return;const n=r.parentNode.childNodes,i=Array.prototype.indexOf.call(n,r);if(t<0||i!==n.length-1)return;const s=e.querySelector(`.${Uv}`);if(this.enabled&&s)return;if(!this.enabled){s&&s.parentNode.removeChild(s);return}const o=this.hot.rootDocument.createElement("button");o.className=Uv,o.type="button",o.tabIndex=-1,this.hot.getSettings().ariaTags&&(Ee(o,[jf(),Hs(" ")]),Ee(e,[$9("menu")])),o.onclick=function(){return!1},e.firstChild.insertBefore(o,e.firstChild.firstChild)}function VHe(){this.hot.runHooks("beforeDropdownMenuShow",this)}function WHe(){this.hot.runHooks("afterDropdownMenuShow",this),lo(qo,this,zK).call(this,this.menu)}function BHe(t){lo(qo,this,zK).call(this,t)}function zHe(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}function UHe(t){return DHe(UR,this)?null:t}function YHe(t){Ve(t.target,Uv)&&BK(UR,this,!0)}YR.SEPARATOR={name:ut};function IV(t,e,r){return(e=GHe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GHe(t){var e=KHe(t,"string");return typeof e=="symbol"?e:e+""}function KHe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qHe{constructor(e){IV(this,"hot",void 0),IV(this,"options",{}),this.hot=e}setOptions(e){this.options=e}getData(){const{startRow:e,startCol:r,endRow:n,endCol:i}=this._getDataRange(),s=this.options,o=[];return Ie(e,n,a=>{const l=[];!s.exportHiddenRows&&this._isHiddenRow(a)||(Ie(r,i,c=>{!s.exportHiddenColumns&&this._isHiddenColumn(c)||l.push(this.hot.getDataAtCell(a,c))}),o.push(l))}),o}getRowHeaders(){const e=[];if(this.options.rowHeaders){const{startRow:r,endRow:n}=this._getDataRange(),i=this.hot.getRowHeader();Ie(r,n,s=>{!this.options.exportHiddenRows&&this._isHiddenRow(s)||e.push(i[s])})}return e}getColumnHeaders(){const e=[];if(this.options.columnHeaders){const{startCol:r,endCol:n}=this._getDataRange(),i=this.hot.getColHeader();Ie(r,n,s=>{!this.options.exportHiddenColumns&&this._isHiddenColumn(s)||e.push(i[s])})}return e}_getDataRange(){const e=this.hot.countCols()-1,r=this.hot.countRows()-1;let[n=0,i=0,s=r,o=e]=this.options.range;return n=Math.max(n,0),i=Math.max(i,0),s=Math.min(s,r),o=Math.min(o,e),{startRow:n,startCol:i,endRow:s,endCol:o}}_isHiddenRow(e){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(e))}_isHiddenColumn(e){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(e))}}function AV(t,e,r){return(e=XHe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XHe(t){var e=QHe(t,"string");return typeof e=="symbol"?e:e+""}function QHe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wD{static get DEFAULT_OPTIONS(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}constructor(e,r){AV(this,"dataProvider",void 0),AV(this,"options",void 0),this.dataProvider=e,this.options=this._mergeOptions(r),this.dataProvider.setOptions(this.options)}_mergeOptions(e){let r=El(this.constructor.DEFAULT_OPTIONS);const n=new Date;return r=gn(El(wD.DEFAULT_OPTIONS),r),r=gn(r,e),r.filename=w2(r.filename,{YYYY:n.getFullYear(),MM:`${n.getMonth()+1}`.padStart(2,"0"),DD:`${n.getDate()}`.padStart(2,"0")}),r}}function JHe(t,e){ZHe(t,e),e.add(t)}function ZHe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function OV(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const UK="\r",eje='"',tje=`
`,rje="=",nje="+",ije="-",sje="@",oje="	";var pP=new WeakSet;class aje extends wD{constructor(){super(...arguments),JHe(this,pP)}static get DEFAULT_OPTIONS(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:`\r
`,sanitizeValues:!1}}export(){const e=this.options,r=this.dataProvider.getData();let n=this.dataProvider.getColumnHeaders();const i=n.length>0,s=this.dataProvider.getRowHeaders(),o=s.length>0;let a=e.bom?"\uFEFF":"";return i&&(n=Tt(n,l=>this._escapeCell(l,{force:!0,sanitizeValue:e.sanitizeValues})),o&&(a+=e.columnDelimiter),a+=n.join(e.columnDelimiter),a+=e.rowDelimiter),B(r,(l,c)=>{c>0&&(a+=e.rowDelimiter),o&&(a+=this._escapeCell(s[c],{sanitizeValue:e.sanitizeValues}),a+=e.columnDelimiter);const d=l.map(h=>this._escapeCell(h,{sanitizeValue:e.sanitizeValues})).join(e.columnDelimiter);a+=d}),a}_escapeCell(e){let{force:r=!1,sanitizeValue:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=tr(e);return i===""||(n&&(r=!0),n instanceof RegExp?i=OV(pP,this,cje).call(this,i,n):typeof n=="function"?i=n(i):n&&(i=OV(pP,this,lje).call(this,i)),(r||i.indexOf(UK)>=0||i.indexOf(eje)>=0||i.indexOf(tje)>=0||i.indexOf(this.options.columnDelimiter)>=0)&&(i=i.replace(new RegExp('"',"g"),'""'),i=`"${i}"`)),i}}function lje(t){return t.startsWith(rje)||t.startsWith(nje)||t.startsWith(ije)||t.startsWith(sje)||t.startsWith(oje)||t.startsWith(UK)?`'${t}`:t}function cje(t,e){return e.test(t)?`'${t}`:t}const uje="csv",VI={[uje]:aje};function dje(t,e,r){return typeof VI[t]=="function"?new VI[t](e,r):null}const hje="exportFile",fje=240;class gje extends xt{static get PLUGIN_KEY(){return hje}static get PLUGIN_PRIORITY(){return fje}isEnabled(){return!0}exportAsString(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createTypeFormatter(e,r).export()}exportAsBlob(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createBlob(this._createTypeFormatter(e,r))}downloadFile(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{rootDocument:n,rootWindow:i}=this.hot,s=this._createTypeFormatter(e,r),o=this._createBlob(s),a=i.URL||i.webkitURL,l=n.createElement("a"),c=`${s.options.filename}.${s.options.fileExtension}`;if(l.download!==void 0){const d=a.createObjectURL(o);l.style.display="none",l.setAttribute("href",d),l.setAttribute("download",c),n.body.appendChild(l),l.dispatchEvent(new MouseEvent("click")),n.body.removeChild(l),setTimeout(()=>{a.revokeObjectURL(d)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(o,c)}_createTypeFormatter(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!VI[e])throw new Error(`Export format type "${e}" is not supported.`);return dje(e,new qHe(this.hot),r)}_createBlob(e){let r=null;return typeof Blob<"u"&&(r=new Blob([e.export()],{type:`${e.options.mimeType};charset=${e.options.encoding}`})),r}}function bg(t,e,r){return(e=mje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mje(t){var e=pje(t,"string");return typeof e=="symbol"?e:e+""}function pje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Gw{constructor(e,r){let{id:n,stateless:i=!0}=r;bg(this,"hot",void 0),bg(this,"id",void 0),bg(this,"elements",[]),bg(this,"hidden",!1),bg(this,"stateId",""),bg(this,"state",void 0),this.hot=e,this.id=n,this.stateId=`Filters.component.${this.id}`,this.state=i?null:this.hot.columnIndexMapper.registerMap(this.stateId,new RR)}getElements(){return this.elements}reset(){B(this.elements,e=>e.reset())}hide(){this.hidden=!0}show(){this.hidden=!1}isHidden(){return this.hot===null||this.hidden}restoreState(e){this.state&&this.setState(this.state.getValueAtIndex(e))}setState(){throw new Error("The state setting logic is not implemented")}saveState(e){this.state&&this.state.setValueAtIndex(e,this.getState())}getState(){throw new Error("The state gathering logic is not implemented")}destroy(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),B(this.elements,e=>e.destroy()),this.state=null,this.elements=null,this.hot=null}}Dt(Gw,Tn);const Yv={};function fd(t,e){if(!Yv[t])throw Error(`Filter condition "${t}" does not exist.`);const{condition:r,descriptor:n}=Yv[t];let i=e;return n.inputValuesDecorator&&(i=n.inputValuesDecorator(i)),function(s){return r.apply(s.meta.instance,[].concat([s],[i]))}}function Dh(t){if(!Yv[t])throw Error(`Filter condition "${t}" does not exist.`);return Yv[t].descriptor}function on(t,e,r){r.key=t,Yv[t]={condition:e,descriptor:r}}const Vn="none";function yje(){return!0}on(Vn,yje,{name:ER,inputsCount:0,showOperators:!1});const qy="empty";function vje(t){return Yr(t.value)}on(qy,vje,{name:KH,inputsCount:0,showOperators:!0});const vC="not_empty";function wje(t,e){return!fd(qy,e)(t)}on(vC,wje,{name:qH,inputsCount:0,showOperators:!0});const Xy="eq";function bje(t,e){let[r]=e;return tr(t.value).toLocaleLowerCase(t.meta.locale)===tr(r)}on(Xy,bje,{name:XH,inputsCount:1,showOperators:!0});const wC="neq";function Sje(t,e){return!fd(Xy,e)(t)}on(wC,Sje,{name:QH,inputsCount:1,showOperators:!0});const YK="gt";function xje(t,e){let[r]=e,n=r;return t.meta.type==="numeric"&&(n=parseFloat(n,10)),t.value>n}on(YK,xje,{name:rj,inputsCount:1,showOperators:!0});const GK="gte";function Cje(t,e){let[r]=e,n=r;return t.meta.type==="numeric"&&(n=parseFloat(n,10)),t.value>=n}on(GK,Cje,{name:nj,inputsCount:1,showOperators:!0});const KK="lt";function _je(t,e){let[r]=e,n=r;return t.meta.type==="numeric"&&(n=parseFloat(n,10)),t.value<n}on(KK,_je,{name:ij,inputsCount:1,showOperators:!0});const qK="lte";function Rje(t,e){let[r]=e,n=r;return t.meta.type==="numeric"&&(n=parseFloat(n,10)),t.value<=n}on(qK,Rje,{name:sj,inputsCount:1,showOperators:!0});const bD="date_after";function Eje(t,e){let[r]=e;const n=he(t.value,t.meta.dateFormat),i=he(r,t.meta.dateFormat);return!n.isValid()||!i.isValid()?!1:n.diff(i)>=0}on(bD,Eje,{name:lj,inputsCount:1,showOperators:!0});const SD="date_before";function Tje(t,e){let[r]=e;const n=he(t.value,t.meta.dateFormat),i=he(r,t.meta.dateFormat);return!n.isValid()||!i.isValid()?!1:n.diff(i)<=0}on(SD,Tje,{name:cj,inputsCount:1,showOperators:!0});const q1="between";function kje(t,e){let[r,n]=e,i=r,s=n;if(t.meta.type==="numeric"){const o=parseFloat(i,10),a=parseFloat(s,10);i=Math.min(o,a),s=Math.max(o,a)}else if(t.meta.type==="date"){const o=fd(SD,[s]),a=fd(bD,[i]);return o(t)&&a(t)}return t.value>=i&&t.value<=s}on(q1,kje,{name:oj,inputsCount:2,showOperators:!0});const XK="not_between";function Pje(t,e){return!fd(q1,e)(t)}on(XK,Pje,{name:aj,inputsCount:2,showOperators:!0});const QK="begins_with";function Nje(t,e){let[r]=e;return tr(t.value).toLocaleLowerCase(t.meta.locale).startsWith(tr(r))}on(QK,Nje,{name:JH,inputsCount:1,showOperators:!0});const JK="ends_with";function Mje(t,e){let[r]=e;return tr(t.value).toLocaleLowerCase(t.meta.locale).endsWith(tr(r))}on(JK,Mje,{name:ZH,inputsCount:1,showOperators:!0});const xD="contains";function Ije(t,e){let[r]=e;return tr(t.value).toLocaleLowerCase(t.meta.locale).indexOf(tr(r))>=0}on(xD,Ije,{name:ej,inputsCount:1,showOperators:!0});const ZK="not_contains";function Aje(t,e){return!fd(xD,e)(t)}on(ZK,Aje,{name:tj,inputsCount:1,showOperators:!0});const eq="date_tomorrow";function Oje(t){const e=he(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(he().subtract(-1,"days").startOf("day"),"d"):!1}on(eq,Oje,{name:dj,inputsCount:0});const tq="date_today";function Hje(t){const e=he(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(he().startOf("day"),"d"):!1}on(tq,Hje,{name:uj,inputsCount:0});const rq="date_yesterday";function jje(t){const e=he(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(he().subtract(1,"days").startOf("day"),"d"):!1}on(rq,jje,{name:hj,inputsCount:0});Uwe();function Dje(t,e){let r=t;return r===""&&(r=`(${e})`),r}function Kw(t){const e=new Set(t);return function(r){return e.has(r)}}function CD(t){return t??""}function WI(t){return Array.from(new Set(t)).map(e=>CD(e)).sort((e,r)=>typeof e=="number"&&typeof r=="number"?e-r:e===r?0:e>r?1:-1)}function HV(t,e,r,n){const i=[],s=t===e;let o;return s||(o=Kw(e)),t.forEach(a=>{let l=!1;(s||o(a))&&(l=!0);const c={checked:l,value:a,visualValue:Dje(a,r)};n&&n(c),i.push(c)}),i}const $h="by_value";function $je(t,e){let[r]=e;return r(t.value)}on($h,$je,{name:"By value",inputsCount:0,inputValuesDecorator(t){let[e]=t;return[Kw(e)]},showOperators:!1});const Gv={};function Lje(t){if(!Gv[t])throw Error(`Operation with id "${t}" does not exist.`);const e=Gv[t].func;return function(r,n){return e(r,n)}}function Fje(t){return Gv[t].name}function _D(t,e,r){Gv[t]={name:e,func:r}}const od="conjunction",Vje=mj;function Wje(t,e){return t.every(r=>r.func(e))}_D(od,Vje,Wje);const X1="disjunction",Bje=TR;function zje(t,e){return t.some(r=>r.func(e))}_D(X1,Bje,zje);const RD="disjunctionWithExtraCondition",Uje=TR;function Yje(t,e){if(t.length<3)throw Error("Operation doesn't work on less then three conditions.");return t.slice(0,t.length-1).some(r=>r.func(e))&&t[t.length-1].func(e)}_D(RD,Uje,Yje);const Gje="numeric",nq="text",Kje="date",jV={[Gje]:[Vn,ut,qy,vC,ut,Xy,wC,ut,YK,GK,KK,qK,q1,XK],[nq]:[Vn,ut,qy,vC,ut,Xy,wC,ut,QK,JK,ut,xD,ZK],[Kje]:[Vn,ut,qy,vC,ut,Xy,wC,ut,SD,bD,q1,ut,eq,tq,rq]};function qje(t){const e=[];let r=t;return jV[r]||(r=nq),B(jV[r],n=>{let i;n===ut?i={name:ut}:i=El(Dh(n)),e.push(i)}),e}function Y0(t,e,r){return(e=Xje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xje(t){var e=Qje(t,"string");return typeof e=="symbol"?e:e+""}function Qje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const yP="built",vP="building",DV=["click","input","keydown","keypress","keyup","focus","blur","change"];let ma=class iq{static get DEFAULTS(){return El({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}constructor(e,r){Y0(this,"hot",void 0),Y0(this,"eventManager",new Sa(this)),Y0(this,"options",void 0),Y0(this,"_element",void 0),Y0(this,"buildState",void 0),this.hot=e,this.options=gn(iq.DEFAULTS,r),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName)}setValue(e){this.options.value=e,this.update()}getValue(){return this.options.value}get element(){return this.buildState===vP?this._element:this.buildState===yP?(this.update(),this._element):(this.buildState=vP,this.build(),this.buildState=yP,this._element)}isBuilt(){return this.buildState===yP}translateIfPossible(e){return typeof e=="string"&&e.startsWith(Fi)?this.hot.getTranslatedPhrase(e):e}build(){const e=(r,n)=>{this.eventManager.addEventListener(r,n,i=>this.runLocalHooks(n,i,this))};if(this.buildState||(this.buildState=vP),this._element.setAttribute("data-hot-input",!0),this.options.tabIndex!==void 0&&this._element.setAttribute("tabindex",this.options.tabIndex),this.options.role!==void 0&&this._element.setAttribute("role",this.options.role),this.options.className&&oe(this._element,this.options.className),this.options.children.length)B(this.options.children,r=>this._element.appendChild(r.element));else if(this.options.wrapIt){const r=this.hot.rootDocument.createElement(this.options.tagName);r.setAttribute("data-hot-input",!0),dt(this.options,(n,i)=>{r[i]!==void 0&&i!=="className"&&i!=="tagName"&&i!=="children"&&(r[i]=this.translateIfPossible(n))}),this._element.appendChild(r),B(DV,n=>e(r,n))}else B(DV,r=>e(this._element,r))}update(){}reset(){this.options.value="",this.update()}show(){this.element.style.display=""}hide(){this.element.style.display="none"}focus(){}destroy(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}};Dt(ma,Tn);function Jje(t,e){sq(t,e),e.add(t)}function Zje(t,e,r){sq(t,e),e.set(t,r)}function sq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function VS(t,e){return t.get(ED(t,e))}function eDe(t,e,r){return t.set(ED(t,e),r),r}function ED(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Sg=new WeakMap,$V=new WeakSet;class ad extends ma{static get DEFAULTS(){return El({placeholder:"",type:"text",tagName:"input",tabIndex:-1})}constructor(e,r){super(e,gn(ad.DEFAULTS,r)),Jje(this,$V),Zje(this,Sg,void 0),this.registerHooks()}registerHooks(){this.addLocalHook("keyup",e=>ED($V,this,tDe).call(this,e))}build(){super.build();const e=this.hot.rootDocument.createElement("div");eDe(Sg,this,this._element.firstChild),oe(this._element,"htUIInput"),oe(e,"htUIInputIcon"),this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(VS(Sg,this).type=this.options.type,VS(Sg,this).placeholder=this.translateIfPossible(this.options.placeholder),VS(Sg,this).value=this.translateIfPossible(this.options.value))}focus(){this.isBuilt()&&VS(Sg,this).focus()}}function tDe(t){this.options.value=t.target.value}function rDe(t,e){oq(t,e),e.add(t)}function G0(t,e,r){oq(t,e),e.set(t,r)}function oq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xg(t,e,r){return t.set(Qy(t,e),r),r}function xr(t,e){return t.get(Qy(t,e))}function Qy(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var yn=new WeakMap,WS=new WeakMap,BS=new WeakMap,wP=new WeakMap,zS=new WeakMap,US=new WeakSet;class Kv extends ma{static get DEFAULTS(){return El({className:"htUISelect",wrapIt:!1,tabIndex:-1})}constructor(e,r){super(e,gn(Kv.DEFAULTS,r)),rDe(this,US),G0(this,yn,null),G0(this,WS,[]),G0(this,BS,void 0),G0(this,wP,void 0),G0(this,zS,void 0),this.registerHooks()}getMenu(){return xr(yn,this)}registerHooks(){this.addLocalHook("click",()=>Qy(US,this,sDe).call(this))}setItems(e){xg(WS,this,this.translateNames(e)),xr(yn,this)&&xr(yn,this).setMenuItems(xr(WS,this))}translateNames(e){return B(e,r=>{r.name=this.translateIfPossible(r.name)}),e}build(){super.build(),xg(yn,this,new $p(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer})),xr(yn,this).setMenuItems(xr(WS,this));const e=new ma(this.hot,{className:"htUISelectCaption"}),r=new ma(this.hot,{className:"htUISelectDropdown"});xg(BS,this,e),xg(wP,this,e.element),xg(zS,this,r),this.hot.getSettings().ariaTags&&(Ee(r.element,[jf()]),Ee(this._element,[D9()])),B([e,r],n=>this._element.appendChild(n.element)),xr(yn,this).addLocalHook("select",n=>Qy(US,this,nDe).call(this,n)),xr(yn,this).addLocalHook("afterClose",()=>Qy(US,this,iDe).call(this)),this.update()}update(){if(!this.isBuilt())return;let e;this.options.value?e=this.options.value.name:e=xr(yn,this).hot.getTranslatedPhrase(ER),xr(wP,this).textContent=e,super.update()}openOptions(){const e=this.element.getBoundingClientRect();xr(yn,this)&&(xr(yn,this).open(),xr(yn,this).setPosition({left:this.hot.isLtr()?e.left-5:e.left-31,top:e.top-1,width:e.width,height:e.height}),xr(yn,this).getNavigator().toFirstItem(),xr(yn,this).getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:r=>{this.closeOptions(),this.runLocalHooks("tabKeydown",r)}},{keys:[["Control/Meta","A"]],callback:()=>!1}]))}closeOptions(){xr(yn,this)&&xr(yn,this).close()}focus(){this.isBuilt()&&this.element.focus()}destroy(){xr(yn,this)&&(xr(yn,this).destroy(),xg(yn,this,null)),xr(BS,this)&&xr(BS,this).destroy(),xr(zS,this)&&xr(zS,this).destroy(),super.destroy()}}function nDe(t){t.name!==ut&&(this.options.value=t,this.update(),this.runLocalHooks("select",this.options.value))}function iDe(){this.runLocalHooks("afterClose")}function sDe(){this.openOptions()}function oDe(t,e){aDe(t,e),e.add(t)}function aDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function LV(t,e,r){return(e=lDe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lDe(t){var e=cDe(t,"string");return typeof e=="symbol"?e:e+""}function cDe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FV(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var bP=new WeakSet;class BI extends Gw{constructor(e,r){super(e,{id:r.id,stateless:!1}),oDe(this,bP),LV(this,"name",""),LV(this,"addSeparator",!1),this.name=r.name,this.addSeparator=r.addSeparator,this.elements.push(new Kv(this.hot,{menuContainer:r.menuContainer})),this.elements.push(new ad(this.hot,{placeholder:Sj})),this.elements.push(new ad(this.hot,{placeholder:xj})),this.registerHooks()}registerHooks(){this.getSelectElement().addLocalHook("select",e=>FV(bP,this,uDe).call(this,e)).addLocalHook("afterClose",()=>this.runLocalHooks("afterClose")).addLocalHook("tabKeydown",e=>this.runLocalHooks("selectTabKeydown",e)),B(this.getInputElements(),e=>{e.addLocalHook("keydown",r=>FV(bP,this,dDe).call(this,r))})}setState(e){if(this.reset(),!e)return;const r=El(e.command);r.name.startsWith(Ar)&&(r.name=this.hot.getTranslatedPhrase(r.name)),this.getSelectElement().setValue(r),B(e.args,(n,i)=>{if(i>r.inputsCount-1)return!1;const s=this.getInputElement(i);s.setValue(n),s[r.inputsCount>i?"show":"hide"](),i||this.hot._registerTimeout(()=>s.focus(),10)})}getState(){const e=this.getSelectElement().getValue()||Dh(Vn),r=[];return B(this.getInputElements(),(n,i)=>{e.inputsCount>i&&r.push(n.getValue())}),{command:e,args:r}}updateState(e,r){const n=Dh(e?e.name:Vn);this.state.setValueAtIndex(r,{command:n,args:e?e.args:[]}),e||B(this.getInputElements(),i=>i.setValue(null))}getSelectElement(){return this.elements.filter(e=>e instanceof Kv)[0]}getInputElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.getInputElements()[e]}getInputElements(){return this.elements.filter(e=>e instanceof ad)}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,r,n,i,s,o)=>{oe(r.parentNode,"htFiltersMenuCondition"),this.addSeparator&&oe(r.parentNode,"border");const a=this.hot.rootDocument.createElement("div");return oe(a,"htFiltersMenuLabel"),a.textContent=o,r.appendChild(a),r.parentElement.hasAttribute("ghost-table")||B(this.elements,l=>r.appendChild(l.element)),r}}}reset(){const e=this.hot.getPlugin("filters").getSelectedColumn();let r=[Dh(Vn)];if(e!==null){const{visualIndex:n}=e;r=qje(this.hot.getDataType(0,n,this.hot.countRows(),n))}B(this.getInputElements(),n=>n.hide()),this.getSelectElement().setItems(r),super.reset(),this.getSelectElement().setValue(r[0])}}function uDe(t){B(this.getInputElements(),(e,r)=>{e[t.inputsCount>r?"show":"hide"](),r===0&&this.hot._registerTimeout(()=>e.focus(),10)}),this.runLocalHooks("change",t)}function dDe(t){op(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Eo(t))}function VV(t,e,r){hDe(t,e),e.set(t,r)}function hDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function K0(t,e){return t.get(aq(t,e))}function WV(t,e,r){return t.set(aq(t,e),r),r}function aq(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Cg=new WeakMap,SP=new WeakMap;class Q1 extends ma{static get DEFAULTS(){return El({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}constructor(e,r){super(e,gn(Q1.DEFAULTS,r)),VV(this,Cg,void 0),VV(this,SP,void 0)}build(){super.build();const e=this.hot.rootDocument.createElement("label");e.textContent=this.translateIfPossible(this.options.label.textContent),e.htmlFor=this.translateIfPossible(this.options.label.htmlFor),WV(SP,this,e),WV(Cg,this,this._element.firstChild),K0(Cg,this).checked=this.options.checked,this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(K0(SP,this).textContent=this.translateIfPossible(this.options.label.textContent))}isChecked(){return this.isBuilt()?K0(Cg,this).checked:!1}setChecked(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isBuilt()&&(K0(Cg,this).checked=e)}focus(){this.isBuilt()&&K0(Cg,this).focus()}}function fDe(t,e){gDe(t,e),e.add(t)}function gDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mDe(t,e,r){return(e=pDe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pDe(t){var e=yDe(t,"string");return typeof e=="symbol"?e:e+""}function yDe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vDe(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const BV=0;var zV=new WeakSet;class wDe extends Gw{constructor(e,r){super(e,{id:r.id,stateless:!1}),fDe(this,zV),mDe(this,"name",""),this.name=r.name,this.buildOperatorsElement()}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,r)=>(oe(r.parentNode,"htFiltersMenuOperators"),B(this.elements,n=>r.appendChild(n.element)),r)}}buildOperatorsElement(){const e=[od,X1];B(e,r=>{const n=new Q1(this.hot,{name:"operator",label:{htmlFor:r,textContent:Fje(r)},value:r,checked:r===e[BV],id:r});n.addLocalHook("change",i=>vDe(zV,this,bDe).call(this,i)),this.elements.push(n)})}setChecked(e){if(this.elements.length<e)throw Error(kt`Radio button with index ${e} doesn't exist.`);B(this.elements,(r,n)=>{r.setChecked(n===e)})}getActiveOperationId(){const e=this.elements.find(r=>r instanceof Q1&&r.isChecked());return e?e.getValue():od}getState(){return this.getActiveOperationId()}setState(e){this.reset(),e&&this.getActiveOperationId()!==e&&B(this.elements,r=>{r.setChecked(r.getValue()===e)})}updateState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:od,r=arguments.length>1?arguments[1]:void 0,n=e;n===RD&&(n=X1),this.state.setValueAtIndex(r,n)}reset(){this.setChecked(BV)}}function bDe(t){this.setState(t.target.value)}function SDe(t,e,r){xDe(t,e),e.set(t,r)}function xDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xP(t,e){return t.get(lq(t,e))}function CDe(t,e,r){return t.set(lq(t,e),r),r}function lq(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var q0=new WeakMap;class qv extends ma{static get DEFAULTS(){return El({href:"#",tagName:"a",tabIndex:-1,role:"button"})}constructor(e,r){super(e,gn(qv.DEFAULTS,r)),SDe(this,q0,void 0)}build(){super.build(),CDe(q0,this,this._element.firstChild)}update(){this.isBuilt()&&(xP(q0,this).textContent=this.translateIfPossible(this.options.textContent))}focus(){this.isBuilt()&&xP(q0,this).focus()}activate(){xP(q0,this).click()}}function _De(t,e){cq(t,e),e.add(t)}function _g(t,e,r){cq(t,e),e.set(t,r)}function cq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ge(t,e){return t.get(gm(t,e))}function Fo(t,e,r){return t.set(gm(t,e),r),r}function gm(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const UV="multipleSelect.itemBox";var Jo=new WeakMap,lr=new WeakMap,CP=new WeakMap,Yl=new WeakMap,lu=new WeakMap,cu=new WeakMap,X0=new WeakSet;class Xv extends ma{static get DEFAULTS(){return El({className:"htUIMultipleSelect",value:[]})}constructor(e,r){super(e,gn(Xv.DEFAULTS,r)),_De(this,X0),_g(this,Jo,[]),_g(this,lr,void 0),_g(this,CP,void 0),_g(this,Yl,void 0),_g(this,lu,void 0),_g(this,cu,void 0),Fo(Yl,this,new ad(this.hot,{placeholder:bj,className:"htUIMultipleSelectSearch"})),Fo(lu,this,new qv(this.hot,{textContent:pj,className:"htUISelectAll"})),Fo(cu,this,new qv(this.hot,{textContent:yj,className:"htUIClearAll"})),this.registerHooks()}getItemsBox(){return Ge(lr,this)}registerHooks(){Ge(Yl,this).addLocalHook("keydown",e=>gm(X0,this,EDe).call(this,e)),Ge(Yl,this).addLocalHook("input",e=>gm(X0,this,RDe).call(this,e)),Ge(lu,this).addLocalHook("click",e=>gm(X0,this,TDe).call(this,e)),Ge(cu,this).addLocalHook("click",e=>gm(X0,this,kDe).call(this,e))}setItems(e){var r;Fo(Jo,this,e),(r=Ge(lr,this))===null||r===void 0||r.loadData(Ge(Jo,this))}setLocale(e){Fo(CP,this,e)}getLocale(){return Ge(CP,this)}getItems(){return[...Ge(Jo,this)]}getValue(){return NDe(Ge(Jo,this))}getSearchInputElement(){return Ge(Yl,this)}getSelectAllElement(){return Ge(lu,this)}getClearAllElement(){return Ge(cu,this)}isSelectedAllValues(){return Ge(Jo,this).length===this.getValue().length}build(){var e;super.build();const{rootDocument:r}=this.hot,n=r.createElement("div"),i=new ma(this.hot,{className:"htUISelectionControls",children:[Ge(lu,this),Ge(cu,this)]});this._element.appendChild(Ge(Yl,this).element),this._element.appendChild(i.element),this._element.appendChild(n),(e=Ge(lr,this))===null||e===void 0||e.destroy(),oe(n,"htUIMultipleSelectHot"),Fo(lr,this,new this.hot.constructor(n,{data:[[]],columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:(a,l,c,d,h,f)=>{a.title=f.instance.getDataAtRowProp(l,f.label.property)},afterListen:()=>{this.runLocalHooks("focus",this)},beforeOnCellMouseUp:()=>{Ge(lr,this).listen()},modifyColWidth:a=>{const l=Ge(lr,this).container.scrollWidth-tn(r);return a!==void 0&&a<l?l:a},autoColumnSize:!0,autoRowSize:!1,hiddenRows:!0,maxCols:1,autoWrapCol:!0,height:110,copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},themeName:this.hot.getCurrentThemeName(),layoutDirection:this.hot.isRtl()?"rtl":"ltr"})),Ge(lr,this).init();const o=Ge(lr,this).getShortcutManager().getContext("grid");o.removeShortcutsByKeys(["Tab"]),o.removeShortcutsByKeys(["Shift","Tab"]),o.addShortcut({keys:[["Escape"]],callback:a=>{this.runLocalHooks("keydown",a,this)},group:UV}),o.addShortcut({keys:[["Tab"],["Shift","Tab"]],callback:a=>{Ge(lr,this).deselectCell(),this.runLocalHooks("keydown",a,this),this.runLocalHooks("listTabKeydown",a,this)},group:UV})}focus(){this.isBuilt()&&Ge(lr,this).listen()}reset(){Ge(Yl,this).reset(),Ge(lu,this).reset(),Ge(cu,this).reset()}update(){!this.isBuilt()||Ge(lr,this).rootElement.offsetHeight===0||(Ge(lr,this).updateSettings({data:PDe(Ge(Jo,this),this.options.value)}),super.update())}destroy(){var e;(e=Ge(lr,this))===null||e===void 0||e.destroy(),Ge(Yl,this).destroy(),Ge(cu,this).destroy(),Ge(lu,this).destroy(),Fo(Yl,this,null),Fo(cu,this,null),Fo(lu,this,null),Fo(lr,this,null),Fo(Jo,this,null),super.destroy()}}function RDe(t){const e=t.target.value.toLocaleLowerCase(this.getLocale());if(this.options.searchMode==="apply"){const r=Ge(lr,this).getPlugin("hiddenRows");r.showRows(r.getHiddenRows()),Ge(Jo,this).forEach((n,i)=>{n.checked=`${n.value}`.toLocaleLowerCase(this.getLocale()).indexOf(e)>=0,n.checked||r.hideRow(i)}),Ge(lr,this).view.adjustElementsSize(),Ge(lr,this).render()}else{let r;e===""?r=[...Ge(Jo,this)]:r=Ge(Jo,this).filter(n=>`${n.value}`.toLocaleLowerCase(this.getLocale()).indexOf(e)>=0),Ge(lr,this).loadData(r)}}function EDe(t){this.runLocalHooks("keydown",t,this),uY(op,t.keyCode)("ARROW_DOWN")&&(t.preventDefault(),Eo(t),Ge(lr,this).listen(),Ge(lr,this).selectCell(0,0))}function TDe(t){const e=[];t.preventDefault(),Ge(lr,this).getSourceData().forEach((r,n)=>{r.checked=!0,e.push(WY(r,n)[0])}),Ge(lr,this).setSourceDataAtCell(e)}function kDe(t){const e=[];t.preventDefault(),Ge(lr,this).getSourceData().forEach((r,n)=>{r.checked=!1,e.push(WY(r,n)[0])}),Ge(lr,this).setSourceDataAtCell(e)}function PDe(t,e){const r=Kw(e);return t.map(n=>(n.checked=r(n.value),n))}function NDe(t){const e=[];return t.forEach(r=>{r.checked&&e.push(r.value)}),e}function MDe(t,e){IDe(t,e),e.add(t)}function IDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function YV(t,e,r){return(e=ADe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ADe(t){var e=ODe(t,"string");return typeof e=="symbol"?e:e+""}function ODe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YS(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Q0=new WeakSet;class HDe extends Gw{constructor(e,r){super(e,{id:r.id,stateless:!1}),MDe(this,Q0),YV(this,"name",""),YV(this,"searchMode",void 0),this.name=r.name,this.searchMode=r.searchMode,this.elements.push(new Xv(this.hot,{searchMode:this.searchMode})),this.registerHooks()}registerHooks(){this.getMultipleSelectElement().addLocalHook("keydown",e=>YS(Q0,this,jDe).call(this,e)).addLocalHook("listTabKeydown",e=>this.runLocalHooks("listTabKeydown",e)),this.hot.addHook("modifyFiltersMultiSelectValue",(e,r)=>YS(Q0,this,DDe).call(this,e,r))}getElements(){const e=this.getMultipleSelectElement();return[e.getSearchInputElement(),e.getSelectAllElement(),e.getClearAllElement(),this.getMultipleSelectElement()]}setState(e){if(this.reset(),e&&e.command.key===$h){const r=this.getMultipleSelectElement();r.setItems(e.itemsSnapshot),r.setValue(e.args[0]),r.setLocale(e.locale)}}getState(){const e=this.getMultipleSelectElement(),r=e.getItems();return{command:{key:e.isSelectedAllValues()||!r.length?Vn:$h},args:[e.getValue()],itemsSnapshot:r}}updateState(e){const r=(n,i,s,o,a)=>{const[l]=ff(i,h=>h.name===$h),c={},d=this.hot.getTranslatedPhrase(T1);if(l){const h=o(n,a),f=Tt(h,w=>w.value),g=new Map(h.map(w=>[w.value,this.hot.getCellMeta(w.meta.visualRow,w.meta.visualCol)])),m=WI(f);s&&(l.args[0]=s);const p=[],y=HV(m,l.args[0],d,w=>{w.checked&&p.push(w.value),YS(Q0,this,GV).call(this,w,g)}),S=e.editedConditionStack.column;c.locale=this.hot.getCellMeta(0,S).locale,c.args=[p],c.command=Dh($h),c.itemsSnapshot=y}else c.args=[],c.command=Dh(Vn);this.state.setValueAtIndex(n,c)};r(e.editedConditionStack.column,e.editedConditionStack.conditions,e.conditionArgsChange,e.filteredRowsFactory),e.dependentConditionStacks.length&&r(e.dependentConditionStacks[0].column,e.dependentConditionStacks[0].conditions,e.conditionArgsChange,e.filteredRowsFactory,e.editedConditionStack)}getMultipleSelectElement(){return this.elements.filter(e=>e instanceof Xv)[0]}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,r,n,i,s,o)=>{oe(r.parentNode,"htFiltersMenuValue");const a=this.hot.rootDocument.createElement("div");return oe(a,"htFiltersMenuLabel"),a.textContent=o,r.appendChild(a),r.parentElement.hasAttribute("ghost-table")||B(this.elements,l=>r.appendChild(l.element)),r}}}reset(){const e=this.hot.getTranslatedPhrase(T1),r=this._getColumnVisibleValues(),n=r.map(l=>l.value),i=new Map(r.map(l=>[l.value,l.meta])),s=WI(n),o=HV(s,s,e,l=>{YS(Q0,this,GV).call(this,l,i)});this.getMultipleSelectElement().setItems(o),super.reset(),this.getMultipleSelectElement().setValue(s);const a=this.hot.getPlugin("filters").getSelectedColumn();a!==null&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,a.visualIndex).locale)}_getColumnVisibleValues(){const e=this.hot.getPlugin("filters").getSelectedColumn();return e===null?[]:Tt(this.hot.getDataAtCol(e.visualIndex),(r,n)=>({value:CD(r),meta:this.hot.getCellMeta(n,e.visualIndex)}))}}function jDe(t){op(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Eo(t)),op(t.keyCode,"ENTER")&&(this.searchMode==="apply"&&this.runLocalHooks("accept"),Eo(t))}function GV(t,e){this.hot.hasHook("modifyFiltersMultiSelectValue")&&(t.visualValue=this.hot.runHooks("modifyFiltersMultiSelectValue",t.visualValue,e.get(t.value)))}function DDe(t,e){switch(e.type){case"numeric":return KG(t,e);default:return t}}var uq;function $De(t,e){LDe(t,e),e.add(t)}function LDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function FDe(t,e,r){return(e=VDe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VDe(t){var e=WDe(t,"string");return typeof e=="symbol"?e:e+""}function WDe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BDe(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var KV=new WeakSet;class Qv extends Gw{static get BUTTON_OK(){return"ok"}static get BUTTON_CANCEL(){return"cancel"}constructor(e,r){super(e,{id:r.id,stateless:!0}),$De(this,KV),FDe(this,"name",""),this.name=r.name,this.elements.push(new ad(this.hot,{type:"button",value:vj,className:"htUIButton htUIButtonOK",identifier:Qv.BUTTON_OK})),this.elements.push(new ad(this.hot,{type:"button",value:wj,className:"htUIButton htUIButtonCancel",identifier:Qv.BUTTON_CANCEL})),this.registerHooks()}registerHooks(){B(this.elements,e=>{e.addLocalHook("click",(r,n)=>BDe(KV,this,zDe).call(this,r,n))})}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,r)=>(oe(r.parentNode,"htFiltersMenuActionBar"),B(this.elements,n=>r.appendChild(n.element)),r)}}accept(){this.runLocalHooks("accept")}cancel(){this.runLocalHooks("cancel")}}uq=Qv;function zDe(t,e){e.options.identifier===uq.BUTTON_OK?this.accept():this.cancel()}function _P(t,e,r){return(e=UDe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UDe(t){var e=YDe(t,"string");return typeof e=="symbol"?e:e+""}function YDe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const qV="ConditionCollection.filteringStates";class TD{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;_P(this,"hot",void 0),_P(this,"isMapRegistrable",void 0),_P(this,"filteringStates",new RR),this.hot=e,this.isMapRegistrable=r,this.isMapRegistrable===!0?this.hot.columnIndexMapper.registerMap(qV,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}isEmpty(){return this.getFilteredColumns().length===0}isMatch(e,r){var n;const i=this.filteringStates.getValueAtIndex(r),s=(n=i==null?void 0:i.conditions)!==null&&n!==void 0?n:[],o=i==null?void 0:i.operation;return this.isMatchInConditions(s,e,o)}isMatchInConditions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:od;return e.length?Lje(n)(e,r):!0}addCondition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:od,i=arguments.length>3?arguments[3]:void 0;const s=this.hot.getCellMeta(0,e).locale,o=r.args.map(d=>typeof d=="string"?d.toLocaleLowerCase(s):d),a=r.name||r.command.key;this.runLocalHooks("beforeAdd",e);const l=this.getOperation(e);if(l){if(l!==n)throw Error(kt`The column of index ${e} has been already applied with a \`${l}\`\x20
        filter operation. Use \`removeConditions\` to clear the current conditions and then add new ones.\x20
        Mind that you cannot mix different types of operations (for instance, if you use \`conjunction\`,\x20
        use it consequently for a particular column).`)}else if(cr(Gv[n]))throw new Error(kt`Unexpected operation named \`${n}\`. Possible ones are\x20
        \`disjunction\` and \`conjunction\`.`);const c=this.getConditions(e);c.length===0?this.filteringStates.setValueAtIndex(e,{operation:n,conditions:[{name:a,args:o,func:fd(a,o)}]},i):c.push({name:a,args:o,func:fd(a,o)}),this.runLocalHooks("afterAdd",e)}getConditions(e){var r,n;return(r=(n=this.filteringStates.getValueAtIndex(e))===null||n===void 0?void 0:n.conditions)!==null&&r!==void 0?r:[]}getOperation(e){var r;return(r=this.filteringStates.getValueAtIndex(e))===null||r===void 0?void 0:r.operation}getFilteredColumns(){return this.filteringStates.getEntries().map(e=>{let[r]=e;return r})}getColumnStackPosition(e){return this.getFilteredColumns().indexOf(e)}exportAllConditions(){return this.filteringStates.getEntries().reduce((e,r)=>{let[n,{operation:i,conditions:s}]=r;return e.push({column:n,operation:i,conditions:s.map(o=>{let{name:a,args:l}=o;return{name:a,args:[...l]}})}),e},[])}importAllConditions(e){this.clean(),e.forEach(r=>{r.conditions.forEach(n=>this.addCondition(r.column,n))})}removeConditions(e){this.runLocalHooks("beforeRemove",e),this.filteringStates.clearValue(e),this.runLocalHooks("afterRemove",e)}clean(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}hasConditions(e,r){const n=this.getConditions(e);return r?n.some(i=>i.name===r):n.length>0}destroy(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(qV),this.filteringStates=null,this.clearLocalHooks()}}Dt(TD,Tn);function XV(t,e,r){return(e=GDe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GDe(t){var e=KDe(t,"string");return typeof e=="symbol"?e:e+""}function KDe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dq{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>[];XV(this,"conditionCollection",void 0),XV(this,"columnDataFactory",void 0),this.conditionCollection=e,this.columnDataFactory=r}filter(){let e=[];return B(this.conditionCollection.getFilteredColumns(),(r,n)=>{let i=this.columnDataFactory(r);n&&(i=this._getIntersectData(i,e)),e=this.filterByColumn(r,i)}),e}filterByColumn(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=[];return B(r,i=>{i!==void 0&&this.conditionCollection.isMatch(i,e)&&n.push(i)}),n}_getIntersectData(e,r){const n=[];return B(r,i=>{const s=i.meta.visualRow;e[s]!==void 0&&(n[s]=e[s])}),n}}function qDe(t,e){XDe(t,e),e.add(t)}function XDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qd(t,e,r){return(e=QDe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QDe(t){var e=JDe(t,"string");return typeof e=="symbol"?e:e+""}function JDe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RP(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var GS=new WeakSet;class hq{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:()=>[];qDe(this,GS),qd(this,"hot",void 0),qd(this,"conditionCollection",void 0),qd(this,"columnDataFactory",void 0),qd(this,"changes",[]),qd(this,"grouping",!1),qd(this,"latestEditedColumnPosition",-1),qd(this,"latestOrderStack",[]),this.hot=e,this.conditionCollection=r,this.columnDataFactory=n,this.conditionCollection.addLocalHook("beforeRemove",i=>RP(GS,this,ZDe).call(this,i)),this.conditionCollection.addLocalHook("afterRemove",i=>this.updateStatesAtColumn(i)),this.conditionCollection.addLocalHook("afterAdd",i=>this.updateStatesAtColumn(i)),this.conditionCollection.addLocalHook("beforeClean",()=>RP(GS,this,e$e).call(this)),this.conditionCollection.addLocalHook("afterClean",()=>RP(GS,this,t$e).call(this))}groupChanges(){this.grouping=!0}flush(){this.grouping=!1,B(this.changes,e=>{this.updateStatesAtColumn(e)}),this.changes.length=0}updateStatesAtColumn(e,r){var n=this;if(this.grouping){this.changes.indexOf(e)===-1&&this.changes.push(e);return}const i=this.conditionCollection.exportAllConditions();let s=this.conditionCollection.getColumnStackPosition(e);s===-1&&(s=this.latestEditedColumnPosition);const o=i.slice(0,s),a=i.slice(s);a.length&&a[0].column===e&&a.shift();const l=ube(function(d,h){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const g=new TD(n.hot,!1),m=[].concat(d,f);g.importAllConditions(m);const p=n.columnDataFactory(h);let y;g.isEmpty()?y=p:y=new dq(g,w=>n.columnDataFactory(w)).filter(),y=Tt(y,w=>w.meta.visualRow);const S=Kw(y);return g.destroy(),ff(p,w=>S(w.meta.visualRow))})(o),c=[].concat(this.conditionCollection.getConditions(e));this.runLocalHooks("update",{editedConditionStack:{column:e,conditions:c},dependentConditionStacks:a,filteredRowsFactory:l,conditionArgsChange:r})}destroy(){this.clearLocalHooks(),dt(this,(e,r)=>{this[r]=null})}}function ZDe(t){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(t)}function e$e(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}function t$e(){B(this.latestOrderStack,t=>{this.updateStatesAtColumn(t)})}Dt(hq,Tn);function r$e(t){return IK({initialPage:0,size:()=>t.length,onItemSelect:(r,n)=>{const i=t[r];if(i instanceof Xv)return n;if(i.element&&!pf(i.element))return!1;i.focus()}})}const J0="filters";function n$e(t,e){let r=-1,n;const i=r$e(e),s=h=>()=>{n.isOpened()&&n.getKeyboardShortcutsCtrl().listen(J0),i.setCurrentPage(e.indexOf(h))};e.forEach(h=>{h instanceof ma&&(h.addLocalHook("click",s(h)),h.addLocalHook("focus",s(h)),h.addLocalHook("afterClose",s(h)))}),l(t);function o(h){const f=n.getKeyboardShortcutsCtrl(),g=h.getKeyboardShortcutsCtrl();i.clear(),g.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],forwardToContext:f.getContext(J0),callback:()=>{h.isSubMenu()&&h.close(),f.listen(J0)}}]),!h.isSubMenu()&&f.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:m=>{const p=n.getNavigator();p.getCurrentPage()>-1&&(r=p.getCurrentPage()),p.clear(),m.shiftKey?i.toPreviousItem():i.toNextItem()}},{keys:[["Escape"]],callback:()=>{n.close()}},{keys:[["Enter"],["Space"]],preventDefault:!1,callback:m=>{const p=e[i.getCurrentPage()];p instanceof Kv&&(p.openOptions(),m.preventDefault()),p instanceof qv&&(p.activate(),m.preventDefault()),p instanceof ma||m.preventDefault()}}],J0)}function a(){n.focus(),n.getKeyboardShortcutsCtrl().listen(J0)}function l(h){h.addLocalHook("afterSelectionChange",f=>{f.key.startsWith("filter_")||i.clear()}),h.addLocalHook("afterSubmenuOpen",o),h.addLocalHook("afterOpen",o),n=h}function c(){return n}function d(){return r}return{...i,listen:a,setMenu:l,getMenu:c,getLastMenuPage:d}}function i$e(t,e){fq(t,e),e.add(t)}function EP(t,e,r){fq(t,e),e.set(t,r)}function fq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Z0(t,e,r){return(e=s$e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s$e(t){var e=o$e(t,"string");return typeof e=="symbol"?e:e+""}function o$e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bC(t,e,r){return t.set(qi(t,e),r),r}function co(t,e){return t.get(qi(t,e))}function qi(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const zI="filters",a$e=250,QV=zI;var Ql=new WeakMap,UI=new WeakMap,Rh=new WeakMap,ws=new WeakSet;class l$e extends xt{static get PLUGIN_KEY(){return zI}static get PLUGIN_PRIORITY(){return a$e}static get DEFAULT_SETTINGS(){return{searchMode:"show"}}static get SETTINGS_VALIDATORS(){return{searchMode:e=>typeof e=="string"&&["show","apply"].includes(e)}}static get PLUGIN_DEPS(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}constructor(e){var r;super(e),r=this,i$e(this,ws),Z0(this,"dropdownMenuPlugin",null),Z0(this,"conditionCollection",null),Z0(this,"conditionUpdateObserver",null),Z0(this,"components",new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]])),Z0(this,"filtersRowsMap",null),EP(this,Ql,void 0),EP(this,UI,new WeakSet),EP(this,Rh,[]),this.hot.addHook("afterGetColHeader",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return qi(ws,r,m$e).call(r,...i)})}isEnabled(){return!!this.hot.getSettings()[zI]}enablePlugin(){var e=this;if(this.enabled)return;this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new $w),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");const r=this.hot.getSettings().dropdownMenu,n=r&&r.uiContainer||this.hot.rootPortalElement,i=a=>(a.addLocalHook("accept",()=>qi(ws,this,JV).call(this,"accept")),a.addLocalHook("cancel",()=>qi(ws,this,JV).call(this,"cancel")),a.addLocalHook("change",l=>qi(ws,this,g$e).call(this,a,l)),a),s=()=>`${this.hot.getTranslatedPhrase(fj)}:`,o=()=>`${this.hot.getTranslatedPhrase(gj)}:`;if(!this.components.get("filter_by_condition")){const a=new BI(this.hot,{id:"filter_by_condition",name:s,addSeparator:!1,menuContainer:n});a.addLocalHook("afterClose",()=>qi(ws,this,ZV).call(this)),this.components.set("filter_by_condition",i(a))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new wDe(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){const a=new BI(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:n});a.addLocalHook("afterClose",()=>qi(ws,this,ZV).call(this)),this.components.set("filter_by_condition2",i(a))}if(!this.components.get("filter_by_value")){const a=this.getSetting("searchMode");this.components.set("filter_by_value",i(new HDe(this.hot,{id:"filter_by_value",name:o,searchMode:a})))}if(this.components.get("filter_action_bar")||this.components.set("filter_action_bar",i(new Qv(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new TD(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new hq(this.hot,this.conditionCollection,a=>this.getDataMapAtColumn(a)),this.conditionUpdateObserver.addLocalHook("update",a=>qi(ws,this,p$e).call(this,a))),this.components.forEach(a=>a.show()),this.addHook("afterDropdownMenuDefaultOptions",function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return qi(ws,e,f$e).call(e,...l)}),this.addHook("beforeDropdownMenuShow",()=>qi(ws,this,h$e).call(this)),this.addHook("afterDropdownMenuShow",()=>qi(ws,this,u$e).call(this)),this.addHook("afterDropdownMenuHide",()=>qi(ws,this,d$e).call(this)),this.addHook("afterChange",a=>qi(ws,this,c$e).call(this,a)),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),!co(Ql,this)&&this.dropdownMenuPlugin.enabled){const a=[{focus:()=>{const c=co(Ql,this).getMenu(),d=c.getNavigator(),h=co(Ql,this).getLastMenuPage();c.focus(),h>0?d.setCurrentPage(h):d.toFirstItem()}},...Array.from(this.components).map(c=>{let[,d]=c;return d.getElements()}).flat()];bC(Ql,this,n$e(this.dropdownMenuPlugin.menu,a));const l=c=>{co(Ql,this).listen(),c.preventDefault(),op(c.keyCode,"TAB")&&(c.shiftKey?co(Ql,this).toPreviousItem():co(Ql,this).toNextItem())};this.components.get("filter_by_value").addLocalHook("listTabKeydown",l),this.components.get("filter_by_condition").addLocalHook("selectTabKeydown",l)}this.registerShortcuts(),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){if(this.enabled){var e;(e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach((r,n)=>{r.destroy(),this.components.set(n,null)}),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)}this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Alt","A"]],stopPropagation:!0,callback:()=>{const e=this.hot.getSelected();this.clearConditions(),this.filter(),e&&this.hot.selectCells(e)},group:QV})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(QV)}addCondition(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:od;const s=this.hot.toPhysicalColumn(e);this.conditionCollection.addCondition(s,{command:{key:r},args:n},i)}removeConditions(e){const r=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(r)}clearConditions(e){if(e===void 0)this.conditionCollection.clean();else{const r=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(r)}}importConditions(e){this.conditionCollection.importAllConditions(e)}exportConditions(){return this.conditionCollection.exportAllConditions()}filter(){const{navigableHeaders:e}=this.hot.getSettings(),r=this._createDataFilter(),n=!this.conditionCollection.isEmpty();let i=[];const s=this.exportConditions(),o=this.hot.runHooks("beforeFilter",s,co(Rh,this));if(o!==!1&&n){const a=[];this.hot.batchExecution(()=>{this.filtersRowsMap.clear(),i=Tt(r.filter(),c=>c.meta.visualRow);const l=Kw(i);Ie(this.hot.countSourceRows()-1,c=>{l(c)||a.push(c)}),B(a,c=>{this.filtersRowsMap.setValueAtIndex(c,!0)})},!0),!e&&!i.length&&this.hot.deselectCell(),bC(Rh,this,this.exportConditions())}else o!==!1&&!n?(bC(Rh,this,this.exportConditions()),this.filtersRowsMap.clear()):this.importConditions(co(Rh,this));this.hot.selection.isSelected()&&this.hot.selectCell(e?-1:0,this.hot.getSelectedRangeActive().highlight.col),o!==!1&&(this.hot.runHooks("afterFilter",s),this.hot.view.adjustElementsSize(),this.hot.render())}getSelectedColumn(){var e;const r=(e=this.hot.getSelectedRangeActive())===null||e===void 0?void 0:e.highlight;return r?{visualIndex:r.col,physicalIndex:this.hot.toPhysicalColumn(r.col)}:null}getDataMapAtColumn(e){const r=this.hot.toVisualColumn(e),n=[];return B(this.hot.getSourceDataAtCol(r),(i,s)=>{var o;const{row:a,col:l,visualCol:c,visualRow:d,type:h,instance:f,dateFormat:g,locale:m}=this.hot.getCellMeta(s,r),p=(o=this.hot.getDataAtCell(this.hot.toVisualRow(s),r))!==null&&o!==void 0?o:i;n.push({meta:{row:a,col:l,visualCol:c,visualRow:d,type:h,instance:f,dateFormat:g,locale:m},value:CD(p)})}),n}updateValueComponentCondition(e){const r=this.hot.getDataAtCol(e),n=WI(r);this.conditionUpdateObserver.updateStatesAtColumn(e,n)}restoreComponents(e){var r;const n=(r=this.getSelectedColumn())===null||r===void 0?void 0:r.physicalIndex;e.forEach(i=>{i.isHidden()||i.restoreState(n)}),this.updateDependentComponentsVisibility()}getOperationBasedOnArguments(e,r,n,i){let s=e;return s===X1&&r.command.key!==Vn&&n.command.key!==Vn&&i.command.key!==Vn?s=RD:i.command.key!==Vn&&(r.command.key===Vn||n.command.key===Vn)&&(s=od),s}setListeningDropdownMenu(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}updateDependentComponentsVisibility(){const e=this.components.get("filter_by_condition"),{command:r}=e.getState(),n=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];r.showOperators?this.showComponents(...n):this.hideComponents(...n)}_createDataFilter(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.conditionCollection;return new dq(e,r=>this.getDataMapAtColumn(r))}getIndexesOfComponents(){const e=[];if(!this.dropdownMenuPlugin)return e;const r=this.dropdownMenuPlugin.menu;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return B(i,o=>{B(r.menuItems,(a,l)=>{a.key===o.getMenuItemDescriptor().key&&e.push(l)})}),e}changeComponentsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.dropdownMenuPlugin)return;const n=this.dropdownMenuPlugin.menu.hotMenu,i=n.getPlugin("hiddenRows");for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];const l=this.getIndexesOfComponents(...o);e?i.showRows(l):i.hideRows(l),n.render()}hideComponents(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.changeComponentsVisibility(!1,...r)}showComponents(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.changeComponentsVisibility(!0,...r)}destroy(){this.enabled&&(this.components.forEach((e,r)=>{e!==null&&(e.destroy(),this.components.set(r,null))}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),super.destroy()}}function c$e(t){t&&B(t,e=>{const[,r]=e,n=this.hot.propToCol(r);this.conditionCollection.hasConditions(n)&&this.updateValueComponentCondition(n)})}function u$e(){const t=this.dropdownMenuPlugin.menu;this.restoreComponents(Array.from(this.components.values())),t.updateMenuDimensions()}function d$e(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}function h$e(){const t=this.dropdownMenuPlugin.menu;co(UI,this).has(t)||co(Ql,this).setMenu(t),co(UI,this).add(t)}function f$e(t){t.items.push({name:ut}),this.components.forEach(e=>{t.items.push(e.getMenuItemDescriptor())})}function JV(t){var e;if(t==="accept"){const n=this.getSelectedColumn();if(n===null){var r;(r=this.dropdownMenuPlugin)===null||r===void 0||r.close();return}const{physicalIndex:i}=n,s=this.components.get("filter_by_condition").getState(),o=this.components.get("filter_by_condition2").getState(),a=this.components.get("filter_by_value").getState(),l=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),s,o,a);this.conditionUpdateObserver.groupChanges();let c=this.conditionCollection.getColumnStackPosition(i);c===-1&&(c=void 0),this.conditionCollection.removeConditions(i),s.command.key!==Vn&&(this.conditionCollection.addCondition(i,s,l,c),o.command.key!==Vn&&this.conditionCollection.addCondition(i,o,l,c)),a.command.key!==Vn&&this.conditionCollection.addCondition(i,a,l,c),this.conditionUpdateObserver.flush(),this.components.forEach(d=>d.saveState(i)),this.filter()}(e=this.dropdownMenuPlugin)===null||e===void 0||e.close()}function g$e(t,e){const r=this.dropdownMenuPlugin.menu;this.updateDependentComponentsVisibility(),t.constructor===BI&&!e.inputsCount&&this.setListeningDropdownMenu(),r.updateMenuDimensions()}function ZV(){this.setListeningDropdownMenu()}function m$e(t,e,r){const n=this.hot.toPhysicalColumn(t);this.enabled&&this.conditionCollection.hasConditions(n)&&r===this.hot.view.getColumnHeadersCount()-1?oe(e,"htFiltersActive"):Re(e,"htFiltersActive")}function p$e(t){var e;if(!((e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled))return;const{editedConditionStack:{conditions:r,column:n},conditionArgsChange:i}=t;Array.isArray(i)&&bC(Rh,this,co(Rh,this).map(a=>(a.column===n&&r.length>0&&a.conditions.forEach(l=>{l.name==="by_value"&&(l.args=[[...i]])}),a)));const s=r.filter(a=>a.name===$h),o=r.filter(a=>a.name!==$h);if(s.length>=2||o.length>=3)at(kt`The filter conditions have been applied properly, but couldnt be displayed visually.\x20
        The overall amount of conditions exceed the capability of the dropdown menu.\x20
        For more details see the documentation.`);else{const a=this.conditionCollection.getOperation(n);this.components.get("filter_by_condition").updateState(o[0],n),this.components.get("filter_by_condition2").updateState(o[1],n),this.components.get("filter_operators").updateState(a,n),this.components.get("filter_by_value").updateState(t)}}const gq="internal-use-in-handsontable",YI={licenseKey:gq,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!1,nullDate:{year:1899,month:12,day:30},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function mq(t){var e;return{maxColumns:t.maxColumns,maxRows:t.maxRows,language:(e=t[fi])===null||e===void 0||(e=e.language)===null||e===void 0?void 0:e.langCode}}function pq(t){return Object.keys(t).reduce((e,r)=>(r!=="hyperformula"&&(e[r]=t[r]),e),{})}function y$e(t){var e;const r=t[fi],n=pq(r!=null&&(e=r.engine)!==null&&e!==void 0&&e.hyperformula?r.engine:{}),i=mq(t);return{...YI,...n,...i}}function v$e(t){var e;const r=t[fi],n=pq(r!=null&&(e=r.engine)!==null&&e!==void 0&&e.hyperformula?r.engine:{}),i=mq(t);return{...n,...i}}function w$e(t,e){return Object.keys(e).some(r=>e[r]!==void 0&&e[r]!==t[r])}function GR(){const t="engine_relationship",e=No(fi);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function kD(){const t="shared_engine_usage",e=No(fi);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function b$e(t){const e=t.getSettings(),r=e[fi],n=r==null?void 0:r.engine;if(r===!0||cr(n))return null;if(typeof n.hyperformula=="function"||typeof n=="function"){var i;return S$e((i=n.hyperformula)!==null&&i!==void 0?i:n,e,t)}else if(typeof n=="object"&&cr(n.hyperformula)){const s=GR(),o=kD().get(n);return s.has(n)||s.set(n,[]),s.get(n).push(t),o&&o.push(t.guid),n.getConfig().licenseKey||n.updateConfig({licenseKey:gq}),(n.getConfig().leapYear1900!==YI.leapYear1900||pR(n.getConfig().nullDate,YI.nullDate)===!1)&&at(kt`If you use HyperFormula with Handsontable, keep the default \`leapYear1900\` and \`nullDate\` 
      settings. Otherwise, HyperFormula's dates may not sync correctly with Handsontable's dates.`),n}return null}function S$e(t,e,r){const n=e[fi],i=y$e(e),s=GR(),o=kD();x$e(t,n.functions),C$e(t,n.language);const a=t.buildEmpty(i);return s.set(a,[r]),o.set(a,[r.guid]),_$e(a,n.namedExpressions),a.on("sheetAdded",()=>{a.rebuildAndRecalculate()}),a.on("sheetRemoved",()=>{a.rebuildAndRecalculate()}),a}function eW(t){var e;const r=GR(),n=r.size===0?[]:Array.from((e=r.get(t))!==null&&e!==void 0?e:[]);return new Map(n.map(i=>[i.getPlugin("formulas").sheetId,i]))}function tW(t,e){if(t){const r=GR(),n=r.get(t),i=kD(),s=i.get(t);n&&n.includes(e)&&(n.splice(n.indexOf(e),1),n.length===0&&r.delete(t)),s&&s.includes(e.guid)&&(s.splice(s.indexOf(e.guid),1),s.length===0&&(i.delete(t),t.destroy()))}}function x$e(t,e){e&&e.forEach(r=>{const{name:n,plugin:i,translations:s}=r;try{t.registerFunction(n,i,s)}catch(o){at(o.message)}})}function C$e(t,e){if(e){const{langCode:r}=e;try{t.registerLanguage(r,e)}catch(n){at(n.message)}}}function _$e(t,e){e&&(t.suspendEvaluation(),e.forEach(r=>{const{name:n,expression:i,scope:s,options:o}=r;try{t.addNamedExpression(n,i,s,o)}catch(a){at(a.message)}}),t.resumeEvaluation())}function R$e(t,e){return(cr(e)||!t.doesSheetExist(e))&&(e=t.addSheet(e)),e}const yq="DD/MM/YYYY";function E$e(t){return typeof t=="string"&&t.charAt(0)==="'"&&t.charAt(1)==="="}function T$e(t){return E$e(t)?t.substr(1):t}function k$e(t){return typeof t=="string"&&t.startsWith("=")}function PD(t,e){return typeof t=="string"&&e==="date"}function vq(t,e){return he(t,e,!0).isValid()}function wq(t,e){return he(t,e,!0).format(yq)}function P$e(t,e){return he(t,yq,!0).format(e)}function bq(t,e){const n=new Date(Date.UTC(0,0,t+-1));return he(n).format(e)}function N$e(t,e,r){const n=Array.from(Array(r).keys()).filter(s=>t.includes(s)===!1);if(e===0){var i;return(i=n[e])!==null&&i!==void 0?i:0}return n[e-1]+1}function M$e(t,e){const r=[];return t.forEach(n=>{const i={from:n,to:e};r.forEach(s=>{const o=s.from>s.to,a=s.to<=i.from;s.from>i.from&&a&&o&&(i.from+=1)}),i.from>=e&&(e+=1),r.push(i)}),r}function I$e(t){return t.forEach((e,r)=>{t.slice(r+1).forEach(i=>{const s=i.from<i.to;i.from>e.from&&s&&(i.from-=1)})}),t}function ND(t,e,r){const n=M$e(t,N$e(t,e,r));return I$e(n)}function Xd(t,e,r){A$e(t,e),e.set(t,r)}function A$e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sr(t,e){return t.get(Sq(t,e))}function uu(t,e,r){return t.set(Sq(t,e),r),r}function Sq(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var ey=new WeakMap,du=new WeakMap,bs=new WeakMap,KS=new WeakMap,TP=new WeakMap,kP=new WeakMap,qS=new WeakMap;class rW{constructor(e,r,n){Xd(this,ey,void 0),Xd(this,du,void 0),Xd(this,bs,void 0),Xd(this,KS,[]),Xd(this,TP,[]),Xd(this,kP,void 0),Xd(this,qS,[]),uu(ey,this,e),uu(du,this,r),uu(bs,this,n)}setRemovedHfIndexes(e){return uu(qS,this,e.map(r=>{const n=sr(du,this).getVisualFromPhysicalIndex(r);return this.getHfIndexFromVisualIndex(n)})),sr(qS,this)}getRemovedHfIndexes(){return sr(qS,this)}getHfIndexFromVisualIndex(e){const r=sr(du,this).getIndexesSequence(),n=sr(du,this).getNotTrimmedIndexes();return r.indexOf(n[e],e)}syncMoves(e){const n=`move${wa(sr(ey,this))}s`;sr(bs,this).getEngine().batch(()=>{e.forEach(i=>{const s=i.from!==i.to,o=i.from+1!==i.to;s&&o&&sr(bs,this).getEngine()[n](sr(bs,this).getSheetId(),i.from,1,i.to)})})}storeMovesInformation(e,r,n){n!==!1&&(uu(TP,this,e.map(i=>this.getHfIndexFromVisualIndex(i))),uu(kP,this,this.getHfIndexFromVisualIndex(r)))}calculateAndSyncMoves(e,r){if(sr(bs,this).isPerformingUndoRedo()||e===!1||r===!1)return;const n=ND(sr(TP,this),sr(kP,this),sr(du,this).getNumberOfIndexes());sr(bs,this).getSheetId()===null?sr(bs,this).getPostponeAction(()=>this.syncMoves(n)):this.syncMoves(n)}getIndexesChangeSyncMethod(){const e=`set${wa(sr(ey,this))}Order`;return r=>{if(sr(bs,this).isPerformingUndoRedo())return;const n=sr(du,this).getIndexesSequence();if(r==="update"&&n.length>0){const i=sr(KS,this).map(l=>n.indexOf(l)),s=sr(bs,this).getEngine().getSheetDimensions(sr(bs,this).getSheetId());let o;sr(ey,this)==="row"?o=s.height:o=s.width;const a=i.length;for(let l=a;l<o;l+=1)i.push(l);sr(bs,this).getEngine()[e](sr(bs,this).getSheetId(),i)}uu(KS,this,n)}}init(){uu(KS,this,sr(du,this).getIndexesSequence())}}function Qd(t,e,r){O$e(t,e),e.set(t,r)}function O$e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gl(t,e){return t.get(xq(t,e))}function Jd(t,e,r){return t.set(xq(t,e),r),r}function xq(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var XS=new WeakMap,QS=new WeakMap,PP=new WeakMap,NP=new WeakMap,MP=new WeakMap,IP=new WeakMap,AP=new WeakMap;class H$e{constructor(e,r,n){Qd(this,XS,void 0),Qd(this,QS,void 0),Qd(this,PP,void 0),Qd(this,NP,!1),Qd(this,MP,!1),Qd(this,IP,null),Qd(this,AP,null),Jd(XS,this,new rW("row",e,this)),Jd(QS,this,new rW("column",r,this)),Jd(PP,this,n)}getForAxis(e){return e==="row"?Gl(XS,this):Gl(QS,this)}setPerformUndo(e){Jd(NP,this,e)}setPerformRedo(e){Jd(MP,this,e)}isPerformingUndoRedo(){return Gl(NP,this)||Gl(MP,this)}getSheetId(){return Gl(AP,this)}getEngine(){return Gl(IP,this)}getPostponeAction(){return Gl(PP,this)}setupSyncEndpoint(e,r){Jd(IP,this,e),Jd(AP,this,r),Gl(XS,this).init(),Gl(QS,this).init()}}function j$e(t,e){Cq(t,e),e.add(t)}function Zd(t,e,r){return(e=D$e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D$e(t){var e=$$e(t,"string");return typeof e=="symbol"?e:e+""}function $$e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OP(t,e,r){Cq(t,e),e.set(t,r)}function Cq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gd(t,e,r){return t.set(it(t,e),r),r}function rf(t,e){return t.get(it(t,e))}function it(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const fi="formulas",L$e=["maxRows","maxColumns","language"],F$e=260;_e.getSingleton().register("afterNamedExpressionAdded");_e.getSingleton().register("afterNamedExpressionRemoved");_e.getSingleton().register("afterSheetAdded");_e.getSingleton().register("afterSheetRemoved");_e.getSingleton().register("afterSheetRenamed");_e.getSingleton().register("afterFormulasValuesUpdate");const Lp=t=>t==="UndoRedo.undo"||t==="UndoRedo.redo"||t==="auto";var Hc=new WeakMap,KR=new WeakMap,ty=new WeakMap,lt=new WeakSet;class V$e extends xt{constructor(){var e;super(...arguments),e=this,j$e(this,lt),OP(this,Hc,!1),OP(this,KR,!1),OP(this,ty,[["valuesUpdated",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return it(lt,e,nLe).call(e,...n)}],["namedExpressionAdded",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return it(lt,e,iLe).call(e,...n)}],["namedExpressionRemoved",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return it(lt,e,sLe).call(e,...n)}],["sheetAdded",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return it(lt,e,oLe).call(e,...n)}],["sheetRenamed",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return it(lt,e,aLe).call(e,...n)}],["sheetRemoved",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return it(lt,e,lLe).call(e,...n)}]]),Zd(this,"staticRegister",No("formulas")),Zd(this,"engine",null),Zd(this,"sheetId",null),Zd(this,"sheetName",null),Zd(this,"indexSyncer",null),Zd(this,"rowAxisSyncer",null),Zd(this,"columnAxisSyncer",null)}static get PLUGIN_KEY(){return fi}static get PLUGIN_PRIORITY(){return F$e}static get SETTING_KEYS(){return[fi,...L$e]}isEnabled(){return!!this.hot.getSettings()[fi]}enablePlugin(){var e,r=this;if(!this.enabled){if(this.engine=(e=b$e(this.hot))!==null&&e!==void 0?e:this.engine,!this.engine){at("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.");return}if(this.sheetName!==null&&!this.engine.doesSheetExist(this.sheetName)){const n=this.addSheet(this.sheetName,it(lt,this,Jv).call(this));n!==!1&&it(lt,this,Jy).call(this,n)}this.addHook("beforeLoadData",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,nW).call(r,...i)}),this.addHook("afterLoadData",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,iW).call(r,...i)}),this.addHook("beforeUpdateData",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,nW).call(r,...i)}),this.addHook("afterUpdateData",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,iW).call(r,...i)}),this.addHook("modifyData",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,U$e).call(r,...i)}),this.addHook("modifySourceData",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,Y$e).call(r,...i)}),this.addHook("beforeValidate",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,W$e).call(r,...i)}),this.addHook("afterSetSourceDataAtCell",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,G$e).call(r,...i)}),this.addHook("afterSetDataAtCell",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,sW).call(r,...i)}),this.addHook("afterSetDataAtRowProp",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,sW).call(r,...i)}),this.addHook("beforeCreateRow",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,K$e).call(r,...i)}),this.addHook("beforeCreateCol",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,q$e).call(r,...i)}),this.addHook("afterCreateRow",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,J$e).call(r,...i)}),this.addHook("afterCreateCol",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,Z$e).call(r,...i)}),this.addHook("beforeRemoveRow",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,X$e).call(r,...i)}),this.addHook("beforeRemoveCol",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,Q$e).call(r,...i)}),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,eLe).call(r,...i)}),this.addHook("afterRemoveCol",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,tLe).call(r,...i)}),this.indexSyncer=new H$e(this.hot.rowIndexMapper,this.hot.columnIndexMapper,n=>{this.hot.addHookOnce("init",()=>{n()})}),this.rowAxisSyncer=this.indexSyncer.getForAxis("row"),this.columnAxisSyncer=this.indexSyncer.getForAxis("column"),this.hot.addHook("afterRowSequenceChange",this.rowAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("afterColumnSequenceChange",this.columnAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("beforeRowMove",(n,i,s,o)=>{this.rowAxisSyncer.storeMovesInformation(n,i,o)}),this.hot.addHook("beforeColumnMove",(n,i,s,o)=>{this.columnAxisSyncer.storeMovesInformation(n,i,o)}),this.hot.addHook("afterRowMove",(n,i,s,o,a)=>{this.rowAxisSyncer.calculateAndSyncMoves(o,a)}),this.hot.addHook("afterColumnMove",(n,i,s,o,a)=>{this.columnAxisSyncer.calculateAndSyncMoves(o,a)}),this.hot.addHook("beforeColumnFreeze",(n,i)=>{this.columnAxisSyncer.storeMovesInformation([n],this.hot.getSettings().fixedColumnsStart,i)}),this.hot.addHook("afterColumnFreeze",(n,i)=>{this.columnAxisSyncer.calculateAndSyncMoves(i,i)}),this.hot.addHook("beforeColumnUnfreeze",(n,i)=>{this.columnAxisSyncer.storeMovesInformation([n],this.hot.getSettings().fixedColumnsStart-1,i)}),this.hot.addHook("afterColumnUnfreeze",(n,i)=>{this.columnAxisSyncer.calculateAndSyncMoves(i,i)}),this.addHook("afterCellMetaReset",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,z$e).call(r,...i)}),this.addHook("beforeUndo",()=>{this.indexSyncer.setPerformUndo(!0),this.engine.undo()}),this.addHook("beforeRedo",()=>{this.indexSyncer.setPerformRedo(!0),this.engine.redo()}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformUndo(!1)}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformRedo(!1)}),this.addHook("afterDetachChild",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,rLe).call(r,...i)}),this.addHook("beforeAutofill",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return it(lt,r,B$e).call(r,...i)}),rf(ty,this).forEach(n=>{let[i,s]=n;return this.engine.on(i,s)}),super.enablePlugin()}}disablePlugin(){rf(ty,this).forEach(e=>{let[r,n]=e;return this.engine.off(r,n)}),tW(this.engine,this.hot),this.engine=null,super.disablePlugin()}updatePlugin(e){const r=v$e(this.hot.getSettings());w$e(this.engine.getConfig(),r)&&this.engine.updateConfig(r);const n=this.hot.getSettings()[fi];if(xe(n)&&xe(n.sheetName)&&n.sheetName!==this.sheetName&&this.switchSheet(n.sheetName),!e.data&&this.sheetName===null){const i=this.hot.getSettings()[fi].sheetName;if(i&&this.engine.doesSheetExist(i))this.switchSheet(this.sheetName);else{const s=this.addSheet(i??void 0,it(lt,this,Jv).call(this));it(lt,this,Jy).call(this,s)}}super.updatePlugin(e)}destroy(){rf(ty,this).forEach(e=>{var r;let[n,i]=e;return(r=this.engine)===null||r===void 0?void 0:r.off(n,i)}),gd(ty,this,null),tW(this.engine,this.hot),this.engine=null,super.destroy()}addSheet(e,r){if(xe(r)&&!D_e(r))return at("The provided data should be an array of arrays."),!1;if(e!=null&&this.engine.doesSheetExist(e))return at("Sheet with the provided name already exists."),!1;try{const n=this.engine.addSheet(e??void 0);return r&&this.engine.setSheetContent(this.engine.getSheetId(n),r),n}catch(n){return at(n.message),!1}}switchSheet(e){if(!this.engine.doesSheetExist(e)){N2(`The sheet named \`${e}\` does not exist, switch aborted.`);return}it(lt,this,Jy).call(this,e);const r=this.engine.getSheetSerialized(this.sheetId);r.length>0&&this.hot.loadData(r,`${wa(fi)}.switchSheet`)}getCellType(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;const i=this.hot.toPhysicalRow(e),s=this.hot.toPhysicalColumn(r);return i!==null&&s!==null?this.engine.getCellType({sheet:n,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r)}):"EMPTY"}isFormulaCellType(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;return this.engine.doesCellHaveFormula({sheet:n,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r)})}renderDependentSheets(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=new Set;e.forEach(i=>{var s;const o=i==null||(s=i.address)===null||s===void 0?void 0:s.sheet;o!==void 0&&(n.has(o)||n.add(o))}),eW(this.engine).forEach((i,s)=>{if((r||s!==this.sheetId)&&n.has(s)){var o;i.render(),(o=i.view)===null||o===void 0||o.adjustElementsSize()}})}validateDependentCells(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=s=>{var o;const{row:a,col:l,sheet:c}=(o=s==null?void 0:s.address)!==null&&o!==void 0?o:{};return xe(c)?`${c}:${a}x${l}`:""},i=new Set(r.map(s=>n(s)));e.forEach(s=>{var o,a;const{row:l,col:c}=(o=s.address)!==null&&o!==void 0?o:{};if(xe(l)===!1||xe(c)===!1||l>=this.hot.countRows()||c>=this.hot.countCols())return;const d=s==null||(a=s.address)===null||a===void 0?void 0:a.sheet,h=n(s);if(d!==void 0&&!i.has(h)){const f=eW(this.engine).get(d);if(!f)return;f.validateCell(f.getDataAtCell(l,c),f.getCellMeta(l,c),()=>{})}})}syncChangeWithEngine(e,r,n){const i={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(i)){at(`Not possible to set cell data at ${JSON.stringify(i)}`);return}const s=this.hot.getCellMeta(e,r);return PD(n,s.type)&&(vq(n,s.dateFormat)?n=wq(n,s.dateFormat):k$e(n)===!1&&(n=`'${n}`)),this.engine.setCellContents(i,n)}}function Jy(t){this.sheetName=t,this.sheetId=this.engine.getSheetId(this.sheetName)}function _q(t,e,r){if(Le(r)&&r!==null){const n=this.hot.toVisualRow(t),i=this.hot.toVisualColumn(e),s=this.hot.getCellMeta(n,i).valueGetter;return s?s.call(this.hot,r):r.toString()}return r}function Jv(t,e,r,n){return this.hot.getSourceDataArray(t,e,r,n).map((i,s)=>i.map((o,a)=>it(lt,this,_q).call(this,s,a,o)))}function W$e(t,e,r){const n=this.hot.propToCol(r);if(this.isFormulaCellType(e,n)){const i={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n),sheet:this.sheetId},s=this.hot.getCellMeta(e,n);let o=this.engine.getCellValue(i);return s.type==="date"&&Ii(o)&&(o=bq(o,s.dateFormat)),typeof o=="object"&&o!==null?o.value:o}return t}function B$e(t,e,r){const{row:n,col:i}=e.getTopStartCorner(),{row:s,col:o}=e.getBottomEndCorner(),{row:a,col:l}=r.getTopStartCorner(),{row:c,col:d}=r.getBottomEndCorner(),h={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(n),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(i),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(s),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId}},f={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(a),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(c),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(d),sheet:this.sheetId}};if(this.engine.isItPossibleToSetCellContents(f)===!1)return!1;const g=this.engine.getFillRangeData(h,f),{row:m,col:p}=h.start,{row:y,col:S}=h.end,w=y-m+1,b=S-p+1;for(let C=0;C<g.length;C+=1)for(let N=0;N<g[C].length;N+=1){const P=g[C][N],k=m+C%w,R=p+N%b,I=this.hot.getCellMeta(k,R);PD(P,I.type)&&(P.startsWith("'")?g[C][N]=P.slice(1):this.isFormulaCellType(k,R,this.sheetId)===!1&&(g[C][N]=P$e(P,I.dateFormat)))}return g}function nW(t,e){(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(wa(fi))||gd(KR,this,cr(this.hot.getSettings().data))}function z$e(){if(rf(KR,this)){this.switchSheet(this.sheetName);return}const t=it(lt,this,Jv).call(this);t.forEach((r,n)=>{r.forEach((i,s)=>{const o=this.hot.getCellMeta(n,s,{skipMetaExtension:!0}),a=o.dateFormat;PD(i,o.type)&&(vq(i,a)?t[n][s]=wq(i,a):i.startsWith("=")||(t[n][s]=`'${i}`))})}),gd(Hc,this,!0);const e=this.engine.setSheetContent(this.sheetId,t);this.indexSyncer.setupSyncEndpoint(this.engine,this.sheetId),this.renderDependentSheets(e),gd(Hc,this,!1)}function iW(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(r.includes(wa(fi)))return;const n=R$e(this.engine,this.hot.getSettings()[fi].sheetName);if(it(lt,this,Jy).call(this,n),r!=="updateSettings")if(rf(KR,this))this.switchSheet(this.sheetName);else{const i=it(lt,this,Jv).call(this);if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,i)){gd(Hc,this,!0);const s=this.engine.setSheetContent(this.sheetId,i);this.indexSyncer.setupSyncEndpoint(this.engine,this.sheetId),this.renderDependentSheets(s),gd(Hc,this,!1)}}}function U$e(t,e,r,n){if(n!=="get"||rf(Hc,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName)||t===null||e===null)return;const i=this.getCellType(t,e);if(i==="VALUE"||i==="EMPTY"){r.value=T$e(r.value);return}const s={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(t),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(e),sheet:this.sheetId};let o=this.engine.getCellValue(s);const a=this.hot.getCellMeta(t,e,{skipMetaExtension:!0});a.type==="date"&&Ii(o)&&(o=bq(o,a.dateFormat)),r.value=typeof o=="object"&&o!==null?o.value:o}function Y$e(t,e,r,n){if(n!=="get"||rf(Hc,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;const i=this.hot.toVisualRow(t),s=this.hot.propToCol(e);if(i===null||s===null)return;const o=this.getCellType(i,s);if(o==="VALUE"||o==="EMPTY")return;const a=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(a.width===0&&a.height===0)return;const l={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(s),sheet:this.sheetId};r.value=this.engine.getCellSerialized(l)}function sW(t,e){if(Lp(e))return;const r=[],n=[],i=this.engine.batch(()=>{t.forEach(s=>{let[o,a,,l]=s;const c=this.hot.propToCol(a),d=this.hot.toPhysicalRow(o),h=this.hot.toPhysicalColumn(c),f={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(c),sheet:this.sheetId};l=it(lt,this,_q).call(this,d,h,l),d!==null&&h!==null?this.syncChangeWithEngine(o,c,l):r.push([o,c,l]),n.push({address:f})})});r.length&&this.hot.addHookOnce("afterChange",()=>{const s=this.engine.batch(()=>{r.forEach(o=>{let[a,l,c]=o;this.syncChangeWithEngine(a,l,c)})});this.renderDependentSheets(s,!0)}),this.renderDependentSheets(i),this.validateDependentCells(i,n)}function G$e(t,e){if(Lp(e))return;const r=[],n=[];t.forEach(i=>{let[s,o,,a]=i;const l=this.hot.propToCol(o);if(!Ii(l))return;const c={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(s),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(c)){at(`Not possible to set source cell data at ${JSON.stringify(c)}`);return}n.push({address:c}),r.push(...this.engine.setCellContents(c,a))}),this.renderDependentSheets(r),this.validateDependentCells(r,n)}function K$e(t,e){let r=this.rowAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countRows()&&(r=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[r,e]))return!1}function q$e(t,e){let r=this.columnAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countCols()&&(r=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[r,e]))return!1}function X$e(t,e,r){return this.rowAxisSyncer.setRemovedHfIndexes(r).every(s=>this.engine.isItPossibleToRemoveRows(this.sheetId,[s,1]))===!1?!1:void 0}function Q$e(t,e,r){return this.columnAxisSyncer.setRemovedHfIndexes(r).every(s=>this.engine.isItPossibleToRemoveColumns(this.sheetId,[s,1]))===!1?!1:void 0}function J$e(t,e,r){if(Lp(r))return;const n=this.engine.addRows(this.sheetId,[this.rowAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(n)}function Z$e(t,e,r){if(Lp(r))return;const n=this.engine.addColumns(this.sheetId,[this.columnAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(n)}function eLe(t,e,r,n){if(Lp(n))return;const i=this.rowAxisSyncer.getRemovedHfIndexes().sort((o,a)=>a-o),s=this.engine.batch(()=>{i.forEach(o=>{this.engine.removeRows(this.sheetId,[o,1])})});this.renderDependentSheets(s)}function tLe(t,e,r,n){if(Lp(n))return;const i=this.columnAxisSyncer.getRemovedHfIndexes().sort((o,a)=>a-o),s=this.engine.batch(()=>{i.forEach(o=>{this.engine.removeColumns(this.sheetId,[o,1])})});this.renderDependentSheets(s)}function rLe(t,e,r){var n;gd(Hc,this,!0);const i=it(lt,this,Jv).call(this,r,0,r+(((n=e.__children)===null||n===void 0?void 0:n.length)||0),this.hot.countSourceCols());gd(Hc,this,!1),i.forEach((s,o)=>{s.forEach((a,l)=>{this.engine.setCellContents({col:l,row:r+o,sheet:this.sheetId},[[a]])})})}function nLe(t){this.hot.runHooks("afterFormulasValuesUpdate",t)}function iLe(t,e){this.hot.runHooks("afterNamedExpressionAdded",t,e)}function sLe(t,e){this.hot.runHooks("afterNamedExpressionRemoved",t,e)}function oLe(t){this.hot.runHooks("afterSheetAdded",t)}function aLe(t,e){it(lt,this,Jy).call(this,e),this.hot.runHooks("afterSheetRenamed",t,e)}function lLe(t,e){this.hot.runHooks("afterSheetRemoved",t,e)}function cLe(t){return{key:"hidden_columns_hide",name(){const e=this.getSelectedActive();let r=0;if(Array.isArray(e)){const[,n,,i]=e;n-i!==0&&(r=1)}return this.getTranslatedPhrase(zH,r)},callback(){const{from:e,to:r}=this.getSelectedRangeActive(),n=Math.max(Math.min(e.col,r.col),0),i=Math.max(e.col,r.col),s=[];for(let l=n;l<=i;l+=1)s.push(l);t.hideColumns(s);const o=s[s.length-1],a=this.columnIndexMapper.getNearestNotHiddenIndex(o,1,!0);Number.isInteger(a)&&a>=0?this.selectColumns(a):this.deselectCell(),this.view.adjustElementsSize(),this.render()},disabled:!1,hidden(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}function uLe(t){const e=[];return{key:"hidden_columns_show",name(){const r=e.length>1?1:0;return this.getTranslatedPhrase(UH,r)},callback(){var r,n;if(e.length===0)return;let i=e[0],s=e[e.length-1];i=(r=this.columnIndexMapper.getNearestNotHiddenIndex(i-1,-1))!==null&&r!==void 0?r:0,s=(n=this.columnIndexMapper.getNearestNotHiddenIndex(s+1,1))!==null&&n!==void 0?n:this.countCols()-1,t.showColumns(e),this.view.adjustElementsSize(),this.render(),s-i+1===this.countCols()||this.selectColumns(i,s)},disabled:!1,hidden(){const r=Tt(t.getHiddenColumns(),h=>this.toPhysicalColumn(h));if(!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())||r.length<1)return!0;e.length=0;const n=this.getSelectedRangeActive(),i=n.getTopStartCorner().col,s=n.getBottomEndCorner().col,o=this.columnIndexMapper,a=o.getRenderableFromVisualIndex(i),l=o.getRenderableFromVisualIndex(s),c=o.getNotTrimmedIndexes(),d=[];if(i!==s){const h=s-i+1,f=l-a+1;if(h>f){const g=c.slice(i,s+1);d.push(...g.filter(m=>r.includes(m)))}}else if(a===0&&a<i)d.push(...c.slice(0,i));else if(a===null)d.push(...c.slice(0,this.countCols()));else{const h=this.countCols()-1,f=o.getRenderableFromVisualIndex(o.getNearestNotHiddenIndex(h,-1));l===f&&h>s&&d.push(...c.slice(s+1))}return B(d,h=>{e.push(this.toVisualColumn(h))}),e.length===0}}}function dLe(t,e){Rq(t,e),e.add(t)}function hLe(t,e,r){Rq(t,e),e.set(t,r)}function Rq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function eh(t,e){return t.get(_u(t,e))}function oW(t,e,r){return t.set(_u(t,e),r),r}function _u(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}_e.getSingleton().register("beforeHideColumns");_e.getSingleton().register("afterHideColumns");_e.getSingleton().register("beforeUnhideColumns");_e.getSingleton().register("afterUnhideColumns");const aW="hiddenColumns",fLe=310;var Va=new WeakMap,th=new WeakSet;class gLe extends xt{constructor(){super(...arguments),dLe(this,th),hLe(this,Va,null)}static get PLUGIN_KEY(){return aW}static get PLUGIN_PRIORITY(){return fLe}static get DEFAULT_SETTINGS(){return{copyPasteEnabled:!0,indicators:!1,columns:[]}}isEnabled(){return!!this.hot.getSettings()[aW]}enablePlugin(){var e=this;this.enabled||(oW(Va,this,new _R),eh(Va,this).addLocalHook("init",()=>_u(th,this,bLe).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,eh(Va,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return _u(th,e,wLe).call(e,...n)}),this.addHook("afterGetCellMeta",(r,n,i)=>_u(th,this,pLe).call(this,r,n,i)),this.addHook("modifyColWidth",(r,n)=>_u(th,this,mLe).call(this,r,n),2),this.addHook("afterGetColHeader",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return _u(th,e,vLe).call(e,...n)}),this.addHook("modifyCopyableRange",r=>_u(th,this,yLe).call(this,r)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.hot.columnIndexMapper.unregisterMap(this.pluginName),this.resetCellsMeta()}showColumns(e){const r=this.getHiddenColumns(),n=this.isValidConfig(e);let i=r;const s=eh(Va,this).getValues().slice(),o=e.length>0;if(n&&o){const l=e.map(c=>this.hot.toPhysicalColumn(c));B(l,c=>{s[c]=!1}),i=gs(s,(c,d,h)=>(d&&c.push(this.hot.toVisualColumn(h)),c),[])}this.hot.runHooks("beforeUnhideColumns",r,i,n&&o)!==!1&&(n&&o&&eh(Va,this).setValues(s),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",r,i,n&&o,n&&i.length<r.length))}showColumn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.showColumns(r)}hideColumns(e){const r=this.getHiddenColumns(),n=this.isValidConfig(e);let i=r;n&&(i=Array.from(new Set(r.concat(e)))),this.hot.runHooks("beforeHideColumns",r,i,n)!==!1&&(n&&this.hot.batchExecution(()=>{B(e,o=>{eh(Va,this).setValueAtIndex(this.hot.toPhysicalColumn(o),!0)})},!0),this.hot.runHooks("afterHideColumns",r,i,n,n&&i.length>r.length))}hideColumn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.hideColumns(r)}getHiddenColumns(){return Tt(eh(Va,this).getHiddenIndexes(),e=>this.hot.toVisualColumn(e))}isHidden(e){return eh(Va,this).getValueAtIndex(this.hot.toPhysicalColumn(e))||!1}isValidConfig(e){const r=this.hot.countCols();return Array.isArray(e)&&e.length>0?e.every(n=>Number.isInteger(n)&&n>=0&&n<r):!1}resetCellsMeta(){B(this.hot.getCellsMeta(),e=>{e.skipColumnOnPaste=!1})}destroy(){oW(Va,this,null),super.destroy()}}function mLe(t,e){if(this.isHidden(e))return 0;if(this.getSetting("indicators")&&(this.isHidden(e+1)||this.isHidden(e-1))&&typeof t=="number"&&this.hot.hasColHeaders())return t+15}function pLe(t,e,r){if(this.getSetting("copyPasteEnabled")===!1&&this.isHidden(e)&&(r.skipColumnOnPaste=!0),this.isHidden(e-1))r.className=r.className||"",r.className.indexOf("afterHiddenColumn")===-1&&(r.className+=" afterHiddenColumn");else if(r.className){const n=r.className.split(" ");if(n.length>0){const i=n.indexOf("afterHiddenColumn");i>-1&&n.splice(i,1),r.className=n.join(" ")}}}function yLe(t){if(this.getSetting("copyPasteEnabled"))return t;const e=[],r=(n,i,s,o)=>{e.push({startRow:n,endRow:i,startCol:s,endCol:o})};return B(t,n=>{let i=!0,s=0;Ie(n.startCol,n.endCol,o=>{this.isHidden(o)?(i||r(n.startRow,n.endRow,s,o-1),i=!0):(i&&(s=o),o===n.endCol&&r(n.startRow,n.endRow,s,o),i=!1)})}),e}function vLe(t,e){if(!this.getSetting("indicators")||t<0)return;const r=[];t>=1&&this.isHidden(t-1)&&r.push("afterHiddenColumn"),t<this.hot.countCols()-1&&this.isHidden(t+1)&&r.push("beforeHiddenColumn"),oe(e,r)}function wLe(t){t.items.push({name:ut},cLe(this),uLe(this))}function bLe(){const t=this.getSetting("columns");Array.isArray(t)&&this.hideColumns(t)}function SLe(t){return{key:"hidden_rows_hide",name(){const e=this.getSelectedActive();let r=0;if(Array.isArray(e)){const[n,,i]=e;n-i!==0&&(r=1)}return this.getTranslatedPhrase(YH,r)},callback(){const{from:e,to:r}=this.getSelectedRangeActive(),n=Math.max(Math.min(e.row,r.row),0),i=Math.max(e.row,r.row),s=[];for(let l=n;l<=i;l+=1)s.push(l);t.hideRows(s);const o=s[s.length-1],a=this.rowIndexMapper.getNearestNotHiddenIndex(o,1,!0);Number.isInteger(a)&&a>=0?this.selectRows(a):this.deselectCell(),this.view.adjustElementsSize(),this.render()},disabled:!1,hidden(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}function xLe(t){const e=[];return{key:"hidden_rows_show",name(){const r=e.length>1?1:0;return this.getTranslatedPhrase(GH,r)},callback(){var r,n;if(e.length===0)return;let i=e[0],s=e[e.length-1];i=(r=this.rowIndexMapper.getNearestNotHiddenIndex(i-1,-1))!==null&&r!==void 0?r:0,s=(n=this.rowIndexMapper.getNearestNotHiddenIndex(s+1,1))!==null&&n!==void 0?n:this.countRows()-1,t.showRows(e),this.view.adjustElementsSize(),this.render(),s-i+1===this.countRows()||this.selectRows(i,s)},disabled:!1,hidden(){const r=Tt(t.getHiddenRows(),h=>this.toPhysicalRow(h));if(!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())||r.length<1)return!0;e.length=0;const n=this.getSelectedRangeActive(),i=n.getTopStartCorner().row,s=n.getBottomEndCorner().row,o=this.rowIndexMapper,a=o.getRenderableFromVisualIndex(i),l=o.getRenderableFromVisualIndex(s),c=o.getNotTrimmedIndexes(),d=[];if(i!==s){const h=s-i+1,f=l-a+1;if(h>f){const g=c.slice(i,s+1);d.push(...g.filter(m=>r.includes(m)))}}else if(a===0&&a<i)d.push(...c.slice(0,i));else if(a===null)d.push(...c.slice(0,this.countRows()));else{const h=this.countRows()-1,f=o.getRenderableFromVisualIndex(o.getNearestNotHiddenIndex(h,-1));l===f&&h>s&&d.push(...c.slice(s+1))}return B(d,h=>{e.push(this.toVisualRow(h))}),e.length===0}}}function CLe(t,e){Eq(t,e),e.add(t)}function _Le(t,e,r){Eq(t,e),e.set(t,r)}function Eq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rh(t,e){return t.get(Ru(t,e))}function lW(t,e,r){return t.set(Ru(t,e),r),r}function Ru(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}_e.getSingleton().register("beforeHideRows");_e.getSingleton().register("afterHideRows");_e.getSingleton().register("beforeUnhideRows");_e.getSingleton().register("afterUnhideRows");const cW="hiddenRows",RLe=320;var Wa=new WeakMap,nh=new WeakSet;class ELe extends xt{constructor(){super(...arguments),CLe(this,nh),_Le(this,Wa,null)}static get PLUGIN_KEY(){return cW}static get PLUGIN_PRIORITY(){return RLe}static get DEFAULT_SETTINGS(){return{copyPasteEnabled:!0,indicators:!1,rows:[]}}isEnabled(){return!!this.hot.getSettings()[cW]}enablePlugin(){var e=this;this.enabled||(lW(Wa,this,new _R),rh(Wa,this).addLocalHook("init",()=>Ru(nh,this,ILe).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,rh(Wa,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ru(nh,e,MLe).call(e,...n)}),this.addHook("afterGetCellMeta",(r,n,i)=>Ru(nh,this,kLe).call(this,r,n,i)),this.addHook("modifyRowHeight",(r,n)=>Ru(nh,this,TLe).call(this,r,n)),this.addHook("afterGetRowHeader",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ru(nh,e,NLe).call(e,...n)}),this.addHook("modifyCopyableRange",r=>Ru(nh,this,PLe).call(this,r)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.hot.rowIndexMapper.unregisterMap(this.pluginName),this.resetCellsMeta()}showRows(e){const r=this.getHiddenRows(),n=this.isValidConfig(e);let i=r;const s=rh(Wa,this).getValues().slice(),o=e.length>0;if(n&&o){const l=e.map(c=>this.hot.toPhysicalRow(c));B(l,c=>{s[c]=!1}),i=gs(s,(c,d,h)=>(d&&c.push(this.hot.toVisualRow(h)),c),[])}this.hot.runHooks("beforeUnhideRows",r,i,n&&o)!==!1&&(n&&o&&rh(Wa,this).setValues(s),this.hot.runHooks("afterUnhideRows",r,i,n&&o,n&&i.length<r.length))}showRow(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.showRows(r)}hideRows(e){const r=this.getHiddenRows(),n=this.isValidConfig(e);let i=r;n&&(i=Array.from(new Set(r.concat(e)))),this.hot.runHooks("beforeHideRows",r,i,n)!==!1&&(n&&this.hot.batchExecution(()=>{B(e,o=>{rh(Wa,this).setValueAtIndex(this.hot.toPhysicalRow(o),!0)})},!0),this.hot.runHooks("afterHideRows",r,i,n,n&&i.length>r.length))}hideRow(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.hideRows(r)}getHiddenRows(){return Tt(rh(Wa,this).getHiddenIndexes(),e=>this.hot.toVisualRow(e))}isHidden(e){return rh(Wa,this).getValueAtIndex(this.hot.toPhysicalRow(e))||!1}isValidConfig(e){const r=this.hot.countRows();return Array.isArray(e)&&e.length>0?e.every(n=>Number.isInteger(n)&&n>=0&&n<r):!1}resetCellsMeta(){B(this.hot.getCellsMeta(),e=>{e.skipRowOnPaste=!1})}destroy(){lW(Wa,this,null),super.destroy()}}function TLe(t,e){return this.isHidden(e)?0:t}function kLe(t,e,r){if(this.getSetting("copyPasteEnabled")===!1&&this.isHidden(t)&&(r.skipRowOnPaste=!0),this.isHidden(t-1))r.className=r.className||"",r.className.indexOf("afterHiddenRow")===-1&&(r.className+=" afterHiddenRow");else if(r.className){const n=r.className.split(" ");if(n.length>0){const i=n.indexOf("afterHiddenRow");i>-1&&n.splice(i,1),r.className=n.join(" ")}}}function PLe(t){if(this.getSetting("copyPasteEnabled"))return t;const e=[],r=(n,i,s,o)=>{e.push({startRow:n,endRow:i,startCol:s,endCol:o})};return B(t,n=>{let i=!0,s=0;Ie(n.startRow,n.endRow,o=>{this.isHidden(o)?(i||r(s,o-1,n.startCol,n.endCol),i=!0):(i&&(s=o),o===n.endRow&&r(s,o,n.startCol,n.endCol),i=!1)})}),e}function NLe(t,e){if(!this.getSetting("indicators")||t<0)return;const r=[];t>=1&&this.isHidden(t-1)&&r.push("afterHiddenRow"),t<this.hot.countRows()-1&&this.isHidden(t+1)&&r.push("beforeHiddenRow"),oe(e,r)}function MLe(t){t.items.push({name:ut},SLe(this),xLe(this))}function ILe(){const t=this.getSetting("rows");Array.isArray(t)&&this.hideRows(t)}function ALe(t){return{key:"freeze_column",name(){return this.getTranslatedPhrase(bH)},callback(e,r){const[{start:{col:n}}]=r;t.freezeColumn(n),this.view.adjustElementsSize(),this.render()},hidden(){const e=this.getSelectedRange();let r=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(r=!0),r}}}function OLe(t){return{key:"unfreeze_column",name(){return this.getTranslatedPhrase(SH)},callback(e,r){const[{start:{col:n}}]=r;t.unfreezeColumn(n),this.view.adjustElementsSize(),this.render()},hidden(){const e=this.getSelectedRange();let r=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col>=this.getSettings().fixedColumnsStart)&&(r=!0),r}}}function HLe(t,e){Tq(t,e),e.add(t)}function jLe(t,e,r){Tq(t,e),e.set(t,r)}function Tq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function GI(t,e){return t.get(J1(t,e))}function HP(t,e,r){return t.set(J1(t,e),r),r}function J1(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}_e.getSingleton().register("beforeColumnFreeze");_e.getSingleton().register("afterColumnFreeze");_e.getSingleton().register("beforeColumnUnfreeze");_e.getSingleton().register("afterColumnUnfreeze");const uW="manualColumnFreeze",DLe=110;var vh=new WeakMap,jP=new WeakSet;class $Le extends xt{constructor(){super(...arguments),HLe(this,jP),jLe(this,vh,!1)}static get PLUGIN_KEY(){return uW}static get PLUGIN_PRIORITY(){return DLe}isEnabled(){return!!this.hot.getSettings()[uW]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>J1(jP,this,LLe).call(this,e)),this.addHook("beforeColumnMove",(e,r)=>J1(jP,this,FLe).call(this,e,r)),super.enablePlugin())}disablePlugin(){HP(vh,this,!1),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}freezeColumn(e){const r=this.hot.getSettings(),n=r.fixedColumnsStart<this.hot.countCols()&&e>r.fixedColumnsStart-1;GI(vh,this)||HP(vh,this,!0),this.hot.runHooks("beforeColumnFreeze",e,n)!==!1&&(n&&(this.hot.columnIndexMapper.moveIndexes(e,r.fixedColumnsStart),r._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",e,n))}unfreezeColumn(e){const r=this.hot.getSettings(),n=r.fixedColumnsStart>0&&e<=r.fixedColumnsStart-1;GI(vh,this)||HP(vh,this,!0),this.hot.runHooks("beforeColumnUnfreeze",e,n)!==!1&&(n&&(r._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(e,r.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",e,n))}}function LLe(t){t.items.push({name:"---------"},ALe(this),OLe(this))}function FLe(t,e){if(GI(vh,this)){const r=this.hot.getSettings().fixedColumnsStart;if(e<r||t.some(n=>n<r))return!1}}function JS(t,e,r){return(e=VLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VLe(t){var e=WLe(t,"string");return typeof e=="symbol"?e:e+""}function WLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const DP=0,dW=1,hW=2,Rg="px";let kq=class{constructor(e){JS(this,"hot",void 0),JS(this,"_element",null),JS(this,"state",DP),JS(this,"inlineProperty",void 0),this.hot=e,this.inlineProperty=e.isRtl()?"right":"left"}appendTo(e){e.appendChild(this._element),this.state=hW}build(){this.state===DP&&(this._element=this.hot.rootDocument.createElement("div"),this.state=dW)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=DP}isAppended(){return this.state===hW}isBuilt(){return this.state>=dW}setPosition(e,r){Ii(e)&&(this._element.style.top=e+Rg),Ii(r)&&(this._element.style[this.inlineProperty]=r+Rg)}getPosition(){const e=this._element.style;return{top:e.top?parseInt(e.top,10):0,start:e[this.inlineProperty]?parseInt(e[this.inlineProperty],10):0}}setSize(e,r){Ii(e)&&(this._element.style.width=e+Rg),Ii(r)&&(this._element.style.height=r+Rg)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(e,r){Ii(e)&&(this._element.style.marginTop=e+Rg),Ii(r)&&(this._element.style[`margin${wa(this.inlineProperty)}`]=r+Rg)}getOffset(){const e=this._element.style,r=`margin${wa(this.inlineProperty)}`;return{top:e.marginTop?parseInt(e.marginTop,10):0,start:e[r]?parseInt(e[r],10):0}}};const BLe="ht__manualColumnMove--backlight";let zLe=class extends kq{build(){super.build(),oe(this._element,BLe)}};const ULe="ht__manualColumnMove--guideline";let YLe=class extends kq{build(){super.build(),oe(this._element,ULe)}};function GLe(t,e){Pq(t,e),e.add(t)}function Vo(t,e,r){Pq(t,e),e.set(t,r)}function Pq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ts(t,e,r){return t.set(Eu(t,e),r),r}function Ne(t,e){return t.get(Eu(t,e))}function Eu(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}_e.getSingleton().register("beforeColumnMove");_e.getSingleton().register("afterColumnMove");const $P="manualColumnMove",KLe=120,fW="ht__manualColumnMove",Z1="show-ui",KI="on-moving--columns",qI="after-selection--columns";var Pi=new WeakMap,Nu=new WeakMap,yc=new WeakMap,SC=new WeakMap,Yu=new WeakMap,ki=new WeakMap,ZS=new WeakMap,io=new WeakMap,Gg=new WeakMap,e_=new WeakMap,Zy=new WeakMap,ih=new WeakSet;class qLe extends xt{constructor(){super(...arguments),GLe(this,ih),Vo(this,Pi,new zLe(this.hot)),Vo(this,Nu,new YLe(this.hot)),Vo(this,yc,[]),Vo(this,SC,0),Vo(this,Yu,!1),Vo(this,ki,{}),Vo(this,ZS,void 0),Vo(this,io,void 0),Vo(this,Gg,void 0),Vo(this,e_,void 0),Vo(this,Zy,void 0)}static get PLUGIN_KEY(){return $P}static get PLUGIN_PRIORITY(){return KLe}isEnabled(){return!!this.hot.getSettings()[$P]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Eu(ih,e,XLe).call(e,...n)}),this.addHook("beforeOnCellMouseOver",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Eu(ih,e,JLe).call(e,...n)}),this.addHook("afterScrollVertically",()=>Eu(ih,this,e4e).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Eu(ih,e,t4e).call(e,...n)}),this.buildPluginUI(),this.registerEvents(),oe(this.hot.rootElement,fW),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){Re(this.hot.rootElement,fW),this.unregisterEvents(),Ne(Pi,this).destroy(),Ne(Nu,this).destroy(),super.disablePlugin()}moveColumn(e,r){return this.moveColumns([e],r)}moveColumns(e,r){const n=Ne(ZS,this),i=this.isMovePossible(e,r),s=this.hot.runHooks("beforeColumnMove",e,r,n,i);if(ts(ZS,this,void 0),s===!1)return;i&&this.hot.columnIndexMapper.moveIndexes(e,r);const o=i&&this.isColumnOrderChanged(e,r);return this.hot.runHooks("afterColumnMove",e,r,n,i,o),o}dragColumn(e,r){return this.dragColumns([e],r)}dragColumns(e,r){const n=this.countFinalIndex(e,r);return ts(ZS,this,r),this.moveColumns(e,n)}isMovePossible(e,r){const n=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),i=e.length+r>n,s=r<0,o=e.some(l=>l<0),a=e.some(l=>l>=n);return!(i||s||o||a)}isColumnOrderChanged(e,r){return e.some((n,i)=>n-i!==r)}countFinalIndex(e,r){const n=gs(e,(i,s)=>(s<r&&(i+=1),i),0);return r-n}getColumnsWidth(e,r){const n=this.hot.columnIndexMapper;let i=0;for(let s=e;s<=r;s+=1){const o=n.getRenderableFromVisualIndex(s);s<0?i+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:o!==null&&(i+=this.hot.view._wt.wtTable.getColumnWidth(o)||0)}return i}moveBySettingsOrLoad(){const e=this.hot.getSettings()[$P];if(Array.isArray(e))this.moveColumns(e,0);else if(e!==void 0){const r=this.persistentStateLoad();r.length&&this.moveColumns(r,0)}}isFixedColumnsStart(e){return e<this.hot.getSettings().fixedColumnsStart}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",e),e.value?e.value:[]}prepareColumnsToMoving(e,r){const n=[];return Ie(e,r,i=>{n.push(i)}),n}refreshPositions(){const e=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(Ne(io,this))&&e>0&&this.hot.scrollViewportTo({col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(e-1,-1)});const r=this.hot.view._wt.wtTable,n=this.hot.view._wt.wtOverlays.scrollableElement,i=typeof n.scrollX=="number"?n.scrollX:n.scrollLeft;let s=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,Ne(io,this)-1);const o=r.hider.offsetWidth,a=r.TBODY.offsetLeft,l=Ne(Pi,this).getOffset().start,c=Ne(Pi,this).getSize().width;let d=0,h=0;if(this.hot.isRtl()){const m=this.hot.rootWindow,p=en(this.hot.rootElement),y=m.innerWidth-Ne(Gg,this)-p;h=m.innerWidth-Ne(ki,this).eventPageX-y-(n.scrollX===void 0?i:0)}else h=Ne(ki,this).eventPageX-(Ne(Gg,this)-(n.scrollX===void 0?i:0));if(Ne(e_,this)&&(d=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(Ne(io,this))&&(s+=i),s+=d,Ne(io,this)<0)Ne(Zy,this)>0?Ne(ki,this).col=0:Ne(ki,this).col=e>0?e-1:e;else if(Ne(ki,this).TD.offsetWidth/2+s<=h){const m=Ne(io,this)>=Ne(SC,this)?Ne(SC,this)-1:Ne(io,this);Ne(ki,this).col=m+1,s+=Ne(ki,this).TD.offsetWidth}else Ne(ki,this).col=Ne(io,this);let f=h,g=s;h+c+l>=o?f=o-c-l:h+l<a+d&&(f=a+d+Math.abs(l)),s>=o-1?g=o-1:g===0?g=1:n.scrollX!==void 0&&Ne(io,this)<Ne(Zy,this)&&(g-=Ne(Gg,this)<=n.scrollX?Ne(Gg,this):0),Ne(Pi,this).setPosition(null,f),Ne(Nu,this).setPosition(null,g)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",r=>Eu(ih,this,QLe).call(this,r)),this.eventManager.addEventListener(e,"mouseup",()=>Eu(ih,this,ZLe).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){Ne(Pi,this).build(),Ne(Nu,this).build()}destroy(){Ne(Pi,this).destroy(),Ne(Nu,this).destroy(),super.destroy()}}function XLe(t,e,r,n){const i=this.hot.view._wt.wtTable,s=this.hot.selection.isSelectedByColumnHeader(),o=this.hot.getSelectedRangeActive(),a=Ve(t.target,"sortAction");if(!o||!s||Ne(Yu,this)||t.button!==0||a){ts(Yu,this,!1),Ne(yc,this).length=0,Re(this.hot.rootElement,[KI,Z1]);return}const l=Ne(Nu,this).isBuilt()&&!Ne(Nu,this).isAppended(),c=Ne(Pi,this).isBuilt()&&!Ne(Pi,this).isAppended();l&&c&&(Ne(Nu,this).appendTo(i.hider),Ne(Pi,this).appendTo(i.hider));const{from:d,to:h}=o,f=Math.min(d.col,h.col),g=Math.max(d.col,h.col);if(e.row<0&&e.col>=f&&e.col<=g){n.column=!0,ts(Yu,this,!0);const m=r.firstChild?mbe(t,r.firstChild).x:t.offsetX;Ne(ki,this).eventPageX=t.pageX,ts(io,this,e.col),Ne(ki,this).TD=r,Ne(ki,this).col=e.col,ts(yc,this,this.prepareColumnsToMoving(f,g)),ts(e_,this,!!this.hot.getSettings().rowHeaders),ts(SC,this,this.hot.countCols()),ts(Zy,this,this.hot.getSettings().fixedColumnsStart),ts(Gg,this,mi(this.hot.rootElement).left);const p=Ne(e_,this)?-1:0,y=i.holder.scrollTop+i.getColumnHeaderHeight(0)+1,S=e.col<Ne(Zy,this),w=this.hot.view._wt.wtOverlays.inlineStartOverlay.getOverlayOffset(),b=Math.abs(m-(this.hot.isRtl()?r.offsetWidth:0)),C=this.getColumnsWidth(f,e.col-1)+b,N=this.getColumnsWidth(p,f-1)+(S?w:0)+C;Ne(Pi,this).setPosition(y,N),Ne(Pi,this).setSize(this.getColumnsWidth(f,g),i.hider.offsetHeight-y),Ne(Pi,this).setOffset(null,-C),oe(this.hot.rootElement,KI)}else Re(this.hot.rootElement,qI),ts(Yu,this,!1),Ne(yc,this).length=0}function QLe(t){Ne(Yu,this)&&(Ne(ki,this).eventPageX=t.pageX,this.refreshPositions())}function JLe(t,e,r,n){!this.hot.getSelectedRangeActive()||!Ne(Yu,this)||(Ne(yc,this).indexOf(e.col)>-1?Re(this.hot.rootElement,Z1):oe(this.hot.rootElement,Z1),n.row=!0,n.column=!0,n.cell=!0,ts(io,this,e.col),Ne(ki,this).TD=r)}function ZLe(){const t=Ne(ki,this).col,e=Ne(yc,this).length;if(ts(io,this,void 0),ts(Yu,this,!1),Re(this.hot.rootElement,[KI,Z1,qI]),this.hot.selection.isSelectedByColumnHeader()&&oe(this.hot.rootElement,qI),e<1||t===void 0)return;const r=Ne(yc,this)[0],n=this.hot.toPhysicalColumn(r),i=this.dragColumns(Ne(yc,this),t);if(Ne(yc,this).length=0,i===!0){this.persistentStateSave(),this.hot.view.adjustElementsSize(),this.hot.render();const s=this.hot.toVisualColumn(n),o=s+e-1;this.hot.selectColumns(s,o)}}function e4e(){const t=this.hot.view._wt.wtTable,e=t.getColumnHeaderHeight(0)+1,r=t.holder.scrollTop,n=e+r;Ne(Pi,this).setPosition(n),Ne(Pi,this).setSize(null,t.hider.offsetHeight-n)}function t4e(){this.moveBySettingsOrLoad()}function r4e(t,e){Nq(t,e),e.add(t)}function ni(t,e,r){Nq(t,e),e.set(t,r)}function Nq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Br(t,e,r){return t.set(Xo(t,e),r),r}function Ce(t,e){return t.get(Xo(t,e))}function Xo(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const t_="manualColumnResize",n4e=130,gW="manualColumnWidths";var oc=new WeakMap,ex=new WeakMap,Ns=new WeakMap,r_=new WeakMap,vl=new WeakMap,i4e=new WeakMap,Hm=new WeakMap,tx=new WeakMap,Ki=new WeakMap,Jl=new WeakMap,xf=new WeakMap,n_=new WeakMap,mm=new WeakMap,ev=new WeakMap,As=new WeakMap,tv=new WeakMap,Ba=new WeakSet;class s4e extends xt{static get PLUGIN_KEY(){return t_}static get PLUGIN_PRIORITY(){return n4e}constructor(e){super(e),r4e(this,Ba),ni(this,oc,null),ni(this,ex,null),ni(this,Ns,[]),ni(this,r_,null),ni(this,vl,null),ni(this,i4e,null),ni(this,Hm,null),ni(this,tx,null),ni(this,Ki,this.hot.rootDocument.createElement("DIV")),ni(this,Jl,this.hot.rootDocument.createElement("DIV")),ni(this,xf,null),ni(this,n_,!1),ni(this,mm,0),ni(this,ev,null),ni(this,As,void 0),ni(this,tv,void 0),oe(Ce(Ki,this),"manualColumnResizer"),oe(Ce(Jl,this),"manualColumnResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[t_]}enablePlugin(){var e=this;this.enabled||(Br(As,this,new Sd),Ce(As,this).addLocalHook("init",()=>Xo(Ba,this,o4e).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,Ce(As,this)),this.addHook("modifyColWidth",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Xo(Ba,e,h4e).call(e,...n)},1),this.addHook("beforeStretchingColumnWidth",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Xo(Ba,e,f4e).call(e,...n)},1),this.addHook("beforeColumnResize",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Xo(Ba,e,g4e).call(e,...n)}),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){Br(tv,this,Ce(As,this).getValues()),this.hot.columnIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualColumnWidths(){this.hot.runHooks("persistentStateSave",gW,Ce(As,this).getValues())}loadManualColumnWidths(){const e={};return this.hot.runHooks("persistentStateLoad",gW,e),e.value}setManualSize(e,r){const n=Math.max(r,20),i=this.hot.toPhysicalColumn(e);return Ce(As,this).setValueAtIndex(i,n),n}clearManualSize(e){const r=this.hot.toPhysicalColumn(e);Ce(As,this).setValueAtIndex(r,null)}setupHandlePosition(e){if(!e.parentNode||Ce(mm,this)>1)return;Br(oc,this,e);const{_wt:r}=this.hot.view,n=r.wtTable.getCoords(Ce(oc,this)),i=n.col;if(i<0)return;const s=fn(Ce(oc,this)),o=Ce(oc,this).getBoundingClientRect(),a=i<r.getSetting("fixedColumnsStart");let l;a&&(l=r.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(Ce(oc,this),n.row,n.col)),l||(l=r.wtOverlays.topOverlay.getRelativeCellPosition(Ce(oc,this),n.row,n.col)),Br(ex,this,this.hot.columnIndexMapper.getVisualFromRenderableIndex(i)),Br(Ns,this,[]);const c=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();if(this.hot.selection.isSelected()&&c){const d=this.hot.getSelectedRange();B(d,h=>{const f=h.getTopStartCorner().col,g=h.getBottomEndCorner().col;Ie(f,g,m=>{Ce(Ns,this).includes(m)||Ce(Ns,this).push(m)})})}Ce(Ns,this).includes(Ce(ex,this))||Br(Ns,this,[Ce(ex,this)]),Br(tx,this,l.start-6),Br(Hm,this,parseInt(o.width,10)),Ce(Ki,this).style.top=`${l.top}px`,Ce(Ki,this).style[this.inlineDir]=`${Ce(tx,this)+Ce(Hm,this)}px`,Ce(Ki,this).style.height=`${s}px`,this.hot.rootElement.appendChild(Ce(Ki,this))}refreshHandlePosition(){Ce(Ki,this).style[this.inlineDir]=`${Ce(tx,this)+Ce(r_,this)}px`}setupGuidePosition(){const e=parseInt(fn(Ce(Ki,this)),10),r=parseInt(Ce(Ki,this).style.top,10)+e,n=this.hot.view.getTableHeight();oe(Ce(Ki,this),"active"),oe(Ce(Jl,this),"active"),Ce(Jl,this).style.top=`${r}px`,this.refreshGuidePosition(),Ce(Jl,this).style.height=`${n-e}px`,this.hot.rootElement.appendChild(Ce(Jl,this))}refreshGuidePosition(){Ce(Jl,this).style[this.inlineDir]=Ce(Ki,this).style[this.inlineDir]}hideHandleAndGuide(){Re(Ce(Ki,this),"active"),Re(Ce(Jl,this),"active")}checkIfColumnHeader(e){const r=gf(e,["THEAD"],this.hot.rootElement),{topOverlay:n,topInlineStartCornerOverlay:i}=this.hot.view._wt.wtOverlays;return[n.clone.wtTable.THEAD,i.clone.wtTable.THEAD].includes(r)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}afterMouseDownTimeout(){const e=()=>{this.hot.view.adjustElementsSize(),this.hot.render()},r=(n,i)=>{const s=this.hot.runHooks("beforeColumnResize",Ce(vl,this),n,!0);s!==void 0&&Br(vl,this,s),this.setManualSize(n,Ce(vl,this)),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",Ce(vl,this),n,!0),i&&e()};Ce(mm,this)>=2&&(Ce(Ns,this).length>1?(B(Ce(Ns,this),i=>{r(i)}),e()):B(Ce(Ns,this),i=>{r(i,!0)})),Br(mm,this,0),Br(ev,this,null)}bindEvents(){const{rootWindow:e,rootElement:r}=this.hot;this.eventManager.addEventListener(r,"mouseover",n=>Xo(Ba,this,a4e).call(this,n)),this.eventManager.addEventListener(r,"mousedown",n=>Xo(Ba,this,l4e).call(this,n)),this.eventManager.addEventListener(e,"mousemove",n=>Xo(Ba,this,c4e).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>Xo(Ba,this,u4e).call(this)),this.eventManager.addEventListener(Ce(Ki,this),"contextmenu",()=>Xo(Ba,this,d4e).call(this))}destroy(){super.destroy()}}function o4e(){const t=this.hot.getSettings()[t_],e=this.loadManualColumnWidths();typeof e<"u"?this.hot.batchExecution(()=>{e.forEach((r,n)=>{Ce(As,this).setValueAtIndex(n,r)})},!0):Array.isArray(t)?(this.hot.batchExecution(()=>{t.forEach((r,n)=>{Ce(As,this).setValueAtIndex(n,r)})},!0),Br(tv,this,t)):t===!0&&Array.isArray(Ce(tv,this))&&this.hot.batchExecution(()=>{Ce(tv,this).forEach((r,n)=>{Ce(As,this).setValueAtIndex(n,r)})},!0)}function a4e(t){if(!aY(t.target)&&Ce(n_,this)!==!0&&this.checkIfColumnHeader(t.target)){const e=this.getClosestTHParent(t.target);if(!e)return;const r=e.getAttribute("colspan");e&&(r===null||r==="1")&&(Ce(xf,this)||this.setupHandlePosition(e))}}function l4e(t){t.target.parentNode===this.hot.rootElement&&Ve(t.target,"manualColumnResizer")&&(this.setupHandlePosition(Ce(oc,this)),this.setupGuidePosition(),Br(xf,this,!0),Ce(ev,this)===null&&(Br(ev,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(Ce(ev,this))),Br(mm,this,Ce(mm,this)+1),this.startX=t.pageX,Br(vl,this,Ce(Hm,this)))}function c4e(t){if(Ce(xf,this)){const e=(t.pageX-this.startX)*this.hot.getDirectionFactor();Br(r_,this,Ce(Hm,this)+e),B(Ce(Ns,this),r=>{Br(vl,this,this.setManualSize(r,Ce(r_,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition()}}function u4e(){const t=()=>{this.hot.view.adjustElementsSize(),this.hot.render()},e=(r,n)=>{this.hot.runHooks("beforeColumnResize",Ce(vl,this),r,!1),n&&t(),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",Ce(vl,this),r,!1)};Ce(xf,this)&&(this.hideHandleAndGuide(),Br(xf,this,!1),Ce(vl,this)!==Ce(Hm,this)&&(Ce(Ns,this).length>1?(B(Ce(Ns,this),n=>{e(n)}),t()):B(Ce(Ns,this),n=>{e(n,!0)})),this.setupHandlePosition(Ce(oc,this)))}function d4e(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(Ce(Ki,this)),this.hot.rootElement.removeChild(Ce(Jl,this)),Br(xf,this,!1),Br(n_,this,!0),this.hot._registerImmediate(()=>{Br(n_,this,!1)})}function h4e(t,e){let r=t;if(this.enabled){const n=this.hot.toPhysicalColumn(e),i=Ce(As,this).getValueAtIndex(n);this.hot.getSettings()[t_]&&i&&(r=i)}return r}function f4e(t,e){const r=Ce(As,this).getValueAtIndex(this.hot.toPhysicalColumn(e));return typeof r=="number"?r:t}function g4e(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}function LP(t,e,r){return(e=m4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m4e(t){var e=p4e(t,"string");return typeof e=="symbol"?e:e+""}function p4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const FP=0,mW=1,pW=2,Eg="px";let Mq=class{constructor(e){LP(this,"hot",void 0),LP(this,"_element",null),LP(this,"state",FP),this.hot=e}appendTo(e){e.appendChild(this._element),this.state=pW}build(){this.state===FP&&(this._element=this.hot.rootDocument.createElement("div"),this.state=mW)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=FP}isAppended(){return this.state===pW}isBuilt(){return this.state>=mW}setPosition(e,r){e!==void 0&&(this._element.style.top=e+Eg),r!==void 0&&(this._element.style.left=r+Eg)}getPosition(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}setSize(e,r){e&&(this._element.style.width=e+Eg),r&&(this._element.style.height=r+Eg)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(e,r){e&&(this._element.style.marginTop=e+Eg),r&&(this._element.style.marginLeft=r+Eg)}getOffset(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}};const y4e="ht__manualRowMove--backlight";class v4e extends Mq{build(){super.build(),oe(this._element,y4e)}}const w4e="ht__manualRowMove--guideline";class b4e extends Mq{build(){super.build(),oe(this._element,w4e)}}function S4e(t,e){Iq(t,e),e.add(t)}function Tg(t,e,r){Iq(t,e),e.set(t,r)}function Iq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Lh(t,e,r){return t.set(Tu(t,e),r),r}function Xe(t,e){return t.get(Tu(t,e))}function Tu(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}_e.getSingleton().register("beforeRowMove");_e.getSingleton().register("afterRowMove");const VP="manualRowMove",x4e=140,yW="ht__manualRowMove",i_="show-ui",XI="on-moving--rows",QI="after-selection--rows";var Ni=new WeakMap,Mu=new WeakMap,vc=new WeakMap,Gu=new WeakMap,ns=new WeakMap,rx=new WeakMap,sh=new WeakSet;class C4e extends xt{constructor(){super(...arguments),S4e(this,sh),Tg(this,Ni,new v4e(this.hot)),Tg(this,Mu,new b4e(this.hot)),Tg(this,vc,[]),Tg(this,Gu,void 0),Tg(this,ns,{}),Tg(this,rx,void 0)}static get PLUGIN_KEY(){return VP}static get PLUGIN_PRIORITY(){return x4e}isEnabled(){return!!this.hot.getSettings()[VP]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Tu(sh,e,_4e).call(e,...n)}),this.addHook("beforeOnCellMouseOver",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Tu(sh,e,E4e).call(e,...n)}),this.addHook("afterScrollHorizontally",()=>Tu(sh,this,k4e).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Tu(sh,e,P4e).call(e,...n)}),this.buildPluginUI(),this.registerEvents(),oe(this.hot.rootElement,yW),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){Re(this.hot.rootElement,yW),this.unregisterEvents(),Xe(Ni,this).destroy(),Xe(Mu,this).destroy(),super.disablePlugin()}moveRow(e,r){return this.moveRows([e],r)}moveRows(e,r){const n=Xe(rx,this),i=this.isMovePossible(e,r),s=this.hot.runHooks("beforeRowMove",e,r,n,i);if(Lh(rx,this,void 0),s===!1)return;i&&this.hot.rowIndexMapper.moveIndexes(e,r);const o=i&&this.isRowOrderChanged(e,r);return this.hot.runHooks("afterRowMove",e,r,n,i,o),o}dragRow(e,r){return this.dragRows([e],r)}dragRows(e,r){const n=this.countFinalIndex(e,r);return Lh(rx,this,r),this.moveRows(e,n)}isMovePossible(e,r){const n=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),i=e.length+r>n,s=r<0,o=e.some(l=>l<0),a=e.some(l=>l>=n);return!(i||s||o||a)}isRowOrderChanged(e,r){return e.some((n,i)=>n-i!==r)}countFinalIndex(e,r){const n=gs(e,(i,s)=>(s<r&&(i+=1),i),0);return r-n}getRowsHeight(e,r){const n=this.hot.rowIndexMapper;let i=0;for(let s=e;s<=r;s++){const o=n.getRenderableFromVisualIndex(s);o!==null&&(i+=this.hot.view._wt.wtTable.getRowHeight(o)||this.hot.stylesHandler.getDefaultRowHeight())}return i}moveBySettingsOrLoad(){const e=this.hot.getSettings()[VP];if(Array.isArray(e))this.moveRows(e,0);else if(e!==void 0){const r=this.persistentStateLoad();r.length&&this.moveRows(r,0)}}isFixedRowTop(e){return e<this.hot.getSettings().fixedRowsTop}isFixedRowBottom(e){return e>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualRowMove",e),e.value?e.value:[]}prepareRowsToMoving(){const e=this.hot.getSelectedRangeActive(),r=[];if(!e)return r;const{from:n,to:i}=e,s=Math.min(n.row,i.row),o=Math.max(n.row,i.row);return Ie(s,o,a=>{r.push(a)}),r}refreshPositions(){const e=Xe(ns,this).coords,r=this.hot.getFirstFullyVisibleRow(),n=this.hot.getLastFullyVisibleRow(),i=this.hot.countRows();this.isFixedRowTop(e.row)&&r>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(r-1,-1)),this.isFixedRowBottom(e.row)&&n<i&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(n+1,1),void 0,!0);const s=this.hot.view._wt.wtTable,o=Xe(ns,this).TD,a=this.hot.rootElement,l=mi(a),c=Dv(a),d=s.holder.scrollTop,h=this.hot.rootWindow!==c?c.scrollTop:0,f=l.top-h,g=Xe(ns,this).eventPageY-f+d,m=s.hider.offsetHeight,p=s.TBODY.offsetTop,y=Xe(Ni,this).getOffset().top,S=Xe(Ni,this).getSize().height,w=o.offsetHeight/2,b=o.offsetHeight;let C=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,e.row-1);const N=g>=C+w;this.isFixedRowTop(e.row)&&(C+=this.hot.view._wt.wtOverlays.topOverlay.getOverlayOffset()),e.row<0?Xe(ns,this).row=r>0?r-1:r:N?(Xe(ns,this).row=e.row+1,C+=e.row===0?b-1:b):Xe(ns,this).row=e.row;let P=g,k=C;g+S+y>=m?P=m-S-y:g+y<p&&(P=p+Math.abs(y)),C>=m-1&&(k=m-1),Xe(Ni,this).setPosition(P),Xe(Mu,this).setPosition(k)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",r=>Tu(sh,this,R4e).call(this,r)),this.eventManager.addEventListener(e,"mouseup",()=>Tu(sh,this,T4e).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){Xe(Ni,this).build(),Xe(Mu,this).build()}destroy(){Xe(Ni,this).destroy(),Xe(Mu,this).destroy(),super.destroy()}}function _4e(t,e,r,n){const{wtTable:i,wtViewport:s}=this.hot.view._wt,o=this.hot.selection.isSelectedByRowHeader(),a=this.hot.getSelectedRangeActive();if(!a||!o||Xe(Gu,this)||t.button!==0){Lh(Gu,this,!1),Xe(vc,this).length=0,Re(this.hot.rootElement,[XI,i_]);return}const l=Xe(Mu,this).isBuilt()&&!Xe(Mu,this).isAppended(),c=Xe(Ni,this).isBuilt()&&!Xe(Ni,this).isAppended();l&&c&&(Xe(Mu,this).appendTo(i.hider),Xe(Ni,this).appendTo(i.hider));const{from:d,to:h}=a,f=Math.min(d.row,h.row),g=Math.max(d.row,h.row);if(e.col<0&&e.row>=f&&e.row<=g){n.row=!0,Lh(Gu,this,!0),Xe(ns,this).eventPageY=t.pageY,Xe(ns,this).coords=e,Xe(ns,this).TD=r,Lh(vc,this,this.prepareRowsToMoving());const m=i.holder.scrollLeft+s.getRowHeaderWidth(),p=this.getRowsHeight(f,e.row-1)+(t.clientY-r.getBoundingClientRect().top);Xe(Ni,this).setPosition(null,m),Xe(Ni,this).setSize(i.hider.offsetWidth-m,this.getRowsHeight(f,g)),Xe(Ni,this).setOffset(-p,null),oe(this.hot.rootElement,XI),this.refreshPositions()}else Re(this.hot.rootElement,QI),Lh(Gu,this,!1),Xe(vc,this).length=0}function R4e(t){Xe(Gu,this)&&(Xe(ns,this).eventPageY=t.pageY,this.refreshPositions())}function E4e(t,e,r,n){!this.hot.getSelectedRangeActive()||!Xe(Gu,this)||(Xe(vc,this).indexOf(e.row)>-1?Re(this.hot.rootElement,i_):oe(this.hot.rootElement,i_),n.row=!0,n.column=!0,n.cell=!0,Xe(ns,this).coords=e,Xe(ns,this).TD=r)}function T4e(){const t=Xe(ns,this).row,e=Xe(vc,this).length;if(Lh(Gu,this,!1),Re(this.hot.rootElement,[XI,i_,QI]),this.hot.selection.isSelectedByRowHeader()&&oe(this.hot.rootElement,QI),e<1||t===void 0)return;const r=Xe(vc,this)[0],n=this.hot.toPhysicalRow(r),i=this.dragRows(Xe(vc,this),t);if(Xe(vc,this).length=0,i===!0){this.persistentStateSave(),this.hot.view.adjustElementsSize(),this.hot.render();const s=this.hot.toVisualRow(n),o=s+e-1;this.hot.selectRows(s,o)}}function k4e(){const t=this.hot.view._wt.wtTable,e=this.hot.view._wt.wtViewport.getRowHeaderWidth(),r=t.holder.scrollLeft,n=e+r;Xe(Ni,this).setPosition(null,n),Xe(Ni,this).setSize(t.hider.offsetWidth-n)}function P4e(){this.moveBySettingsOrLoad()}function N4e(t,e){Aq(t,e),e.add(t)}function ii(t,e,r){Aq(t,e),e.set(t,r)}function Aq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Er(t,e,r){return t.set(ac(t,e),r),r}function Se(t,e){return t.get(ac(t,e))}function ac(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const s_="manualRowResize",M4e=30,vW="manualRowHeights";var il=new WeakMap,nx=new WeakMap,Ms=new WeakMap,rv=new WeakMap,Iu=new WeakMap,MD=new WeakMap,jm=new WeakMap,ix=new WeakMap,Ci=new WeakMap,el=new WeakMap,Cf=new WeakMap,o_=new WeakMap,pm=new WeakMap,nv=new WeakMap,oa=new WeakMap,iv=new WeakMap,hu=new WeakSet;class I4e extends xt{static get PLUGIN_KEY(){return s_}static get PLUGIN_PRIORITY(){return M4e}constructor(e){super(e),N4e(this,hu),ii(this,il,null),ii(this,nx,null),ii(this,Ms,[]),ii(this,rv,null),ii(this,Iu,null),ii(this,MD,null),ii(this,jm,null),ii(this,ix,null),ii(this,Ci,this.hot.rootDocument.createElement("DIV")),ii(this,el,this.hot.rootDocument.createElement("DIV")),ii(this,Cf,!1),ii(this,o_,!1),ii(this,pm,0),ii(this,nv,null),ii(this,oa,void 0),ii(this,iv,void 0),oe(Se(Ci,this),"manualRowResizer"),oe(Se(el,this),"manualRowResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[s_]}enablePlugin(){this.enabled||(Er(oa,this,new Sd),Se(oa,this).addLocalHook("init",()=>ac(hu,this,L4e).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,Se(oa,this)),this.addHook("modifyRowHeight",(e,r)=>ac(hu,this,$4e).call(this,e,r)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){Er(iv,this,Se(oa,this).getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualRowHeights(){this.hot.runHooks("persistentStateSave",vW,Se(oa,this).getValues())}loadManualRowHeights(){const e={};return this.hot.runHooks("persistentStateLoad",vW,e),e.value}setManualSize(e,r){const n=this.hot.toPhysicalRow(e),i=Math.max(r,this.hot.stylesHandler.getDefaultRowHeight());return Se(oa,this).setValueAtIndex(n,i),i}getLastDesiredRowHeight(){return Se(rv,this)}setupHandlePosition(e){if(Se(pm,this)>1)return;Er(il,this,e);const{view:r}=this.hot,{_wt:n}=r,i=n.wtTable.getCoords(Se(il,this)),s=i.row;if(s<0)return;const o=en(Se(il,this)),a=Se(il,this).getBoundingClientRect(),l=s<n.getSetting("fixedRowsTop"),c=s>=r.countNotHiddenRowIndexes(0,1)-n.getSetting("fixedRowsBottom");let d;l?d=n.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(Se(il,this),i.row,i.col):c&&(d=n.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(Se(il,this),i.row,i.col)),d||(d=n.wtOverlays.inlineStartOverlay.getRelativeCellPosition(Se(il,this),i.row,i.col)),Er(nx,this,this.hot.rowIndexMapper.getVisualFromRenderableIndex(s)),Er(Ms,this,[]);const h=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();if(this.hot.selection.isSelected()&&h){const f=this.hot.getSelectedRange();B(f,g=>{const m=g.getTopStartCorner().row,p=g.getBottomStartCorner().row;Ie(m,p,y=>{Se(Ms,this).includes(y)||Se(Ms,this).push(y)})})}Se(Ms,this).includes(Se(nx,this))||Er(Ms,this,[Se(nx,this)]),Er(ix,this,d.top-6),Er(jm,this,parseInt(a.height,10)),Se(Ci,this).style.top=`${Se(ix,this)+Se(jm,this)}px`,Se(Ci,this).style[this.inlineDir]=`${d.start}px`,Se(Ci,this).style.width=`${o}px`,this.hot.rootElement.appendChild(Se(Ci,this))}refreshHandlePosition(){Se(Ci,this).style.top=`${Se(ix,this)+Se(rv,this)}px`}setupGuidePosition(){const e=parseInt(en(Se(Ci,this)),10),r=parseInt(Se(Ci,this).style[this.inlineDir],10)+e,n=this.hot.view.getTableWidth();oe(Se(Ci,this),"active"),oe(Se(el,this),"active"),Se(el,this).style.top=Se(Ci,this).style.top,Se(el,this).style[this.inlineDir]=`${r}px`,Se(el,this).style.width=`${n-e}px`,this.hot.rootElement.appendChild(Se(el,this))}refreshGuidePosition(){Se(el,this).style.top=Se(Ci,this).style.top}hideHandleAndGuide(){Re(Se(Ci,this),"active"),Re(Se(el,this),"active")}checkIfRowHeader(e){const r=gf(e,["TBODY"],this.hot.rootElement),{inlineStartOverlay:n,topInlineStartCornerOverlay:i,bottomInlineStartCornerOverlay:s}=this.hot.view._wt.wtOverlays;return[n.clone.wtTable.TBODY,i.clone.wtTable.TBODY,s.clone.wtTable.TBODY].includes(r)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}getActualRowHeight(e){const r=this.hot.view._wt.wtTable.getRowHeight(e);return r!==void 0&&Se(Iu,this)<r?r:Se(Iu,this)}afterMouseDownTimeout(){const e=()=>{this.hot.view.adjustElementsSize(),this.hot.render()},r=(n,i)=>{const s=this.hot.runHooks("beforeRowResize",this.getActualRowHeight(n),n,!0);s!==void 0&&Er(Iu,this,s),this.setManualSize(n,Se(Iu,this)),this.hot.runHooks("afterRowResize",this.getActualRowHeight(n),n,!0),i&&e()};Se(pm,this)>=2&&(Se(Ms,this).length>1?(B(Se(Ms,this),i=>{r(i)}),e()):B(Se(Ms,this),i=>{r(i,!0)})),Er(pm,this,0),Er(nv,this,null)}bindEvents(){const{rootElement:e,rootWindow:r}=this.hot;this.eventManager.addEventListener(e,"mouseover",n=>ac(hu,this,A4e).call(this,n)),this.eventManager.addEventListener(e,"mousedown",n=>ac(hu,this,O4e).call(this,n)),this.eventManager.addEventListener(r,"mousemove",n=>ac(hu,this,H4e).call(this,n)),this.eventManager.addEventListener(r,"mouseup",()=>ac(hu,this,j4e).call(this)),this.eventManager.addEventListener(Se(Ci,this),"contextmenu",()=>ac(hu,this,D4e).call(this))}destroy(){super.destroy()}}function A4e(t){if(!aY(t.target)&&Se(o_,this)!==!0&&this.checkIfRowHeader(t.target)){const e=this.getClosestTHParent(t.target);e&&(Se(Cf,this)||this.setupHandlePosition(e))}}function O4e(t){Ve(t.target,"manualRowResizer")&&(this.setupHandlePosition(Se(il,this)),this.setupGuidePosition(),Er(Cf,this,!0),Se(nv,this)===null&&(Er(nv,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(Se(nv,this))),Er(pm,this,Se(pm,this)+1),Er(MD,this,t.pageY),Er(Iu,this,Se(jm,this)))}function H4e(t){Se(Cf,this)&&(Er(rv,this,Se(jm,this)+(t.pageY-Se(MD,this))),B(Se(Ms,this),e=>{Er(Iu,this,this.setManualSize(e,Se(rv,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition())}function j4e(){const t=()=>{this.hot.view.adjustElementsSize(),this.hot.render()},e=(r,n)=>{this.hot.runHooks("beforeRowResize",this.getActualRowHeight(r),r,!1),n&&t(),this.saveManualRowHeights(),this.hot.runHooks("afterRowResize",this.getActualRowHeight(r),r,!1)};Se(Cf,this)&&(this.hideHandleAndGuide(),Er(Cf,this,!1),Se(Iu,this)!==Se(jm,this)&&(Se(Ms,this).length>1?(B(Se(Ms,this),n=>{e(n)}),t()):B(Se(Ms,this),n=>{e(n,!0)})),this.setupHandlePosition(Se(il,this)))}function D4e(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(Se(Ci,this)),this.hot.rootElement.removeChild(Se(el,this)),Er(Cf,this,!1),Er(o_,this,!0),this.hot._registerImmediate(()=>{Er(o_,this,!1)})}function $4e(t,e){let r=t;if(this.enabled){const i=this.hot.toPhysicalRow(e),s=Se(oa,this).getValueAtIndex(i);if(this.hot.getSettings()[s_]&&s){var n;(n=this.hot.getPlugin("autoRowSize"))!==null&&n!==void 0&&n.isEnabled()?r=Math.max(s,r??0):r=s}}return r}function L4e(){const t=this.hot.getSettings()[s_],e=this.loadManualRowHeights();this.hot.batchExecution(()=>{typeof e<"u"?e.forEach((r,n)=>{Se(oa,this).setValueAtIndex(n,r)}):Array.isArray(t)?(t.forEach((r,n)=>{Se(oa,this).setValueAtIndex(n,r)}),Er(iv,this,t)):t===!0&&Array.isArray(Se(iv,this))&&Se(iv,this).forEach((r,n)=>{Se(oa,this).setValueAtIndex(n,r)})},!0)}var F4e=SR;F4e("flatMap");var V4e=mn,wW=pn,W4e=Pl,B4e=VO,z4e=function(t,e){(!e||typeof t!="string")&&wW(t);var r=B4e(t);return W4e(wW(r!==void 0?V4e(r,t):t))},U4e=Xt,JI=mn,Y4e=hs,ZI=pn,G4e=Pl,K4e=z4e,q4e=GO,eA=fs,X4e=KO,Q4e=wd,Oq=!X4e("flatMap",function(){}),tA=!Oq&&Q4e("flatMap",TypeError),J4e=Oq||tA,Z4e=q4e(function(){for(var t=this.iterator,e=this.mapper,r,n;;){if(n=this.inner)try{if(r=ZI(JI(n.next,n.iterator)),!r.done)return r.value;this.inner=null}catch(i){eA(t,"throw",i)}if(r=ZI(JI(this.next,t)),this.done=!!r.done)return;try{this.inner=K4e(e(r.value,this.counter++),!1)}catch(i){eA(t,"throw",i)}}});U4e({target:"Iterator",proto:!0,real:!0,forced:J4e},{flatMap:function(e){ZI(this);try{Y4e(e)}catch(r){eA(this,"throw",r)}return tA?JI(tA,this,e):new Z4e(G4e(this),{mapper:e,inner:null})}});function eFe(t,e,r){tFe(t,e),e.set(t,r)}function tFe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function oh(t,e,r){return(e=rFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rFe(t){var e=nFe(t,"string");return typeof e=="symbol"?e:e+""}function nFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bW(t,e){return t.get(Hq(t,e))}function sx(t,e,r){return t.set(Hq(t,e),r),r}function Hq(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var ah=new WeakMap;class sl{constructor(e,r,n,i,s,o){oh(this,"row",void 0),oh(this,"col",void 0),oh(this,"rowspan",void 0),oh(this,"colspan",void 0),oh(this,"removed",!1),oh(this,"cellCoordsFactory",void 0),oh(this,"cellRangeFactory",void 0),eFe(this,ah,null),this.row=e,this.col=r,this.rowspan=n,this.colspan=i,this.cellCoordsFactory=s,this.cellRangeFactory=o}static NEGATIVE_VALUES_WARNING(e){let{row:r,col:n,rowspan:i,colspan:s}=e;return kt`The merged cell declared with {row: ${r}, col: ${n},\x20
      rowspan: ${i}, colspan: ${s}} contains negative values, which is\x20
      not supported. It will not be added to the collection.`}static IS_OUT_OF_BOUNDS_WARNING(e){let{row:r,col:n}=e;return kt`The merged cell declared at [${r}, ${n}] is positioned\x20
      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup.`}static IS_SINGLE_CELL(e){let{row:r,col:n}=e;return kt`The merged cell declared at [${r}, ${n}] has both "rowspan"\x20
      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.`}static ZERO_SPAN_WARNING(e){let{row:r,col:n}=e;return kt`The merged cell declared at [${r}, ${n}] has "rowspan"\x20
      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.`}static containsNegativeValues(e){let{row:r,col:n,rowspan:i,colspan:s}=e;return r<0||n<0||i<0||s<0}static isSingleCell(e){let{rowspan:r,colspan:n}=e;return n===1&&r===1}static containsZeroSpan(e){let{rowspan:r,colspan:n}=e;return n===0||r===0}static isOutOfBounds(e,r,n){return e.row<0||e.col<0||e.row>=r||e.row+e.rowspan-1>=r||e.col>=n||e.col+e.colspan-1>=n}normalize(e){const r=e.countRows(),n=e.countCols();this.row<0?this.row=0:this.row>r-1&&(this.row=r-1),this.col<0?this.col=0:this.col>n-1&&(this.col=n-1),this.row+this.rowspan>r-1&&(this.rowspan=r-this.row),this.col+this.colspan>n-1&&(this.colspan=n-this.col),sx(ah,this,null)}includes(e,r){return this.row<=e&&this.col<=r&&this.row+this.rowspan-1>=e&&this.col+this.colspan-1>=r}includesHorizontally(e){return this.col<=e&&this.col+this.colspan-1>=e}includesVertically(e){return this.row<=e&&this.row+this.rowspan-1>=e}shift(e,r){const n=e[0]||e[1],i=r+Math.abs(e[0]||e[1])-1,s=e[0]?"colspan":"rowspan",o=e[0]?"col":"row",a=Math.min(r,i),l=Math.max(r,i),c=this[o],d=this[o]+this[s]-1;if(c>=r&&(this[o]+=n),n>0)r<=d&&r>c&&(this[s]+=n);else if(n<0){if(a<=c&&l>=d)return this.removed=!0,sx(ah,this,null),!1;if(c>=a&&c<=l){const h=l-c+1,f=Math.abs(n)-h;this[o]-=f+n,this[s]-=h}else if(c<=a&&d>=l)this[s]+=n;else if(c<=a&&d>=a&&d<l){const h=d-a+1;this[s]-=h}}return sx(ah,this,null),!0}isFarther(e,r){return e?r==="down"?e.row+e.rowspan-1<this.row+this.rowspan-1:r==="up"?e.row>this.row:r==="right"?e.col+e.colspan-1<this.col+this.colspan-1:r==="left"?e.col>this.col:null:!0}getLastRow(){return this.row+this.rowspan-1}getLastColumn(){return this.col+this.colspan-1}getRange(){return bW(ah,this)||sx(ah,this,this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))),bW(ah,this)}}function iFe(t,e){sFe(t,e),e.add(t)}function sFe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ox(t,e,r){return(e=oFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oFe(t){var e=aFe(t,"string");return typeof e=="symbol"?e:e+""}function aFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lh(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var fu=new WeakSet;class a_{constructor(e){iFe(this,fu),ox(this,"plugin",void 0),ox(this,"mergedCells",[]),ox(this,"mergedCellsMatrix",new Map),ox(this,"hot",void 0),this.plugin=e,this.hot=e.hot}static IS_OVERLAPPING_WARNING(e){let{row:r,col:n}=e;return kt`The merged cell declared at [${r}, ${n}], overlaps\x20
      with the other declared merged cell. The overlapping merged cell was not added to the table, please\x20
      fix your setup.`}get(e,r){var n;return this.mergedCellsMatrix.has(e)&&(n=this.mergedCellsMatrix.get(e).get(r))!==null&&n!==void 0?n:!1}getByRange(e){const{row:r,col:n}=e.getTopStartCorner(),{row:i,col:s}=e.getBottomEndCorner(),o=this.mergedCells.length;let a=!1;for(let l=0;l<o;l++){const c=this.mergedCells[l],{row:d,col:h,rowspan:f,colspan:g}=c;if(d>=r&&d+f-1<=i&&h>=n&&h+g-1<=s){a=c;break}}return a}filterOverlappingMergeCells(e){const r=new Set;return this.mergedCells.forEach(i=>{const{row:s,col:o,colspan:a,rowspan:l}=i;for(let c=s;c<s+l;c++)for(let d=o;d<o+a;d++)r.add(`r${c},c${d}`)}),e.filter(i=>{const{row:s,col:o,colspan:a,rowspan:l}=i,c=new Set;let d=!1;for(let h=s;h<s+l;h++){for(let f=o;f<o+a;f++){const g=`r${h},c${f}`;if(r.has(g)){at(a_.IS_OVERLAPPING_WARNING(i)),d=!0;break}c.add(g)}if(d)break}return d||r.add(...c),!d})}getWithinRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{row:n,col:i}=e.getTopStartCorner(),{row:s,col:o}=e.getBottomEndCorner(),a=[];for(let l=n;l<=s;l++)for(let c=i;c<=o;c++){const d=this.get(l,c);d&&(r||!r&&d.row===l&&d.col===c)&&a.push(d)}return a}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=e.row,i=e.col,s=e.rowspan,o=e.colspan,a=new sl(n,i,s,o,this.hot._createCellCoords,this.hot._createCellRange),l=this.get(n,i),c=r?!1:this.isOverlapping(a);return!l&&!c?(this.hot&&a.normalize(this.hot),this.mergedCells.push(a),lh(fu,this,SW).call(this,a),a):(c&&at(a_.IS_OVERLAPPING_WARNING(a)),!1)}remove(e,r){const n=this.get(e,r),i=n?this.mergedCells.indexOf(n):-1;return n&&i!==-1?(this.mergedCells.splice(i,1),lh(fu,this,lFe).call(this,n),n):!1}clear(){B(this.mergedCells,e=>{let{row:r,col:n,rowspan:i,colspan:s}=e;Ie(r,r+i,o=>{Ie(n,n+s,a=>{const l=this.hot.getCell(o,a);l&&(l.removeAttribute("rowspan"),l.removeAttribute("colspan"),l.style.display="")})})}),this.mergedCells.length=0,this.mergedCellsMatrix=new Map}isOverlapping(e){const r=e.getRange();for(let n=0;n<this.mergedCells.length;n++)if(this.mergedCells[n].getRange().overlaps(r))return!0;return!1}isFirstRenderableMergedCell(e,r){const n=this.get(e,r);if(!n)return!1;const{row:i,col:s,rowspan:o,colspan:a}=n,l=this.hot.view.getActiveOverlayName(),c=["top","top_inline_start_corner"].includes(l)?0:this.hot.getFirstRenderedVisibleRow(),d=["inline_start","top_inline_start_corner","bottom_inline_start_corner"].includes(l)?0:this.hot.getFirstRenderedVisibleColumn(),h=ft(c,i,i+o-1),f=ft(d,s,s+a-1);return this.hot.rowIndexMapper.getNearestNotHiddenIndex(h,1)===e&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(f,1)===r}getFirstRenderableCoords(e,r){const n=this.get(e,r);if(!n||this.isFirstRenderableMergedCell(e,r))return this.hot._createCellCoords(e,r);const i=this.hot.rowIndexMapper.getNearestNotHiddenIndex(n.row,1),s=this.hot.columnIndexMapper.getNearestNotHiddenIndex(n.col,1);return this.hot._createCellCoords(i,s)}getStartMostColumnIndex(e,r){const n=lh(fu,this,ax).call(this,e,"col",-1);let i=r;for(let s=0;s<n.length;s++)if(n[s]<=r){i=n[s];break}return i}getEndMostColumnIndex(e,r){const n=lh(fu,this,ax).call(this,e,"col",1);let i=r;for(let s=0;s<n.length;s++)if(n[s]>=r){i=n[s];break}return i}getTopMostRowIndex(e,r){const n=lh(fu,this,ax).call(this,e,"row",-1);let i=r;for(let s=0;s<n.length;s++)if(n[s]<=r){i=n[s];break}return i}getBottomMostRowIndex(e,r){const n=lh(fu,this,ax).call(this,e,"row",1);let i=r;for(let s=0;s<n.length;s++)if(n[s]>=r){i=n[s];break}return i}shiftCollections(e,r,n){const i=[0,0];switch(e){case"right":i[0]+=n;break;case"left":i[0]-=n;break;case"down":i[1]+=n;break;case"up":i[1]-=n;break}const s=[];this.mergedCells.forEach(o=>{o.shift(i,r),o.removed&&s.push(o)}),s.forEach(o=>{this.mergedCells.splice(this.mergedCells.indexOf(o),1)}),this.mergedCellsMatrix.clear(),this.mergedCells.forEach(o=>{lh(fu,this,SW).call(this,o)})}}function ax(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const n=new Map,i=r===1?t.getTopStartCorner():t.getBottomEndCorner(),s=r===1?t.getBottomEndCorner():t.getTopStartCorner();for(let o=i.row;r===1?o<=s.row:o>=s.row;o+=r)for(let a=i.col;r===1?a<=s.col:a>=s.col;a+=r){const l=e==="row"?o:a,c=this.get(o,a);let d=l;c&&(d=r===1?c[e]+c[`${e}span`]-1:c[e]),n.has(l)||n.set(l,new Set),n.get(l).add(d)}return Array.from(new Set(Array.from(n.entries()).filter(o=>{let[,a]=o;return a.size===1}).flatMap(o=>{let[,a]=o;return Array.from(a)})))}function SW(t){for(let e=t.row;e<t.row+t.rowspan;e++)for(let r=t.col;r<t.col+t.colspan;r++)this.mergedCellsMatrix.has(e)||this.mergedCellsMatrix.set(e,new Map),this.mergedCellsMatrix.get(e).set(r,t)}function lFe(t){for(let e=t.row;e<t.row+t.rowspan;e++)for(let r=t.col;r<t.col+t.colspan;r++)this.mergedCellsMatrix.get(e).delete(r)}function WP(t,e,r){return(e=cFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cFe(t){var e=uFe(t,"string");return typeof e=="symbol"?e:e+""}function uFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dFe{constructor(e){WP(this,"plugin",void 0),WP(this,"mergedCellsCollection",void 0),WP(this,"currentFillData",null),this.plugin=e,this.mergedCellsCollection=this.plugin.mergedCellsCollection}getDirection(e,r){let n=null;return r[0]===e[0]&&r[1]===e[1]&&r[3]===e[3]?n="down":r[2]===e[2]&&r[1]===e[1]&&r[3]===e[3]?n="up":r[1]===e[1]&&r[2]===e[2]?n="right":n="left",n}snapDragArea(e,r,n,i){const s=r.slice(0),o=this.getAutofillSize(e,r,n),[a,l,c,d]=e,f=["up","down"].indexOf(n)>-1?c-a+1:d-l+1,g=Math.floor(o/f)*f,m=o-g,p=this.getFarthestCollection(e,r,n,i);if(p){if(n==="down"){const y=p.row+p.rowspan-a-m;s[2]+y>=this.plugin.hot.countRows()?s[2]-=m:s[2]+=m?y:0}else if(n==="right"){const y=p.col+p.colspan-l-m;s[3]+y>=this.plugin.hot.countCols()?s[3]-=m:s[3]+=m?y:0}else if(n==="up"){const y=c-m-p.row+1;s[0]+y<0?s[0]+=m:s[0]-=m?y:0}else if(n==="left"){const y=d-m-p.col+1;s[1]+y<0?s[1]+=m:s[1]-=m?y:0}}return this.updateCurrentFillCache({baseArea:e,dragDirection:n,foundMergedCells:i,fillSize:o,dragArea:s,cycleLength:f}),s}updateCurrentFillCache(e){this.currentFillData||(this.currentFillData={}),gn(this.currentFillData,e)}getAutofillSize(e,r,n){const[i,s,o,a]=e,[l,c,d,h]=r;switch(n){case"up":return i-l;case"down":return d-o;case"left":return s-c;case"right":return h-a;default:return null}}getDragArea(e,r,n){const[i,s,o,a]=e,[l,c,d,h]=r;switch(n){case"up":return[l,c,i-1,a];case"down":{const f=this.mergedCellsCollection.get(d,a),g=f?f.rowspan-1:0;return[o+1,s,d+g,a]}case"left":return[l,c,o,s-1];case"right":{const f=this.mergedCellsCollection.get(d,a),g=f?f.colspan-1:0;return[i,a+g,d,h]}default:return null}}getFarthestCollection(e,r,n,i){const[s,o,a,l]=e,c=["up","down"].indexOf(n)>-1,d=c?a:l,h=c?s:o,f=this.getAutofillSize(e,r,n),g=c?a-s+1:l-o+1,m=Math.floor(f/g)*g,p=f-m;let y=null,S=null,w=null;switch(n){case"up":y="includesVertically",w=d-p+1;break;case"left":y="includesHorizontally",w=d-p+1;break;case"down":y="includesVertically",w=h+p-1;break;case"right":y="includesHorizontally",w=h+p-1;break}return B(i,b=>{b[y](w)&&b.isFarther(S,n)&&(S=b)}),S}recreateAfterDataPopulation(e){if(!this.currentFillData)return;const r=this.getRangeFromChanges(e),n=this.currentFillData.foundMergedCells,i=this.currentFillData.dragDirection,s=(c,d)=>{switch(i){case"up":return c.row-d>=r.from.row;case"down":return c.row+c.rowspan-1+d<=r.to.row;case"left":return c.col-d>=r.from.column;case"right":return c.col+c.colspan-1+d<=r.to.column;default:return null}};let o=0,a=null,l=1;do for(let c=0;c<n.length;c+=1){if(a=n[c],o=l*this.currentFillData.cycleLength,s(a,o))switch(i){case"up":this.plugin.mergedCellsCollection.add({row:a.row-o,rowspan:a.rowspan,col:a.col,colspan:a.colspan},!0);break;case"down":this.plugin.mergedCellsCollection.add({row:a.row+o,rowspan:a.rowspan,col:a.col,colspan:a.colspan},!0);break;case"left":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col-o,colspan:a.colspan},!0);break;case"right":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col+o,colspan:a.colspan},!0);break}c===n.length-1&&(l+=1)}while(s(a,o));this.currentFillData=null,this.plugin.hot.render(),n.length>0&&this.plugin.ifChromeForceRepaint()}getRangeFromChanges(e){const r={min:null,max:null},n={min:null,max:null};return B(e,i=>{const s=i[0],o=this.plugin.hot.propToCol(i[1]);(r.min===null||s<r.min)&&(r.min=s),(r.max===null||s>r.max)&&(r.max=s),(n.min===null||o<n.min)&&(n.min=o),(n.max===null||o>n.max)&&(n.max=o)}),{from:{row:r.min,column:n.min},to:{row:r.max,column:n.max}}}dragAreaOverlapsCollections(e,r,n){const i=this.getDragArea(e,r,n),[s,o,a,l]=i,c=this.plugin.hot._createCellCoords(s,o),d=this.plugin.hot._createCellCoords(a,l),h=this.plugin.hot._createCellRange(c,c,d);if(this.mergedCellsCollection.getWithinRange(h,!0).length===0)return!1;const g=this.mergedCellsCollection.getWithinRange(h,!1);return g.length===0?!0:n==="up"||n==="down"?!g.every(m=>{let{colspan:p}=m;return p===h.getWidth()}):!g.every(m=>{let{rowspan:p}=m;return p===h.getHeight()})}}function BP(t,e,r){return(e=hFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hFe(t){var e=fFe(t,"string");return typeof e=="symbol"?e:e+""}function fFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class gFe{constructor(e){BP(this,"plugin",void 0),BP(this,"hot",void 0),BP(this,"fullySelectedMergedCellClassName","fullySelectedMergedCell"),this.plugin=e,this.hot=e.hot}getSelectedMergedCellClassName(e,r,n,i){const s=Math.min(n[0],n[2]),o=Math.min(n[1],n[3]),a=Math.max(n[0],n[2]),l=Math.max(n[1],n[3]);if(i===void 0||!this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(e,r))return;const d=this.plugin.mergedCellsCollection.get(e,r);if(!d)return;const h=d.getLastRow(),f=d.getLastColumn();if(s<=d.row&&o<=d.col&&a>=h&&l>=f)return`${this.fullySelectedMergedCellClassName}-${i}`;if(this.isMergeCellFullySelected(d,this.plugin.hot.getSelectedRange()))return`${this.fullySelectedMergedCellClassName}-multiple`}isMergeCellFullySelected(e,r){const n=[];if(!r||!e)return!1;for(let i=0;i<e.rowspan;i+=1)for(let s=0;s<e.colspan;s+=1)n.push(this.hot._createCellCoords(e.row+i,e.col+s));for(let i=0;i<n.length;i+=1){const s=[];for(let o=0;o<r.length;o+=1)s[o]=r[o].includes(n[i]);if(!s.includes(!0))return!1}return!0}getSelectedMergedCellClassNameToRemove(){const e=[];for(let r=0;r<=7;r+=1)e.push(`${this.fullySelectedMergedCellClassName}-${r}`);return e.push(`${this.fullySelectedMergedCellClassName}-multiple`),e}}function mFe(t){return{key:"mergeCells",name(){const e=this.getSelectedActive();if(e){const r=t.mergedCellsCollection.get(e[0],e[1]);if(r.row===e[0]&&r.col===e[1]&&r.row+r.rowspan-1===e[2]&&r.col+r.colspan-1===e[3])return this.getTranslatedPhrase(CH)}return this.getTranslatedPhrase(xH)},callback(){const e=this.getSelectedRangeActive();if(!e)return;e.setDirection(this.isRtl()?"NE-SW":"NW-SE");const{from:r,to:n}=e;t.toggleMerge(e),this.selectCell(r.row,r.col,n.row,n.col,!1)},disabled(){const e=this.getSelectedActive();return e?sl.isSingleCell({row:e[0],col:e[1],rowspan:e[2]-e[0]+1,colspan:e[3]-e[1]+1})||this.selection.isSelectedByCorner():!0},hidden:!1}}function sv(t,e,r){return(e=pFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pFe(t){var e=yFe(t,"string");return typeof e=="symbol"?e:e+""}function yFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xW{constructor(e){sv(this,"data",void 0),sv(this,"next",null),sv(this,"prev",null),this.data=e}}class lx{constructor(){sv(this,"first",null),sv(this,"last",null)}push(e){const r=new xW(e);if(this.first===null)this.first=r,this.last=r;else{const n=this.last;this.last=r,r.prev=n,n.next=r}return r}unshift(e){const r=new xW(e);if(this.first===null)this.first=r,this.last=r;else{const n=this.first;this.first=r,r.next=n,n.prev=r}}inorder(e){let r=this.first;for(;r;){const n=e(r);if(r===this.last||n===!0)break;r=r.next}}remove(e){if(this.first===null)return!1;let r=this.first,n,i;for(;r;){if(r.data===e)return n=r.next,i=r.prev,n&&(n.prev=i),i&&(i.next=n),r===this.first&&(this.first=n),r===this.last&&(this.last=i),!0;r=r.next}return!1}hasCycle(){let e=this.first,r=this.first;for(;;){if(e===null||(e=e.next,e===null))return!1;if(e=e.next,r=r.next,e===r)return!0}}pop(){if(this.last===null)return null;const e=this.last;return this.last=this.last.prev,e}shift(){if(this.first===null)return null;const e=this.first;return this.first=this.first.next,e}recursiveReverse(){function e(n,i){i&&(e(i,i.next),i.next=n)}if(!this.first)return;e(this.first,this.first.next),this.first.next=null;const r=this.first;this.first=this.last,this.last=r}reverse(){if(!this.first||!this.first.next)return;let e=this.first.next,r=this.first,n;for(;e;)n=e.next,e.next=r,r.prev=e,r=e,e=n;this.first.next=null,this.last.prev=null,n=this.first,this.first=r,this.last=n}}function vFe(t,e){jq(t,e),e.add(t)}function ch(t,e,r){jq(t,e),e.set(t,r)}function jq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ht(t,e){return t.get(l_(t,e))}function Ss(t,e,r){return t.set(l_(t,e),r),r}function l_(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var za=new WeakMap,Ua=new WeakMap,Ya=new WeakMap,Ga=new WeakMap,rA=new WeakMap,cx=new WeakMap,ux=new WeakMap,zP=new WeakSet;class wFe{constructor(e){let{mergedCellsGetter:r,rowIndexMapper:n,columnIndexMapper:i}=e;vFe(this,zP),ch(this,za,new lx),ch(this,Ua,new lx),ch(this,Ya,null),ch(this,Ga,null),ch(this,rA,null),ch(this,cx,null),ch(this,ux,null),Ss(rA,this,r),Ss(cx,this,n),Ss(ux,this,i)}getCurrentVerticalNode(){return Ht(Ga,this).data}getFirstVerticalNode(){return Ht(Ua,this).first.data}getNextVerticalNode(){return Ht(Ga,this).next.data}getPrevVerticalNode(){return Ht(Ga,this).prev.data}getCurrentHorizontalNode(){return Ht(Ya,this).data}getFirstHorizontalNode(){return Ht(za,this).first.data}getNextHorizontalNode(){return Ht(Ya,this).next.data}getPrevHorizontalNode(){return Ht(Ya,this).prev.data}setPrevNodeAsActive(){Ss(Ga,this,Ht(Ga,this).prev),Ss(Ya,this,Ht(Ya,this).prev)}setNextNodeAsActive(){Ss(Ga,this,Ht(Ga,this).next),Ss(Ya,this,Ht(Ya,this).next)}buildFocusOrder(e){Ss(za,this,new lx),e.forEach((r,n)=>{const i=new WeakSet,s=r.getTopStartCorner(),o=r.getBottomEndCorner();for(let a=s.row;a<=o.row;a++)if(!Ht(cx,this).isHidden(a))for(let l=s.col;l<=o.col;l++){if(Ht(ux,this).isHidden(l))continue;const c=l_(zP,this,CW).call(this,{selectedRange:r,selectionLayer:n,listOrder:Ht(za,this),mergeCellsVisitor:i,row:a,column:l});c&&Ss(Ya,this,c)}}),Ht(za,this).first&&(Ht(za,this).first.prev=Ht(za,this).last,Ht(za,this).last.next=Ht(za,this).first),Ss(Ua,this,new lx),e.forEach((r,n)=>{const i=new WeakSet,s=r.getTopStartCorner(),o=r.getBottomEndCorner();for(let a=s.col;a<=o.col;a++)if(!Ht(ux,this).isHidden(a))for(let l=s.row;l<=o.row;l++){if(Ht(cx,this).isHidden(l))continue;const c=l_(zP,this,CW).call(this,{selectedRange:r,selectionLayer:n,listOrder:Ht(Ua,this),mergeCellsVisitor:i,row:l,column:a});c&&Ss(Ga,this,c)}}),Ht(Ua,this).first&&(Ht(Ua,this).first.prev=Ht(Ua,this).last,Ht(Ua,this).last.next=Ht(Ua,this).first)}setActiveNode(e,r,n){return Ht(za,this).inorder(i=>{const{selectionLayer:s,rowStart:o,rowEnd:a,colStart:l,colEnd:c}=i.data;if(s===n&&e>=o&&e<=a&&r>=l&&r<=c)return Ss(Ya,this,i),!0}),Ht(Ua,this).inorder(i=>{const{selectionLayer:s,rowStart:o,rowEnd:a,colStart:l,colEnd:c}=i.data;if(s===n&&e>=o&&e<=a&&r>=l&&r<=c)return Ss(Ga,this,i),!0}),this}}function CW(t){let{selectedRange:e,selectionLayer:r,listOrder:n,mergeCellsVisitor:i,row:s,column:o}=t;const a=e.getTopStartCorner(),l=e.getBottomEndCorner(),c=e.highlight.clone().normalize(),d=Ht(rA,this).call(this,s,o);if(d&&i.has(d))return null;const h={selectionLayer:r,colStart:o,colEnd:o,rowStart:s,rowEnd:s};if(d){if(i.add(d),d.row<a.row||d.row+d.rowspan-1>l.row||d.col<a.col||d.col+d.colspan-1>l.col)return null;h.colStart=d.col,h.colEnd=d.col+d.colspan-1,h.rowStart=d.row,h.rowEnd=d.row+d.rowspan-1}const f=n.push(h);return s===c.row&&o===c.col||d&&c.row>=d.row&&c.row<=d.row+d.rowspan-1&&c.col>=d.col&&c.col<=d.col+d.colspan-1?f:null}function Dq(t,e,r){const{rowIndexMapper:n,stylesHandler:i}=t;let s=0;for(let a=e;a<e+r;a++)if(!n.isHidden(a)){var o;s+=(o=t.getRowHeight(a))!==null&&o!==void 0?o:i.getDefaultRowHeight(a)}return s}function bFe(t){const{hot:e}=t,{rowIndexMapper:r,columnIndexMapper:n}=e,i=new Map;function s(){}function o(a,l,c){const d=t.mergedCellsCollection.get(l,c);if(!Le(d)){a.removeAttribute("rowspan"),a.removeAttribute("colspan"),i.has(l)&&!e.getSettings().rowHeaders&&(a.style.height=`${i.get(l)}px`,i.delete(l)),a.style.display="";return}const{row:h,col:f,colspan:g,rowspan:m}=d,[p,y]=t.translateMergedCellToRenderable(h,m,f,g),S=t.getSetting("virtualized");if(f===0&&!e.getSettings().rowHeaders){const O=e._getRowHeightFromSettings(l);if(O!==void 0){const q=e.stylesHandler.areCellsBorderBox()?0:1;i.set(l,O-q)}else if(yR()){const Z=Dq(e,h,m);i.set(l,Z/m)}}const w=r.getRenderableFromVisualIndex(l),b=n.getRenderableFromVisualIndex(c),C=p-w+1,N=y-b+1;let P=r.getNearestNotHiddenIndex(h,1),k=n.getNearestNotHiddenIndex(f,1);if(S){const O=e.view.getActiveOverlayName();["top","top_inline_start_corner"].includes(O)||(P=Math.max(P,e.getFirstRenderedVisibleRow())),["inline_start","top_inline_start_corner","bottom_inline_start_corner"].includes(O)||(k=Math.max(k,e.getFirstRenderedVisibleColumn()))}const R=Math.min(m,C),I=Math.min(g,N);P===l&&k===c?(a.setAttribute("rowspan",R),a.setAttribute("colspan",I)):(a.removeAttribute("rowspan"),a.removeAttribute("colspan"),a.style.display="none")}return{before:s,after:o}}function SFe(t,e){$q(t,e),e.add(t)}function dx(t,e,r){$q(t,e),e.set(t,r)}function $q(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function UP(t,e,r){return(e=xFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xFe(t){var e=CFe(t,"string");return typeof e=="symbol"?e:e+""}function CFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zv(t,e,r){return t.set($t(t,e),r),r}function qt(t,e){return t.get($t(t,e))}function $t(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}_e.getSingleton().register("beforeMergeCells");_e.getSingleton().register("afterMergeCells");_e.getSingleton().register("beforeUnmergeCells");_e.getSingleton().register("afterUnmergeCells");const nA="mergeCells",_Fe=150,_W=nA;var mo=new WeakMap,po=new WeakMap,wl=new WeakMap,RW=new WeakMap,Wt=new WeakSet;class RFe extends xt{constructor(){super(...arguments),SFe(this,Wt),UP(this,"mergedCellsCollection",null),UP(this,"autofillCalculations",null),UP(this,"selectionCalculations",null),dx(this,mo,null),dx(this,po,{row:0,col:0}),dx(this,wl,new wFe({mergedCellsGetter:(e,r)=>this.mergedCellsCollection.get(e,r),rowIndexMapper:this.hot.rowIndexMapper,columnIndexMapper:this.hot.columnIndexMapper})),dx(this,RW,bFe(this))}static get PLUGIN_KEY(){return nA}static get PLUGIN_PRIORITY(){return _Fe}static get DEFAULT_SETTINGS(){return{[ZG]:"cells",virtualized:!1,cells:[]}}isEnabled(){return!!this.hot.getSettings()[nA]}enablePlugin(){var e=this;this.enabled||(this.mergedCellsCollection=new a_(this),this.autofillCalculations=new dFe(this),this.selectionCalculations=new gFe(this),this.addHook("afterInit",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,EFe).call(e,...n)}),this.addHook("modifyTransformFocus",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,kFe).call(e,...n)}),this.addHook("modifyTransformStart",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,PFe).call(e,...n)}),this.addHook("modifyTransformEnd",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,NFe).call(e,...n)}),this.addHook("beforeSelectionHighlightSet",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,MFe).call(e,...n)}),this.addHook("beforeSetRangeStart",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,TW).call(e,...n)}),this.addHook("beforeSetRangeStartOnly",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,TW).call(e,...n)}),this.addHook("beforeSelectionFocusSet",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,AFe).call(e,...n)}),this.addHook("afterSelectionFocusSet",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,OFe).call(e,...n)}),this.addHook("afterSelectionEnd",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,HFe).call(e,...n)}),this.addHook("modifyGetCellCoords",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,EW).call(e,...n)}),this.addHook("modifyGetCoordsElement",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,EW).call(e,...n)}),this.addHook("afterIsMultipleSelection",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,TFe).call(e,...n)}),this.addHook("afterRenderer",function(){return qt(RW,e).after(...arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,IFe).call(e,...n)}),this.addHook("afterGetCellMeta",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,jFe).call(e,...n)}),this.addHook("afterViewportRowCalculatorOverride",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,DFe).call(e,...n)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,$Fe).call(e,...n)}),this.addHook("modifyAutofillRange",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,LFe).call(e,...n)}),this.addHook("afterCreateCol",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,FFe).call(e,...n)}),this.addHook("afterRemoveCol",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,VFe).call(e,...n)}),this.addHook("afterCreateRow",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,WFe).call(e,...n)}),this.addHook("afterRemoveRow",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,BFe).call(e,...n)}),this.addHook("afterChange",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,zFe).call(e,...n)}),this.addHook("beforeDrawBorders",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,UFe).call(e,...n)}),this.addHook("afterDrawSelection",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,YFe).call(e,...n)}),this.addHook("beforeRemoveCellClassNames",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,GFe).call(e,...n)}),this.addHook("beforeBeginEditing",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,KFe).call(e,...n)}),this.addHook("modifyRowHeightByOverlayName",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $t(Wt,e,qFe).call(e,...n)}),this.addHook("beforeUndoStackChange",(r,n)=>{if(n==="MergeCells")return!1}),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(),super.updatePlugin()}ifChromeForceRepaint(){if(!q9())return;const e=[];let r=[];this.mergedCellsCollection.mergedCells.forEach(n=>{const{row:i,rowspan:s}=n;for(let o=i+1;o<i+s;o++)r.push(o)}),r=[...new Set(r)],r.forEach(n=>{const i=this.hot.rowIndexMapper.getRenderableFromVisualIndex(n);this.hot.view._wt.wtOverlays.getOverlays(!0).map(s=>(s==null?void 0:s.name)==="master"?s:s.clone.wtTable).forEach(s=>{const o=s.getRow(i);o&&(o.style.background=x1(o,"backgroundColor").replace(")",", 0.99)"),e.push(o))})}),this.hot._registerTimeout(()=>{e.forEach(n=>{var i;n.style.background=(i=x1(n,"backgroundColor"))===null||i===void 0?void 0:i.replace(", 0.99)",")")})},1)}validateSetting(e){return e?sl.containsNegativeValues(e)?(at(sl.NEGATIVE_VALUES_WARNING(e)),!1):sl.isOutOfBounds(e,this.hot.countRows(),this.hot.countCols())?(at(sl.IS_OUT_OF_BOUNDS_WARNING(e)),!1):sl.isSingleCell(e)?(at(sl.IS_SINGLE_CELL(e)),!1):sl.containsZeroSpan(e)?(at(sl.ZERO_SPAN_WARNING(e)),!1):!0:!1}generateFromSettings(){const e=this.getSetting("cells").filter(i=>this.validateSetting(i)),r=this.mergedCellsCollection.filterOverlappingMergeCells(e),n=[];r.forEach(i=>{const{row:s,col:o,rowspan:a,colspan:l}=i,c=this.hot._createCellCoords(s,o),d=this.hot._createCellCoords(s+a-1,o+l-1),h=this.hot._createCellRange(c,c,d);this.mergeRange(h,!0,!0);for(let f=s;f<s+a;f++)for(let g=o;g<o+l;g++)(f!==s||g!==o)&&n.push([f,g,null])}),n.length!==0&&this.hot.setDataAtCell(n,void 0,void 0,this.pluginName)}clearCollections(){this.mergedCellsCollection.clear()}canMergeRange(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?!0:this.validateSetting(e)}mergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeActive();if(!e)return;e.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");const{from:r,to:n}=e;this.unmergeRange(e,!0),this.mergeRange(e),this.hot.selectCell(r.row,r.col,n.row,n.col,!1)}unmergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeActive();if(!e)return;const{from:r,to:n}=e;this.unmergeRange(e,!0),this.hot.selectCell(r.row,r.col,n.row,n.col,!1)}mergeRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=e.getTopStartCorner(),s=e.getBottomEndCorner(),o={row:i.row,col:i.col,rowspan:s.row-i.row+1,colspan:s.col-i.col+1},a=[];let l=null;return this.canMergeRange(o,r)?(this.hot.runHooks("beforeMergeCells",e,r),Ie(0,o.rowspan-1,d=>{Ie(0,o.colspan-1,h=>{let f=null;a[d]||(a[d]=[]),d===0&&h===0?f=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(o.row),this.hot.toPhysicalColumn(o.col)):this.hot.setCellMeta(o.row+d,o.col+h,"hidden",!0),a[d][h]=f})}),this.hot.setCellMeta(o.row,o.col,"spanned",!0),this.mergedCellsCollection.add(o,r)?(n?l=[o.row,o.col,a]:this.hot.populateFromArray(o.row,o.col,a,void 0,void 0,this.pluginName),r||this.ifChromeForceRepaint(),this.hot.runHooks("afterMergeCells",e,o,r),l):!0):!1}unmergeRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.mergedCellsCollection.getWithinRange(e);n.length!==0&&(this.hot.runHooks("beforeUnmergeCells",e,r),B(n,i=>{this.mergedCellsCollection.remove(i.row,i.col),Ie(0,i.rowspan-1,s=>{Ie(0,i.colspan-1,o=>{this.hot.removeCellMeta(i.row+s,i.col+o,"hidden"),this.hot.removeCellMeta(i.row+s,i.col+o,"copyable")})}),this.hot.removeCellMeta(i.row,i.col,"spanned")}),this.hot.runHooks("afterUnmergeCells",e,r),this.hot.render())}toggleMerge(e){const{from:r,to:n}=e.clone().normalize(),i=this.mergedCellsCollection.get(r.row,r.col);i.row===r.row&&i.col===r.col&&i.row+i.rowspan-1===n.row&&i.col+i.colspan-1===n.col?this.unmergeRange(e):this.mergeSelection(e)}merge(e,r,n,i){const s=this.hot._createCellCoords(e,r),o=this.hot._createCellCoords(n,i);this.mergeRange(this.hot._createCellRange(s,s,o))}unmerge(e,r,n,i){const s=this.hot._createCellCoords(e,r),o=this.hot._createCellCoords(n,i);this.unmergeRange(this.hot._createCellRange(s,s,o))}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control","m"]],callback:()=>{const n=this.hot.getSelectedRangeActive();n&&!n.isSingleHeader()&&(this.toggleMerge(n),this.hot.render())},runOnlyIf:n=>!n.altKey,group:_W})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(_W)}modifyViewportRowStart(e,r){const n=this.hot.rowIndexMapper,i=n.getVisualFromRenderableIndex(e.startRow);for(let s=0;s<r;s+=1){const o=this.mergedCellsCollection.get(i,s);if(Le(o)){const a=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(o.row,1));if(a<e.startRow){e.startRow=a,this.modifyViewportRowStart(e,r);return}}}}modifyViewportRowEnd(e,r){const n=this.hot.rowIndexMapper,i=n.getVisualFromRenderableIndex(e.endRow);for(let s=0;s<r;s+=1){const o=this.mergedCellsCollection.get(i,s);if(Le(o)){const a=o.row+o.rowspan-1,l=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(a,-1));if(l>e.endRow){e.endRow=l,this.modifyViewportRowEnd(e,r);return}}}}modifyViewportColumnStart(e,r){const n=this.hot.columnIndexMapper,i=n.getVisualFromRenderableIndex(e.startColumn);for(let s=0;s<r;s+=1){const o=this.mergedCellsCollection.get(s,i);if(Le(o)){const a=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(o.col,1));if(a<e.startColumn){e.startColumn=a,this.modifyViewportColumnStart(e,r);return}}}}modifyViewportColumnEnd(e,r){const n=this.hot.columnIndexMapper,i=n.getVisualFromRenderableIndex(e.endColumn);for(let s=0;s<r;s+=1){const o=this.mergedCellsCollection.get(s,i);if(Le(o)){const a=o.col+o.colspan-1,l=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(a,-1));if(l>e.endColumn){e.endColumn=l,this.modifyViewportColumnEnd(e,r);return}}}}translateMergedCellToRenderable(e,r,n,i){const{rowIndexMapper:s,columnIndexMapper:o}=this.hot;let a,l;r===0?a=s.getNearestNotHiddenIndex(e,1):a=s.getNearestNotHiddenIndex(e+r-1,-1),i===0?l=o.getNearestNotHiddenIndex(n,1):l=o.getNearestNotHiddenIndex(n+i-1,-1);const c=e>=0?s.getRenderableFromVisualIndex(a):e,d=n>=0?o.getRenderableFromVisualIndex(l):n;return[c,d]}}function EFe(){this.generateFromSettings(),this.hot.render()}function TFe(t){if(t){const e=this.mergedCellsCollection.mergedCells,r=this.hot.getSelectedRangeActive(),n=r.getTopStartCorner(),i=r.getBottomEndCorner();for(let s=0;s<e.length;s+=1)if(n.row===e[s].row&&n.col===e[s].col&&i.row===e[s].row+e[s].rowspan-1&&i.col===e[s].col+e[s].colspan-1)return!1}return t}function kFe(t){qt(po,this).row=t.row,qt(po,this).col=t.col}function PFe(t){const e=this.hot.getSelectedRangeActive(),{highlight:r}=e,{columnIndexMapper:n,rowIndexMapper:i}=this.hot;qt(mo,this)&&(i.getRenderableFromVisualIndex(qt(mo,this).row)!==null&&(r.row=qt(mo,this).row),n.getRenderableFromVisualIndex(qt(mo,this).col)!==null&&(r.col=qt(mo,this).col),Zv(mo,this,null));const s=this.mergedCellsCollection.get(r.row,r.col);if(!s)return;const o=s.col,a=s.col+s.colspan-1;if(t.col<0){const d=r.col>=o&&r.col<=a?o-1:a,h=n.getNearestNotHiddenIndex(d,-1);h===null?t.col=-this.hot.view.countRenderableColumnsInRange(0,r.col):t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(h,r.col)-1,1)}else if(t.col>0){const d=r.col>=o&&r.col<=a?a+1:o,h=n.getNearestNotHiddenIndex(d,1);h===null?t.col=this.hot.view.countRenderableColumnsInRange(r.col,this.hot.countCols()):t.col=Math.max(this.hot.view.countRenderableColumnsInRange(r.col,h)-1,1)}const l=s.row,c=s.row+s.rowspan-1;if(t.row<0){const d=r.row>=l&&r.row<=c?l-1:c,h=i.getNearestNotHiddenIndex(d,-1);h===null?t.row=-this.hot.view.countRenderableRowsInRange(0,r.row):t.row=-Math.max(this.hot.view.countRenderableRowsInRange(h,r.row)-1,1)}else if(t.row>0){const d=r.row>=l&&r.row<=c?c+1:l,h=i.getNearestNotHiddenIndex(d,1);h===null?t.row=this.hot.view.countRenderableRowsInRange(r.row,this.hot.countRows()):t.row=Math.max(this.hot.view.countRenderableRowsInRange(r.row,h)-1,1)}}function NFe(t){const e=this.hot.getSelectedRangeActive(),r=e.clone(),{to:n}=e,{columnIndexMapper:i,rowIndexMapper:s}=this.hot,o=(a,l)=>{r.expand(this.hot._createCellCoords(a,l));for(let c=0;c<this.mergedCellsCollection.mergedCells.length;c+=1)r.expandByRange(this.mergedCellsCollection.mergedCells[c].getRange())};if(t.col<0){let a=this.mergedCellsCollection.getStartMostColumnIndex(e,n.col)+t.col;o(n.row,a),e.getHorizontalDirection()==="E-W"&&r.getHorizontalDirection()==="E-W"&&(a=r.getTopStartCorner().col);const l=i.getNearestNotHiddenIndex(a,1);l!==null&&(t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(l,n.col)-1,1))}else if(t.col>0){let a=this.mergedCellsCollection.getEndMostColumnIndex(e,n.col)+t.col;o(n.row,a),e.getHorizontalDirection()==="W-E"&&r.getHorizontalDirection()==="W-E"&&(a=r.getBottomEndCorner().col);const l=i.getNearestNotHiddenIndex(a,-1);l!==null&&(t.col=Math.max(this.hot.view.countRenderableColumnsInRange(n.col,l)-1,1))}if(t.row<0){let a=this.mergedCellsCollection.getTopMostRowIndex(e,n.row)+t.row;o(a,n.col),e.getVerticalDirection()==="S-N"&&r.getVerticalDirection()==="S-N"&&(a=r.getTopStartCorner().row);const l=s.getNearestNotHiddenIndex(a,1);l!==null&&(t.row=-Math.max(this.hot.view.countRenderableRowsInRange(l,n.row)-1,1))}else if(t.row>0){let a=this.mergedCellsCollection.getBottomMostRowIndex(e,n.row)+t.row;o(a,n.col),e.getVerticalDirection()==="N-S"&&r.getVerticalDirection()==="N-S"&&(a=r.getBottomStartCorner().row);const l=s.getNearestNotHiddenIndex(a,-1);l!==null&&(t.row=Math.max(this.hot.view.countRenderableRowsInRange(n.row,l)-1,1))}}function MFe(){const t=this.hot.getSelectedRangeLast(),{highlight:e}=t;if(this.hot.selection.isSelectedByColumnHeader()||this.hot.selection.isSelectedByRowHeader()){Zv(mo,this,e.clone());return}for(let n=0;n<this.mergedCellsCollection.mergedCells.length;n+=1)t.expandByRange(this.mergedCellsCollection.mergedCells[n].getRange(),!1);for(let n=0;n<this.mergedCellsCollection.mergedCells.length;n+=1)t.expandByRange(this.mergedCellsCollection.mergedCells[n].getRange(),!1);const r=this.mergedCellsCollection.get(e.row,e.col);Zv(mo,this,e.clone()),r&&e.assign(r)}function EW(t,e,r,n){if(t<0||e<0)return;const i=this.mergedCellsCollection.get(t,e);if(!i)return;const{row:s,col:o,colspan:a,rowspan:l}=i,c=s,d=o,h=s+l-1,f=o+a-1;if(n==="render"&&this.getSetting("virtualized")){const g=this.hot.view.getActiveOverlayName(),m=["top","top_inline_start_corner"].includes(g)?0:this.hot.getFirstRenderedVisibleRow(),p=["inline_start","top_inline_start_corner","bottom_inline_start_corner"].includes(g)?0:this.hot.getFirstRenderedVisibleColumn();return[ft(m,c,h),ft(p,d,f),ft(this.hot.getLastRenderedVisibleRow(),c,h),ft(this.hot.getLastRenderedVisibleColumn(),d,f)]}return[c,d,h,f]}function IFe(t){t.items.push({name:"---------"},mFe(this))}function TW(){Zv(mo,this,null)}function AFe(){if(qt(mo,this).isCell())return;const t=this.hot.getSelectedRangeActive(),e=t.getVerticalDirection(),r=t.getHorizontalDirection(),n=qt(mo,this).clone().normalize();qt(wl,this).setActiveNode(n.row,n.col),qt(po,this).row>0||qt(po,this).col>0?qt(wl,this).setPrevNodeAsActive():(r==="E-W"&&qt(po,this).col<0||e==="S-N"&&qt(po,this).row<0)&&qt(wl,this).setNextNodeAsActive()}function OFe(t,e){const{columnIndexMapper:r,rowIndexMapper:n}=this.hot;let i=this.hot.getActiveSelectionLayerIndex(),s=null,o=null;if(qt(po,this).col<0){const{rowEnd:a,colEnd:l,selectionLayer:c}=qt(wl,this).getPrevHorizontalNode();o=r.getNearestNotHiddenIndex(l,-1),s=n.getNearestNotHiddenIndex(a,-1),i=c}else if(qt(po,this).col>0){const{rowStart:a,colStart:l,selectionLayer:c}=qt(wl,this).getNextHorizontalNode();o=r.getNearestNotHiddenIndex(l,1),s=n.getNearestNotHiddenIndex(a,1),i=c}else if(qt(po,this).row<0){const{rowEnd:a,colEnd:l,selectionLayer:c}=qt(wl,this).getPrevVerticalNode();o=r.getNearestNotHiddenIndex(l,-1),s=n.getNearestNotHiddenIndex(a,-1),i=c}else if(qt(po,this).row>0){const{rowStart:a,colStart:l,selectionLayer:c}=qt(wl,this).getNextVerticalNode();o=r.getNearestNotHiddenIndex(l,1),s=n.getNearestNotHiddenIndex(a,1),i=c}if(s!==null||o!==null){this.hot.selection.setActiveSelectionLayerIndex(i);const a=this.hot.getSelectedRangeActive(),l=this.hot._createCellCoords(s,o),c=this.mergedCellsCollection.get(l.row,l.col),d=this.hot.selection.highlight.getFocus();t=l.row,e=l.col,c?a.highlight.assign({row:this.hot.rowIndexMapper.getNearestNotHiddenIndex(c.row,1),col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(c.col,1)}):a.highlight.assign(l),d.clear(),d.add(l).commit()}qt(wl,this).setActiveNode(t,e,i),Zv(po,this,{row:0,col:0})}function HFe(){qt(wl,this).buildFocusOrder(this.hot.getSelectedRange())}function jFe(t,e,r){const n=this.mergedCellsCollection.get(t,e);n&&(n.row!==t||n.col!==e?r.copyable=!1:(r.rowspan=n.rowspan,r.colspan=n.colspan))}function DFe(t){if(this.getSetting("virtualized"))return;const e=this.hot.countCols();this.modifyViewportRowStart(t,e),this.modifyViewportRowEnd(t,e)}function $Fe(t){if(this.getSetting("virtualized"))return;const e=this.hot.countRows();this.modifyViewportColumnStart(t,e),this.modifyViewportColumnEnd(t,e)}function LFe(t,e){const r=this.autofillCalculations.getDirection(e,t);if(this.autofillCalculations.dragAreaOverlapsCollections(e,t,r))return e;const n=this.hot._createCellCoords(e[0],e[1]),i=this.hot._createCellCoords(e[2],e[3]),s=this.hot._createCellRange(n,n,i),o=this.mergedCellsCollection.getWithinRange(s);return o.length===0?t:this.autofillCalculations.snapDragArea(e,t,r,o)}function FFe(t,e){this.mergedCellsCollection.shiftCollections("right",t,e)}function VFe(t,e){this.mergedCellsCollection.shiftCollections("left",t,e)}function WFe(t,e,r){r!=="auto"&&this.mergedCellsCollection.shiftCollections("down",t,e)}function BFe(t,e){this.mergedCellsCollection.shiftCollections("up",t,e)}function zFe(t,e){e==="Autofill.fill"&&this.autofillCalculations.recreateAfterDataPopulation(t)}function UFe(t,e){if(e&&e==="area"){const r=this.hot.getSelectedRangeActive(),n=this.mergedCellsCollection.getWithinRange(r);B(n,i=>{r.getBottomEndCorner().row===i.getLastRow()&&r.getBottomEndCorner().col===i.getLastColumn()&&(t[2]=i.row,t[3]=i.col)})}}function YFe(t,e,r,n){if(r)return this.selectionCalculations.getSelectedMergedCellClassName(t,e,r,n)}function GFe(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}function KFe(t,e,r,n){if(!(n instanceof MouseEvent))return;const i=this.hot.getSelectedRangeActive(),s=this.mergedCellsCollection.getByRange(i);if(!s)return;const o=this.hot._createCellCoords(s.row,s.col),a=this.hot._createCellCoords(s.row+s.rowspan-1,s.col+s.colspan-1);return this.hot.selection.getLayerLevel()===0&&i.isEqual(this.hot._createCellRange(o,o,a))}function qFe(t,e,r){if(this.hot.getSettings().rowHeaders||r==="bottom"||r==="bottom_inline_start_corner")return t;let n,i;if(r==="master")n=this.hot.getFirstRenderedVisibleColumn(),i=this.hot.getLastRenderedVisibleColumn();else{const f=this.hot.view.getOverlayByName(r);n=this.hot.columnIndexMapper.getVisualFromRenderableIndex(f.clone.wtTable.getFirstRenderedColumn()),i=this.hot.columnIndexMapper.getVisualFromRenderableIndex(f.clone.wtTable.getLastRenderedColumn())}if(!this.mergedCellsCollection.get(e,n))return t;const o=this.hot._createCellCoords(e,n),a=this.hot._createCellCoords(e,i),l=this.hot._createCellRange(o,o,a),c=this.mergedCellsCollection.getWithinRange(l,!0),d=c.reduce((f,g)=>{let{rowspan:m}=g;return Math.max(f,m)},1);let h=0;return c.length>1&&c[0].rowspan<d&&(h=d-c[0].rowspan),c.forEach(f=>{let{rowspan:g}=f,m=0;r==="top"||r==="top_inline_start_corner"?m=Math.min(d,this.hot.view.countNotHiddenFixedRowsTop()-e):m=g-h,t=Math.max(t??0,Dq(this.hot,e,m))}),t}function XFe(t,e){return function(r,n){const[,...i]=r,[,...s]=n;return function o(a){const l=t[a],c=e[a],d=i[a],h=s[a],f=c.multiColumnSorting,m=(f.compareFunctionFactory?f.compareFunctionFactory:dK(c.type))(l,c,f)(d,h);if(m===_l){const p=a+1;if(typeof e[p]<"u")return o(p)}return m}(0)}}const Lq="sort";function QFe(t,e,r){const n=[];return r===!1||t.isColumnSorted(e)&&t.getNumberOfSortedColumns()>1&&n.push(`${Lq}-${t.getIndexOfColumnInSortQueue(e)+1}`),n}function JFe(t){const e=t.className.split(" "),r=new RegExp(`^${Lq}-[0-9]{1,2}$`);return e.filter(n=>r.test(n))}function ZFe(t,e,r){return(e=e3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e3e(t){var e=t3e(t,"string");return typeof e=="symbol"?e:e+""}function t3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const c_="multiColumnSorting",r3e=170,kW=c_;uK(c_,XFe);class n3e extends bK{constructor(){super(...arguments),ZFe(this,"pluginKey",c_)}static get PLUGIN_KEY(){return c_}static get PLUGIN_PRIORITY(){return r3e}isEnabled(){return!!this.hot.getSettings()[this.pluginKey]}enablePlugin(){super.enablePlugin()}disablePlugin(){super.disablePlugin()}registerShortcuts(){super.registerShortcuts(),this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Shift","Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeActive();return e.row===-1&&e.col>=0&&this.sort(this.getNextSortConfig(e.col,B1)),!1},runOnlyIf:()=>{var e,r;const n=(e=this.hot.getSelectedRangeActive())===null||e===void 0?void 0:e.highlight;return n&&((r=this.hot.getSelectedRangeActive())===null||r===void 0?void 0:r.isSingle())&&this.hot.selection.isCellVisible(n)&&n.isHeader()},relativeToGroup:xd,position:"before",group:kW})}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(kW)}sort(e){super.sort(e)}clearSort(){super.clearSort()}isSorted(){return super.isSorted()}getSortConfig(e){return super.getSortConfig(e)}setSortConfig(e){super.setSortConfig(e)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e:[e]}updateHeaderClasses(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];super.updateHeaderClasses(e,...n),Re(e,JFe(e)),this.enabled!==!1&&oe(e,QFe(...n))}onAfterOnCellMouseDown(e,r){yD(r.row,r.col,e)!==!1&&this.wasClickableHeaderClicked(e,r.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(r.col),this.sort(this.getNextSortConfig(r.col,B1))):this.sort(this.getColumnNextConfig(r.col)))}}function PW(t,e,r){return(e=i3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i3e(t){var e=s3e(t,"string");return typeof e=="symbol"?e:e+""}function s3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const o3e="multipleSelectionHandles",a3e=160;class l3e extends xt{constructor(){super(...arguments),PW(this,"dragged",[]),PW(this,"lastSetCell",null)}static get PLUGIN_KEY(){return o3e}static get PLUGIN_PRIORITY(){return a3e}isEnabled(){return bl()}enablePlugin(){this.enabled||(this.registerListeners(),super.enablePlugin())}registerListeners(){const e=this,{rootElement:r}=this.hot;function n(i){if(e.dragged.length===1)return e.dragged.splice(0,e.dragged.length),!0;const s=e.dragged.indexOf(i);if(s===-1)return!1;s===0?e.dragged=e.dragged.slice(0,1):s===1&&(e.dragged=e.dragged.slice(-1))}this.eventManager.addEventListener(r,"touchstart",i=>{let s;if(Ve(i.target,"topSelectionHandle-HitArea"))return s=e.hot.getSelectedRangeActive(),e.dragged.push("top"),e.touchStartRange={width:s.getWidth(),height:s.getHeight(),direction:s.getDirection()},i.preventDefault(),!1;if(Ve(i.target,"bottomSelectionHandle-HitArea"))return s=e.hot.getSelectedRangeActive(),e.dragged.push("bottom"),e.touchStartRange={width:s.getWidth(),height:s.getHeight(),direction:s.getDirection()},i.preventDefault(),!1}),this.eventManager.addEventListener(r,"touchend",i=>{if(Ve(i.target,"topSelectionHandle-HitArea"))return n.call(e,"top"),e.touchStartRange=void 0,i.preventDefault(),!1;if(Ve(i.target,"bottomSelectionHandle-HitArea"))return n.call(e,"bottom"),e.touchStartRange=void 0,i.preventDefault(),!1}),this.eventManager.addEventListener(r,"touchmove",i=>{const{rootDocument:s}=this.hot;let o,a,l,c,d,h;if(e.dragged.length===0)return;const f=s.elementFromPoint(i.touches[0].clientX,i.touches[0].clientY);!f||f===e.lastSetCell||((f.nodeName==="TD"||f.nodeName==="TH")&&(o=e.hot.getCoords(f),o.col===-1&&(o.col=0),a=e.hot.getSelectedRangeActive(),l=a.getWidth(),c=a.getHeight(),d=a.getDirection(),l===1&&c===1&&e.hot.selection.setRangeEnd(o),h=e.getCurrentRangeCoords(a,o,e.touchStartRange.direction,d,e.dragged[0]),h.start!==null&&e.hot.selection.setRangeStart(h.start),e.hot.selection.setRangeEnd(h.end),e.lastSetCell=f),i.preventDefault())})}getCurrentRangeCoords(e,r,n,i,s){const o=e.getTopStartCorner(),a=e.getBottomEndCorner(),l=e.getBottomStartCorner(),c=e.getTopEndCorner();let d={start:null,end:null};switch(n){case"NE-SW":switch(i){case"NE-SW":case"NW-SE":s==="top"?d={start:this.hot._createCellCoords(r.row,e.highlight.col),end:this.hot._createCellCoords(l.row,r.col)}:d={start:this.hot._createCellCoords(e.highlight.row,r.col),end:this.hot._createCellCoords(r.row,o.col)};break;case"SE-NW":s==="bottom"&&(d={start:this.hot._createCellCoords(a.row,r.col),end:this.hot._createCellCoords(r.row,o.col)});break}break;case"NW-SE":switch(i){case"NE-SW":s==="top"?d={start:r,end:l}:d.end=r;break;case"NW-SE":s==="top"?d={start:r,end:a}:d.end=r;break;case"SE-NW":s==="top"?d={start:r,end:o}:d.end=r;break;case"SW-NE":s==="top"?d={start:r,end:c}:d.end=r;break}break;case"SW-NE":switch(i){case"NW-SE":s==="bottom"?d={start:this.hot._createCellCoords(r.row,o.col),end:this.hot._createCellCoords(l.row,r.col)}:d={start:this.hot._createCellCoords(o.row,r.col),end:this.hot._createCellCoords(r.row,a.col)};break;case"SW-NE":s==="top"?d={start:this.hot._createCellCoords(e.highlight.row,r.col),end:this.hot._createCellCoords(r.row,a.col)}:d={start:this.hot._createCellCoords(r.row,o.col),end:this.hot._createCellCoords(o.row,r.col)};break;case"SE-NW":s==="bottom"?d={start:this.hot._createCellCoords(r.row,c.col),end:this.hot._createCellCoords(o.row,r.col)}:s==="top"&&(d={start:l,end:r});break}break;case"SE-NW":switch(i){case"NW-SE":case"NE-SW":case"SW-NE":s==="top"&&(d.end=r);break;case"SE-NW":s==="top"?d.end=r:d={start:r,end:o};break}break}return d}isDragged(){return this.dragged.length>0}}function iA(){let{label:t="",colspan:e=1,origColspan:r=1,collapsible:n=!1,crossHiddenColumns:i=[],isCollapsed:s=!1,isHidden:o=!1,isRoot:a=!1,isPlaceholder:l=!1,headerClassNames:c=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{label:t,colspan:e,origColspan:r,collapsible:n,isCollapsed:s,crossHiddenColumns:i,isHidden:o,isRoot:a,isPlaceholder:l,headerClassNames:c}}function Fq(){return{label:"",isPlaceholder:!0}}function c3e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;const r=[];if(e===0)return r;B(t,i=>{const s=[];let o=0;r.push(s),B(i,a=>{const l=iA();if(Le(a)){const{label:d,colspan:h,headerClassName:f}=a;l.label=tr(d),typeof h=="number"&&h>1&&(l.colspan=h,l.origColspan=h),typeof f=="string"&&(l.headerClassNames=[...f.split(" ")])}else l.label=tr(a);o+=l.origColspan;let c=!1;if(o>=e&&(l.colspan=l.origColspan-(o-e),l.origColspan=l.colspan,c=!0),s.push(l),l.colspan>1)for(let d=0;d<l.colspan-1;d++)s.push(Fq());return!c})});const n=Math.max(...Tt(r,i=>i.length));return B(r,i=>{if(i.length<n){const s=Tt(new Array(n-i.length),()=>iA());i.splice(i.length,0,...s)}}),r}function YP(t,e,r){u3e(t,e),e.set(t,r)}function u3e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Wo(t,e){return t.get(Vq(t,e))}function ry(t,e,r){return t.set(Vq(t,e),r),r}function Vq(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const NW=["label","collapsible"];var Kl=new WeakMap,uh=new WeakMap,GP=new WeakMap;class d3e{constructor(){YP(this,Kl,[]),YP(this,uh,0),YP(this,GP,1/0)}setColumnsLimit(e){ry(GP,this,e)}setData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];ry(Kl,this,c3e(e,Wo(GP,this))),ry(uh,this,Wo(Kl,this).length)}getData(){return Wo(Kl,this)}mergeWith(e){B(e,r=>{let{row:n,col:i,...s}=r;const o=this.getHeaderSettings(n,i);o!==null&&gn(o,s,NW)})}map(e){B(Wo(Kl,this),r=>{B(r,n=>{const i=e({...n});Le(i)&&gn(n,i,NW)})})}getHeaderSettings(e,r){var n;if(e>=Wo(uh,this)||e<0)return null;const i=Wo(Kl,this)[e];return Array.isArray(i)===!1||r>=i.length?null:(n=i[r])!==null&&n!==void 0?n:null}getHeadersSettings(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const i=[];if(e>=Wo(uh,this)||e<0)return i;const s=Wo(Kl,this)[e];let o=0;for(let a=r;a<s.length;a++){const l=s[a];if(l.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(o+=l.colspan,i.push(l),l.colspan>1&&(a+=l.colspan-1),o===n)break;if(o>n)throw new Error("The last column settings cannot overlap the other header layers")}return i}getLayersCount(){return Wo(uh,this)}getColumnsCount(){return Wo(uh,this)>0?Wo(Kl,this)[0].length:0}clear(){ry(Kl,this,[]),ry(uh,this,0)}}function KP(t,e,r){return(e=h3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h3e(t){var e=f3e(t,"string");return typeof e=="symbol"?e:e+""}function f3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Wq="DF-pre-order";function Bq(t,e){let r=t.call(e,this);for(let n=0;n<this.childs.length;n++){if(r===!1)return!1;r=Bq.call(this.childs[n],t,e)}return r}const g3e="DF-post-order";function zq(t,e){for(let r=0;r<this.childs.length;r++)if(zq.call(this.childs[r],t,e)===!1)return!1;return t.call(e,this)}const Uq="BF";function m3e(t,e){const r=[this];function n(){if(r.length===0)return;const i=r.shift();r.push(...i.childs),t.call(e,i)!==!1&&n()}n()}const p3e=Uq,MW=new Map([[Wq,Bq],[g3e,zq],[Uq,m3e]]);class u_{constructor(e){KP(this,"data",{}),KP(this,"parent",null),KP(this,"childs",[]),this.data=e}addChild(e){e.parent=this,this.childs.push(e)}cloneTree(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this;const r=new u_({...e.data});for(let n=0;n<e.childs.length;n++)r.addChild(this.cloneTree(e.childs[n]));return r}replaceTreeWith(e){this.data={...e.data},this.childs=[];for(let r=0;r<e.childs.length;r++)this.addChild(e.childs[r])}walkDown(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p3e;if(!MW.has(r))throw new Error(`Traversal strategy "${r}" does not exist`);MW.get(r).call(this,e,this)}walkUp(e){const r=this,n=i=>{e.call(r,i)!==!1&&i.parent!==null&&n(i.parent)};n(this)}}function qP(t,e,r){y3e(t,e),e.set(t,r)}function y3e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xi(t,e){return t.get(Yq(t,e))}function v3e(t,e,r){return t.set(Yq(t,e),r),r}function Yq(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var kg=new WeakMap,dh=new WeakMap,Pg=new WeakMap;class w3e{constructor(e){qP(this,kg,new Map),qP(this,dh,new Map),qP(this,Pg,null),v3e(Pg,this,e)}getRoots(){return Array.from(xi(kg,this).values())}getRootByColumn(e){let r;return xi(dh,this).has(e)&&(r=xi(kg,this).get(xi(dh,this).get(e))),r}getNode(e,r){const n=this.getRootByColumn(r);if(!n)return;const i=r-xi(dh,this).get(r);let s=0,o;return n.walkDown(a=>{const{data:{origColspan:l,headerLevel:c}}=a;if(e===c){if(i>=s&&i<=s+l-1)return o=a,o.data.isRoot=r===o.data.columnIndex,!1;s+=l}}),o}rebuildTreeIndex(){let e=0;xi(dh,this).clear(),B(xi(kg,this),r=>{let[,{data:{colspan:n}}]=r;for(let i=e;i<e+n;i++)xi(dh,this).set(i,e);e+=n})}buildTree(){this.clear();const e=xi(Pg,this).getColumnsCount();let r=0;for(;r<e;){const n=xi(Pg,this).getHeaderSettings(0,r),i=new u_;xi(kg,this).set(r,i),this.buildLeaves(i,r,0,n.origColspan),r+=n.origColspan}this.rebuildTreeIndex()}buildLeaves(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;const s=xi(Pg,this).getHeadersSettings(n,r,i);n+=1,B(s,o=>{const a={...o,headerLevel:n-1,columnIndex:r};let l;n===1?(e.data=a,l=e):(l=new u_(a),e.addChild(l)),n<xi(Pg,this).getLayersCount()&&this.buildLeaves(l,r,n,o.origColspan),r+=o.origColspan})}clear(){xi(kg,this).clear(),xi(dh,this).clear()}}function Gq(t,e){t.walkDown(r=>{let{data:n,childs:i}=r;if(!n.isHidden&&(e(n.columnIndex),i.length===0))for(let s=1;s<n.colspan;s++)e(n.columnIndex+s)})}function d_(t,e){let{childs:r}=t;if(r.length!==0)return r[0].data[e]}function h_(t){return d_(t,"origColspan")===t.data.origColspan}function ID(t){const{data:e,childs:r}=t;if(!e.isCollapsed||e.isHidden||e.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(h_(t))return ID(r[0]);e.isCollapsed=!1;const i=r.slice(1),s=new Set;let o=0;if(i.length>0)B(i,a=>{a.replaceTreeWith(a.data.clonedTree),a.data.clonedTree=null;const l=a.data;o+=l.colspan,Gq(a,c=>{s.add(c)})});else{const{colspan:a,origColspan:l,columnIndex:c}=e;o=l-a;for(let d=1;d<l;d++)s.add(c+d)}return t.walkUp(a=>{const{data:l}=a;l.colspan+=o,l.colspan>=l.origColspan?(l.colspan=l.origColspan,l.isCollapsed=!1):h_(a)&&(l.isCollapsed=d_(a,"isCollapsed"))}),{rollbackModification:()=>AD(t),affectedColumns:Array.from(s),colspanCompensation:o}}function AD(t){var e;const{data:r,childs:n}=t;if(r.isCollapsed||r.isHidden||r.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(h_(t))return AD(n[0]);r.isCollapsed=!0;const s=n.slice(1),o=new Set;if(s.length>0)B(s,l=>{Gq(l,c=>{o.add(c)}),l.data.clonedTree=l.cloneTree(),l.walkDown(c=>{let{data:d}=c;d.isHidden=!0})});else{const{origColspan:l,columnIndex:c}=r;for(let d=1;d<l;d++){const h=c+d;o.add(h)}}const a=r.colspan-((e=d_(t,"colspan"))!==null&&e!==void 0?e:1);return t.walkUp(l=>{const{data:c}=l;c.colspan-=a,c.colspan<=1?(c.colspan=1,c.isCollapsed=!0):h_(l)&&(c.isCollapsed=d_(l,"isCollapsed"))}),{rollbackModification:()=>ID(t),affectedColumns:Array.from(o),colspanCompensation:a}}function b3e(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(kt`The passed node is not the last node on the tree. Only for\x20
the last node, the hide column modification can be applied.`);const{crossHiddenColumns:r}=t.data;if(r.includes(e))return;let n=!1;t.walkUp(i=>{const{data:{collapsible:s}}=i;if(s)return n=!0,!1}),!n&&t.walkUp(i=>{const{data:s}=i;s.crossHiddenColumns.push(e),s.colspan>1?s.colspan-=1:s.isHidden=!0})}function S3e(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(kt`The passed node is not the last node on the tree. Only for\x20
the last node, the show column modification can be applied.`);const{crossHiddenColumns:r}=t.data;if(!r.includes(e))return;let n=!1;t.walkUp(i=>{const{data:{collapsible:s}}=i;if(s)return n=!0,!1}),!n&&t.walkUp(i=>{const{data:s}=i;s.crossHiddenColumns.splice(s.crossHiddenColumns.indexOf(e),1),!s.isHidden&&s.colspan<s.origColspan&&(s.colspan+=1),s.isHidden=!1})}const IW=new Map([["collapse",AD],["expand",ID],["hide-column",b3e],["show-column",S3e]]);function x3e(t,e,r){if(!IW.has(t))throw new Error(`The node modifier action ("${t}") does not exist.`);return IW.get(t)(e,r)}function hx(t){const e=[];return B(t,r=>{r.walkDown(n=>{const i=n.data,{origColspan:s,columnIndex:o,headerLevel:a,crossHiddenColumns:l}=i,c=_3e(e,a);let d=!1;for(let h=o;h<o+s;h++)if(l.includes(h)||d)c.push(Fq());else{const g=C3e(i);g.isRoot=!0,c.push(g),d=!0}})}),e}function C3e(t){const{crossHiddenColumns:e,...r}=iA(t);return r}function _3e(t,e){let r;return Array.isArray(t[e])?r=t[e]:(r=[],t[e]=r),r}function XP(t,e,r){R3e(t,e),e.set(t,r)}function R3e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ny(t,e,r){return t.set(Kq(t,e),r),r}function Cr(t,e){return t.get(Kq(t,e))}function Kq(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var Ka=new WeakMap,Gi=new WeakMap,hh=new WeakMap;class E3e{constructor(){XP(this,Ka,new d3e),XP(this,Gi,new w3e(Cr(Ka,this))),XP(this,hh,[[]])}setState(e){Cr(Ka,this).setData(e);let r=!1;try{Cr(Gi,this).buildTree()}catch{Cr(Gi,this).clear(),Cr(Ka,this).clear(),r=!0}return ny(hh,this,hx(Cr(Gi,this).getRoots())),r}setColumnsLimit(e){Cr(Ka,this).setColumnsLimit(e)}mergeStateWith(e){const r=Tt(e,n=>{let{row:i,...s}=n;return{row:i<0?this.rowCoordsToLevel(i):i,...s}});Cr(Ka,this).mergeWith(r),Cr(Gi,this).buildTree(),ny(hh,this,hx(Cr(Gi,this).getRoots()))}mapState(e){Cr(Ka,this).map(e),Cr(Gi,this).buildTree(),ny(hh,this,hx(Cr(Gi,this).getRoots()))}mapNodes(e){return gs(Cr(Gi,this).getRoots(),(r,n)=>(n.walkDown(i=>{const s=e(i.data);s!==void 0&&r.push(s)}),r),[])}triggerNodeModification(e,r,n){r<0&&(r=this.rowCoordsToLevel(r));const i=Cr(Gi,this).getNode(r,n);let s;return i&&(s=x3e(e,i,n),ny(hh,this,hx(Cr(Gi,this).getRoots()))),s}triggerColumnModification(e,r){return this.triggerNodeModification(e,-1,r)}rowCoordsToLevel(e){if(e>=0)return null;const r=e+Math.max(this.getLayersCount(),1);return r<0?null:r}levelToRowCoords(e){if(e<0)return null;const r=e-Math.max(this.getLayersCount(),1);return r>=0?null:r}getHeaderSettings(e,r){var n,i;return e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount()?null:(n=(i=Cr(hh,this)[e])===null||i===void 0?void 0:i[r])!==null&&n!==void 0?n:null}getHeaderTreeNodeData(e,r){const n=this.getHeaderTreeNode(e,r);return n?{...n.data}:null}getHeaderTreeNode(e,r){if(e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount())return null;const n=Cr(Gi,this).getNode(e,r);return n||null}findTopMostEntireHeaderLevel(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;const n=r-e+1;let i=!1,s=null;for(let o=e;o<=r;o++){const a=Cr(Gi,this).getRootByColumn(o);if(!a)break;i=!0,a.walkDown(l=>{const{columnIndex:c,headerLevel:d,origColspan:h,isHidden:f}=l.data;f||h<=n&&c>=e&&c+h-1<=r&&(s===null||d<s)&&(s=d)},Wq)}return i&&s===null?-1:this.levelToRowCoords(s??0)}findLeftMostColumnIndex(e,r){var n;const{isRoot:i}=(n=this.getHeaderSettings(e,r))!==null&&n!==void 0?n:{isRoot:!0};if(i)return r;let s=r-1;for(;s>=0;){var o;const{isRoot:a}=(o=this.getHeaderSettings(e,s))!==null&&o!==void 0?o:{isRoot:!0};if(a)break;s-=1}return s}findRightMostColumnIndex(e,r){var n;const{isRoot:i,origColspan:s}=(n=this.getHeaderSettings(e,r))!==null&&n!==void 0?n:{isRoot:!0,origColspan:1};if(i)return r+s-1;let o=r+1;for(;o<this.getColumnsCount();){var a;const{isRoot:l}=(a=this.getHeaderSettings(e,o))!==null&&a!==void 0?a:{isRoot:!0};if(l)break;o+=1}return o-1}getLayersCount(){return Cr(Ka,this).getLayersCount()}getColumnsCount(){return Cr(Ka,this).getColumnsCount()}clear(){ny(hh,this,[]),Cr(Ka,this).clear(),Cr(Gi,this).clear()}}function iy(t,e,r){return(e=T3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T3e(t){var e=k3e(t,"string");return typeof e=="symbol"?e:e+""}function k3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class P3e{constructor(e,r){iy(this,"hot",void 0),iy(this,"nestedHeaderSettingsGetter",void 0),iy(this,"layersCount",0),iy(this,"container",void 0),iy(this,"widthsMap",void 0),this.hot=e,this.nestedHeaderSettingsGetter=r,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}setLayersCount(e){return this.layersCount=e,this}getWidth(e){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e))}buildWidthsMap(){const e=this.hot.getCurrentThemeName();this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),e&&this.container.classList.add(e),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);const r=this.container.querySelectorAll("tr:last-of-type th"),n=r.length;this.widthsMap.clear();for(let i=0;i<n;i++){const s=this.hot.columnIndexMapper.getVisualFromRenderableIndex(i),o=this.hot.toPhysicalColumn(s);this.widthsMap.setValueAtIndex(o,r[i].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}_buildGhostTable(e){const{rootDocument:r,columnIndexMapper:n}=this.hot,i=r.createDocumentFragment(),s=r.createElement("table"),o=!!this.hot.getSettings().dropdownMenu,a=n.getRenderableIndexesLength();for(let l=0;l<this.layersCount;l++){const c=r.createElement("tr");for(let d=0;d<a;d++){let h=n.getVisualFromRenderableIndex(d);h===null&&(h=d);const f=r.createElement("th"),g=this.nestedHeaderSettingsGetter(l,h);if(g&&(!g.isPlaceholder||g.isHidden)){let m=g.label;o&&(m+='<button class="changeType"></button>'),$f(f,m),f.colSpan=g.colspan,c.appendChild(f)}}s.appendChild(c)}i.appendChild(s),e.appendChild(i)}clear(){this.widthsMap.clear(),this.container=null}}function N3e(t,e){qq(t,e),e.add(t)}function AW(t,e,r){return(e=M3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M3e(t){var e=I3e(t,"string");return typeof e=="symbol"?e:e+""}function I3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ng(t,e,r){qq(t,e),e.set(t,r)}function qq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wc(t,e,r){return t.set(vn(t,e),r),r}function et(t,e){return t.get(vn(t,e))}function vn(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const OW="nestedHeaders",A3e=280;var Ft=new WeakMap,gu=new WeakMap,ov=new WeakMap,qR=new WeakMap,f_=new WeakMap,fh=new WeakMap,Mn=new WeakSet;class O3e extends xt{constructor(){super(...arguments),N3e(this,Mn),Ng(this,Ft,new E3e),Ng(this,gu,null),Ng(this,ov,null),Ng(this,qR,!1),Ng(this,f_,null),AW(this,"ghostTable",new P3e(this.hot,(e,r)=>this.getHeaderSettings(e,r))),AW(this,"detectedOverlappedHeaders",!1),Ng(this,fh,()=>{var e;const r=(e=this.hot)===null||e===void 0?void 0:e.getSelectedRangeActive();if(!r)return;const{highlight:n}=r;if(n.isHeader()&&n.col>=0){const s=et(Ft,this).findLeftMostColumnIndex(n.row,n.col),o=this.hot.selection.highlight.getFocus();o.visualCellRange.highlight.col=s,o.visualCellRange.from.col=s,o.visualCellRange.to.col=s,o.commit()}})}static get PLUGIN_KEY(){return OW}static get PLUGIN_PRIORITY(){return A3e}isEnabled(){return!!this.hot.getSettings()[OW]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:r}=this.hot.getSettings();(!Array.isArray(r)||!Array.isArray(r[0]))&&at(kt`Your Nested Headers plugin configuration is invalid. The settings has to be\x20
                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]`),this.addHook("init",()=>vn(Mn,this,X3e).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return vn(Mn,e,Q3e).call(e,...i)}),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return vn(Mn,e,$3e).call(e,...i)}),this.addHook("afterOnCellMouseDown",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return vn(Mn,e,L3e).call(e,...i)}),this.addHook("beforeOnCellMouseOver",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return vn(Mn,e,F3e).call(e,...i)}),this.addHook("beforeOnCellMouseUp",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return vn(Mn,e,V3e).call(e,...i)}),this.addHook("beforeSelectionHighlightSet",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return vn(Mn,e,W3e).call(e,...i)}),this.addHook("modifyTransformStart",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return vn(Mn,e,B3e).call(e,...i)}),this.addHook("afterSelection",()=>et(fh,this).call(this)),this.addHook("afterSelectionFocusSet",()=>et(fh,this).call(this)),this.addHook("beforeViewportScrollHorizontally",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return vn(Mn,e,H3e).call(e,...i)}),this.addHook("afterGetColumnHeaderRenderers",n=>vn(Mn,this,U3e).call(this,n)),this.addHook("modifyColWidth",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return vn(Mn,e,G3e).call(e,...i)}),this.addHook("modifyColumnHeaderValue",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return vn(Mn,e,K3e).call(e,...i)}),this.addHook("beforeHighlightingColumnHeader",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return vn(Mn,e,j3e).call(e,...i)}),this.addHook("beforeCopy",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return vn(Mn,e,D3e).call(e,...i)}),this.addHook("beforeSelectColumns",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return vn(Mn,e,z3e).call(e,...i)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return vn(Mn,e,Y3e).call(e,...i)}),this.addHook("modifyFocusedElement",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return vn(Mn,e,q3e).call(e,...i)}),this.hot.columnIndexMapper.addLocalHook("cacheUpdated",et(fh,this)),this.hot.rowIndexMapper.addLocalHook("cacheUpdated",et(fh,this)),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(!this.hot.view)return;const{nestedHeaders:e}=this.hot.getSettings();et(Ft,this).setColumnsLimit(this.hot.countCols()),Array.isArray(e)&&(this.detectedOverlappedHeaders=et(Ft,this).setState(e)),this.detectedOverlappedHeaders&&at(kt`Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\x20
                        is currently not supported.`),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach((r,n)=>{const i=r===!0?"hide-column":"show-column";et(Ft,this).triggerColumnModification(i,n)}),!et(gu,this)&&this.enabled&&wc(gu,this,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe(r=>{r.forEach(n=>{let{op:i,index:s,newValue:o}=n;if(i==="replace"){const a=o===!0?"hide-column":"show-column";et(Ft,this).triggerColumnModification(a,s)}}),this.ghostTable.buildWidthsMap()})),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.removeLocalHook("cacheUpdated",et(fh,this)),this.hot.columnIndexMapper.removeLocalHook("cacheUpdated",et(fh,this)),this.clearColspans(),et(Ft,this).clear(),et(gu,this).unsubscribe(),wc(gu,this,null),this.ghostTable.clear(),super.disablePlugin()}getStateManager(){return et(Ft,this)}getLayersCount(){return et(Ft,this).getLayersCount()}getHeaderSettings(e,r){return et(Ft,this).getHeaderSettings(e,r)}clearColspans(){if(!this.hot.view)return;const{_wt:e}=this.hot.view,r=e.getSetting("columnHeaders").length,n=e.wtTable.THEAD,i=e.wtOverlays.topOverlay.clone.wtTable.THEAD,s=e.wtOverlays.topInlineStartCornerOverlay?e.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null;for(let o=0;o<r;o++){const a=n.childNodes[o];if(!a)break;const l=i.childNodes[o],c=s?s.childNodes[o]:null;for(let d=0,h=a.childNodes.length;d<h;d++)a.childNodes[d].removeAttribute("colspan"),Re(a.childNodes[d],"hiddenHeader"),l&&l.childNodes[d]&&(l.childNodes[d].removeAttribute("colspan"),Re(l.childNodes[d],"hiddenHeader")),s&&c&&c.childNodes[d]&&(c.childNodes[d].removeAttribute("colspan"),Re(c.childNodes[d],"hiddenHeader"))}}headerRendererFactory(e){var r=this;const n=this.hot.view._wt.getSetting("fixedColumnsStart");return(i,s)=>{var o;const{columnIndexMapper:a,view:l}=this.hot;let c=a.getVisualFromRenderableIndex(i);c===null&&(c=i),s.removeAttribute("colspan"),Re(s,"hiddenHeader"),Re(s,"hiddenHeaderText");const{colspan:d,isHidden:h,isPlaceholder:f,headerClassNames:g}=(o=et(Ft,this).getHeaderSettings(e,c))!==null&&o!==void 0?o:{};if(f||h)oe(s,"hiddenHeader");else if(d>1){var m,p,y;const{wtOverlays:S}=l._wt,w=(m=S.topInlineStartCornerOverlay)===null||m===void 0?void 0:m.clone.wtTable.THEAD.contains(s),b=(p=S.inlineStartOverlay)===null||p===void 0?void 0:p.clone.wtTable.THEAD.contains(s);((y=S.topOverlay)===null||y===void 0?void 0:y.clone.wtTable.THEAD.contains(s))&&c<n&&oe(s,"hiddenHeaderText");const N=w||b?Math.min(d,n-i):d;N>1&&s.setAttribute("colspan",N)}if(this.hot.view.appendColHeader(c,s,function(){return r.getColumnHeaderValue(...arguments)},e),!f&&!h){const S=s.querySelector("div.relative");S&&g&&g.length>0&&(Re(S,this.hot.getColumnMeta(c).headerClassName),oe(S,g))}}}getColumnHeaderValue(e,r){var n;const{isHidden:i,isPlaceholder:s}=(n=et(Ft,this).getHeaderSettings(r,e))!==null&&n!==void 0?n:{};return s||i?"":this.hot.getColHeader(e,r)}destroy(){wc(Ft,this,null),et(gu,this)!==null&&(et(gu,this).unsubscribe(),wc(gu,this,null)),super.destroy()}_getHeaderTreeNodeDataByCoords(e){if(!(e.row>=0||e.col<0))return et(Ft,this).getHeaderTreeNodeData(e.row,e.col)}}function H3e(t,e){var r;const n=this.hot.getSelectedRangeActive();if(!n)return t;const{highlight:i}=n,{navigableHeaders:s}=this.hot.getSettings(),o=this.hot.selection.isSelectedByColumnHeader(),a=s?i.row:(r=et(f_,this))===null||r===void 0?void 0:r.row,l=o?t:i.col,c=a<0&&l>=0;if(wc(f_,this,null),!c)return t;const d=this.hot.getFirstFullyVisibleColumn(),h=this.hot.getLastFullyVisibleColumn(),f=h-d+1,g=et(Ft,this).findLeftMostColumnIndex(a,l),m=et(Ft,this).findRightMostColumnIndex(a,l),p=m-g+1;if(g<d&&m>h)return g;if(o){let y=null;return g>=d&&m>h?p>f?(e.value="start",y=g):(e.value="end",y=m):g<d&&m<=h&&(p>f?(e.value="end",y=m):(e.value="start",y=g)),y}return g<=d?g:m}function j3e(t,e,r){const n=et(Ft,this).getHeaderTreeNodeData(e,t);if(!n)return t;const{columnCursor:i,selectionType:s,selectionWidth:o}=r,{isRoot:a,colspan:l}=et(Ft,this).getHeaderSettings(e,t);if(s===V2){if(!a)return n.columnIndex}else if(s===HY&&(l>o-i||!a))return null;return t}function D3e(t,e,r){let{columnHeadersCount:n}=r;if(n!==0)for(let s=0;s<e.length;s++){const{startRow:o,startCol:a,endRow:l,endCol:c}=e[s],d=l-o+1,h=a-c+1;if(o>=0||h===1)break;for(let f=a;f<=c;f++)for(let g=o;g<=l;g++){var i;const m=d+g,p=f-a;if(p===0)continue;((i=et(Ft,this).getHeaderTreeNodeData(g,f))===null||i===void 0?void 0:i.isRoot)===!1&&(t[m][p]="")}}}function $3e(t,e,r,n){this._getHeaderTreeNodeDataByCoords(e)&&(n.column=!0)}function L3e(t,e){const r=this._getHeaderTreeNodeDataByCoords(e);if(!r)return;wc(ov,this,e.clone()),wc(qR,this,!0);const{selection:n}=this.hot,i=n.isSelected()?n.getSelectedRange().current():null,s=[],{columnIndex:o,origColspan:a}=r,l=!n.inInSelection(e);t.shiftKey&&i?e.col<i.from.col?s.push(i.getTopEndCorner().col,o,e.row):e.col>i.from.col?s.push(i.getTopStartCorner().col,o+a-1,e.row):s.push(o,o+a-1,e.row):(P2(t)||yf(t)&&l||gbe(t))&&s.push(o,o+a-1,e.row),n.selectColumns(...s)}function F3e(t,e,r,n){if(!this.hot.view.isMouseDown()||n.column)return;const i=this._getHeaderTreeNodeDataByCoords(e);if(!i)return;const{columnIndex:s,origColspan:o}=i,a=this.hot.getSelectedRangeActive(),l=a.getTopStartCorner(),c=a.getBottomEndCorner(),{from:d}=a;n.column=!0,n.cell=!0;const h=[],f=ft(e.row,-1/0,-1);e.col<d.col?h.push(c.col,s,f):e.col>d.col?h.push(l.col,s+o-1,f):h.push(s,s+o-1,f),this.hot.selection.selectColumns(...h)}function V3e(){wc(qR,this,!1)}function W3e(){const{navigableHeaders:t}=this.hot.getSettings();if(!this.hot.view.isMouseDown()||!et(qR,this)||!t)return;const e=this.hot.getSelectedRangeLast(),r=e.getTopStartCorner().col,n=e.getBottomEndCorner().col,{columnIndex:i,origColspan:s}=et(Ft,this).getHeaderTreeNodeData(et(ov,this).row,et(ov,this).col);if(e.setHighlight(et(ov,this)),s>e.getWidth()||i<r||i+s-1>n){const o=et(Ft,this).findTopMostEntireHeaderLevel(ft(r,i,i+s-1),ft(n,i,i+s-1));e.highlight.row=o,e.highlight.col=e.from.col}}function B3e(t){const{highlight:e}=this.hot.getSelectedRangeActive(),r=this.hot._createCellCoords(e.row+t.row,e.col+t.col);if(!(r.isHeader()&&r.col>=0))return;const i=et(Ft,this).findLeftMostColumnIndex(r.row,r.col),s=et(Ft,this).findRightMostColumnIndex(r.row,r.col);if(t.col<0){const o=e.col>=i&&e.col<=s?i-1:s,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(o,-1);a===null?t.col=-this.hot.view.countRenderableColumnsInRange(0,e.col):t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(a,e.col)-1,1)}else if(t.col>0){const o=e.col>=i&&e.col<=s?s+1:i,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(o,1);a===null?t.col=this.hot.view.countRenderableColumnsInRange(e.col,this.hot.countCols()):t.col=Math.max(this.hot.view.countRenderableColumnsInRange(e.col,a)-1,1)}}function z3e(t,e,r){const n=t.row,i=this._getHeaderTreeNodeDataByCoords({row:n,col:t.col}),s=this._getHeaderTreeNodeDataByCoords({row:n,col:e.col});wc(f_,this,r.clone()),e.col<t.col?(i&&(t.col=i.columnIndex+i.origColspan-1),s&&(e.col=s.columnIndex)):e.col>=t.col&&(i&&(t.col=i.columnIndex),s&&(e.col=s.columnIndex+s.origColspan-1))}function U3e(t){if(et(Ft,this).getLayersCount()>0){t.length=0;for(let e=0;e<et(Ft,this).getLayersCount();e++)t.push(this.headerRendererFactory(e))}}function Y3e(t){const e=et(Ft,this).getLayersCount();let r=t.startColumn,n=!!e;for(let i=0;i<e;i++){const s=et(Ft,this).findLeftMostColumnIndex(i,t.startColumn),o=this.hot.columnIndexMapper.getRenderableFromVisualIndex(s);if(s>=0&&(n=!1),Ii(o)&&o<t.startColumn){r=o;break}}t.startColumn=n?et(Ft,this).getHeaderTreeNodeData(0,r).columnIndex:r}function G3e(t,e){const r=this.ghostTable.getWidth(e);return t>r?t:r}function K3e(t,e,r){var n;const{label:i}=(n=et(Ft,this).getHeaderTreeNodeData(r,e))!==null&&n!==void 0?n:{label:""};return i}function q3e(t,e){if(t<0)return this.hot.getCell(t,et(Ft,this).findLeftMostColumnIndex(t,e),!0)}function X3e(){this.updatePlugin()}function Q3e(t,e){e||this.updatePlugin()}function sy(t,e,r){return(e=J3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J3e(t){var e=Z3e(t,"string");return typeof e=="symbol"?e:e+""}function Z3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class e6e{constructor(e,r){sy(this,"hot",void 0),sy(this,"data",null),sy(this,"plugin",void 0),sy(this,"parentReference",new WeakMap),sy(this,"cache",{levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}),this.hot=r,this.plugin=e}setData(e){this.data=e}getData(){return this.data}getRawSourceData(){let e=null;return this.plugin.disableCoreAPIModifiers(),e=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),e}updateWithData(e){this.setData(e),this.rewriteCache()}rewriteCache(){this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Ie(0,this.data.length-1,e=>{this.cacheNode(this.data[e],0,null)})}cacheNode(e,r,n){this.cache.levels[r]||(this.cache.levels[r]=[],this.cache.levelCount+=1),this.cache.levels[r].push(e),this.cache.rows.push(e),this.cache.nodeInfo.set(e,{parent:n,row:this.cache.rows.length-1,level:r}),this.hasChildren(e)&&B(e.__children,i=>{this.cacheNode(i,r+1,e)})}getDataObject(e){return e==null?null:this.cache.rows[e]}readTreeNodes(e,r,n,i){let s=!1,o=r;if(isNaN(o)&&o.end)return o;let a=e;return a||(a={__children:this.data},s=!0,o-=1),n!=null&&o===n?{result:a,end:!0}:i!=null&&a===i?{result:o,end:!0}:(o+=1,a.__children&&B(a.__children,l=>{if(this.parentReference.set(l,s?null:a),o=this.readTreeNodes(l,o,n,i),isNaN(o)&&o.end)return!1}),o)}mockParent(){const e=this.mockNode();return e.__children=this.data,e}mockNode(){const e={};return dt(this.data[0],(r,n)=>{e[n]=null}),e}getRowIndex(e){return e==null?null:this.cache.nodeInfo.get(e).row}getRowIndexWithinParent(e){let r=null;isNaN(e)?r=e:r=this.getDataObject(e);const n=this.getRowParent(e);return n==null?this.data.indexOf(r):n.__children.indexOf(r)}countAllRows(){const e={__children:this.data};return this.countChildren(e)}countChildren(e){let r=0,n=e;return isNaN(n)||(n=this.getDataObject(n)),!n||!n.__children?0:(B(n.__children,i=>{r+=1,i.__children&&(r+=this.countChildren(i))}),r)}getRowParent(e){let r;return isNaN(e)?r=e:r=this.getDataObject(e),this.getRowObjectParent(r)}getRowObjectParent(e){return!e||typeof e!="object"?null:this.cache.nodeInfo.get(e).parent}getRowLevel(e){let r=null;return isNaN(e)?r=e:r=this.getDataObject(e),r?this.getRowObjectLevel(r):null}getRowObjectLevel(e){return e==null?null:this.cache.nodeInfo.get(e).level}hasChildren(e){let r=e;return isNaN(r)||(r=this.getDataObject(r)),!!(r.__children&&r.__children.length)}isChild(e){return this.getRowParent(e)!==null}getChild(e,r){var n;return((n=e.__children)===null||n===void 0?void 0:n[r])||null}isRowHighestLevel(e){return!this.isChild(e)}isParent(e){var r;let n=e;return isNaN(n)||(n=this.getDataObject(n)),n&&!!n.__children&&((r=n.__children)===null||r===void 0?void 0:r.length)!==0}addChild(e,r){let n=r;this.hot.runHooks("beforeAddChild",e,n);let i=null;e&&(i=this.getRowIndex(e)),this.hot.runHooks("beforeCreateRow",i+this.countChildren(e)+1,1);let s=e;e||(s=this.mockParent()),s.__children||(s.__children=[]),n||(n=this.mockNode()),s.__children.push(n),this.rewriteCache();const o=this.getRowIndex(n);this.hot.rowIndexMapper.insertIndexes(o,1),this.hot.runHooks("afterCreateRow",o,1),this.hot.runHooks("afterAddChild",e,n)}addChildAtIndex(e,r,n){let i=n,s;if(i||(i=this.mockNode()),this.hot.runHooks("beforeAddChild",e,i,r),e){const a=this.getRowIndex(e)+r+1;this.hot.runHooks("beforeCreateRow",a,1),e.__children.splice(r,null,i),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(e),"__children",e.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(a,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",a,1),s=a}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row_above",r,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),s=this.getRowIndex(this.data[r]);i=this.getDataObject(s),this.hot.runHooks("afterAddChild",e,i,r)}addSibling(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"below";const n=this.translateTrimmedRow(e),i=this.getRowParent(n),s=this.getRowIndexWithinParent(n);switch(r){case"below":this.addChildAtIndex(i,s+1,null);break;case"above":this.addChildAtIndex(i,s,null);break}}detachFromParent(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=null;const i=[];Array.isArray(e)?(Ie(e[0],e[2],f=>{const g=this.translateTrimmedRow(f);i.push(this.getDataObject(g))}),Ie(0,i.length-2,f=>{this.detachFromParent(i[f],!1)}),n=i[i.length-1]):n=e;const s=this.getRowIndex(n),o=this.countChildren(n),a=this.getRowIndexWithinParent(n),l=this.getRowParent(n),c=this.getRowParent(l),d=this.getRowIndex(c);let h=null;if(this.hot.runHooks("beforeDetachChild",l,n),a!=null){const f=Array.from(new Array(s+o+1).keys()).splice(-1*(o+1));if(this.hot.runHooks("beforeRemoveRow",s,o+1,f,this.plugin.pluginName),l.__children.splice(a,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",s,o+1,f,this.plugin.pluginName),c){h=d+this.countChildren(c);const g=this.getChild(c,this.countChildren(c)-1),m=this.getRowIndex(g);this.hot.runHooks("beforeCreateRow",m+1,o+1,this.plugin.pluginName),c.__children.push(n)}else h=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",h-2,o+1,this.plugin.pluginName),this.data.push(n)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",h-2,o+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",l,n,this.getRowIndex(n)),r&&this.hot.render()}filterData(e,r,n){const i=[];B(n,s=>{i.push(this.getDataObject(s))}),B(i,s=>{const o=this.getRowIndexWithinParent(s),a=this.getRowParent(s);a===null?this.data.splice(o,1):a.__children.splice(o,1)}),this.rewriteCache()}spliceData(e,r,n){const i=this.getDataObject(e-1);let s=null,o=e;i&&i.__children&&i.__children.length===0?(s=i,o=0):e<this.countAllRows()&&(s=this.getRowParent(e),o=this.getRowIndexWithinParent(e)),s?n?s.__children.splice(o,r,...n):s.__children.splice(o,r):n?this.data.splice(o,r,...n):this.data.splice(o,r),this.rewriteCache()}syncRowWithRawSource(e){let r=e,n=r;do n=this.getRowParent(n),n!==null&&(r=n);while(n!==null);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(r),"__children",r.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}moveRow(e,r,n,i){const s=r===this.hot.countRows(),o=this.getRowParent(e),a=this.getRowIndexWithinParent(e),l=o.__children.slice(a,a+1),c=e>r;let d=s?this.getRowParent(r-1):this.getRowParent(r);d==null&&(d=this.getRowParent(r-1)),d==null&&(d=this.getDataObject(r-1)),d?d.__children||(d.__children=[]):(d=this.getDataObject(r),d.__children=[]);const h=s||n||i?d.__children.length:this.getRowIndexWithinParent(r),f=o===d;d.__children.splice(h,0,l[0]),o.__children.splice(a+(c&&f?1:0),1),this.syncRowWithRawSource(o),f||this.syncRowWithRawSource(d)}translateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(e):e}untranslateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(e):e}}function HW(t,e,r){return(e=t6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t6e(t){var e=r6e(t,"string");return typeof e=="symbol"?e:e+""}function r6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class OD{constructor(e,r){HW(this,"hot",void 0),HW(this,"plugin",void 0),this.hot=r,this.plugin=e}}class ll extends OD{static get CSS_CLASSES(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}constructor(e,r){super(e,r),this.dataManager=this.plugin.dataManager,this.collapsingUI=this.plugin.collapsingUI,this.rowHeaderWidthCache=null}appendLevelIndicators(e,r){const n=this.hot.toPhysicalRow(e),i=this.dataManager.getDataObject(n);if(!i)return;const s=this.dataManager.getRowLevel(n),o=r.getElementsByTagName("DIV")[0],a=o.querySelector("span.rowHeader"),l=o.querySelectorAll('[class^="ht_nesting"]'),c=this.hot.getSettings().ariaTags;if(B(l,d=>{d&&o.removeChild(d)}),oe(r,ll.CSS_CLASSES.indicatorContainer),s){const{rootDocument:d}=this.hot,h=a.cloneNode(!0);o.innerHTML="",Ie(0,s-1,()=>{const f=d.createElement("SPAN");oe(f,ll.CSS_CLASSES.emptyIndicator),o.appendChild(f)}),o.appendChild(h)}if(this.dataManager.hasChildren(i)){const d=this.hot.rootDocument.createElement("DIV");c&&Ee(d,[jf()]),oe(r,ll.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(n)?(oe(d,`${ll.CSS_CLASSES.button} ${ll.CSS_CLASSES.expandButton}`),c&&Ee(r,[So(!1)])):(oe(d,`${ll.CSS_CLASSES.button} ${ll.CSS_CLASSES.collapseButton}`),c&&Ee(r,[So(!0)])),o.appendChild(d)}}updateRowHeaderWidth(e){let r=e;r||(r=this.dataManager.cache.levelCount);let n=11;this.hot.stylesHandler.isClassicTheme()||(n=this.hot.stylesHandler.getCSSVariableValue("cell-horizontal-padding")*2),this.rowHeaderWidthCache=Math.max(50,n+10*r+25),this.hot.render()}}class n6e extends OD{constructor(e,r){var n;super(e,r),n=this,this.dataManager=this.plugin.dataManager,this.collapsedRows=[],this.collapsedRowsStash={stash:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;n.lastCollapsedRows=n.collapsedRows.slice(0),n.expandMultipleChildren(n.lastCollapsedRows,i)},shiftStash:function(i,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;s==null&&(s=1/0),B(n.lastCollapsedRows,(a,l)=>{a>=i&&a<s&&(n.lastCollapsedRows[l]=a+o)})},applyStash:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;n.collapseMultipleChildren(n.lastCollapsedRows,i),n.lastCollapsedRows=void 0},trimStash:(i,s)=>{Ie(i,i+s-1,o=>{const a=this.lastCollapsedRows.indexOf(o);a>-1&&this.lastCollapsedRows.splice(a,1)})}}}collapseChildren(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];let s=null,o=null,a=null;return isNaN(e)?(s=e,o=this.dataManager.getRowIndex(s)):(s=this.dataManager.getDataObject(e),o=e),this.dataManager.hasChildren(s)&&B(s.__children,l=>{i.push(this.dataManager.getRowIndex(l))}),a=this.collapseRows(i,!0,!1),n&&this.trimRows(a),r&&this.renderAndAdjust(),this.collapsedRows.indexOf(o)===-1&&this.collapsedRows.push(o),a}collapseMultipleChildren(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];B(e,s=>{i.push(...this.collapseChildren(s,!1,!1))}),n&&this.trimRows(i),r&&this.renderAndAdjust()}collapseRow(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.collapseRows([e],r)}collapseRows(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=[];return B(e,s=>{i.push(s),r&&this.collapseChildRows(s,i)}),n&&this.trimRows(i),i}collapseChildRows(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){const i=this.dataManager.getDataObject(e);B(i.__children,s=>{const o=this.dataManager.getRowIndex(s);r.push(o),this.collapseChildRows(o,r)})}n&&this.trimRows(r)}expandRow(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.expandRows([e],r)}expandRows(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=[];return B(e,s=>{i.push(s),r&&this.expandChildRows(s,i)}),n&&this.untrimRows(i),i}expandChildRows(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){const i=this.dataManager.getDataObject(e);B(i.__children,s=>{if(!this.isAnyParentCollapsed(s)){const o=this.dataManager.getRowIndex(s);r.push(o),this.expandChildRows(o,r)}})}n&&this.untrimRows(r)}expandChildren(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];let s=null,o=null,a=null;return isNaN(e)?(s=e,o=this.dataManager.getRowIndex(e)):(s=this.dataManager.getDataObject(e),o=e),this.collapsedRows.splice(this.collapsedRows.indexOf(o),1),this.dataManager.hasChildren(s)&&B(s.__children,l=>{const c=this.dataManager.getRowIndex(l);i.push(c)}),a=this.expandRows(i,!0,!1),n&&this.untrimRows(a),r&&this.renderAndAdjust(),a}expandMultipleChildren(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];B(e,s=>{i.push(...this.expandChildren(s,!1,!1))}),n&&this.untrimRows(i),r&&this.renderAndAdjust()}collapseAll(){const e=this.dataManager.getData(),r=[];B(e,n=>{this.dataManager.hasChildren(n)&&r.push(n)}),this.collapseMultipleChildren(r),this.renderAndAdjust()}expandAll(){const e=this.dataManager.getData(),r=[];B(e,n=>{this.dataManager.hasChildren(n)&&r.push(n)}),this.expandMultipleChildren(r),this.renderAndAdjust()}trimRows(e){this.hot.batchExecution(()=>{B(e,r=>{this.plugin.collapsedRowsMap.setValueAtIndex(r,!0)})},!0)}untrimRows(e){this.hot.batchExecution(()=>{B(e,r=>{this.plugin.collapsedRowsMap.setValueAtIndex(r,!1)})},!0)}areChildrenCollapsed(e){let r=isNaN(e)?e:this.dataManager.getDataObject(e),n=!0;return r===null&&(r={__children:this.dataManager.data}),this.dataManager.hasChildren(r)&&B(r.__children,i=>{const s=this.dataManager.getRowIndex(i);if(!this.plugin.collapsedRowsMap.getValueAtIndex(s))return n=!1,!1}),n}isAnyParentCollapsed(e){let r=e;for(;r!==null;){r=this.dataManager.getRowParent(r);const n=this.dataManager.getRowIndex(r);if(this.collapsedRows.indexOf(n)>-1)return!0}return!1}toggleState(e,r){if(r.col>=0)return;const n=this.translateTrimmedRow(r.row);Ve(e.target,ll.CSS_CLASSES.button)&&(this.areChildrenCollapsed(n)?this.expandChildren(n):this.collapseChildren(n),Eo(e))}translateTrimmedRow(e){return this.hot.toPhysicalRow(e)}untranslateTrimmedRow(e){return this.hot.toVisualRow(e)}renderAndAdjust(){this.hot.view.adjustElementsSize(),this.hot.render()}}function i6e(t,e,r){s6e(t,e),e.set(t,r)}function s6e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o6e(t,e,r){return(e=a6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a6e(t){var e=l6e(t,"string");return typeof e=="symbol"?e:e+""}function l6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c6e(t,e){return t.get(u6e(t,e))}function u6e(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var jW=new WeakMap;class d6e extends OD{constructor(){super(...arguments),o6e(this,"dataManager",this.plugin.dataManager),i6e(this,jW,{row_above:(e,r)=>{const n=r[r.length-1];this.dataManager.addSibling(n.start.row,"above")},row_below:(e,r)=>{const n=r[r.length-1];this.dataManager.addSibling(n.start.row,"below")}})}appendOptions(e){const r=[{key:"add_child",name(){return this.getTranslatedPhrase(WH)},callback:()=>{const n=this.dataManager.translateTrimmedRow(this.hot.getSelectedActive()[0]),i=this.dataManager.getDataObject(n);this.dataManager.addChild(i)},disabled:()=>{const n=this.hot.getSelectedActive();return!n||n[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{key:"detach_from_parent",name(){return this.getTranslatedPhrase(BH)},callback:()=>{this.dataManager.detachFromParent(this.hot.getSelectedActive())},disabled:()=>{const n=this.hot.getSelectedActive(),i=this.dataManager.translateTrimmedRow(n[0]);return!this.dataManager.getRowParent(i)||!n||n[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{name:"---------"}];return Ie(0,e.items.length-1,n=>{if(n===0)return B(r,(i,s)=>{e.items.splice(n+s,0,i)}),!1}),this.modifyRowInsertingOptions(e)}modifyRowInsertingOptions(e){return Ie(0,e.items.length-1,r=>{const n=c6e(jW,this)[e.items[r].key];n!=null&&(e.items[r].callback=n)}),e}}function fx(t,e,r){return(e=h6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h6e(t){var e=f6e(t,"string");return typeof e=="symbol"?e:e+""}function f6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class g6e{constructor(e){fx(this,"plugin",void 0),fx(this,"hot",void 0),fx(this,"dataManager",void 0),fx(this,"collapsingUI",void 0),this.plugin=e,this.hot=e.hot,this.dataManager=e.dataManager,this.collapsingUI=e.collapsingUI}onBeforeRowMove(e,r,n,i){if(this.displayAPICompatibilityWarning({rows:e,finalIndex:r,dropIndex:n,movePossible:i}))return!1;this.movedToCollapsed=!1;const o=n===this.hot.countRows(),a=o?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(n);let l=!0;const c=e.map(m=>{if(!l)return!1;const p=this.dataManager.translateTrimmedRow(m);return l=this.shouldAllowMoving(p,a),p}),d=c.indexOf(a)===-1;if(!l||!d)return!1;const h=this.getBaseParent(c),f=this.getTargetParent(o,a),g=h===f;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(f),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(c,a,g),this.moveRows(c,a,f),this.dataManager.rewriteCache(),this.moveCellsMeta(c,a),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",e,r,n,i,i&&this.isRowOrderChanged(e,r)),this.hot.render(),this.selectCells(e,n),!1}displayAPICompatibilityWarning(e){const{rows:r,finalIndex:n,dropIndex:i,movePossible:s}=e;let o=!1;return cr(i)&&(at(kt`Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\x20
      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead.`),this.hot.runHooks("afterRowMove",r,n,i,s,!1),o=!0),o}shouldAllowMoving(e,r){return!(this.dataManager.isParent(e)||this.dataManager.isRowHighestLevel(e)||e===r||r===0)}getBaseParent(e){return this.dataManager.getRowParent(e[0])}getTargetParent(e,r){let n=this.dataManager.getRowParent(e?r-1:r);return n==null&&(n=this.dataManager.getRowParent(r-1)),n}shiftCollapsibleParentsLocations(e,r,n){n||(Math.max(...e)<=r?this.collapsingUI.collapsedRowsStash.shiftStash(e[0],r,-1*e.length):this.collapsingUI.collapsedRowsStash.shiftStash(r,e[0],e.length))}moveRows(e,r,n){const i=r===this.dataManager.getRowIndex(n)+this.dataManager.countChildren(n)+1;this.hot.batchRender(()=>{e.forEach(s=>{this.dataManager.moveRow(s,r,this.movedToCollapsed,i)})})}moveCellsMeta(e,r){const n=[],i=Math.max(...e)<r;e.forEach(s=>{n.push(this.hot.getCellMetaAtRow(s))}),this.hot.spliceCellsMeta(e[0],e.length),this.hot.spliceCellsMeta(r-(i?n.length:0),0,...n)}selectCells(e,r){const n=e.length;let i=0,s=0;if(this.movedToCollapsed){let o=null;e[n-1]<r?o=this.dataManager.translateTrimmedRow(r-n):o=this.dataManager.translateTrimmedRow(r);const a=this.dataManager.getRowParent(o===null?this.hot.countSourceRows()-1:o-1),l=this.dataManager.getRowIndex(a);i=this.dataManager.untranslateTrimmedRow(l),s=i}else e[n-1]<r?(s=r-1,i=s-n+1):(i=r,s=i+n-1);this.hot.selectCells([[i,0,s,this.hot.countCols()-1]],!1)}isRowOrderChanged(e,r){return e.some((n,i)=>n-i!==r)}}function m6e(t,e){Xq(t,e),e.add(t)}function DW(t,e,r){Xq(t,e),e.set(t,r)}function Xq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function QP(t,e,r){return(e=p6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p6e(t){var e=y6e(t,"string");return typeof e=="symbol"?e:e+""}function y6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xC(t,e){return t.get(wn(t,e))}function g_(t,e,r){return t.set(wn(t,e),r),r}function wn(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const m_="nestedRows",v6e=300,$W=m_,w6e="The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled.";var XR=new WeakMap,Mg=new WeakMap,In=new WeakSet;class b6e extends xt{constructor(){super(...arguments),m6e(this,In),QP(this,"dataManager",null),QP(this,"headersUI",null),QP(this,"collapsedRowsMap",null),DW(this,XR,!1),DW(this,Mg,!1)}static get PLUGIN_KEY(){return m_}static get PLUGIN_PRIORITY(){return v6e}isEnabled(){return!!this.hot.getSettings()[m_]}enablePlugin(){var e=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new $w),this.dataManager=new e6e(this,this.hot),this.collapsingUI=new n6e(this,this.hot),this.headersUI=new ll(this,this.hot),this.contextMenuUI=new d6e(this,this.hot),this.rowMoveController=new g6e(this),this.addHook("afterInit",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wn(In,e,O6e).call(e,...n)}),this.addHook("beforeViewRender",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wn(In,e,H6e).call(e,...n)}),this.addHook("modifyRowData",function(){return e.onModifyRowData(...arguments)}),this.addHook("modifySourceLength",function(){return e.onModifySourceLength(...arguments)}),this.addHook("beforeDataSplice",function(){return e.onBeforeDataSplice(...arguments)}),this.addHook("filterData",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wn(In,e,C6e).call(e,...n)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wn(In,e,_6e).call(e,...n)}),this.addHook("afterGetRowHeader",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wn(In,e,R6e).call(e,...n)}),this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wn(In,e,x6e).call(e,...n)}),this.addHook("beforeRemoveRow",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wn(In,e,k6e).call(e,...n)}),this.addHook("afterRemoveRow",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wn(In,e,T6e).call(e,...n)}),this.addHook("beforeAddChild",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wn(In,e,P6e).call(e,...n)}),this.addHook("afterAddChild",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wn(In,e,N6e).call(e,...n)}),this.addHook("beforeDetachChild",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wn(In,e,M6e).call(e,...n)}),this.addHook("afterDetachChild",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wn(In,e,I6e).call(e,...n)}),this.addHook("modifyRowHeaderWidth",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wn(In,e,E6e).call(e,...n)}),this.addHook("afterCreateRow",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wn(In,e,A6e).call(e,...n)}),this.addHook("beforeRowMove",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wn(In,e,S6e).call(e,...n)}),this.addHook("beforeLoadData",r=>wn(In,this,LW).call(this,r)),this.addHook("beforeUpdateData",r=>wn(In,this,LW).call(this,r)),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),this.unregisterShortcuts(),super.disablePlugin()}updatePlugin(){this.disablePlugin();const e=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(e),super.updatePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeActive(),r=this.collapsingUI.translateTrimmedRow(e.row);return this.collapsingUI.areChildrenCollapsed(r)?this.collapsingUI.expandChildren(r):this.collapsingUI.collapseChildren(r),!1},runOnlyIf:()=>{var e,r;const n=(e=this.hot.getSelectedRangeActive())===null||e===void 0?void 0:e.highlight;return n&&((r=this.hot.getSelectedRangeActive())===null||r===void 0?void 0:r.isSingle())&&this.hot.selection.isCellVisible(n)&&n.col===-1&&n.row>=0},group:$W,relativeToGroup:xd,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup($W)}disableCoreAPIModifiers(){g_(Mg,this,!0)}enableCoreAPIModifiers(){g_(Mg,this,!1)}onModifyRowData(e){if(!xC(Mg,this))return this.dataManager.getDataObject(e)}onModifySourceLength(){if(!xC(Mg,this))return this.dataManager.countAllRows()}onBeforeDataSplice(e,r,n){return xC(Mg,this)||this.dataManager.isRowHighestLevel(e)?!0:(this.dataManager.spliceData(e,r,n),!1)}destroy(){super.destroy()}}function S6e(t,e,r,n){return this.rowMoveController.onBeforeRowMove(t,e,r,n)}function x6e(t,e,r){this.collapsingUI.toggleState(t,e,r)}function C6e(t,e,r){return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(r[0],e),this.collapsingUI.collapsedRowsStash.shiftStash(r[0],null,-1*e),this.dataManager.filterData(t,e,r),g_(XR,this,!0),this.dataManager.getData().slice()}function _6e(t){return this.contextMenuUI.appendOptions(t)}function R6e(t,e){this.headersUI.appendLevelIndicators(t,e)}function E6e(t){return Math.max(this.headersUI.rowHeaderWidthCache,t)}function T6e(t,e,r,n){n!==this.pluginName&&this.hot._registerTimeout(()=>{g_(XR,this,!1),this.headersUI.updateRowHeaderWidth(),this.collapsingUI.collapsedRowsStash.applyStash()})}function k6e(t,e,r){const n=Array.from(r.reduce((i,s)=>{if(this.dataManager.isParent(s)){const o=this.dataManager.getDataObject(s).__children;return i.add(s),Array.isArray(o)&&o.forEach(a=>i.add(this.dataManager.getRowIndex(a))),i}return i.add(s)},new Set));r.length=0,r.push(...n)}function P6e(){this.collapsingUI.collapsedRowsStash.stash()}function N6e(t,e){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(e)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function M6e(){this.collapsingUI.collapsedRowsStash.stash()}function I6e(t,e,r){this.collapsingUI.collapsedRowsStash.shiftStash(r,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function A6e(){this.dataManager.rewriteCache()}function O6e(){this.headersUI.updateRowHeaderWidth()}function H6e(t,e){xC(XR,this)&&(e.skipRender=!0)}function LW(t){if(!$_e(t)){N2(w6e),this.hot.getSettings()[m_]=!1,this.disablePlugin();return}this.dataManager.setData(t),this.dataManager.rewriteCache()}function j6e(t,e){Qq(t,e),e.add(t)}function mu(t,e,r){Qq(t,e),e.set(t,r)}function Qq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pt(t,e){return t.get(av(t,e))}function qa(t,e,r){return t.set(av(t,e),r),r}function av(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const D6e=`
<div data-ref="container" class="ht-pagination handsontable">
  <div class="ht-pagination__inner">
    <div data-ref="pageSizeSection" class="ht-page-size-section">
      <span data-ref="pageSizeLabel" class="ht-page-size-section__label"></span>
      <div class="ht-page-size-section__select-wrapper">
        <select data-ref="pageSizeSelect" name="pageSize" data-hot-input></select>
      </div>
    </div>
    <div data-ref="pageCounterSection" class="ht-page-counter-section"></div>
    <nav data-ref="pageNavSection" class="ht-page-navigation-section">
      <button data-ref="first" class="ht-page-navigation-section__button ht-page-first"></button>
      <button data-ref="prev" class="ht-page-navigation-section__button ht-page-prev"></button>
      <span data-ref="pageNavLabel" class="ht-page-navigation-section__label"></span>
      <button data-ref="next" class="ht-page-navigation-section__button ht-page-next"></button>
      <button data-ref="last" class="ht-page-navigation-section__button ht-page-last"></button>
    </nav>
  </div>
</div>
`;var ym=new WeakMap,wh=new WeakMap,JP=new WeakMap,si=new WeakMap,Ig=new WeakMap,to=new WeakMap,ZP=new WeakMap,eN=new WeakMap,gx=new WeakSet;class Jq{constructor(e){let{rootElement:r,uiContainer:n,isRtl:i,themeName:s,phraseTranslator:o,shouldHaveBorder:a,a11yAnnouncer:l}=e;j6e(this,gx),mu(this,ym,void 0),mu(this,wh,void 0),mu(this,JP,!1),mu(this,si,void 0),mu(this,Ig,void 0),mu(this,to,void 0),mu(this,ZP,void 0),mu(this,eN,void 0),qa(ym,this,r),qa(wh,this,n),qa(JP,this,i),qa(Ig,this,s),qa(to,this,o),qa(ZP,this,a),qa(eN,this,l),this.install()}install(){var e;if((e=pt(si,this))!==null&&e!==void 0&&e.container)return;const r=sp`${D6e}`,{container:n,first:i,prev:s,next:o,last:a,pageSizeSelect:l}=r.refs;qa(si,this,r.refs),n.setAttribute("dir",pt(JP,this)?"rtl":"ltr"),n.tabIndex=-1;const c=h=>h.currentTarget.disabled,d=(h,f,g)=>{f.addEventListener(h,m=>{c(m)||g()})};d("click",i,()=>this.runLocalHooks("firstPageClick")),d("click",s,()=>this.runLocalHooks("prevPageClick")),d("click",o,()=>this.runLocalHooks("nextPageClick")),d("click",a,()=>this.runLocalHooks("lastPageClick")),l.addEventListener("change",()=>{const h=l.value==="auto"?"auto":Number.parseInt(l.value,10);this.runLocalHooks("pageSizeChange",h)}),this.setCounterSectionVisibility(!1),this.setNavigationSectionVisibility(!1),this.setPageSizeSectionVisibility(!1),pt(wh,this)?(pt(wh,this).appendChild(r.fragment),oe(n,[pt(Ig,this),"handsontable"])):pt(ym,this).after(r.fragment)}getContainer(){return pt(si,this).container}getFocusableElements(){const{first:e,prev:r,next:n,last:i,pageSizeSelect:s}=pt(si,this);return[s,e,r,n,i].filter(o=>!o.disabled)}updateWidth(e){return pt(si,this).container.style.width=`${e}px`,this}updateTheme(e){if(qa(Ig,this,e),pt(wh,this)){const{container:r}=pt(si,this);Re(r,/ht-theme-.*/g),pt(Ig,this)&&oe(r,pt(Ig,this))}return this}getHeight(){return pt(si,this).container.offsetHeight}refreshBorderState(){const{container:e}=pt(si,this);return pt(wh,this)||pt(ZP,this).call(this)?oe(e,"ht-pagination--bordered"):Re(e,"ht-pagination--bordered"),this}updateState(e){let{currentPage:r,totalPages:n,firstVisibleRowIndex:i,lastVisibleRowIndex:s,totalRenderedRows:o,pageSizeList:a,pageSize:l,autoPageSize:c}=e;const{first:d,prev:h,next:f,last:g,pageCounterSection:m,pageNavSection:p,pageNavLabel:y,pageSizeSelect:S,pageSizeLabel:w}=pt(si,this),b=pt(to,this).call(this,Rj,{start:i+1,end:s+1,total:o}),C=pt(to,this).call(this,Ej,{currentPage:r,totalPages:n}),N=pt(to,this).call(this,k1);m.textContent=b,y.textContent=C,S.textContent="",w.textContent=`${N}:`,Ee(p,[Hs(pt(to,this).call(this,Cj))]),Ee(S,[Hs(pt(to,this).call(this,k1))]),pt(eN,this).call(this,C),this.refreshBorderState(),a.forEach(R=>{const I=R==="auto"?pt(to,this).call(this,_j):R,O=new Option(I,R);(c&&R==="auto"||!c&&R===l)&&(O.selected=!0),S.add(O)});const P=r===1,k=r===n;if(p.style.display!=="none"){const R=pt(ym,this).ownerDocument.activeElement;P?(oe(d,"ht-page-navigation-section__button--disabled"),oe(h,"ht-page-navigation-section__button--disabled"),d.disabled=!0,h.disabled=!0):(Re(d,"ht-page-navigation-section__button--disabled"),Re(h,"ht-page-navigation-section__button--disabled"),d.disabled=!1,h.disabled=!1),k?(oe(f,"ht-page-navigation-section__button--disabled"),oe(g,"ht-page-navigation-section__button--disabled"),f.disabled=!0,g.disabled=!0):(Re(f,"ht-page-navigation-section__button--disabled"),Re(g,"ht-page-navigation-section__button--disabled"),f.disabled=!1,g.disabled=!1),[d,h,f,g].includes(R)&&(h.disabled?f.focus():f.disabled&&h.focus())}return Ee(d,[Hs(pt(to,this).call(this,Tj)),yy(P)]),Ee(h,[Hs(pt(to,this).call(this,kj)),yy(P)]),Ee(f,[Hs(pt(to,this).call(this,Pj)),yy(k)]),Ee(g,[Hs(pt(to,this).call(this,Nj)),yy(k)]),this}setPageSizeSectionVisibility(e){const{pageSizeSection:r,pageSizeSelect:n}=pt(si,this);return r.style.display=e?"":"none",n.disabled=!e,av(gx,this,tN).call(this),this}setCounterSectionVisibility(e){return pt(si,this).pageCounterSection.style.display=e?"":"none",av(gx,this,tN).call(this),this}setNavigationSectionVisibility(e){const{pageNavSection:r,first:n,prev:i,next:s,last:o}=pt(si,this);return r.style.display=e?"":"none",n.disabled=!e,i.disabled=!e,s.disabled=!e,o.disabled=!e,av(gx,this,tN).call(this),this}destroy(){var e;(e=pt(si,this))===null||e===void 0||e.container.remove(),qa(si,this,null)}}function tN(){const{container:t,pageSizeSection:e,pageCounterSection:r,pageNavSection:n}=pt(si,this),i=e.style.display!=="none"||r.style.display!=="none"||n.style.display!=="none";pt(wh,this)||(i?oe(pt(ym,this).querySelector(".ht-wrapper"),"htPagination"):Re(pt(ym,this).querySelector(".ht-wrapper"),"htPagination")),t.style.display=i?"":"none"}Dt(Jq,Tn);const $6e=["nestedRows","mergeCells","fixedRowsTop","fixedRowsBottom"];function L6e(t){return $6e.some(e=>{const r=!!t[e];return r&&at(kt`The \`pagination\` plugin cannot be used with the \`${e}\` option.\x20
                        This combination is not supported. The plugin will remain disabled.`),r})}function rN(t,e,r){return(e=F6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F6e(t){var e=V6e(t,"string");return typeof e=="symbol"?e:e+""}function V6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class W6e{constructor(){rN(this,"pageSize",1),rN(this,"totalItems",0),rN(this,"totalPages",0)}calculate(e){let{pageSize:r,totalItems:n}=e;this.pageSize=Math.max(r,1),this.totalItems=n,this.totalPages=Math.max(1,Math.ceil(this.totalItems/this.pageSize))}getTotalPages(){return this.totalPages}getState(e){if(e-=1,e<0||e>=this.getTotalPages())return;const r=e*this.pageSize,n=Math.max(0,Math.min(r+this.pageSize-1,this.totalItems-1));return{startIndex:r,endIndex:n,pageSize:this.pageSize}}}function B6e(t,e,r){return(e=z6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z6e(t){var e=U6e(t,"string");return typeof e=="symbol"?e:e+""}function U6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Y6e{constructor(){B6e(this,"pages",[])}calculate(e){let{itemsSizeProvider:r,viewportSizeProvider:n}=e;const i=r(),s=n(),o=[];let a=0,l=0,c=0;for(let d=0;d<i.length;d++){const h=i[d];c>0&&l+h>=s&&(o.push({startIndex:a,endIndex:d-1,pageSize:c}),a=d,l=0,c=0),l+=h,c+=1}o.push({startIndex:a,endIndex:Math.max(0,i.length-1),pageSize:c}),this.pages=o}getTotalPages(){return this.pages.length}getState(e){if(e-=1,!(e<0||e>=this.getTotalPages()))return this.pages[e]}}const FW=new Map([["fixed",W6e],["auto",Y6e]]);function VW(t){if(!FW.has(t))throw new Error(`Unknown pagination strategy type: ${t}`);const e=FW.get(t);return new e}function G6e(t,e){Zq(t,e),e.add(t)}function pu(t,e,r){Zq(t,e),e.set(t,r)}function Zq(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Be(t,e){return t.get(Zt(t,e))}function Gn(t,e,r){return t.set(Zt(t,e),r),r}function Zt(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const Fh="pagination",K6e=900,q6e=`plugin:${Fh}`,WW=kt`The \`auto\` page size setting requires the \`autoRowSize\`\x20
  plugin to be enabled. Set the \`autoRowSize: true\` in the configuration to ensure correct behavior.`;var lv=new WeakMap,Ei=new WeakMap,Zo=new WeakMap,Wr=new WeakMap,ea=new WeakMap,p_=new WeakMap,CC=new WeakMap,ar=new WeakSet,nN=new WeakMap;class X6e extends xt{constructor(){super(...arguments),G6e(this,ar),pu(this,lv,null),pu(this,Ei,1),pu(this,Zo,10),pu(this,Wr,null),pu(this,ea,null),pu(this,p_,!1),pu(this,CC,!1),pu(this,nN,()=>{var e;!Be(p_,this)&&(e=this.hot)!==null&&e!==void 0&&e.view&&Zt(ar,this,Vh).call(this)})}static get PLUGIN_KEY(){return Fh}static get PLUGIN_PRIORITY(){return K6e}static get DEFAULT_SETTINGS(){return{pageSize:10,pageSizeList:["auto",5,10,20,50,100],initialPage:1,showPageSize:!0,showCounter:!0,showNavigation:!0,uiContainer:null}}isEnabled(){return!!this.hot.getSettings()[Fh]}enablePlugin(){var e,r=this;if(L6e(this.hot.getSettings())){this.hot.getSettings()[Fh]=!1;return}if(this.enabled)return;const n=this.hot.getSettings()[Fh];(n==null?void 0:n.initialPage)!==void 0&&Gn(Ei,this,this.getSetting("initialPage")),(n==null?void 0:n.pageSize)!==void 0&&Gn(Zo,this,this.getSetting("pageSize")),Gn(lv,this,this.hot.rowIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding",!1)),Be(Zo,this)==="auto"&&!((e=this.hot.getPlugin("autoRowSize"))!==null&&e!==void 0&&e.enabled)&&at(WW),Gn(ea,this,VW(Be(Zo,this)==="auto"?"auto":"fixed")),Be(Wr,this)||(Gn(Wr,this,new Jq({rootElement:this.hot.rootGridElement,uiContainer:this.getSetting("uiContainer"),isRtl:this.hot.isRtl(),themeName:this.hot.getSettings().themeName,phraseTranslator:function(){return r.hot.getTranslatedPhrase(...arguments)},shouldHaveBorder:()=>Zt(ar,this,Q6e).call(this),a11yAnnouncer:i=>kke(i)})),Zt(ar,this,BW).call(this),Be(Wr,this).addLocalHook("firstPageClick",()=>this.firstPage()).addLocalHook("prevPageClick",()=>this.prevPage()).addLocalHook("nextPageClick",()=>this.nextPage()).addLocalHook("lastPageClick",()=>this.lastPage()).addLocalHook("pageSizeChange",i=>this.setPageSize(i))),this.addHook("init",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Zt(ar,r,oVe).call(r,...s)},-1),this.addHook("beforeSelectAll",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Zt(ar,r,zW).call(r,...s)}),this.addHook("beforeSelectColumns",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Zt(ar,r,zW).call(r,...s)}),this.addHook("beforeSetRangeEnd",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Zt(ar,r,eVe).call(r,...s)}),this.addHook("beforeSelectionHighlightSet",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Zt(ar,r,tVe).call(r,...s)}),this.addHook("beforePaste",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Zt(ar,r,rVe).call(r,...s)}),this.addHook("afterViewRender",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Zt(ar,r,nVe).call(r,...s)}),this.addHook("afterRender",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Zt(ar,r,iVe).call(r,...s)}),this.addHook("afterScrollVertically",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Zt(ar,r,aVe).call(r,...s)}),this.addHook("afterLanguageChange",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Zt(ar,r,lVe).call(r,...s)}),this.addHook("beforeHeightChange",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Zt(ar,r,sVe).call(r,...s)}),this.addHook("afterSetTheme",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Zt(ar,r,cVe).call(r,...s)}),this.hot.rowIndexMapper.addLocalHook("cacheUpdated",Be(nN,this)),Zt(ar,this,J6e).call(this),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),Zt(ar,this,Vh).call(this),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.removeLocalHook("cacheUpdated",Be(nN,this)).unregisterMap(this.pluginName),Zt(ar,this,Z6e).call(this),Be(Wr,this).destroy(),Gn(Wr,this,null),super.disablePlugin()}getPaginationData(){const e=Be(ea,this).getTotalPages();let r=-1,n=-1;const{pageSize:i,startIndex:s}=Be(ea,this).getState(Be(Ei,this)),o=this.hot.countRows();let a=0;for(let l=s;a<i&&!(l>=o);l++)this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(l))||(r===-1&&(r=l),n=l,a+=1);return{currentPage:Be(Ei,this),totalPages:e,pageSize:i,pageSizeList:[...this.getSetting("pageSizeList")],autoPageSize:Be(Zo,this)==="auto",numberOfRenderedRows:this.hot.rowIndexMapper.getRenderableIndexesLength(),firstVisibleRowIndex:r,lastVisibleRowIndex:n}}setPage(e){const r=Be(Ei,this);this.hot.runHooks("beforePageChange",r,e)!==!1&&(Gn(Ei,this,e),Zt(ar,this,Vh).call(this),this.hot.scrollViewportTo({row:0}),this.hot.runHooks("afterPageChange",r,Be(Ei,this)),this.hot.view.adjustElementsSize(),this.hot.render())}resetPage(){this.setPage(this.getSetting("initialPage"))}setPageSize(e){var r;const n=Be(Zo,this);this.hot.runHooks("beforePageSizeChange",n,e)!==!1&&(e==="auto"&&!((r=this.hot.getPlugin("autoRowSize"))!==null&&r!==void 0&&r.enabled)&&at(WW),Gn(ea,this,VW(e==="auto"?"auto":"fixed")),Gn(Zo,this,e),Zt(ar,this,Vh).call(this),this.hot.runHooks("afterPageSizeChange",n,Be(Zo,this)),this.hot.view.adjustElementsSize(),this.hot.render())}resetPageSize(){this.setPageSize(this.getSetting("pageSize"))}resetPagination(){this.resetPage(),this.resetPageSize(),Zt(ar,this,BW).call(this)}nextPage(){this.setPage(Be(Ei,this)+1)}prevPage(){this.setPage(Be(Ei,this)-1)}firstPage(){this.setPage(1)}lastPage(){this.setPage(Be(ea,this).getTotalPages())}hasPreviousPage(){return Be(Ei,this)>1}hasNextPage(){return Be(Ei,this)<Be(ea,this).getTotalPages()}getCurrentPageData(){const{firstVisibleRowIndex:e,lastVisibleRowIndex:r}=this.getPaginationData();return e===-1||r===-1?[]:this.hot.getData(e,0,r,this.hot.countCols()-1)}showPageSizeSection(){Be(Wr,this).setPageSizeSectionVisibility(!0),this.hot.runHooks("afterPageSizeVisibilityChange",!0)}hidePageSizeSection(){Be(Wr,this).setPageSizeSectionVisibility(!1),this.hot.runHooks("afterPageSizeVisibilityChange",!1)}showPageCounterSection(){Be(Wr,this).setCounterSectionVisibility(!0),this.hot.runHooks("afterPageCounterVisibilityChange",!0)}hidePageCounterSection(){Be(Wr,this).setCounterSectionVisibility(!1),this.hot.runHooks("afterPageCounterVisibilityChange",!1)}showPageNavigationSection(){Be(Wr,this).setNavigationSectionVisibility(!0),this.hot.runHooks("afterPageNavigationVisibilityChange",!0)}hidePageNavigationSection(){Be(Wr,this).setNavigationSectionVisibility(!1),this.hot.runHooks("afterPageNavigationVisibilityChange",!1)}destroy(){var e;Gn(lv,this,null),Gn(ea,this,null),(e=Be(Wr,this))===null||e===void 0||e.destroy(),Gn(Wr,this,null),super.destroy()}}function BW(){this.getSetting("showPageSize")?this.showPageSizeSection():this.hidePageSizeSection(),this.getSetting("showCounter")?this.showPageCounterSection():this.hidePageCounterSection(),this.getSetting("showNavigation")?this.showPageNavigationSection():this.hidePageNavigationSection()}function Vh(){Gn(p_,this,!0),Be(lv,this).clear();const t=this.hot.rowIndexMapper.getRenderableIndexes(),e=t.length,{stylesHandler:r}=this.hot;Be(ea,this).calculate({pageSize:Be(Zo,this),totalItems:e,viewportSizeProvider:()=>{const{view:s}=this.hot;if(s.isVerticallyScrollableByWindow()){const a=getComputedStyle(this.hot.rootDocument.body),l=Number.parseInt(a.marginTop,10)+Number.parseInt(a.marginBottom,10),c=this.hot.hasColHeaders()?s._wt.wtTable.getColumnHeaderHeight():0,d=Be(Wr,this).getHeight();return s.getWorkspaceHeight()-d-c-l}const o=s.hasHorizontalScroll()?tn():0;return s.getViewportHeight()-o},itemsSizeProvider:()=>this.hot.rowIndexMapper.getRenderableIndexes().map(o=>{var a;const l=this.hot.toVisualRow(o);return(a=this.hot.getRowHeight(l))!==null&&a!==void 0?a:r.getDefaultRowHeight(l)})});const n=Be(ea,this).getTotalPages();if(Gn(Ei,this,ft(Be(Ei,this),1,n)),t.length>0){const{startIndex:s,pageSize:o}=Be(ea,this).getState(Be(Ei,this));t.splice(s,o)}t.length>0?this.hot.batchExecution(()=>{t.forEach(s=>Be(lv,this).setValueAtIndex(s,!0))},!0):this.hot.rowIndexMapper.updateCache(!0),Gn(p_,this,!1);const i=this.getPaginationData();Be(Wr,this).updateState({...i,totalRenderedRows:e})}function Q6e(){if(!this.hot.view)return!0;const{view:t}=this.hot;if(t.isVerticallyScrollableByWindow())return!1;if(t.hasHorizontalScroll()||t.getTableHeight()<t.getWorkspaceHeight())return!0;const{lastVisibleRowIndex:e}=this.getPaginationData();return t.getLastFullyVisibleRow()!==e}function J6e(){this.hot.getFocusScopeManager().registerScope(Fh,Be(Wr,this).getContainer(),{shortcutsContextName:q6e,runOnlyIf:()=>this.getSetting("showPageSize")||this.getSetting("showNavigation"),onActivate:t=>{const e=Be(Wr,this).getFocusableElements();e.length>0&&(t==="tab_from_above"?e.at(0).focus():t==="tab_from_below"&&e.at(-1).focus())}})}function Z6e(){this.hot.getFocusScopeManager().unregisterScope(Fh)}function zW(t,e){const{firstVisibleRowIndex:r,lastVisibleRowIndex:n}=this.getPaginationData();(Be(Ei,this)>1||t.row>=0)&&(t.row=r),e.row=n}function eVe(t){if(this.hot.selection.isSelectedByColumnHeader()){const{lastVisibleRowIndex:e}=this.getPaginationData();t.row=e}}function tVe(){if(!this.hot.getSettings().navigableHeaders)return;const t=this.hot.getSelectedRangeLast();if(!t.isSingle()){const{highlight:e}=t;e.row=ft(e.row,t.getTopStartCorner().row,t.getBottomEndCorner().row)}}function rVe(t,e){const{firstVisibleRowIndex:r,lastVisibleRowIndex:n}=this.getPaginationData();if(r===-1||n===-1)return!1;e.forEach(i=>{let{startRow:s}=i;if(t.length===0)return;const o=Math.min(t.length-(n-s+1),t.length);t.splice(0,o)})}function nVe(){if(Be(Zo,this)!=="auto"||Be(CC,this)){Gn(CC,this,!1);return}Zt(ar,this,Vh).call(this),Gn(CC,this,!0),this.hot.view.adjustElementsSize(),this.hot.render()}function iVe(){const{view:t}=this.hot,e=t.isHorizontallyScrollableByWindow()?t.getTotalTableWidth():t.getWorkspaceWidth();Be(Wr,this).updateWidth(e).refreshBorderState()}function sVe(t){return this.getSetting("uiContainer")||!(typeof t=="number"||typeof t=="string"&&/^\d+$/.test(t)||typeof t=="string"&&t.endsWith("px"))?t:`calc(${typeof t=="string"&&t.endsWith("px")?t:`${t}px`} - ${Be(Wr,this).getHeight()}px)`}function oVe(){Be(Zo,this)!=="auto"&&Zt(ar,this,Vh).call(this)}function aVe(){Be(Wr,this).refreshBorderState()}function lVe(){Zt(ar,this,Vh).call(this)}function cVe(t){Be(Wr,this).updateTheme(t)}function iN(t,e,r){return(e=uVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uVe(t){var e=dVe(t,"string");return typeof e=="symbol"?e:e+""}function dVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hVe{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;iN(this,"rootWindow",void 0),iN(this,"prefix",void 0),iN(this,"savedKeys",[]),this.rootWindow=r,this.prefix=e,this.loadSavedKeys()}saveValue(e,r){this.rootWindow.localStorage.setItem(`${this.prefix}_${e}`,JSON.stringify(r)),this.savedKeys.indexOf(e)===-1&&(this.savedKeys.push(e),this.saveSavedKeys())}loadValue(e,r){const n=typeof e>"u"?r:e,i=this.rootWindow.localStorage.getItem(`${this.prefix}_${n}`);return i===null?void 0:JSON.parse(i)}reset(e){this.rootWindow.localStorage.removeItem(`${this.prefix}_${e}`)}resetAll(){B(this.savedKeys,(e,r)=>{this.rootWindow.localStorage.removeItem(`${this.prefix}_${this.savedKeys[r]}`)}),this.clearSavedKeys()}loadSavedKeys(){const e=this.rootWindow.localStorage.getItem(`${this.prefix}__persistentStateKeys`),r=typeof e=="string"?JSON.parse(e):void 0;this.savedKeys=r||[]}saveSavedKeys(){this.rootWindow.localStorage.setItem(`${this.prefix}__persistentStateKeys`,JSON.stringify(this.savedKeys))}clearSavedKeys(){this.savedKeys.length=0,this.saveSavedKeys()}}function fVe(t,e,r){return(e=gVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gVe(t){var e=mVe(t,"string");return typeof e=="symbol"?e:e+""}function mVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}_e.getSingleton().register("persistentStateSave");_e.getSingleton().register("persistentStateLoad");_e.getSingleton().register("persistentStateReset");const UW="persistentState",pVe=0,YW=new WeakSet;class yVe extends xt{constructor(){super(...arguments),fVe(this,"storage",void 0)}static get PLUGIN_KEY(){return UW}static get PLUGIN_PRIORITY(){return pVe}isEnabled(){return!!this.hot.getSettings()[UW]}enablePlugin(){this.enabled||(YW.has(this.hot)||(YW.add(this.hot),hY("The PersistentState plugin is deprecated and will be removed in version 17.0. Please update your settings to ensure compatibility with future versions.")),this.storage||(this.storage=new hVe(this.hot.rootContainer.id||this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",(e,r)=>this.saveValue(e,r)),this.addHook("persistentStateLoad",(e,r)=>this.loadValue(e,r)),this.addHook("persistentStateReset",()=>this.resetValue()),super.enablePlugin())}disablePlugin(){this.storage=void 0,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}loadValue(e,r){r.value=this.storage.loadValue(e)}saveValue(e,r){this.storage.saveValue(e,r)}resetValue(e){typeof e>"u"?this.storage.resetAll():this.storage.reset(e)}destroy(){super.destroy()}}function vVe(t,e){wVe(t,e),e.add(t)}function wVe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sN(t,e,r){return(e=bVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bVe(t){var e=SVe(t,"string");return typeof e=="symbol"?e:e+""}function SVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GW(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const oN="search",xVe=190,CVe="htSearchResult",_Ve=function(t,e,r,n,i){t.getCellMeta(e,r).isSearchResult=i},RVe=function(t,e,r){return cr(t)||t===null||!t.toLocaleLowerCase||t.length===0||cr(e)||e===null?!1:e.toString().toLocaleLowerCase(r.locale).indexOf(t.toLocaleLowerCase(r.locale))!==-1};var aN=new WeakSet;class EVe extends xt{constructor(){super(...arguments),vVe(this,aN),sN(this,"callback",_Ve),sN(this,"queryMethod",RVe),sN(this,"searchResultClass",CVe)}static get PLUGIN_KEY(){return oN}static get PLUGIN_PRIORITY(){return xVe}isEnabled(){return this.hot.getSettings()[oN]}enablePlugin(){var e=this;if(this.enabled)return;const r=this.hot.getSettings()[oN];this.updatePluginSettings(r),this.addHook("beforeRenderer",function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return GW(aN,e,KW).call(e,...i)}),super.enablePlugin()}disablePlugin(){var e=this;const r=function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return GW(aN,e,KW).call(e,...i)};this.hot.addHook("beforeRenderer",r),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("beforeRenderer",r)}),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}query(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getCallback(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getQueryMethod();const i=this.hot.countRows(),s=this.hot.countCols(),o=[],a=this.hot;return Ie(0,i-1,l=>{Ie(0,s-1,c=>{const d=this.hot.getDataAtCell(l,c),h=this.hot.getCellMeta(l,c),f=h.search.callback||r,m=(h.search.queryMethod||n)(e,d,h);if(m){const p={row:l,col:c,data:d};o.push(p)}f&&f(a,l,c,d,m)})}),o}getCallback(){return this.callback}setCallback(e){this.callback=e}getQueryMethod(){return this.queryMethod}setQueryMethod(e){this.queryMethod=e}getSearchResultClass(){return this.searchResultClass}setSearchResultClass(e){this.searchResultClass=e}updatePluginSettings(e){Le(e)&&(e.searchResultClass&&this.setSearchResultClass(e.searchResultClass),e.queryMethod&&this.setQueryMethod(e.queryMethod),e.callback&&this.setCallback(e.callback))}destroy(){super.destroy()}}function KW(t,e,r,n,i,s){const o=s.className||[];let a=[];typeof o=="string"?a=o.split(" "):a.push(...o),this.isEnabled()&&s.isSearchResult?a.includes(this.searchResultClass)||a.push(`${this.searchResultClass}`):a.includes(this.searchResultClass)&&a.splice(a.indexOf(this.searchResultClass),1),s.className=a.join(" ")}function mx(t,e,r){return(e=TVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TVe(t){var e=kVe(t,"string");return typeof e=="symbol"?e:e+""}function kVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class eX{constructor(e){mx(this,"viewportWidth",void 0),mx(this,"overwriteColumnWidthFn",void 0),mx(this,"baseWidths",new Map),mx(this,"stretchedWidths",new Map),this.overwriteColumnWidthFn=e}prepare(e){let{viewportWidth:r}=e;this.viewportWidth=r,this.baseWidths.clear(),this.stretchedWidths.clear()}setColumnBaseWidth(e,r){this.baseWidths.set(e,r)}calculate(){}getWidths(){return Array.from(this.stretchedWidths)}}class PVe extends eX{calculate(){const e=Array.from(this.baseWidths).reduce((h,f)=>{let[,g]=f;return h+g},0);if(this.viewportWidth-e<0){this.stretchedWidths.clear();return}const n=this.viewportWidth/e,i=[],s=[];let o=this.viewportWidth,a=0;if(this.baseWidths.forEach((h,f)=>{const g=Math.round(h*n),m=this.overwriteColumnWidthFn(g,f);g===m&&g>=ap?(i.push([f,m]),a+=m):g!==m&&(i.push([f,m]),s.push(f),o-=m)}),o<=ap){this.stretchedWidths.clear();return}const l=o/a;let c=-1,d=0;i.forEach((h,f)=>{let[g,m]=h,p=m;s.includes(g)||(p=Math.round(m*l)),this.stretchedWidths.set(g,p),c=g,f<i.length-1&&(d+=p)}),this.stretchedWidths.size>1&&this.stretchedWidths.set(c,Math.round(this.viewportWidth-d))}}function qW(t,e,r){NVe(t,e),e.set(t,r)}function NVe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function lN(t,e){return t.get(tX(t,e))}function px(t,e,r){return t.set(tX(t,e),r),r}function tX(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var yx=new WeakMap,oy=new WeakMap;class MVe extends eX{constructor(){super(...arguments),qW(this,yx,0),qW(this,oy,-1)}prepare(e){super.prepare(e),px(yx,this,0),px(oy,this,-1)}setColumnBaseWidth(e,r){super.setColumnBaseWidth(e,r),px(oy,this,e),px(yx,this,r)}calculate(){if(lN(oy,this)===-1)return;const e=Array.from(this.baseWidths).reduce((n,i)=>{let[,s]=i;return n+s},0),r=Math.max(this.viewportWidth-e+lN(yx,this),0);this.stretchedWidths.set(lN(oy,this),r)}}function IVe(t,e){rX(t,e),e.add(t)}function vx(t,e,r){rX(t,e),e.set(t,r)}function rX(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vr(t,e){return t.get(vm(t,e))}function cN(t,e,r){return t.set(vm(t,e),r),r}function vm(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const AVe="stretchColumns";var Dn=new WeakMap,Ag=new WeakMap,uN=new WeakMap,wx=new WeakMap,ay=new WeakSet;class OVe{constructor(e){IVe(this,ay),vx(this,Dn,void 0),vx(this,Ag,void 0),vx(this,uN,new Map([["all",new PVe(vm(ay,this,XW).bind(this))],["last",new MVe(vm(ay,this,XW).bind(this))]])),vx(this,wx,"none"),cN(Dn,this,e),cN(Ag,this,vr(Dn,this).columnIndexMapper.createAndRegisterIndexMap(AVe,"physicalIndexToValue"))}useStrategy(e){cN(wx,this,vr(uN,this).has(e)?e:"none")}refreshStretching(){if(vr(wx,this)==="none"){vr(Ag,this).clear();return}vr(Dn,this).batchExecution(()=>{vr(Ag,this).clear();const e=vr(uN,this).get(vr(wx,this));let n=vr(Dn,this).view.getViewportWidth();vm(ay,this,HVe).call(this)&&(n-=tn(vr(Dn,this).rootDocument)),e.prepare({viewportWidth:n});for(let i=0;i<vr(Dn,this).countCols();i++)vr(Dn,this).columnIndexMapper.isHidden(vr(Dn,this).toPhysicalColumn(i))||e.setColumnBaseWidth(i,vm(ay,this,jVe).call(this,i));e.calculate(),e.getWidths().forEach(i=>{let[s,o]=i;vr(Ag,this).setValueAtIndex(vr(Dn,this).toPhysicalColumn(s),o)})},!0)}getStretchedWidth(e){return vr(Ag,this).getValueAtIndex(vr(Dn,this).toPhysicalColumn(e))}}function HVe(){const{view:t,stylesHandler:e}=vr(Dn,this);if(t.isVerticallyScrollableByWindow())return!1;const r=t.getViewportHeight(),n=vr(Dn,this).countRows(),i=e.getDefaultRowHeight(),s=e.isClassicTheme(),o=d=>s&&d===0?1:0;let a=0,l=!1;for(let d=0;d<n;d++){var c;if(!vr(Dn,this).rowIndexMapper.isHidden(vr(Dn,this).toPhysicalRow(d))&&(a+=((c=vr(Dn,this).getRowHeight(d))!==null&&c!==void 0?c:i)+o(d),a>r)){l=!0;break}}return l}function jVe(t){var e;return(e=vr(Dn,this).getColWidth(t,"StretchColumns"))!==null&&e!==void 0?e:ap}function XW(t,e){return vr(Dn,this).runHooks("beforeStretchingColumnWidth",t,e)}function DVe(t,e){nX(t,e),e.add(t)}function dN(t,e,r){nX(t,e),e.set(t,r)}function nX(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hN(t,e,r){return t.set(y_(t,e),r),r}function Zl(t,e){return t.get(y_(t,e))}function y_(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const $Ve="stretchColumns",LVe=155;var Kg=new WeakMap,bx=new WeakMap,ly=new WeakMap,fN=new WeakSet;class FVe extends xt{constructor(){super(...arguments),DVe(this,fN),dN(this,Kg,new OVe(this.hot)),dN(this,bx,null),dN(this,ly,new ResizeObserver(e=>{requestAnimationFrame(()=>{var r;(r=this.hot)!==null&&r!==void 0&&r.view.isHorizontallyScrollableByWindow()&&e.forEach(n=>{let{contentRect:i}=n;Zl(bx,this)!==null&&Zl(bx,this)!==i.width&&(this.hot.view.adjustElementsSize(),this.hot.refreshDimensions()),hN(bx,this,i.width)})})}))}static get PLUGIN_KEY(){return $Ve}static get PLUGIN_PRIORITY(){return LVe}static get SETTING_KEYS(){return!0}isEnabled(){return["all","last"].includes(this.hot.getSettings().stretchH)}enablePlugin(){var e=this;this.enabled||(Zl(Kg,this).useStrategy(this.hot.getSettings().stretchH),Zl(ly,this).observe(this.hot.rootElement),this.addHook("beforeRender",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return y_(fN,e,WVe).call(e,...n)}),this.addHook("modifyColWidth",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return y_(fN,e,VVe).call(e,...n)},10),super.enablePlugin())}updatePlugin(){Zl(Kg,this).useStrategy(this.hot.getSettings().stretchH),super.updatePlugin()}disablePlugin(){super.disablePlugin(),Zl(ly,this).unobserve(this.hot.rootElement)}getColumnWidth(e){return Zl(Kg,this).getStretchedWidth(e)}destroy(){Zl(ly,this).disconnect(),hN(ly,this,null),hN(Kg,this,null),super.destroy()}}function VVe(t,e,r){if(r===this.pluginName)return;const n=this.getColumnWidth(e);return typeof n=="number"?n:t}function WVe(t){t&&Zl(Kg,this).refreshStretching()}function BVe(t,e){zVe(t,e),e.add(t)}function zVe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Sx(t,e,r){return(e=UVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UVe(t){var e=YVe(t,"string");return typeof e=="symbol"?e:e+""}function YVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gN(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const GVe="touchScroll",KVe=200;var xx=new WeakSet;class qVe extends xt{constructor(){super(...arguments),BVe(this,xx),Sx(this,"scrollbars",[]),Sx(this,"clones",[]),Sx(this,"lockedCollection",!1),Sx(this,"freezeOverlays",!1)}static get PLUGIN_KEY(){return GVe}static get PLUGIN_PRIORITY(){return KVe}static get SETTING_KEYS(){return!0}isEnabled(){return K9()}enablePlugin(){this.enabled||(this.addHook("afterViewRender",()=>gN(xx,this,XVe).call(this)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.lockedCollection=!1,super.updatePlugin()}disablePlugin(){super.disablePlugin()}registerEvents(){this.addHook("beforeTouchScroll",()=>gN(xx,this,QVe).call(this)),this.addHook("afterMomentumScroll",()=>gN(xx,this,JVe).call(this))}}function XVe(){if(this.lockedCollection)return;const{topOverlay:t,bottomOverlay:e,inlineStartOverlay:r,topInlineStartCornerOverlay:n,bottomInlineStartCornerOverlay:i}=this.hot.view._wt.wtOverlays;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(t),e.clone&&this.scrollbars.push(e),this.scrollbars.push(r),n&&this.scrollbars.push(n),i&&i.clone&&this.scrollbars.push(i),this.clones=[],t.needFullRender&&this.clones.push(t.clone.wtTable.holder.parentNode),e.needFullRender&&this.clones.push(e.clone.wtTable.holder.parentNode),r.needFullRender&&this.clones.push(r.clone.wtTable.holder.parentNode),n&&this.clones.push(n.clone.wtTable.holder.parentNode),i&&i.clone&&this.clones.push(i.clone.wtTable.holder.parentNode)}function QVe(){this.freezeOverlays=!0,B(this.clones,t=>{oe(t,"hide-tween")})}function JVe(){this.freezeOverlays=!1,B(this.clones,t=>{Re(t,"hide-tween"),oe(t,"show-tween")}),this.hot._registerTimeout(()=>{B(this.clones,t=>{Re(t,"show-tween")})},400),B(this.scrollbars,t=>{t.refresh(),t.resetFixedPosition()}),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}function ZVe(t,e){eWe(t,e),e.add(t)}function eWe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tWe(t,e,r){return(e=rWe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rWe(t){var e=nWe(t,"string");return typeof e=="symbol"?e:e+""}function nWe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iWe(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const _C="trimRows",sWe=330;var QW=new WeakSet;class oWe extends xt{constructor(){super(...arguments),ZVe(this,QW),tWe(this,"trimmedRowsMap",null)}static get PLUGIN_KEY(){return _C}static get PLUGIN_PRIORITY(){return sWe}isEnabled(){return!!this.hot.getSettings()[_C]}enablePlugin(){this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new $w),this.trimmedRowsMap.addLocalHook("init",()=>iWe(QW,this,aWe).call(this)),super.enablePlugin())}updatePlugin(){const e=this.hot.getSettings()[_C];Array.isArray(e)&&this.hot.batchExecution(()=>{this.trimmedRowsMap.clear(),B(e,r=>{this.trimmedRowsMap.setValueAtIndex(r,!0)})},!0),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("trimRows"),super.disablePlugin()}getTrimmedRows(){return this.trimmedRowsMap.getTrimmedIndexes()}trimRows(e){const r=this.getTrimmedRows(),n=this.isValidConfig(e);let i=r;n&&(i=Array.from(new Set(r.concat(e)))),this.hot.runHooks("beforeTrimRow",r,i,n)!==!1&&(n&&this.hot.batchExecution(()=>{B(e,o=>{this.trimmedRowsMap.setValueAtIndex(o,!0)})},!0),this.hot.runHooks("afterTrimRow",r,i,n,n&&i.length>r.length))}trimRow(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.trimRows(r)}untrimRows(e){const r=this.getTrimmedRows(),n=this.isValidConfig(e);let i=r;const s=this.trimmedRowsMap.getValues().slice(),o=e.length>0;n&&o&&(B(e,l=>{s[l]=!1}),i=gs(s,(l,c,d)=>(c&&l.push(d),l),[])),this.hot.runHooks("beforeUntrimRow",r,i,n&&o)!==!1&&(n&&o&&this.trimmedRowsMap.setValues(s),this.hot.runHooks("afterUntrimRow",r,i,n&&o,n&&i.length<r.length))}untrimRow(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.untrimRows(r)}isTrimmed(e){return this.trimmedRowsMap.getValueAtIndex(e)||!1}untrimAll(){this.untrimRows(this.getTrimmedRows())}isValidConfig(e){const r=this.hot.countSourceRows();return e.every(n=>Number.isInteger(n)&&n>=0&&n<r)}destroy(){super.destroy()}}function aWe(){const t=this.hot.getSettings()[_C];Array.isArray(t)&&this.hot.batchExecution(()=>{B(t,e=>{this.trimmedRowsMap.setValueAtIndex(e,!0)})},!0)}function lWe(t,e,r){return(e=cWe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cWe(t){var e=uWe(t,"string");return typeof e=="symbol"?e:e+""}function uWe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Mo{constructor(e){lWe(this,"actionType",""),this.actionType=e}undo(){throw new Error("Not implemented")}redo(){throw new Error("Not implemented")}}function Cx(t,e,r){return(e=dWe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dWe(t){var e=hWe(t,"string");return typeof e=="symbol"?e:e+""}function hWe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class HD extends Mo{constructor(e){let{stateBefore:r,range:n,type:i,alignment:s}=e;super("cell_alignment"),Cx(this,"stateBefore",void 0),Cx(this,"range",void 0),Cx(this,"type",void 0),Cx(this,"alignment",void 0),this.stateBefore=r,this.range=n,this.type=i,this.alignment=s}static startRegisteringEvents(e,r){e.addHook("beforeCellAlignment",(n,i,s,o)=>{r.done(()=>new HD({stateBefore:n,range:i,type:s,alignment:o}))})}undo(e,r){B(this.range,n=>{n.forAll((i,s)=>{i>=0&&s>=0&&e.setCellMeta(i,s,"className",this.stateBefore[i][s]||" htLeft")})}),e.addHookOnce("afterViewRender",r),e.render()}redo(e,r){bu(this.range,this.type,this.alignment,(n,i)=>e.getCellMeta(n,i),(n,i,s,o)=>e.setCellMeta(n,i,s,o)),e.addHookOnce("afterViewRender",r),e.render()}}function JW(t,e,r){return(e=fWe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fWe(t){var e=gWe(t,"string");return typeof e=="symbol"?e:e+""}function gWe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jD extends Mo{constructor(e){let{columns:r,finalIndex:n}=e;super("col_move"),JW(this,"columns",void 0),JW(this,"finalColumnIndex",void 0),this.columns=r.slice(),this.finalColumnIndex=n}static startRegisteringEvents(e,r){e.addHook("beforeColumnMove",(n,i)=>{n!==!1&&r.done(()=>new jD({columns:n,finalIndex:i}))})}undo(e,r){const n=e.getPlugin("manualColumnMove");e.addHookOnce("afterViewRender",r),ND(this.columns,this.finalColumnIndex,e.columnIndexMapper.getNumberOfIndexes()).reverse().forEach(s=>{let{from:o,to:a}=s;o<a&&(a-=1),n.moveColumn(a,o)}),e.render(),e.deselectCell(),e.selectColumns(this.columns[0],this.columns[0]+this.columns.length-1)}redo(e,r){const n=e.getPlugin("manualColumnMove");e.addHookOnce("afterViewRender",r),n.moveColumns(this.columns.slice(),this.finalColumnIndex),e.render(),e.deselectCell(),e.selectColumns(this.finalColumnIndex,this.finalColumnIndex+this.columns.length-1)}}function ZW(t,e,r){return(e=mWe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mWe(t){var e=pWe(t,"string");return typeof e=="symbol"?e:e+""}function pWe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class DD extends Mo{constructor(e){let{currentSortState:r,newSortState:n}=e;super("col_sort"),ZW(this,"previousSortState",void 0),ZW(this,"nextSortState",void 0),this.previousSortState=r,this.nextSortState=n}static startRegisteringEvents(e,r){e.addHook("beforeColumnSort",(n,i,s)=>{s&&r.done(()=>new DD({currentSortState:n,newSortState:i}))})}undo(e,r){const n=e.getPlugin("columnSorting"),i=e.getPlugin("multiColumnSorting"),s=i.isEnabled()?i:n;this.previousSortState.length?s.sort(this.previousSortState):s.clearSort(),r()}redo(e,r){const n=e.getPlugin("columnSorting"),i=e.getPlugin("multiColumnSorting");(i.isEnabled()?i:n).sort(this.nextSortState),r()}}function eB(t,e,r){return(e=yWe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yWe(t){var e=vWe(t,"string");return typeof e=="symbol"?e:e+""}function vWe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $D extends Mo{constructor(e){let{index:r,amount:n}=e;super("insert_col"),eB(this,"index",void 0),eB(this,"amount",void 0),this.index=r,this.amount=n}static startRegisteringEvents(e,r){e.addHook("afterCreateCol",(n,i,s)=>{r.done(()=>new $D({index:n,amount:i}),s)})}undo(e,r){e.addHookOnce("afterRemoveCol",r),e.alter("remove_col",this.index,this.amount,"UndoRedo.undo")}redo(e,r){e.addHookOnce("afterCreateCol",r),e.alter("insert_col_start",this.index,this.amount,"UndoRedo.redo")}}function tB(t,e,r){return(e=wWe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wWe(t){var e=bWe(t,"string");return typeof e=="symbol"?e:e+""}function bWe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class LD extends Mo{constructor(e){let{index:r,amount:n}=e;super("insert_row"),tB(this,"index",void 0),tB(this,"amount",void 0),this.index=r,this.amount=n}static startRegisteringEvents(e,r){e.addHook("afterCreateRow",(n,i,s)=>{r.done(()=>new LD({index:n,amount:i}),s)})}undo(e,r){const n=e.countRows(),i=e.getSettings().minSpareRows;this.index>=n&&this.index-i<n&&(this.index-=i),e.addHookOnce("afterRemoveRow",r),e.alter("remove_row",this.index,this.amount,"UndoRedo.undo")}redo(e,r){e.addHookOnce("afterCreateRow",r),e.alter("insert_row_above",this.index,this.amount,"UndoRedo.redo")}}function _x(t,e,r){return(e=SWe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SWe(t){var e=xWe(t,"string");return typeof e=="symbol"?e:e+""}function xWe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class FD extends Mo{constructor(e){let{changes:r,selected:n,countCols:i,countRows:s}=e;super("change"),_x(this,"changes",void 0),_x(this,"selected",void 0),_x(this,"countCols",void 0),_x(this,"countRows",void 0),this.changes=r,this.selected=n,this.countCols=i,this.countRows=s}static startRegisteringEvents(e,r){e.addHook("beforeChange",function(n,i){const s=n&&n.length;if(!s||!n.find(l=>{const[,,c,d]=l;return c!==d}))return;const a=()=>{const l=n.reduce((d,h)=>(d.push([...h]),d),[]);l.forEach(d=>{d[1]=e.propToCol(d[1])});const c=s>1?this.getSelected():[[l[0][0],l[0][1]]];return new FD({changes:l,selected:c,countCols:e.countCols(),countRows:e.countRows()})};r.done(a,i)})}undo(e,r){const n=Di(this.changes);for(let i=0,s=n.length;i<s;i++)n[i].splice(3,1);e.addHookOnce("afterChange",()=>{const i=e.countRows()-this.countRows;i>0&&e.alter("remove_row",null,i,"UndoRedo.undo");const s=e.countCols()-this.countCols;s>0&&e.isColumnModificationAllowed()&&e.alter("remove_col",null,s,"UndoRedo.undo"),e.scrollToFocusedCell(),e.selectCells(this.selected,!1,!1),r()}),e.setDataAtCell(n,null,null,"UndoRedo.undo")}redo(e,r){const n=Di(this.changes);for(let i=0,s=n.length;i<s;i++)n[i].splice(2,1);e.addHookOnce("afterChange",()=>{e.selectCells(this.selected,!1,!1),r()}),e.setDataAtCell(n,null,null,"UndoRedo.redo")}}function rB(t,e,r){return(e=CWe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CWe(t){var e=_We(t,"string");return typeof e=="symbol"?e:e+""}function _We(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class VD extends Mo{constructor(e){let{conditionsStack:r,previousConditionsStack:n}=e;super("filter"),rB(this,"conditionsStack",void 0),rB(this,"previousConditionsStack",void 0),this.conditionsStack=r,this.previousConditionsStack=n}static startRegisteringEvents(e,r){e.addHook("beforeFilter",(n,i)=>{r.done(()=>new VD({conditionsStack:n,previousConditionsStack:i}))})}undo(e,r){const n=e.getPlugin("filters");e.addHookOnce("afterViewRender",r),n.importConditions(this.previousConditionsStack),n.filter()}redo(e,r){const n=e.getPlugin("filters");e.addHookOnce("afterViewRender",r),n.importConditions(this.conditionsStack),n.filter()}}function RWe(t,e,r){return(e=EWe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EWe(t){var e=TWe(t,"string");return typeof e=="symbol"?e:e+""}function TWe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class WD extends Mo{constructor(e){let{data:r,cellRange:n}=e;super("merge_cells"),RWe(this,"cellRange",void 0),this.cellRange=n,this.data=r}static startRegisteringEvents(e,r){e.addHook("beforeMergeCells",(n,i)=>{if(i)return;const s=n.getTopStartCorner(),o=n.getBottomEndCorner(),a=e.getData(s.row,s.col,o.row,o.col);r.done(()=>new WD({data:a,cellRange:n}))})}undo(e,r){const n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",r),n.unmergeRange(this.cellRange,!0);const i=this.cellRange.getTopStartCorner();e.populateFromArray(i.row,i.col,this.data,void 0,void 0,"MergeCells")}redo(e,r){const n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",r),n.mergeRange(this.cellRange)}}function iX(t,e,r,n,i){const s=["visualRow","visualCol","row","col","prop"],o=s.length,a=[];return Ie(n,i,l=>{Ie(e,r,c=>{const d=t.getCellMeta(c,l);if(Object.keys(d).length!==o){const h=Object.fromEntries(Object.entries(d).filter(f=>{let[g]=f;return s.includes(g)===!1}));a.push([d.visualRow,d.visualCol,h])}})}),a}function ql(t,e,r){return(e=kWe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kWe(t){var e=PWe(t,"string");return typeof e=="symbol"?e:e+""}function PWe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class BD extends Mo{constructor(e){let{index:r,indexes:n,data:i,amount:s,headers:o,columnPositions:a,rowPositions:l,fixedColumnsStart:c,removedCellMetas:d}=e;super("remove_col"),ql(this,"index",void 0),ql(this,"indexes",void 0),ql(this,"data",void 0),ql(this,"amount",void 0),ql(this,"headers",void 0),ql(this,"columnPositions",void 0),ql(this,"rowPositions",void 0),ql(this,"fixedColumnsStart",void 0),ql(this,"removedCellMetas",void 0),this.index=r,this.indexes=n,this.data=i,this.amount=s,this.headers=o,this.columnPositions=a.slice(0),this.rowPositions=l.slice(0),this.fixedColumnsStart=c,this.removedCellMetas=d}static startRegisteringEvents(e,r){e.addHook("beforeRemoveCol",(n,i,s,o)=>{const a=()=>{const l=e.getSourceDataArray(),c=(e.countCols()+n)%e.countCols(),d=c+i-1,h=[],f=[],g=[];return Ie(l.length-1,m=>{const p=[],y=l[m];Ie(c,d,S=>{p.push(y[e.toPhysicalColumn(S)])}),h.push(p)}),Ie(i-1,m=>{g.push(e.toPhysicalColumn(c+m))}),Array.isArray(e.getSettings().colHeaders)&&Ie(i-1,m=>{f.push(e.getSettings().colHeaders[e.toPhysicalColumn(c+m)]||null)}),new BD({index:c,indexes:g,data:h,amount:i,headers:f,columnPositions:e.columnIndexMapper.getIndexesSequence(),rowPositions:e.rowIndexMapper.getIndexesSequence(),fixedColumnsStart:e.getSettings().fixedColumnsStart,removedCellMetas:iX(e,0,e.countRows(),c,d)})};r.done(a,o)})}undo(e,r){const n=e.getSettings();n.fixedColumnsStart=this.fixedColumnsStart;const i=this.indexes.slice(0).sort(),s=(d,h,f)=>f[this.indexes.indexOf(i[h])],o=this.data.length,a=[];for(let d=0;d<o;d++)a.push(Tt(this.data[d],s));const l=Tt(this.headers,s),c=[];e.columnIndexMapper.setIndexesSequence(this.columnPositions),e.alter("insert_col_start",e.toVisualColumn(this.indexes[0]),this.indexes.length,"UndoRedo.undo"),e.batchExecution(()=>{e.rowIndexMapper.setIndexesSequence(this.rowPositions),e.columnIndexMapper.setIndexesSequence(this.columnPositions)},!0),B(e.getSourceDataArray(),(d,h)=>{B(i,(f,g)=>{d[f]=a[h][g],c.push([h,f,d[f]])})}),typeof this.headers<"u"&&B(l,(d,h)=>{e.getSettings().colHeaders[i[h]]=d}),this.removedCellMetas.forEach(d=>{let[h,f,g]=d;e.setCellMetaObject(h,f,g)}),e.addHookOnce("afterViewRender",r),e.setSourceDataAtCell(c,null,null,"UndoRedo.undo")}redo(e,r){e.addHookOnce("afterRemoveCol",r),e.alter("remove_col",this.index,this.amount,"UndoRedo.redo")}}function Og(t,e,r){return(e=NWe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NWe(t){var e=MWe(t,"string");return typeof e=="symbol"?e:e+""}function MWe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zD extends Mo{constructor(e){let{index:r,data:n,fixedRowsBottom:i,fixedRowsTop:s,rowIndexesSequence:o,removedCellMetas:a}=e;super("remove_row"),Og(this,"index",void 0),Og(this,"data",void 0),Og(this,"fixedRowsBottom",void 0),Og(this,"fixedRowsTop",void 0),Og(this,"rowIndexesSequence",void 0),Og(this,"removedCellMetas",void 0),this.index=r,this.data=n,this.fixedRowsBottom=i,this.fixedRowsTop=s,this.rowIndexesSequence=o,this.removedCellMetas=a}static startRegisteringEvents(e,r){e.addHook("beforeRemoveRow",(n,i,s,o)=>{const a=()=>{const l=e.toPhysicalRow(n),c=l+i-1,d=Di(e.getSourceData(l,0,l+i-1,e.countSourceCols()-1));return new zD({index:l,data:d,fixedRowsBottom:e.getSettings().fixedRowsBottom,fixedRowsTop:e.getSettings().fixedRowsTop,rowIndexesSequence:e.rowIndexMapper.getIndexesSequence(),removedCellMetas:iX(e,l,c,0,e.countCols()-1)})};r.done(a,o)})}undo(e,r){const n=e.getSettings(),i=[];n.fixedRowsBottom=this.fixedRowsBottom,n.fixedRowsTop=this.fixedRowsTop,this.data.forEach((s,o)=>{Object.keys(s).forEach(a=>{const l=parseInt(a,10);i.push([this.index+o,isNaN(l)?a:l,s[a]])})}),e.rowIndexMapper.setIndexesSequence(this.rowIndexesSequence),e.alter("insert_row_above",e.toVisualRow(this.index),this.data.length,"UndoRedo.undo"),e.rowIndexMapper.setIndexesSequence(this.rowIndexesSequence),this.removedCellMetas.forEach(s=>{let[o,a,l]=s;e.setCellMetaObject(o,a,l)}),e.addHookOnce("afterViewRender",r),e.setSourceDataAtCell(i,null,null,"UndoRedo.undo")}redo(e,r){e.addHookOnce("afterRemoveRow",r),e.alter("remove_row",e.toVisualRow(this.index),this.data.length,"UndoRedo.redo")}}function nB(t,e,r){return(e=IWe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IWe(t){var e=AWe(t,"string");return typeof e=="symbol"?e:e+""}function AWe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class UD extends Mo{constructor(e){let{rows:r,finalIndex:n}=e;super("row_move"),nB(this,"rows",void 0),nB(this,"finalRowIndex",void 0),this.rows=r.slice(),this.finalRowIndex=n}static startRegisteringEvents(e,r){e.addHook("beforeRowMove",(n,i)=>{n!==!1&&r.done(()=>new UD({rows:n,finalIndex:i}))})}undo(e,r){const n=e.getPlugin("manualRowMove");e.addHookOnce("afterViewRender",r),ND(this.rows,this.finalRowIndex,e.rowIndexMapper.getNumberOfIndexes()).reverse().forEach(s=>{let{from:o,to:a}=s;o<a&&(a-=1),n.moveRow(a,o)}),e.render(),e.deselectCell(),e.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)}redo(e,r){const n=e.getPlugin("manualRowMove");e.addHookOnce("afterViewRender",r),n.moveRows(this.rows.slice(),this.finalRowIndex),e.render(),e.deselectCell(),e.selectRows(this.finalRowIndex,this.finalRowIndex+this.rows.length-1)}}function OWe(t,e,r){return(e=HWe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HWe(t){var e=jWe(t,"string");return typeof e=="symbol"?e:e+""}function jWe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class YD extends Mo{constructor(e){let{cellRange:r}=e;super("unmerge_cells"),OWe(this,"cellRange",void 0),this.cellRange=r}static startRegisteringEvents(e,r){e.addHook("afterUnmergeCells",(n,i)=>{i||r.done(()=>new YD({cellRange:n}))})}undo(e,r){const n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",r),n.mergeRange(this.cellRange,!0)}redo(e,r){const n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",r),n.unmergeRange(this.cellRange,!0),e.render()}}function DWe(t,e){[HD,jD,DD,$D,LD,FD,VD,WD,BD,zD,UD,YD].forEach(r=>r.startRegisteringEvents(t,e))}function $We(t,e){LWe(t,e),e.add(t)}function LWe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mN(t,e,r){return(e=FWe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FWe(t){var e=VWe(t,"string");return typeof e=="symbol"?e:e+""}function VWe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pN(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const iB="undoRedo",WWe="undoRedo",BWe=1e3;_e.getSingleton().register("beforeUndo");_e.getSingleton().register("afterUndo");_e.getSingleton().register("beforeRedo");_e.getSingleton().register("afterRedo");const sB=new Set;var Rx=new WeakSet;class zWe extends xt{static get PLUGIN_KEY(){return WWe}static get PLUGIN_PRIORITY(){return BWe}static get SETTING_KEYS(){return!0}constructor(e){super(e),$We(this,Rx),mN(this,"doneActions",[]),mN(this,"undoneActions",[]),mN(this,"ignoreNewActions",!1),DWe(e,this)}isEnabled(){return!!this.hot.getSettings().undo}enablePlugin(){var e=this;this.enabled||(this.addHook("afterChange",function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return pN(Rx,e,UWe).call(e,...n)}),this.registerShortcuts(),pN(Rx,this,YWe).call(this),super.enablePlugin())}disablePlugin(){super.disablePlugin(),this.clear(),this.unregisterShortcuts(),pN(Rx,this,GWe).call(this)}registerShortcuts(){const r=this.hot.getShortcutManager().getContext("grid"),i={runOnlyIf:s=>!s.altKey,group:iB};r.addShortcuts([{keys:[["Control/Meta","z"]],callback:()=>{this.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:()=>{this.redo()}}],i)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(iB)}done(e,r){if(this.ignoreNewActions||r==="UndoRedo.undo"||r==="UndoRedo.redo"||r==="auto")return;const i=this.doneActions.slice();if(this.hot.runHooks("beforeUndoStackChange",i,r)===!1)return;const o=e(),a=this.undoneActions.slice();this.doneActions.push(o),this.hot.runHooks("afterUndoStackChange",i,this.doneActions.slice()),this.hot.runHooks("beforeRedoStackChange",a),this.undoneActions.length=0,this.hot.runHooks("afterRedoStackChange",a,this.undoneActions.slice())}undo(){if(!this.isUndoAvailable())return;const e=this.doneActions.slice();this.hot.runHooks("beforeUndoStackChange",e);const r=this.doneActions.pop();this.hot.runHooks("afterUndoStackChange",e,this.doneActions.slice());const n=Di(r);if(this.hot.runHooks("beforeUndo",n)===!1)return;this.ignoreNewActions=!0;const s=this.undoneActions.slice();this.hot.runHooks("beforeRedoStackChange",s),r.undo(this.hot,()=>{this.ignoreNewActions=!1,this.undoneActions.push(r)}),this.hot.runHooks("afterRedoStackChange",s,this.undoneActions.slice()),this.hot.runHooks("afterUndo",n)}redo(){if(!this.isRedoAvailable())return;const e=this.undoneActions.slice();this.hot.runHooks("beforeRedoStackChange",e);const r=this.undoneActions.pop();this.hot.runHooks("afterRedoStackChange",e,this.undoneActions.slice());const n=Di(r);if(this.hot.runHooks("beforeRedo",n)===!1)return;this.ignoreNewActions=!0;const s=this.doneActions.slice();this.hot.runHooks("beforeUndoStackChange",s),r.redo(this.hot,()=>{this.ignoreNewActions=!1,this.doneActions.push(r)}),this.hot.runHooks("afterUndoStackChange",s,this.doneActions.slice()),this.hot.runHooks("afterRedo",n)}isUndoAvailable(){return this.doneActions.length>0}isRedoAvailable(){return this.undoneActions.length>0}clear(){this.doneActions.length=0,this.undoneActions.length=0}destroy(){this.clear(),this.doneActions=null,this.undoneActions=null,super.destroy()}}function UWe(t,e){e==="loadData"&&this.clear()}function YWe(){const t=e=>{sB.has(e)||(at(kt`The "${e}" method is deprecated and it will be removed\x20
          from the Core API in the future. Please use the method from the UndoRedo plugin\x20
          (e.g. \`hotInstance.getPlugin("undoRedo").${e}()\`).`),sB.add(e))};this.hot.undo=()=>{t("undo"),this.undo()},this.hot.redo=()=>{t("redo"),this.redo()},this.hot.isUndoAvailable=()=>(t("isUndoAvailable"),this.isUndoAvailable()),this.hot.isRedoAvailable=()=>(t("isRedoAvailable"),this.isRedoAvailable()),this.hot.clearUndo=()=>{t("clear"),this.clear()},this.hot.undoRedo=this}function GWe(){delete this.hot.undo,delete this.hot.redo,delete this.hot.isUndoAvailable,delete this.hot.isRedoAvailable,delete this.hot.clearUndo,delete this.hot.undoRedo}const Ln="ht-dialog";function KWe(){function t(){return`
      <div data-ref="contentElement" class="${Ln}__content"></div>
    `}let e=null;const r={};function n(){const s=sp`${t()}`;return Object.assign(r,s.refs),e=s.fragment,s}function i(){if(e===null)throw new Error("Compile the template first.");return[]}return{TEMPLATE_NAME:"base",dialogA11YOptions(){return{role:"dialog"}},compile:n,focusableElements:i}}function qWe(t){let{id:e="",title:r="",description:n="",buttons:i=[]}=t;function s(){return`
      <div tabindex="-1" data-ref="contentElement" class="${Ln}__content-wrapper-inner">
        <div class="${Ln}__content">
          <h2
            id="${e}-dialog-confirm-title"
            class="${Ln}__title">${Cc(r)}</h2>
          <p
            id="${e}-dialog-confirm-description"
            class="${Ln}__description">${Cc(n)}</p>
        </div>
        ${i.length>0?`
          <div data-ref="buttonsContainer" class="${Ln}__buttons">
            ${i.map(d=>`
              <button class="ht-button ht-button--${d.type}">${Cc(d.text)}</button>
            `).join("")}
          </div>
        `:""}
      </div>
    `}let o=null;const a={};function l(){const d=sp`${s()}`;return Object.assign(a,d.refs),o=d.fragment,d}function c(){if(o===null)throw new Error("Compile the template first.");const{contentElement:d,buttonsContainer:h}=a,f=[];return h?f.push(...Array.from(h.children)):f.push(d),f}return{TEMPLATE_NAME:"confirm",dialogA11YOptions(){return{role:"alertdialog",ariaLabelledby:`${e}-dialog-confirm-title`,ariaDescribedby:n?`${e}-dialog-confirm-description`:void 0}},compile:l,focusableElements:c}}const cy=new Map([["base",KWe],["confirm",qWe]]);function XWe(t,e){sX(t,e),e.add(t)}function Hg(t,e,r){sX(t,e),e.set(t,r)}function sX(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yr(t,e){return t.get(v_(t,e))}function Yo(t,e,r){return t.set(v_(t,e),r),r}function v_(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const QWe=`
<div data-ref="dialogElement" class="${Ln}">
  <div data-ref="dialogWrapperElement" class="${Ln}__content-wrapper">
</div>
`;var yN=new WeakMap,oi=new WeakMap,vN=new WeakMap,Ry=new WeakMap,Xa=new WeakMap,Ex=new WeakMap,wN=new WeakSet;class oX{constructor(e){let{rootElement:r,isRtl:n}=e;XWe(this,wN),Hg(this,yN,void 0),Hg(this,oi,void 0),Hg(this,vN,!1),Hg(this,Ry,!1),Hg(this,Xa,cy.get("base")),Hg(this,Ex,[]),Yo(yN,this,r),Yo(vN,this,n),this.install()}useTemplate(e){var r;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!cy.has(e)||e==="base"){const i=Array.from(cy.keys()).filter(s=>s!=="base").join(", ");throw new Error(kt`Invalid template: ${e}.\x20
        Valid templates are: ${i}.`)}Yo(Xa,this,cy.get(e)(n)),Yo(Ex,this,((r=n.buttons)!==null&&r!==void 0?r:[]).map(i=>i.callback))}useDefaultTemplate(){Yo(Xa,this,cy.get("base")()),Yo(Ex,this,[])}install(){var e;if((e=yr(oi,this))!==null&&e!==void 0&&e.dialogElement)return;const r=sp`${QWe}`;Yo(oi,this,r.refs);const{dialogElement:n}=yr(oi,this);Ee(n,[pwe(),["dir",yr(vN,this)?"rtl":"ltr"]]),n.addEventListener("transitionstart",()=>v_(wN,this,ZWe).call(this)),n.addEventListener("transitionend",()=>v_(wN,this,JWe).call(this)),yr(yN,this).after(r.fragment)}getContainer(){return yr(oi,this).dialogElement}getFocusableElements(){return yr(Xa,this).focusableElements()}updateDialog(e){let{isVisible:r,content:n,customClassName:i,background:s,contentBackground:o,animation:a,a11y:l}=e;const c=yr(Xa,this).compile(),{dialogElement:d,dialogWrapperElement:h}=yr(oi,this);h.innerHTML="",h.appendChild(c.fragment),Object.assign(yr(oi,this),c.refs);const{contentElement:f,buttonsContainer:g}=yr(oi,this);yr(Xa,this).TEMPLATE_NAME!=="base"&&Object.assign(l,yr(Xa,this).dialogA11YOptions());const m=i?` ${i}`:"",p=s?` ${Ln}--background-${s}`:"",y=a?` ${Ln}--animation`:"",S=r?` ${Ln}--show`:"";d.className=[Ln,`${Ln}--${yr(Xa,this).TEMPLATE_NAME}`,"handsontable",m,p,y,S].join(" "),Ee(d,[yr(Xa,this).TEMPLATE_NAME==="base"?ba(-1):void 0]),Ee(d,[l.role==="alertdialog"?twe():ewe()]),l.ariaLabel&&!l.ariaLabelledby?Ee(d,[l.ariaLabel?Hs(l.ariaLabel):void 0]):_c(d,"aria-label"),l.ariaLabelledby?Ee(d,[swe(l.ariaLabelledby)]):_c(d,"aria-labelledby"),l.ariaDescribedby?Ee(d,[owe(l.ariaDescribedby)]):_c(d,"aria-describedby");const w=o?` ${Ln}__content--background`:"";return oe(f,`${Ln}__content${w}`),yr(Xa,this).TEMPLATE_NAME==="base"?(f.innerHTML="",typeof n=="string"?$f(f,n):(n instanceof HTMLElement||n instanceof DocumentFragment)&&f.appendChild(n)):g&&Array.from(g.children).forEach((b,C)=>{const N=yr(Ex,this)[C];N&&b.addEventListener("click",N)}),this}showDialog(e){const{dialogElement:r}=yr(oi,this);return r.style.display="block",e&&r.offsetHeight,oe(r,`${Ln}--show`),Yo(Ry,this,!1),this}hideDialog(e){const{dialogElement:r}=yr(oi,this);return Re(r,`${Ln}--show`),(e&&!yr(Ry,this)||!e)&&(r.style.display="none"),Yo(Ry,this,!1),this}focusDialog(){yr(oi,this).dialogElement.focus()}updateWidth(e){return yr(oi,this).dialogElement.style.width=`${e}px`,this}updateHeight(e){return yr(oi,this).dialogElement.style.height=`calc(100% - ${e}px)`,this}destroyDialog(){var e;(e=yr(oi,this))===null||e===void 0||e.dialogElement.remove(),Yo(oi,this,null)}}function JWe(){const{dialogElement:t}=yr(oi,this);Ve(t,`${Ln}--show`)||(t.style.display="none")}function ZWe(){Yo(Ry,this,!0)}Dt(oX,Tn);function eBe(t,e){aX(t,e),e.add(t)}function bN(t,e,r){aX(t,e),e.set(t,r)}function aX(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yu(t,e,r){return t.set(Eh(t,e),r),r}function $n(t,e){return t.get(Eh(t,e))}function Eh(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const Ku="dialog",tBe=360,sA=Ku,w_=`plugin:${Ku}`;var Kn=new WeakMap,qg=new WeakMap,jg=new WeakMap,Dg=new WeakSet;class b_ extends xt{constructor(){super(...arguments),eBe(this,Dg),bN(this,Kn,null),bN(this,qg,!1),bN(this,jg,null)}static get PLUGIN_KEY(){return Ku}static get PLUGIN_PRIORITY(){return tBe}static get DEFAULT_SETTINGS(){return{template:null,content:"",customClassName:"",background:"solid",contentBackground:!1,animation:!0,closable:!1,a11y:{role:"dialog",ariaLabel:"Dialog",ariaLabelledby:"",ariaDescribedby:""}}}static get SETTINGS_VALIDATORS(){return{template:e=>Le(e)&&typeof["alert","confirm"].includes(e.type)&&typeof e.title=="string"&&(typeof(e==null?void 0:e.description)>"u"||typeof(e==null?void 0:e.description)=="string")&&(typeof(e==null?void 0:e.buttons)>"u"||Array.isArray(e==null?void 0:e.buttons)&&e.buttons.every(r=>typeof r=="object"&&typeof r.text=="string"&&["primary","secondary"].includes(r.type)&&(typeof r.callback>"u"||typeof r.callback=="function"))),content:e=>typeof e=="string"||typeof HTMLElement<"u"&&e instanceof HTMLElement||typeof DocumentFragment<"u"&&e instanceof DocumentFragment,customClassName:e=>typeof e=="string",background:e=>["solid","semi-transparent"].includes(e),contentBackground:e=>typeof e=="boolean",animation:e=>typeof e=="boolean",closable:e=>typeof e=="boolean",a11y:e=>Le(e)&&(typeof(e==null?void 0:e.role)>"u"||["dialog","alertdialog"].includes(e==null?void 0:e.role))&&(typeof(e==null?void 0:e.ariaLabel)>"u"||typeof(e==null?void 0:e.ariaLabel)=="string")&&(typeof(e==null?void 0:e.ariaLabelledby)>"u"||typeof(e==null?void 0:e.ariaLabelledby)=="string")&&(typeof(e==null?void 0:e.ariaDescribedby)>"u"||typeof(e==null?void 0:e.ariaDescribedby)=="string")}}isEnabled(){return!!this.hot.getSettings()[Ku]}enablePlugin(){this.enabled||($n(Kn,this)||yu(Kn,this,new oX({rootElement:this.hot.rootGridElement,isRtl:this.hot.isRtl()})),Eh(Dg,this,rBe).call(this),Eh(Dg,this,iBe).call(this),this.addHook("afterViewRender",()=>Eh(Dg,this,oBe).call(this)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hide(),Eh(Dg,this,nBe).call(this),Eh(Dg,this,sBe).call(this),super.disablePlugin()}isVisible(){return $n(qg,this)}show(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.enabled){if(this.isVisible()){this.update(e);return}this.hot.runHooks("beforeDialogShow"),this.update(e),$n(Kn,this).showDialog(this.getSetting("animation")),yu(qg,this,!0),this.hot.getFocusScopeManager().activateScope(Ku),yu(jg,this,this.hot.selection.exportSelection()),this.hot.deselectCell(),this.hot.runHooks("afterDialogShow")}}hide(){var e;this.isVisible()&&(this.hot.runHooks("beforeDialogHide"),$n(Kn,this).hideDialog(this.getSetting("animation")),yu(qg,this,!1),this.hot.getFocusScopeManager().deactivateScope(Ku),((e=$n(jg,this))===null||e===void 0?void 0:e.ranges.length)>0?(this.hot.selection.importSelection($n(jg,this)),this.hot.view.render(),yu(jg,this,null)):this.hot.selectCell(0,0),this.hot.runHooks("afterDialogHide"))}update(e){if(!this.enabled)return;this.updatePluginSettings(e);const r=this.getSetting("template");if(r!==b_.DEFAULT_SETTINGS.template&&this.getSetting("content")!==b_.DEFAULT_SETTINGS.content)throw new Error("The `template` option cannot be used together with the `content` option.");r?$n(Kn,this).useTemplate(r.type,{id:this.hot.guid,...r}):$n(Kn,this).useDefaultTemplate(),$n(Kn,this).updateDialog({isVisible:this.isVisible(),content:this.getSetting("content"),customClassName:this.getSetting("customClassName"),background:this.getSetting("background"),contentBackground:this.getSetting("contentBackground"),animation:this.getSetting("animation"),a11y:this.getSetting("a11y")})}showAlert(e,r){const{title:n="Alert",description:i}=Le(e)?e:{title:e};this.show({template:{type:"confirm",title:n,description:i,buttons:[{text:this.hot.getTranslatedPhrase(R1),type:"primary",callback:function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r==null?void 0:r(...o)}}]},contentBackground:!1,background:"solid",animation:!0,closable:!1})}showConfirm(e,r,n){const{title:i="Confirm",description:s}=Le(e)?e:{title:e};this.show({template:{type:"confirm",title:i,description:s,buttons:[{text:this.hot.getTranslatedPhrase(iH),type:"secondary",callback:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n==null?void 0:n(...a)}},{text:this.hot.getTranslatedPhrase(R1),type:"primary",callback:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return r==null?void 0:r(...a)}}]},contentBackground:!0,background:"semi-transparent",animation:!0,closable:!1})}focus(){$n(Kn,this).focusDialog()}destroy(){var e;(e=$n(Kn,this))===null||e===void 0||e.destroyDialog(),yu(Kn,this,null),yu(qg,this,!1),yu(jg,this,null),super.destroy()}}function rBe(){var t;const e=this.hot.getShortcutManager(),r=(t=e.getContext(w_))!==null&&t!==void 0?t:e.addContext(w_);r.addShortcut({keys:[["Escape"]],callback:()=>{this.hide()},runOnlyIf:()=>$n(qg,this)&&this.getSetting("closable"),group:sA}),r.addShortcut({keys:[["Shift","Tab"],["Tab"]],preventDefault:!1,callback:n=>{this.hot._registerTimeout(()=>{n.shiftKey?this.hot.runHooks("dialogFocusPreviousElement"):this.hot.runHooks("dialogFocusNextElement")})},group:sA})}function nBe(){this.hot.getShortcutManager().getContext(w_).removeShortcutsByGroup(sA)}function iBe(){this.hot.getFocusScopeManager().registerScope(Ku,$n(Kn,this).getContainer(),{shortcutsContextName:w_,type:"modal",runOnlyIf:()=>this.isVisible(),onActivate:t=>{const e=this.hot.isListening(),r=$n(Kn,this).getFocusableElements();r.length>0?t==="tab_from_above"?r.at(0).focus():t==="tab_from_below"&&r.at(-1).focus():t!=="tab_from_above"&&t!=="tab_from_below"&&e&&!$n(Kn,this).getContainer().contains(this.hot.rootDocument.activeElement)&&$n(Kn,this).getContainer().focus(),e&&this.hot.runHooks("afterDialogFocus",t==="unknown"?"show":t)}})}function sBe(){this.hot.getFocusScopeManager().unregisterScope(Ku)}function oBe(){const{view:t,rootWrapperElement:e,rootWindow:r}=this.hot,n=t.isHorizontallyScrollableByWindow()?t.getTotalTableWidth():t.getWorkspaceWidth();$n(Kn,this).updateWidth(n);const i=e.querySelector(".hot-display-license-info");if(i){const s=i.offsetHeight,o=Number.parseFloat(r.getComputedStyle(i).marginTop);$n(Kn,this).updateHeight(s+o)}}function aBe(t){let{id:e,icon:r,title:n,description:i}=t;return`
    <div class="${Th}__content">
      <i class="${Th}__icon">${r}</i>
      <div class="${Th}__text">
        <h2 id="${e}-${Wh}-title" class="${Th}__title">${n}</h2>
        ${i?`<p id="${e}-${Wh}-description" class="${Th}__description">${i}</p>`:""}
      </div>
    </div>
  `}function lBe(t,e){lX(t,e),e.add(t)}function cBe(t,e,r){lX(t,e),e.set(t,r)}function lX(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function oB(t,e,r){return t.set(GD(t,e),r),r}function Rs(t,e){return t.get(GD(t,e))}function GD(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const Wh="loading",uBe=350,Th=`ht-${Wh}`;var ai=new WeakMap,aB=new WeakSet;class dBe extends xt{constructor(){super(...arguments),lBe(this,aB),cBe(this,ai,null)}static get PLUGIN_KEY(){return Wh}static get PLUGIN_PRIORITY(){return uBe}static get DEFAULT_SETTINGS(){return{icon:`<svg class="${Th}__icon-svg" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path stroke="currentColor" stroke-width="2" d="M15 8a7 7 0 1 1-3.5-6.062"></path></svg>`,title:void 0,description:""}}static get SETTINGS_VALIDATORS(){return{icon:e=>typeof e=="string",title:e=>typeof e=="string",description:e=>typeof e=="string"}}isEnabled(){return!!this.hot.getSettings()[Wh]}enablePlugin(){if(!this.enabled){if(Rs(ai,this)===null){var e;oB(ai,this,this.hot.getPlugin("dialog")),(e=Rs(ai,this))!==null&&e!==void 0&&e.isEnabled()||(this.hot.getSettings().dialog=!0),this.hot.addHook("afterDialogFocus",()=>GD(aB,this,hBe).call(this))}super.enablePlugin()}}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hide(),super.disablePlugin()}isVisible(){var e,r;return(e=(r=Rs(ai,this))===null||r===void 0?void 0:r.isVisible())!==null&&e!==void 0?e:!1}show(){var e;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.isEnabled()||!Rs(ai,this)||!((e=Rs(ai,this))!==null&&e!==void 0&&e.isEnabled()))return;if(this.isVisible()){this.update(r);return}this.hot.runHooks("beforeLoadingShow")!==!1&&(this.update(r),Rs(ai,this).show(),this.hot.runHooks("afterLoadingShow"))}hide(){var e;!Rs(ai,this)||!((e=Rs(ai,this))!==null&&e!==void 0&&e.isEnabled())||!this.isVisible()||this.hot.runHooks("beforeLoadingHide")===!1||(Rs(ai,this).hide(),this.hot.runHooks("afterLoadingHide"))}update(e){var r,n;if(!this.isEnabled()||!Rs(ai,this)||!((r=Rs(ai,this))!==null&&r!==void 0&&r.isEnabled()))return;this.updatePluginSettings(e);const i=this.hot.guid,s=this.getSetting("icon"),o=(n=this.getSetting("title"))!==null&&n!==void 0?n:this.hot.getTranslatedPhrase(Oj),a=this.getSetting("description"),l=aBe({id:i,icon:s,title:o,description:a});Rs(ai,this).update({content:l,customClassName:Th,background:this.hot.countSourceRows()===0?"solid":"semi-transparent",a11y:{role:"alertdialog",ariaLabelledby:`${i}-${Wh}-title`,ariaDescribedby:a?`${i}-${Wh}-description`:void 0}})}destroy(){oB(ai,this,null),super.destroy()}}function hBe(){Rs(ai,this).focus()}function Tx(t,e,r){fBe(t,e),e.set(t,r)}function fBe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pr(t,e){return t.get(cX(t,e))}function Xl(t,e,r){return t.set(cX(t,e),r),r}function cX(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const Mi="ht-empty-data-state",gBe=150,mBe=`<div data-ref="emptyDataStateElement" class="${Mi} handsontable">
  <div class="${Mi}__content-wrapper">
    <div data-ref="emptyDataStateInner" class="${Mi}__content-wrapper-inner"></div>
  </div>
</div>`,pBe=t=>{let{title:e,description:r,buttons:n}=t;return`
  <div class="${Mi}__content">
    ${e?`<h2 class="${Mi}__title">${Cc(e)}</h2>`:""}
    ${r?`<p class="${Mi}__description">${Cc(r)}</p>`:""}
  </div>
  <div
    data-ref="emptyDataStateButtons"
    class="${Mi}__buttons${(n==null?void 0:n.length)>0?` ${Mi}__buttons--has-buttons`:""}"
  >${(n==null?void 0:n.length)>0?n.map(i=>`<button class="ht-button ht-button--${i.type}">${Cc(i.text)}</button>`).join(""):""}</div>`};var SN=new WeakMap,xN=new WeakMap,An=new WeakMap,xs=new WeakMap;class yBe{constructor(e){let{rootElement:r,rootDocument:n}=e;Tx(this,SN,void 0),Tx(this,xN,void 0),Tx(this,An,void 0),Tx(this,xs,void 0),Xl(SN,this,r),Xl(xN,this,n),this.install()}install(){var e;if((e=pr(An,this))!==null&&e!==void 0&&e.emptyDataStateElement)return;const r=sp`${mBe}`;Xl(An,this,r.refs);const{emptyDataStateInner:n,emptyDataStateElement:i}=pr(An,this);Ee(n,[ba(-1)]),Ee(i,[ba(-1)]),pr(SN,this).after(r.fragment)}getElement(){var e;return(e=pr(An,this))===null||e===void 0?void 0:e.emptyDataStateElement}getFocusableElements(){const{emptyDataStateButtons:e,emptyDataStateInner:r}=pr(An,this),n=Array.from(e==null?void 0:e.children);return n.length===0?[r]:n}show(){var e;(e=pr(An,this))!==null&&e!==void 0&&e.emptyDataStateElement&&(pr(An,this).emptyDataStateElement.style.display="block")}hide(){var e,r;(e=pr(An,this))!==null&&e!==void 0&&e.emptyDataStateElement&&((r=pr(xs,this))===null||r===void 0||r.remove(),Xl(xs,this,null),pr(An,this).emptyDataStateElement.style.display="none")}updateContent(e){var r;const{emptyDataStateInner:n}=pr(An,this);let i="";typeof e=="string"?i={title:e}:i={title:e==null?void 0:e.title,description:e==null?void 0:e.description,buttons:e==null?void 0:e.buttons};const s=sp`${pBe(i)}`;Xl(An,this,{...pr(An,this),...s.refs}),n.innerHTML="",n.appendChild(s.fragment),((r=i.buttons)===null||r===void 0?void 0:r.length)>0&&Array.from(pr(An,this).emptyDataStateButtons.children).forEach((o,a)=>{o.addEventListener("click",i.buttons[a].callback)})}updateClassNames(e){const{emptyDataStateElement:r}=pr(An,this);e.countRenderableColumns()>0&&e.getColumnHeadersCount()>0?oe(r,`${Mi}--disable-top-border`):Re(r,`${Mi}--disable-top-border`),e.countRenderableRows()>0&&e.getRowHeadersCount()>0?oe(r,`${Mi}--disable-inline-border`):Re(r,`${Mi}--disable-inline-border`),e.hasHorizontalScroll()&&!e.isHorizontallyScrollableByWindow()?oe(r,`${Mi}--disable-bottom-border`):Re(r,`${Mi}--disable-bottom-border`)}updateSize(e){const{emptyDataStateElement:r}=pr(An,this),n=e.hasHorizontalScroll()?tn(e.hot.rootDocument):0,i=e.countRenderableRows(),s=e.countRenderableColumns(),o=e.getColumnHeadersCount();if(r.style.top=s>0?`${e.getColumnHeaderHeight()}px`:"0px",r.style.insetInlineStart=i>0?`${e.getRowHeaderWidth()}px`:"0px",i===0)pr(xs,this)||(Xl(xs,this,pr(xN,this).createElement("div")),pr(xs,this).classList.add(`${Mi}-placeholder`),e._wt.wtTable.holder.appendChild(pr(xs,this))),pr(xs,this).style.width="100%",pr(xs,this).style.height=`${gBe}px`;else{var a;(a=pr(xs,this))===null||a===void 0||a.remove(),Xl(xs,this,null)}let l=e.getWorkspaceWidth(),c=e.getTableHeight();e.isHorizontallyScrollableByWindow()?s>0?l=e.getTotalTableWidth():i>0&&(l=e.getViewportWidth()):i>0?l=e.getViewportWidth():e.getTableWidth()-e.getRowHeaderWidth()<e.getViewportWidth()&&s>0&&(l=e.getTableWidth()),e.isVerticallyScrollableByWindow()||e.hasVerticalScroll()?s>0?c=e.hot.getTableHeight()-e.getColumnHeaderHeight():c=e.hot.getTableHeight():o>0&&s>0?c=e.getViewportHeight()-n:o>0&&s===0&&(c=e.getWorkspaceHeight()-n),r.style.width=`${l}px`,r.style.height=`${c}px`}destroy(){var e,r;(e=pr(An,this))===null||e===void 0||(e=e.emptyDataStateElement)===null||e===void 0||e.remove(),(r=pr(xs,this))===null||r===void 0||r.remove(),Xl(xs,this,null),Xl(An,this,null)}}function vBe(t,e){uX(t,e),e.add(t)}function uy(t,e,r){uX(t,e),e.set(t,r)}function uX(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function is(t,e,r){return t.set(Jr(t,e),r),r}function Nr(t,e){return t.get(Jr(t,e))}function Jr(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}const _f="emptyDataState",wBe=370,oA=Object.freeze({UNKNOWN:"unknown",FILTERS:"filters"}),bBe=`plugin:${_f}`;var nf=new WeakMap,Cn=new WeakMap,mp=new WeakMap,S_=new WeakMap,Dm=new WeakMap,un=new WeakSet;class SBe extends xt{constructor(){super(...arguments),vBe(this,un),uy(this,nf,!1),uy(this,Cn,null),uy(this,mp,null),uy(this,S_,!1),uy(this,Dm,null)}static get PLUGIN_KEY(){return _f}static get PLUGIN_PRIORITY(){return wBe}static get DEFAULT_SETTINGS(){return{message:void 0}}static get SETTINGS_VALIDATORS(){return{message:e=>typeof e=="string"||typeof e=="function"||Le(e)&&(typeof(e==null?void 0:e.title)>"u"||typeof(e==null?void 0:e.title)=="string")&&(typeof(e==null?void 0:e.description)>"u"||typeof(e==null?void 0:e.description)=="string")&&(typeof(e==null?void 0:e.buttons)>"u"||Array.isArray(e==null?void 0:e.buttons)&&(e==null?void 0:e.buttons.every(r=>typeof r=="object"&&typeof r.text=="string"&&typeof r.type=="string"&&["primary","secondary"].includes(r.type)&&typeof r.callback=="function")))||e===void 0}}isEnabled(){return!!this.hot.getSettings()[_f]}enablePlugin(){this.enabled||(Nr(Cn,this)||(is(Cn,this,new yBe({rootElement:this.hot.rootGridElement,rootDocument:this.hot.rootDocument})),Jr(un,this,RBe).call(this),Jr(un,this,xBe).call(this),Jr(un,this,CBe).call(this)),this.addHook("afterInit",()=>Jr(un,this,NBe).call(this)),this.addHook("afterRender",()=>Jr(un,this,MBe).call(this)),this.addHook("afterRowSequenceCacheUpdate",()=>Jr(un,this,aA).call(this)),this.addHook("afterColumnSequenceCacheUpdate",()=>Jr(un,this,aA).call(this)),this.addHook("beforeFilter",e=>Jr(un,this,IBe).call(this,e)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),Jr(un,this,KD).call(this),this.isVisible()&&Nr(Cn,this).show(),super.updatePlugin()}disablePlugin(){Jr(un,this,EBe).call(this),Jr(un,this,_Be).call(this),Nr(Cn,this).destroy(),is(Cn,this,null),super.disablePlugin()}isVisible(){return Nr(nf,this)}destroy(){var e;is(nf,this,!1),(e=Nr(Cn,this))===null||e===void 0||e.destroy(),is(Cn,this,null),is(mp,this,null),is(S_,this,!1),is(Dm,this,null),super.destroy()}}function xBe(){this.eventManager.addEventListener(Nr(Cn,this).getElement(),"wheel",t=>Jr(un,this,PBe).call(this,t))}function CBe(){is(mp,this,new MutationObserver(()=>{if(!this.hot)return;const t=Nr(Cn,this).getElement();this.hot.rootGridElement.nextElementSibling!==t&&this.hot.rootGridElement.after(t)})),Nr(mp,this).observe(this.hot.rootWrapperElement,{childList:!0})}function _Be(){Nr(mp,this).disconnect(),is(mp,this,null)}function RBe(){this.hot.getFocusScopeManager().registerScope(_f,Nr(Cn,this).getElement(),{shortcutsContextName:bBe,runOnlyIf:()=>this.isVisible(),onActivate:t=>{var e;const r=(e=Nr(Cn,this))===null||e===void 0?void 0:e.getFocusableElements();r.length>0&&(t==="tab_from_above"?r.at(0).focus():t==="tab_from_below"&&r.at(-1).focus())}})}function EBe(){this.hot.getFocusScopeManager().unregisterScope(_f)}function lB(t){var e,r,n;let i;return typeof this.getSetting("message")=="function"?i=this.getSetting("message")(t):i=this.getSetting("message"),typeof i=="string"&&(i={title:i}),!((e=i)!==null&&e!==void 0&&e.title)&&!((r=i)!==null&&r!==void 0&&r.description)&&!((n=i)!==null&&n!==void 0&&n.buttons)&&(i={},t===oA.FILTERS?(i.title=this.hot.getTranslatedPhrase(Dj),i.description=this.hot.getTranslatedPhrase($j),i.buttons=[{text:this.hot.getTranslatedPhrase(Lj),type:"secondary",callback:()=>{const s=this.hot.getPlugin("filters");s&&(s.clearConditions(),s.filter())}}]):(i.title=this.hot.getTranslatedPhrase(Hj),i.description=this.hot.getTranslatedPhrase(jj))),i}function aA(){this.hot.view&&(this.hot.view.countRenderableColumns()===0||this.hot.view.countRenderableRows()===0?Jr(un,this,TBe).call(this):Jr(un,this,kBe).call(this))}function TBe(){Nr(nf,this)||(this.hot.runHooks("beforeEmptyDataStateShow"),Jr(un,this,KD).call(this),Nr(Cn,this).show(),is(nf,this,!0),is(Dm,this,this.hot.selection.exportSelection()),this.hot.getFocusScopeManager().activateScope(_f),this.hot.runHooks("afterEmptyDataStateShow"))}function KD(){Nr(S_,this)?Nr(Cn,this).updateContent(Jr(un,this,lB).call(this,oA.FILTERS)):Nr(Cn,this).updateContent(Jr(un,this,lB).call(this,oA.UNKNOWN))}function kBe(){var t;Nr(nf,this)&&(this.hot.runHooks("beforeEmptyDataStateHide"),Nr(Cn,this).hide(),is(nf,this,!1),this.hot.getFocusScopeManager().deactivateScope(_f),((t=Nr(Dm,this))===null||t===void 0?void 0:t.ranges.length)>0?(this.hot.selection.importSelection(Nr(Dm,this)),this.hot.view.render(),is(Dm,this,null)):this.hot.selectCell(0,0),this.hot.runHooks("afterEmptyDataStateHide"))}function PBe(t){const e=Number.isNaN(t.deltaX)?-1*t.wheelDeltaX:t.deltaX;e!==0&&this.hot.view.hasHorizontalScroll()&&!this.hot.view.isHorizontallyScrollableByWindow()&&(this.hot.view.setTableScrollPosition({left:this.hot.view.getTableScrollPosition().left+e}),t.preventDefault())}function NBe(){Jr(un,this,aA).call(this),this.hot.render()}function MBe(){var t;(t=Nr(Cn,this))!==null&&t!==void 0&&t.getElement()&&this.isVisible()&&(Nr(Cn,this).updateSize(this.hot.view),Nr(Cn,this).updateClassNames(this.hot.view))}function IBe(t){is(S_,this,(t==null?void 0:t.length)>0),this.isVisible()&&Jr(un,this,KD).call(this)}function ABe(){mt(Gy),mt(bIe),mt(Ky),mt(ZIe),mt(aAe),mt(bK),mt(nOe),mt(BOe),mt(BR),mt(Q2e),mt(CHe),mt(IHe),mt(YR),mt(gje),mt(l$e),mt(V$e),mt(gLe),mt(ELe),mt($Le),mt(qLe),mt(s4e),mt(C4e),mt(I4e),mt(RFe),mt(n3e),mt(l3e),mt(O3e),mt(b6e),mt(X6e),mt(yVe),mt(EVe),mt(FVe),mt(qVe),mt(oWe),mt(zWe),mt(b_),mt(dBe),mt(SBe)}function qw(){VPe(),uMe(),wMe(),BMe(),ABe()}const OBe=({isOpen:t,onClose:e,rowData:r,annexType:n})=>{if(!t||!r)return null;const i=()=>{const a=["id","batch_id","hei_remarks","ched_remark","ched_remark_id","is_missing","created_at","updated_at","face_to_face","online"],l=Object.entries(r).filter(([c])=>!c.startsWith("_")&&!a.includes(c));return u.jsx("div",{className:"space-y-3",children:l.map(([c,d])=>{let h=d??"NULL";if(typeof d=="boolean")return u.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[u.jsx("code",{className:"text-xs font-mono text-gray-600 dark:text-gray-400",children:c}),u.jsxs("div",{className:"col-span-2 bg-gray-50 dark:bg-gray-700 p-2 rounded",children:[u.jsx("input",{type:"checkbox",checked:d,readOnly:!0,className:"pointer-events-none"}),u.jsx("span",{className:"ml-2 text-sm text-gray-900 dark:text-white",children:d?"true":"false"})]})]},c);if(typeof d=="string"&&/^\d{4}-\d{2}-\d{2}(T|\s)/.test(d)){const f=new Date(d);h=d.includes("T")||d.includes(":")?f.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):f.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}return u.jsxs("div",{className:"grid grid-cols-3 gap-2 items-start",children:[u.jsx("code",{className:"text-xs font-mono text-gray-600 dark:text-gray-400 pt-2",children:c}),u.jsx("p",{className:"col-span-2 text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 p-2 rounded break-words",children:h.toString()})]},c)})})},s=()=>({annex_a:"Information and Orientation Service",annex_b:"Guidance and Counseling Services",annex_c:"Career and Job Placement Services",annex_d:"Student Handbook Development",annex_e:"Student Activities",annex_f:"Student Discipline",annex_g:"Student Publication/Yearbook",annex_h:"Admission Services",annex_i:"Scholarships and Financial Assistance",annex_j:"Health Services",annex_k:"Safety and Security Services",annex_l:"Student Housing and Residential Services",annex_m:"Services for Students with Special Needs and PWD",annex_n:"Cultural and Arts Program",annex_o:"Social and Community Involvement Programs"})[n]||"Evidence Details",o=()=>i();return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998]",onClick:e}),u.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:u.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Evidence Details"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-0.5",children:s()})]}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"p-6",children:o()}),u.jsx("div",{className:"flex justify-end gap-3 p-4 border-t border-gray-200 dark:border-gray-700",children:u.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Close"})})]})})})]})},Ec="ht-theme-horizon-dark-auto",Xw=`
  /* Add visible borders for better table clarity */
  .handsontable td,
  .handsontable th {
    border-right: 1px solid var(--hot-border-color, #e5e7eb) !important;
    border-bottom: 1px solid var(--hot-border-color, #e5e7eb) !important;
  }
  
  /* Dark mode colors matching Tailwind config */
  .dark .handsontable td,
  .dark .handsontable th {
    border-right: 1px solid #374151 !important;
    border-bottom: 1px solid #374151 !important;
  }
  
  /* Dark mode background override to match your custom gray-800 */
  .dark .ht-theme-horizon-dark .ht_master .wtHolder {
    background-color: #111827 !important;
  }
  
  .dark .ht-theme-horizon-dark td {
    background-color: #111827 !important;
    color: #f3f4f6 !important;
  }
  
  .dark .ht-theme-horizon-dark th {
    background-color: #1f2937 !important;
    color: #f3f4f6 !important;
  }
  
  .dark .ht-theme-horizon-dark .htCore tbody tr:hover td {
    background-color: #1f2937 !important;
  }
  
  /* Reduce cell padding to make rows more compact */
  .handsontable td {
    padding: 2px 6px !important;
    line-height: 1.2 !important;
    vertical-align: middle !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    max-width: 0 !important;
  }
  
  .handsontable th {
    padding: 4px 6px !important;
    line-height: 1.2 !important;
    height: 28px !important;
    vertical-align: middle !important;
  }
  
  /* Remove any min-height constraints */
  .handsontable td,
  .handsontable th {
    min-height: unset !important;
  }
  
  /* Make checkboxes smaller and centered */
  .handsontable input[type="checkbox"] {
    margin: 0 !important;
    vertical-align: middle !important;
  }
  
  /* Force table headers below lock overlay */
  .handsontable .ht_clone_top,
  .handsontable .ht_clone_left,
  .handsontable .ht_clone_top_left_corner {
    z-index: 1 !important;
  }
  
  /* Ensure proper z-index for dropdowns and editors */
  .handsontable .htDropdownMenu {
    z-index: 9999 !important;
  }

  .handsontable .handsontableInputHolder {
    z-index: 9999 !important;
  }

  .handsontable .autocompleteEditor {
    z-index: 9999 !important;
  }

  .handsontable .htAutocompleteArrow {
    z-index: 9999 !important;
  }

  .handsontable .htContextMenu {
    z-index: 9999 !important;
  }

  .handsontable select,
  .handsontable .htSelectEditor {
    z-index: 9999 !important;
  }
`;qw();const HBe=({formData:t,config:e})=>{const r=W.useRef(null),[n,i]=W.useState([]),[s,o]=W.useState([]),[a,l]=W.useState(!1),[c,d]=W.useState(!1),[h,f]=W.useState(!1),[g,m]=W.useState(null),{isDark:p}=q5(),y=p?"ht-theme-horizon-dark":"ht-theme-horizon";W.useEffect(()=>{if(t&&t.services){const P=[];t.services.forEach(k=>{k.rows&&k.rows.length>0&&k.rows.forEach((R,I)=>{let O="View Details";R.title?O=R.title:R.title_of_program?O=R.title_of_program:R.title_of_activity?O=R.title_of_activity:R.scholarship_name?O=R.scholarship_name:R.service_type?O=R.service_type:R.organization_name?O=R.organization_name:R.housing_name?O=R.housing_name:R.publication_name?O=R.publication_name:R.activity?O=R.activity:R.committee_name?O=R.committee_name:R.institutional_services_programs_activities?O=R.institutional_services_programs_activities:R.version_publication_date&&(O=`Student Handbook - ${R.version_publication_date}`),P.push({service_name:I===0?k.service_name:"",service_rowspan:k.rows.length,face_to_face:R.face_to_face||!1,online:R.online||!1,evidence:O,hei_remarks:R.hei_remarks||"",ched_remarks:R.ched_remark!==null?R.ched_remark:null,is_missing:R.is_missing||!1,_annex_type:k.annex_type,_row_id:R.id,_batch_id:R.batch_id,_hei_id:t.hei.id,_academic_year:t.academic_year,_ched_remark_id:R.ched_remark_id,_row_data:R})})}),i(P),o(JSON.parse(JSON.stringify(P))),l(!1)}},[t]);const S=()=>{const P=[];let k=0;return t&&t.services&&t.services.forEach(R=>{R.rows&&R.rows.length>0&&(P.push({row:k,col:0,rowspan:R.rows.length,colspan:1}),k+=R.rows.length)}),P},w=(P,k,R)=>{const I=[...n];I[P].ched_remarks=R,i(I),l(!0)},b=async()=>{d(!0);try{const P=n.filter((R,I)=>{if(R.is_missing)return!1;const O=s[I];return O&&R.ched_remarks!==O.ched_remarks}).map(R=>({annex_type:R._annex_type,row_id:R._row_id,batch_id:R._batch_id,hei_id:R._hei_id,academic_year:R._academic_year,is_best_practice:R.ched_remarks||!1}));if(P.length===0){alert("No changes to save"),d(!1);return}(await rr.post("/admin/mer/remarks/batch",{remarks:P})).data.success&&(o(JSON.parse(JSON.stringify(n))),alert("Changes saved successfully!"))}catch(P){console.error("Error saving remarks:",P),alert("Failed to save remarks. Please try again.")}finally{d(!1)}},C=[{data:"service_name",readOnly:!0,className:"htCenter font-semibold",width:250},{data:"face_to_face",type:"checkbox",readOnly:!0,className:"htCenter",width:50},{data:"online",type:"checkbox",readOnly:!0,className:"htCenter",width:50},{data:"evidence",readOnly:!0,className:"htLeft",width:300,renderer:(P,k,R,I,O,Z)=>{const q=n[R];if(q!=null&&q.is_missing)k.innerHTML=`
            <div class="flex items-center text-amber-600 dark:text-amber-400" style="gap: 0.25rem;">
              <svg class="w-3 h-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
              </svg>
              <span class="text-xs">Annex not submitted</span>
            </div>
          `;else{k.innerHTML=`
            <button class="flex items-center text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 underline text-left text-sm evidence-btn" style="gap: 0.25rem;">
              <svg class="w-3 h-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
              </svg>
              <span>${Z||"View Details"}</span>
            </button>
          `,k.style.cursor="pointer";const J=k.querySelector(".evidence-btn");J&&J.addEventListener("click",()=>{m({data:q._row_data,annexType:q._annex_type}),f(!0)})}return k.className="htLeft",k}},{data:"hei_remarks",readOnly:!0,className:"htLeft",width:200,renderer:(P,k,R,I,O,Z)=>(k.innerHTML=Z||'<span class="text-gray-400">-</span>',k.className="htLeft",k)},{data:"ched_remarks",type:"checkbox",className:"htCenter",width:50}],N=[[{label:"Student Welfare Services",colspan:1},{label:"Strategic Approaches per Mode of Delivery",colspan:2},{label:"Evidence / Supporting Documents",colspan:1},{label:"HEI Remarks",colspan:1},{label:"CHED Remarks / Observations",colspan:1}],["","Face-to-Face","Online","","",""]];return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{type:"button",onClick:b,disabled:c||!a,className:`flex items-center gap-2 px-6 py-2 rounded-lg transition-colors ${c||!a?"bg-gray-400 dark:bg-gray-600 text-gray-200 dark:text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),c?"Submitting...":"Submit CHED Remarks"]})}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[u.jsx("style",{children:Xw}),n.length>0?u.jsx(xo,{ref:r,data:n,columns:C,nestedHeaders:N,colHeaders:!1,rowHeaders:!1,width:"100%",height:600,rowHeights:30,licenseKey:"non-commercial-and-evaluation",stretchH:"all",autoColumnSize:!1,autoWrapRow:!1,autoWrapCol:!1,manualColumnResize:!0,mergeCells:S(),className:y,afterChange:(P,k)=>{k==="edit"&&P&&P.forEach(([R,I,O,Z])=>{I==="ched_remarks"&&O!==Z&&w(R,5,Z)})},cells:(P,k)=>{const R={},I=n[P];return k===0&&(R.className="htCenter htMiddle font-semibold"),I!=null&&I.is_missing&&(R.readOnly=!0,R.className=(R.className||"")+" opacity-50"),R}}):u.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No data available"})]})]}),u.jsx(OBe,{isOpen:h,onClose:()=>{f(!1),m(null)},rowData:g==null?void 0:g.data,annexType:g==null?void 0:g.annexType})]})},jBe={1:{formNumber:1,title:"Form 1: Student Welfare Services",subtitle:"Annexes A-D: Information & Orientation, Guidance & Counseling, Career & Job Placement, Student Handbook",sectionTitle:"B. STUDENT WELFARE SERVICES",endpoint:"/admin/mer/form1",services:[{name:"1. Information and Orientation Service",annexType:"annex_a",annexLetter:"A"},{name:"2. Guidance and Counseling Services",annexType:"annex_b",annexLetter:"B"},{name:"3. Career and Job Placement Services",annexType:"annex_c",annexLetter:"C"},{name:"5. Student Handbook Development",annexType:"annex_d",annexLetter:"D"}]},2:{formNumber:2,title:"Form 2: Student Welfare Services",subtitle:"Annexes E-G: Student Activities, Student Discipline, Student Publication/Yearbook",sectionTitle:"C. STUDENT WELFARE SERVICES",endpoint:"/admin/mer/form2",services:[{name:"1. Student Activities",annexType:"annex_e",annexLetter:"E"},{name:"5. Student Discipline",annexType:"annex_f",annexLetter:"F"},{name:"6. Student Publication/Yearbook",annexType:"annex_g",annexLetter:"G"}]},3:{formNumber:3,title:"Form 3: Institutional Student Programs and Services",subtitle:"Annexes H-O: Admission, Scholarships, Health, Safety, Housing, Special Needs, Cultural Arts, Community Programs",sectionTitle:"C. INSTITUTIONAL STUDENT PROGRAMS AND SERVICES",endpoint:"/admin/mer/form3",services:[{name:"1. Admission Services",annexType:"annex_h",annexLetter:"H"},{name:"2. Scholarships and Financial Assistance",annexType:"annex_i",annexLetter:"I"},{name:"4. Health Services",annexType:"annex_j",annexLetter:"J"},{name:"5. Safety and Security Services",annexType:"annex_k",annexLetter:"K"},{name:"6. Student Housing and Residential Services",annexType:"annex_l",annexLetter:"L"},{name:"8. Services for Students with Special Needs and Persons with Disabilities",annexType:"annex_m",annexLetter:"M"},{name:"9. Cultural and Arts Program",annexType:"annex_n",annexLetter:"N"},{name:"11. Social and Community Involvement Programs",annexType:"annex_o",annexLetter:"O"}]}},DBe=t=>jBe[t],QR={HEI_ID:"mer_selected_hei_id",ACADEMIC_YEAR:"mer_selected_academic_year"},$Be=t=>{typeof window<"u"&&t&&sessionStorage.setItem(QR.HEI_ID,String(t))},LBe=t=>{typeof window<"u"&&t&&sessionStorage.setItem(QR.ACADEMIC_YEAR,t)},FBe=()=>typeof window<"u"?sessionStorage.getItem(QR.HEI_ID):null,VBe=()=>typeof window<"u"?sessionStorage.getItem(QR.ACADEMIC_YEAR):null,WBe=(t,e)=>{$Be(t),LBe(e)},BBe=()=>({heiId:FBe(),academicYear:VBe()});function lA({title:t,message:e,icon:r,buttonText:n,buttonHref:i,buttonOnClick:s}){const o=u.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});return u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600 p-12 text-center",children:[r||o,u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:t}),u.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:e}),n&&(i||s)&&u.jsx("div",{className:"mt-6",children:i?u.jsx(pi,{href:i,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:n}):u.jsx("button",{onClick:s,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:n})})]})}const qD=({formNumber:t,heis:e,academicYears:r,initialHeiId:n,initialAcademicYear:i,formData:s})=>{var R;const o=DBe(t),{flash:a}=bp().props,l=()=>{const I=new Date,O=I.getFullYear(),q=I.getMonth()<8?O-1:O;return`${q}-${q+1}`},d=(()=>{if(n&&i)return{heiId:String(n),year:String(i),isFromUrl:!0};const I=BBe();return I.heiId&&I.academicYear?{heiId:I.heiId,year:I.academicYear,isFromUrl:!1}:{heiId:"",year:i||l(),isFromUrl:!1}})(),[h,f]=W.useState(d.heiId),[g,m]=W.useState(d.year),[p,y]=W.useState(!1),[S,w]=W.useState(""),[b,C]=W.useState(!1),N=W.useRef(d.isFromUrl?{heiId:d.heiId,year:d.year}:{heiId:null,year:null}),P=(e==null?void 0:e.filter(I=>{var O;return I.name.toLowerCase().includes(S.toLowerCase())||((O=I.code)==null?void 0:O.toLowerCase().includes(S.toLowerCase()))}))||[],k=((R=e==null?void 0:e.find(I=>String(I.id)===String(h)))==null?void 0:R.name)||"Select HEI";return W.useEffect(()=>{h&&g&&WBe(h,g)},[h,g]),W.useEffect(()=>{if(h&&g){const I=String(h),O=String(g);N.current.heiId===I&&N.current.year===O||(N.current={heiId:I,year:O},y(!0),Gr.get(`${o.endpoint}/${I}/${O}`,{},{preserveScroll:!0,only:["formData","initialHeiId","initialAcademicYear"],replace:!0,onFinish:()=>y(!1)}))}},[h,g,o.endpoint]),u.jsx(Ef,{title:`M&E ${o.title}`,children:u.jsxs("div",{className:"w-full",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:o.title}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:o.subtitle})]}),(a==null?void 0:a.error)&&u.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:a.error})})]})}),(a==null?void 0:a.success)&&u.jsx("div",{className:"mb-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:a.success})})]})}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 mb-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1.5",children:"Higher Education Institution"}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{type:"button",onClick:()=>C(!b),disabled:p,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-left focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 flex items-center justify-between",children:[u.jsx("span",{className:h?"":"text-gray-400",children:k}),u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),b&&u.jsxs("div",{className:"absolute z-[9999] w-full mt-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-hidden",children:[u.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:u.jsx("input",{type:"text",placeholder:"Search HEI...",value:S,onChange:I=>w(I.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0})}),u.jsx("div",{className:"max-h-48 overflow-y-auto",children:P.length>0?P.map(I=>u.jsx("button",{type:"button",onClick:()=>{f(I.id),C(!1),w("")},className:`w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-600 ${String(h)===String(I.id)?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-900 dark:text-white"}`,children:I.name},I.id)):u.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No HEI found"})})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"year",className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1.5",children:"Academic Year"}),u.jsx("select",{id:"year",value:g,onChange:I=>m(I.target.value),disabled:p,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50",children:r&&r.map(I=>u.jsx("option",{value:I,children:I},I))})]})]}),p&&u.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading form data..."]})]}),!h&&u.jsx(lA,{title:"No HEI Selected",message:"Please select a Higher Education Institution to view the form"}),h&&s&&u.jsx(HBe,{formData:s,config:o})]})})},zBe=t=>u.jsx(qD,{formNumber:1,...t}),UBe=Object.freeze(Object.defineProperty({__proto__:null,default:zBe},Symbol.toStringTag,{value:"Module"})),YBe=t=>u.jsx(qD,{formNumber:2,...t}),GBe=Object.freeze(Object.defineProperty({__proto__:null,default:YBe},Symbol.toStringTag,{value:"Module"})),KBe=t=>u.jsx(qD,{formNumber:3,...t}),qBe=Object.freeze(Object.defineProperty({__proto__:null,default:KBe},Symbol.toStringTag,{value:"Module"}));function XBe({heis:t,totalPending:e}){const[r,n]=W.useState(""),i=t.filter(o=>o.name.toLowerCase().includes(r.toLowerCase())||o.code.toLowerCase().includes(r.toLowerCase())),s=[{key:"code",label:"HEI Code",render:o=>u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:o.code})},{key:"name",label:"Institution Name",render:o=>u.jsx("span",{className:"text-gray-900 dark:text-white",children:o.name})},{key:"pending_requests",label:"Pending Requests",align:"center",render:o=>o.pending_requests>0?u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300",children:o.pending_requests}):u.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"0"})},{key:"actions",label:"Actions",align:"center",render:o=>u.jsx(pi,{href:`/admin/submissions/${o.id}`,className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium text-sm",children:"View Submissions"})}];return u.jsx(Ef,{title:"HEI Submissions",pendingCount:e,children:u.jsxs("div",{children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"HEI Submissions"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"View and manage all HEI submissions and requests"})]}),e>0&&u.jsx($c,{type:"warning",className:"mb-6",children:u.jsxs("p",{children:["You have ",u.jsx("strong",{children:e})," pending request",e>1?"s":""," to review."]})}),u.jsx(j_,{columns:s,data:i,searchValue:r,onSearchChange:n,searchPlaceholder:"Search by HEI name or code...",emptyMessage:"No HEIs found."})]})})}const QBe=Object.freeze(Object.defineProperty({__proto__:null,default:XBe},Symbol.toStringTag,{value:"Module"})),JR=()=>{const[t,e]=W.useState(!1);return W.useEffect(()=>{const r=()=>{e(document.documentElement.classList.contains("dark"))};r();const n=new MutationObserver(r);return n.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>n.disconnect()},[]),t},dX={A:{title:"LIST OF PROGRAMS/ PROJECTS/ ACTIVITIES INFORMATION AND ORIENTATION SERVICES",endpoint:"/hei/annex-a",entityName:"programs",entityLabel:"Programs/Projects/Activities",addButtonText:"Add Another Program",columns:[{data:"title",title:"Title of Programs/Projects/Activities",type:"text",width:250,placeholder:"e.g., Mental Health Awareness Week",required:!0},{data:"venue",title:"Venue",type:"text",width:150,placeholder:"e.g., University Auditorium",required:!0},{data:"implementation_date",title:"Date of Implementation",type:"date",dateFormat:"YYYY-MM-DD",correctFormat:!0,width:150,placeholder:"YYYY-MM-DD",required:!0},{data:"target_group",title:"Target Group",type:"text",width:150,placeholder:"e.g., Students, Faculty",required:!0},{data:"participants_online",title:"Participants (Online)",type:"numeric",numericFormat:{pattern:"0,0"},width:130,placeholder:"0",required:!1},{data:"participants_face_to_face",title:"Participants (Face-to-Face)",type:"numeric",numericFormat:{pattern:"0,0"},width:150,placeholder:"0",required:!1},{data:"organizer",title:"Organizer",type:"text",width:150,placeholder:"e.g., Student Affairs Office",required:!0},{data:"remarks",title:"Remarks (Optional)",type:"text",width:200,placeholder:"Optional notes",required:!1}],requiredFields:["title","venue","implementation_date","target_group","organizer"],dataMapper:t=>({title:t.title,venue:t.venue,implementation_date:t.implementation_date?t.implementation_date.split("T")[0]:"",target_group:t.target_group,participants_online:t.participants_online,participants_face_to_face:t.participants_face_to_face,organizer:t.organizer,remarks:t.remarks||""}),submitMapper:t=>({title:t[0],venue:t[1],implementation_date:t[2],target_group:t[3],participants_online:parseInt(t[4])||0,participants_face_to_face:parseInt(t[5])||0,organizer:t[6],remarks:t[7]||""})},B:{title:"LIST OF PROGRAMS/ PROJECTS/ ACTIVITIES GUIDANCE AND COUNSELING SERVICE",endpoint:"/hei/annex-b",entityName:"programs",entityLabel:"Programs/Projects/Activities",addButtonText:"Add Another Program",columns:[{data:"title",title:"Title of Programs/Projects/Activities",type:"text",width:250,placeholder:"e.g., Career Fair 2025",required:!0},{data:"venue",title:"Venue",type:"text",width:150,placeholder:"e.g., University Auditorium",required:!0},{data:"implementation_date",title:"Date of Implementation",type:"date",dateFormat:"YYYY-MM-DD",correctFormat:!0,width:150,placeholder:"YYYY-MM-DD",required:!0},{data:"target_group",title:"Target Group",type:"text",width:150,placeholder:"e.g., Students, Faculty",required:!0},{data:"participants_online",title:"Participants (Online)",type:"numeric",numericFormat:{pattern:"0,0"},width:130,placeholder:"0",required:!1},{data:"participants_face_to_face",title:"Participants (Face-to-Face)",type:"numeric",numericFormat:{pattern:"0,0"},width:150,placeholder:"0",required:!1},{data:"organizer",title:"Organizer",type:"text",width:150,placeholder:"e.g., Career Services Office",required:!0},{data:"remarks",title:"Remarks (Optional)",type:"text",width:200,placeholder:"Optional notes",required:!1}],requiredFields:["title","venue","implementation_date","target_group","organizer"],dataMapper:t=>({title:t.title,venue:t.venue,implementation_date:t.implementation_date?t.implementation_date.split("T")[0]:"",target_group:t.target_group,participants_online:t.participants_online,participants_face_to_face:t.participants_face_to_face,organizer:t.organizer,remarks:t.remarks||""}),submitMapper:t=>({title:t[0],venue:t[1],implementation_date:t[2],target_group:t[3],participants_online:parseInt(t[4])||0,participants_face_to_face:parseInt(t[5])||0,organizer:t[6],remarks:t[7]||""})},C:{title:"LIST OF PROGRAMS/ PROJECTS/ ACTIVITIES CAREER AND JOB PLACEMENT SERVICES",endpoint:"/hei/annex-c",entityName:"programs",entityLabel:"Programs/Projects/Activities",addButtonText:"Add Another Program",columns:[{data:"title",title:"Title of Programs/Projects/Activities",type:"text",width:250,placeholder:"e.g., Job Fair 2025",required:!0},{data:"venue",title:"Venue",type:"text",width:150,placeholder:"e.g., University Auditorium",required:!0},{data:"implementation_date",title:"Date of Implementation",type:"date",dateFormat:"YYYY-MM-DD",correctFormat:!0,width:150,placeholder:"YYYY-MM-DD",required:!0},{data:"participants_online",title:"Participants (Online)",type:"numeric",numericFormat:{pattern:"0,0"},width:130,placeholder:"0",required:!1},{data:"participants_face_to_face",title:"Participants (Face-to-Face)",type:"numeric",numericFormat:{pattern:"0,0"},width:150,placeholder:"0",required:!1},{data:"organizer",title:"Organizer",type:"text",width:150,placeholder:"e.g., Career Center",required:!0},{data:"remarks",title:"Remarks (Optional)",type:"text",width:200,placeholder:"Optional notes",required:!1}],requiredFields:["title","venue","implementation_date","organizer"],dataMapper:t=>({title:t.title,venue:t.venue,implementation_date:t.implementation_date?t.implementation_date.split("T")[0]:"",participants_online:t.participants_online,participants_face_to_face:t.participants_face_to_face,organizer:t.organizer,remarks:t.remarks||""}),submitMapper:t=>({title:t[0],venue:t[1],implementation_date:t[2],participants_online:parseInt(t[3])||0,participants_face_to_face:parseInt(t[4])||0,organizer:t[5],remarks:t[6]||""})},E:{title:"LIST OF ACCREDITED/ RECOGNIZED/ AUTHORIZED STUDENT ORGANIZATIONS/ COUNCIL/ GOVERNMENT AND STUDENT ACTIVITIES",endpoint:"/hei/annex-e",entityName:"organizations",entityLabel:"Student Organizations",addButtonText:"Add Another Organization",columns:[{data:"name_of_accredited",title:"Name of Accredited/Recognized/Authorized",type:"text",width:250,placeholder:"Student Organization, Council, etc.",required:!0},{data:"years_of_existence",title:"No. of Years of Existence",type:"numeric",numericFormat:{pattern:"0"},width:130,placeholder:"0",required:!1},{data:"accredited_since",title:"Accredited/Recognized Since",type:"text",width:150,placeholder:"e.g., 2020",required:!0},{data:"faculty_adviser",title:"Faculty Adviser (if applicable)",type:"text",width:180,placeholder:"Optional",required:!1},{data:"president_and_officers",title:"President/Head and Officers",type:"text",width:250,placeholder:"use additional sheet if necessary",required:!0},{data:"specialization",title:"Specialization",type:"text",width:180,placeholder:"Drug Education, Academic, etc.",required:!0},{data:"fee_collected",title:"Fee Collected (if authorized)",type:"text",width:150,placeholder:"Optional",required:!1},{data:"programs_projects_activities",title:"Programs/Projects/Activities Undertaken",type:"text",width:250,placeholder:"as approved and monitored by HEI",required:!0}],requiredFields:["name_of_accredited","accredited_since","president_and_officers","specialization","programs_projects_activities"],dataMapper:t=>({name_of_accredited:t.name_of_accredited,years_of_existence:t.years_of_existence,accredited_since:t.accredited_since,faculty_adviser:t.faculty_adviser||"",president_and_officers:t.president_and_officers,specialization:t.specialization,fee_collected:t.fee_collected||"",programs_projects_activities:t.programs_projects_activities}),submitMapper:t=>({name_of_accredited:t[0],years_of_existence:parseInt(t[1])||0,accredited_since:t[2],faculty_adviser:t[3]||"",president_and_officers:t[4],specialization:t[5],fee_collected:t[6]||"",programs_projects_activities:t[7]})},F:{title:"LIST OF PROGRAMS/PROJECTS/ACTIVITIES STUDENT DISCIPLINE",endpoint:"/hei/annex-f",entityName:"activities",entityLabel:"Activities",addButtonText:"Add Another Activity",hasFormFields:!0,formFields:[{key:"procedure_mechanism",label:"Procedure/mechanism to address student grievance",type:"text",placeholder:"Enter procedure/mechanism",maxLength:255},{key:"complaint_desk",label:"Complaint desk",type:"text",placeholder:"Enter complaint desk",maxLength:255}],columns:[{data:"activity",title:"Activity",type:"text",width:300,placeholder:"Activity name",required:!0},{data:"date",title:"Date",type:"date",dateFormat:"YYYY-MM-DD",correctFormat:!0,width:150,placeholder:"YYYY-MM-DD",required:!0},{data:"status",title:"Status",type:"text",width:200,placeholder:"Status",required:!0}],requiredFields:["activity","date","status"],dataMapper:t=>({activity:t.activity,date:t.date?t.date.split("T")[0]:"",status:t.status}),submitMapper:t=>({activity:t[0],date:t[1],status:t[2]})},I:{title:"LIST OF SCHOLARSHIPS/STUDENT FINANCIAL ASSISTANCE",endpoint:"/hei/annex-i",entityName:"scholarships",entityLabel:"Scholarships",addButtonText:"Add Another Scholarship",columns:[{data:"scholarship_name",title:"Scholarship Name",type:"text",width:250,placeholder:"Scholarship name",required:!0},{data:"type",title:"Type",type:"text",width:150,placeholder:"Type",required:!0},{data:"category_intended_beneficiaries",title:"Category/Intended Beneficiaries",type:"text",width:250,placeholder:"Category",required:!0},{data:"number_of_beneficiaries",title:"Number of Beneficiaries",type:"numeric",width:150,placeholder:"0",required:!0},{data:"remarks",title:"Remarks",type:"text",width:200,placeholder:"Remarks",required:!1}],requiredFields:["scholarship_name","type","category_intended_beneficiaries","number_of_beneficiaries"],dataMapper:t=>({scholarship_name:t.scholarship_name,type:t.type,category_intended_beneficiaries:t.category_intended_beneficiaries,number_of_beneficiaries:t.number_of_beneficiaries,remarks:t.remarks||""}),submitMapper:t=>({scholarship_name:t[0],type:t[1],category_intended_beneficiaries:t[2],number_of_beneficiaries:parseInt(t[3])||0,remarks:t[4]||null})},J:{title:"HEALTH SERVICES",endpoint:"/hei/annex-j",entityName:"programs",entityLabel:"Health Service Programs",addButtonText:"Add Another Program",columns:[{data:"title_of_program",title:"Title of Program",type:"text",width:300,placeholder:"Program title",required:!0},{data:"organizer",title:"Organizer",type:"text",width:200,placeholder:"Organizer",required:!0},{data:"participants_online",title:"Participants (Online)",type:"numeric",numericFormat:{pattern:"0,0"},width:130,placeholder:"0",required:!1},{data:"participants_face_to_face",title:"Participants (Face-to-Face)",type:"numeric",numericFormat:{pattern:"0,0"},width:150,placeholder:"0",required:!1},{data:"remarks",title:"Remarks",type:"text",width:200,placeholder:"Remarks",required:!1}],requiredFields:["title_of_program","organizer"],dataMapper:t=>({title_of_program:t.title_of_program,organizer:t.organizer,participants_online:t.participants_online||0,participants_face_to_face:t.participants_face_to_face||0,remarks:t.remarks||""}),submitMapper:t=>({title_of_program:t[0],organizer:t[1],participants_online:parseInt(t[2])||0,participants_face_to_face:parseInt(t[3])||0,remarks:t[4]||null})},K:{title:"SAFETY AND SECURITY COMMITTEES",endpoint:"/hei/annex-k",entityName:"committees",entityLabel:"Committees",addButtonText:"Add Another Committee",columns:[{data:"committee_name",title:"Committee Name",type:"text",width:250,placeholder:"Committee name",required:!0},{data:"committee_head_name",title:"Committee Head Name",type:"text",width:200,placeholder:"Head name",required:!0},{data:"members_composition",title:"Members Composition",type:"text",width:200,placeholder:"Members",required:!0},{data:"programs_projects_activities_trainings",title:"Programs/Projects/Activities/Trainings",type:"text",width:300,placeholder:"Activities",required:!1},{data:"remarks",title:"Remarks",type:"text",width:200,placeholder:"Remarks",required:!1}],requiredFields:["committee_name","committee_head_name","members_composition"],dataMapper:t=>({committee_name:t.committee_name,committee_head_name:t.committee_head_name,members_composition:t.members_composition,programs_projects_activities_trainings:t.programs_projects_activities_trainings||"",remarks:t.remarks||""}),submitMapper:t=>({committee_name:t[0],committee_head_name:t[1],members_composition:t[2],programs_projects_activities_trainings:t[3]||null,remarks:t[4]||null})},L:{title:"STUDENT HOUSING",endpoint:"/hei/annex-l",entityName:"housing",entityLabel:"Housing Facilities",addButtonText:"Add Another Housing",hasSpecialValidation:!0,columns:[{data:"housing_name",title:"Housing Name",type:"text",width:250,placeholder:"Housing name",required:!0},{data:"complete_address",title:"Complete Address",type:"text",width:300,placeholder:"Address",required:!0},{data:"house_manager_name",title:"House Manager Name",type:"text",width:200,placeholder:"Manager name",required:!0},{data:"male",title:"Male",type:"checkbox",width:80,className:"htCenter htMiddle",required:!1},{data:"female",title:"Female",type:"checkbox",width:80,className:"htCenter htMiddle",required:!1},{data:"coed",title:"Co-ed",type:"checkbox",width:80,className:"htCenter htMiddle",required:!1},{data:"others",title:"Others (Specify)",type:"text",width:180,placeholder:"Only if no checkbox selected",required:!1,renderer:function(t,e,r,n,i,s,o){const a=t.getDataAtRow(r),l=a[3],c=a[4],d=a[5];return l||c||d?(e.style.backgroundColor="#f3f4f6",e.style.color="#9ca3af",o.readOnly=!0):(e.style.backgroundColor="",e.style.color="",o.readOnly=!1),e.innerHTML=s||"",e}},{data:"remarks",title:"Remarks",type:"text",width:200,placeholder:"Remarks",required:!1}],requiredFields:["housing_name","complete_address","house_manager_name"],dataMapper:t=>({housing_name:t.housing_name,complete_address:t.complete_address,house_manager_name:t.house_manager_name,male:t.male||!1,female:t.female||!1,coed:t.coed||!1,others:t.others||"",remarks:t.remarks||""}),submitMapper:t=>({housing_name:t[0],complete_address:t[1],house_manager_name:t[2],male:!!t[3],female:!!t[4],coed:!!t[5],others:t[6]||null,remarks:t[7]||null}),customValidation:(t,e)=>{const[r,n,i,s,o,a,l]=t;return!s&&!o&&!a&&!l?`Row ${e+1}: Please select at least one type (Male, Female, Co-ed, or specify Others)`:null}},N:{title:"CULTURE AND THE ARTS",endpoint:"/hei/annex-n",entityName:"activities",entityLabel:"Culture and Arts Activities",addButtonText:"Add Another Activity",columns:[{data:"title_of_activity",title:"Title of Activity",type:"text",width:300,placeholder:"Activity title",required:!0},{data:"implementation_date",title:"Implementation Date",type:"date",dateFormat:"YYYY-MM-DD",correctFormat:!0,width:150,placeholder:"YYYY-MM-DD",required:!0},{data:"implementation_venue",title:"Implementation Venue",type:"text",width:250,placeholder:"Venue",required:!0},{data:"participants_online",title:"Participants (Online)",type:"numeric",numericFormat:{pattern:"0,0"},width:130,placeholder:"0",required:!1},{data:"participants_face_to_face",title:"Participants (Face-to-Face)",type:"numeric",numericFormat:{pattern:"0,0"},width:150,placeholder:"0",required:!1},{data:"organizer",title:"Organizer",type:"text",width:200,placeholder:"Organizer",required:!0},{data:"remarks",title:"Remarks",type:"text",width:200,placeholder:"Remarks",required:!1}],requiredFields:["title_of_activity","implementation_date","implementation_venue","organizer"],dataMapper:t=>({title_of_activity:t.title_of_activity,implementation_date:t.implementation_date?t.implementation_date.split("T")[0]:"",implementation_venue:t.implementation_venue,participants_online:t.participants_online||0,participants_face_to_face:t.participants_face_to_face||0,organizer:t.organizer,remarks:t.remarks||""}),submitMapper:t=>({title_of_activity:t[0],implementation_date:t[1],implementation_venue:t[2],participants_online:parseInt(t[3])||0,participants_face_to_face:parseInt(t[4])||0,organizer:t[5],remarks:t[6]||null})},O:{title:"COMMUNITY INVOLVEMENT/OUTREACH PROGRAMS",endpoint:"/hei/annex-o",entityName:"programs",entityLabel:"Community Programs",addButtonText:"Add Another Program",columns:[{data:"title_of_program",title:"Title of Program",type:"text",width:300,placeholder:"Program title",required:!0},{data:"date_conducted",title:"Date Conducted",type:"date",dateFormat:"YYYY-MM-DD",correctFormat:!0,width:150,placeholder:"YYYY-MM-DD",required:!0},{data:"number_of_beneficiaries",title:"Number of Beneficiaries",type:"numeric",width:150,placeholder:"0",required:!0},{data:"type_of_community_service",title:"Type of Community Service",type:"text",width:250,placeholder:"Service type",required:!0},{data:"community_population_served",title:"Community Population Served",type:"text",width:250,placeholder:"Population served",required:!0}],requiredFields:["title_of_program","date_conducted","number_of_beneficiaries","type_of_community_service","community_population_served"],dataMapper:t=>({title_of_program:t.title_of_program,date_conducted:t.date_conducted?t.date_conducted.split("T")[0]:"",number_of_beneficiaries:t.number_of_beneficiaries,type_of_community_service:t.type_of_community_service,community_population_served:t.community_population_served}),submitMapper:t=>({title_of_program:t[0],date_conducted:t[1],number_of_beneficiaries:parseInt(t[2])||0,type_of_community_service:t[3],community_population_served:t[4]})}},sf={A:"Information and Orientation Services",B:"Guidance and Counseling Service",C:"Career and Job Placement Services",D:"Student Handbook",E:"Student Organizations",F:"Student Discipline",G:"Student Publication",H:"Admission Services",I:"Scholarships/Financial Assistance",J:"Health Services",K:"Safety and Security Committees",L:"Student Housing",M:"Sports Development",N:"Culture and the Arts",O:"Community Involvement/Outreach"},hX=t=>{const e=dX[t.toUpperCase()];if(!e)throw new Error(`No configuration found for Annex ${t}`);return e};function JBe({mode:t,submissions:e,selectedAnnex:r}){const{url:n}=bp(),i=()=>{const y=new URLSearchParams(window.location.search);return{annex:y.get("annex"),year:y.get("year"),status:y.get("status")}},s=()=>{const y=i();return y.annex?y.annex:t==="hei"?sessionStorage.getItem("selectedAnnex")||r||"all":r||"all"},o=i(),[a,l]=W.useState(o.status||"all"),[c,d]=W.useState(o.year||""),[h,f]=W.useState(s());W.useEffect(()=>{const y=i();y.status&&l(y.status),y.year&&d(y.year),y.annex&&f(y.annex)},[n]);const g=W.useMemo(()=>{if(t==="admin"){const y=[...new Set(e.map(b=>b.annex))],S=y.includes("SUMMARY"),w=y.filter(b=>b!=="SUMMARY").sort();return S?["SUMMARY",...w]:w}else return["SUMMARY",...Object.keys(sf).sort()]},[t,e]),m=W.useMemo(()=>e.filter(y=>!(a!=="all"&&y.status!==a||c&&!y.academic_year.includes(c)||h!=="all"&&y.annex!==h)),[e,a,c,h]);return{filterStatus:a,setFilterStatus:l,filterYear:c,setFilterYear:d,filterAnnex:h,handleAnnexChange:y=>{if(t==="hei"){f(y),sessionStorage.setItem("selectedAnnex",y);const S=new URLSearchParams;S.append("annex",y),c&&S.append("year",c),a!=="all"&&S.append("status",a),Gr.get("/hei/submissions/history",Object.fromEntries(S),{preserveState:!0,preserveScroll:!0})}else f(y)},annexOptions:g,filteredSubmissions:m}}function ZBe({fetchDataUrl:t}){const[e,r]=W.useState({}),[n,i]=W.useState({}),[s,o]=W.useState(null);return{expandedBatches:e,batchData:n,loadingBatch:s,toggleBatch:async(l,c)=>{const d=`${c}-${l}`;if(e[d])r(h=>({...h,[d]:!1}));else if(r(h=>({...h,[d]:!0})),!n[d]){o(d);try{const h=t.replace(":annex",c).replace(":batchId",l),g=await(await fetch(h)).json();i(m=>({...m,[d]:g}))}catch(h){console.error("Failed to fetch batch data:",h)}finally{o(null)}}}}}function e5e({submissions:t,fetchDataUrl:e}){const[r,n]=W.useState(null);return{compareModal:r,openCompareModal:async o=>{const a=t.find(l=>l.annex===o.annex&&l.academic_year===o.academic_year&&l.status==="published");if(!a){alert("No published batch found to compare with.");return}n({loading:!0});try{const l=e.replace(":annex",o.annex).replace(":batchId",o.batch_id),c=e.replace(":annex",a.annex).replace(":batchId",a.batch_id),[d,h]=await Promise.all([fetch(l),fetch(c)]),f=await d.json(),g=await h.json();n({loading:!1,newBatch:{...o,data:f},oldBatch:{...a,data:g}})}catch(l){console.error("Failed to fetch comparison data:",l),n(null)}},closeCompareModal:()=>{n(null)}}}function t5e({mode:t,filterStatus:e,setFilterStatus:r,filterYear:n,setFilterYear:i,filterAnnex:s,handleAnnexChange:o,annexOptions:a,academicYears:l,showCreateButton:c,createButtonUrl:d,selectedYear:h}){const[f,g]=W.useState(!1),m=h?`?year=${h}`:"",p=[{value:"SUMMARY",label:"Summary - School Details",url:`/hei/summary/create${m}`},...Object.keys(sf).sort().map(y=>({value:y,label:`Annex ${y} - ${sf[y]}`,url:`/hei/annex-${y.toLowerCase()}/submit${m}`}))];return u.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",children:[c&&u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filter Submissions"}),s==="all"?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>g(!f),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[u.jsx(lL,{}),"Create New...",u.jsx(HC,{className:`transition-transform ${f?"rotate-180":""}`})]}),f&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>g(!1)}),u.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-700 rounded-lg shadow-lg border border-gray-200 dark:border-gray-600 z-20 max-h-96 overflow-y-auto",children:u.jsx("div",{className:"py-2",children:p.map(y=>u.jsx(pi,{href:y.url,className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",onClick:()=>g(!1),children:y.label},y.value))})})]})]}):u.jsxs(pi,{href:s==="SUMMARY"?`/hei/summary/create${m}`:`/hei/annex-${s.toLowerCase()}/submit${m}`,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[u.jsx(lL,{}),"Create New ",s==="SUMMARY"?"Summary":s==="D"||s==="G"?"Submission":"Batch"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t==="hei"?"Select Form":"Filter by Form"}),u.jsxs("select",{value:s,onChange:y=>o(y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All Forms"}),a.map(y=>{if(y==="SUMMARY")return u.jsx("option",{value:"SUMMARY",children:"Summary - School Details"},"SUMMARY");const S=sf[y];return u.jsxs("option",{value:y,children:["Annex ",y," - ",S||y]},y)})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Status"}),u.jsxs("select",{value:e,onChange:y=>r(y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All Statuses"}),u.jsx("option",{value:"submitted",children:"Submitted"}),u.jsx("option",{value:"published",children:"Published"}),u.jsx("option",{value:"request",children:"Pending Requests"}),u.jsx("option",{value:"overwritten",children:"Overwritten"}),u.jsx("option",{value:"rejected",children:"Rejected"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Academic Year"}),u.jsxs("select",{value:n,onChange:y=>i(y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"All Years"}),l.map(y=>u.jsx("option",{value:y,children:y},y))]})]})]})]})}const r5e=t=>t?new Date(t).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",n5e=(t,e)=>{const r=t.submission||t.batch;if(!r)return u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No data available."});const n=[{title:"BASIC INFORMATION",fields:[{label:"Version Publication Date",key:"version_publication_date"},{label:"Officer in Charge",key:"officer_in_charge"},{label:"Handbook Committee",key:"handbook_committee"}]},{title:"MODE OF DISSEMINATION",fields:[{label:"Dissemination Orientation",key:"dissemination_orientation",isBoolean:!0},{label:"Orientation Dates",key:"orientation_dates"},{label:"Mode of Delivery",key:"mode_of_delivery"},{label:"Dissemination Uploaded",key:"dissemination_uploaded",isBoolean:!0},{label:"Dissemination Others",key:"dissemination_others",isBoolean:!0},{label:"Dissemination Others Text",key:"dissemination_others_text"}]},{title:"TYPE OF HANDBOOK/MANUAL",fields:[{label:"Type Digital",key:"type_digital",isBoolean:!0},{label:"Type Printed",key:"type_printed",isBoolean:!0},{label:"Type Others",key:"type_others",isBoolean:!0},{label:"Type Others Text",key:"type_others_text"}]},{title:"CHECKLIST",fields:[{label:"Academic Policies",key:"has_academic_policies",isBoolean:!0},{label:"Admission Requirements",key:"has_admission_requirements",isBoolean:!0},{label:"Code of Conduct",key:"has_code_of_conduct",isBoolean:!0},{label:"Scholarships",key:"has_scholarships",isBoolean:!0},{label:"Student Publication",key:"has_student_publication",isBoolean:!0},{label:"Housing Services",key:"has_housing_services",isBoolean:!0},{label:"Disability Services",key:"has_disability_services",isBoolean:!0},{label:"Student Council",key:"has_student_council",isBoolean:!0},{label:"Refund Policies",key:"has_refund_policies",isBoolean:!0},{label:"Drug Education",key:"has_drug_education",isBoolean:!0},{label:"Foreign Students",key:"has_foreign_students",isBoolean:!0},{label:"Disaster Management",key:"has_disaster_management",isBoolean:!0},{label:"Safe Spaces",key:"has_safe_spaces",isBoolean:!0},{label:"Anti Hazing",key:"has_anti_hazing",isBoolean:!0},{label:"Anti Bullying",key:"has_anti_bullying",isBoolean:!0},{label:"Violence Against Women",key:"has_violence_against_women",isBoolean:!0},{label:"Gender Fair",key:"has_gender_fair",isBoolean:!0},{label:"Others",key:"has_others",isBoolean:!0},{label:"Others Text",key:"has_others_text"}]}];return u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-300 dark:divide-gray-600 text-sm border border-gray-300 dark:border-gray-600",children:[u.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600",children:"Field"}),u.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600",children:"Value"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.map(i=>u.jsxs(bt.Fragment,{children:[u.jsx("tr",{className:"bg-gray-50 dark:bg-gray-700/50",children:u.jsx("td",{colSpan:2,className:"px-3 py-2 font-bold text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600",children:i.title})}),i.fields.map(s=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-3 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600",children:s.label}),u.jsx("td",{className:"px-3 py-2 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600",children:s.isBoolean?r[s.key]?u.jsx(mw,{className:"text-green-500 text-lg"}):u.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"No"}):r[s.key]||u.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"NULL"})})]},s.key))]},i.title))})]})})},i5e=(t,e)=>{const r=t.form_data,n=t.editorial_boards||[],i=[{data:"name",title:"Name",type:"text",readOnly:!0,width:200},{data:"position_in_editorial_board",title:"Position",type:"text",readOnly:!0,width:200},{data:"degree_program_year_level",title:"Degree Program & Year",type:"text",readOnly:!0,width:250}];return u.jsxs("div",{className:"space-y-4",children:[r&&u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border border-gray-200 dark:border-gray-700",children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Publication Information"}),u.jsx("div",{className:"grid grid-cols-2 gap-4 text-sm",children:r.official_school_name&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"School Name:"}),u.jsx("p",{className:"text-gray-900 dark:text-white",children:r.official_school_name})]})})]}),n.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Editorial Board Members"}),u.jsx("div",{className:"overflow-auto",children:u.jsx(xo,{data:n,colHeaders:!0,rowHeaders:!0,columns:i,height:"auto",licenseKey:"non-commercial-and-evaluation",stretchH:"all",className:Ec})})]})]})},s5e=(t,e)=>{const r=t.admission_services||[],n=t.admission_statistics||[],i=[{data:"service_type",title:"Service Type",type:"text",readOnly:!0,width:250},{data:"with",title:"Available",type:"checkbox",readOnly:!0,width:100,className:"htCenter htMiddle"},{data:"supporting_documents",title:"Supporting Documents",type:"text",readOnly:!0,width:200},{data:"remarks",title:"Remarks",type:"text",readOnly:!0,width:200}],s=[{data:"program",title:"Program",type:"text",readOnly:!0,width:250},{data:"applicants",title:"Applicants",type:"numeric",readOnly:!0,width:120},{data:"admitted",title:"Admitted",type:"numeric",readOnly:!0,width:120},{data:"enrolled",title:"Enrolled",type:"numeric",readOnly:!0,width:120}];return u.jsxs("div",{className:"space-y-6",children:[r.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:["Admission Services (",r.length," entries)"]}),u.jsx("div",{className:"overflow-auto",children:u.jsx(xo,{data:r,colHeaders:!0,rowHeaders:!0,columns:i,height:"auto",licenseKey:"non-commercial-and-evaluation",stretchH:"all",className:Ec})})]}),n.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:["Admission Statistics (",n.length," entries)"]}),u.jsx("div",{className:"overflow-auto",children:u.jsx(xo,{data:n,colHeaders:!0,rowHeaders:!0,columns:s,height:"auto",licenseKey:"non-commercial-and-evaluation",stretchH:"all",className:Ec})})]})]})},o5e=(t,e)=>{const r=t.statistics||[],n=t.services||[];let i=[];if(r.length>0){const f=new Set;r.forEach(g=>{let m=g.year_data;if(typeof m=="string")try{m=JSON.parse(m)}catch(p){console.error("Failed to parse year_data:",p);return}m&&typeof m=="object"&&!Array.isArray(m)&&Object.keys(m).forEach(p=>f.add(p))}),i=Array.from(f).sort()}const s=["A. Persons with Disabilities","B. Indigenous People","C. Dependents of Solo Parents / Solo Parents","D. Other students with special needs"],o={};s.forEach(f=>{o[f]=n.filter(g=>g.section===f)});const a=f=>{let g=f.year_data;if(typeof g=="string")try{g=JSON.parse(g)}catch{return{}}return g||{}},l=f=>{const g=a(f);return i.reduce((m,p)=>{var y;return m+(parseInt((y=g[p])==null?void 0:y.enrollment)||0)},0)},c=f=>{const g=a(f);return i.reduce((m,p)=>{var y;return m+(parseInt((y=g[p])==null?void 0:y.graduates)||0)},0)},d=()=>{let f=null,g=0;const m={};return r.forEach((p,y)=>{p.category!==f?(f!==null&&(m[f]={start:y-g,count:g}),f=p.category,g=1):g++}),f!==null&&(m[f]={start:r.length-g,count:g}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 border border-gray-200 dark:border-gray-700 text-sm",children:[u.jsxs("thead",{className:"bg-gray-50 dark:bg-gray-700",children:[u.jsxs("tr",{children:[u.jsx("th",{rowSpan:"2",className:"px-3 py-2 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-b border-gray-200 dark:border-gray-600",children:"Category"}),u.jsx("th",{rowSpan:"2",className:"px-3 py-2 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-b border-gray-200 dark:border-gray-600",children:"Subcategory"}),i.map(p=>u.jsxs("th",{colSpan:"2",className:"px-2 py-2 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-b border-gray-200 dark:border-gray-600",children:["AY ",p]},p)),u.jsx("th",{colSpan:"2",className:"px-2 py-2 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-b border-gray-200 dark:border-gray-600",children:"Total"})]}),u.jsxs("tr",{children:[i.map(p=>u.jsxs(bt.Fragment,{children:[u.jsx("th",{className:"px-2 py-1 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-600",children:"Enroll"}),u.jsx("th",{className:"px-2 py-1 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-600",children:"Grad"})]},p)),u.jsx("th",{className:"px-2 py-1 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-600",children:"Enroll"}),u.jsx("th",{className:"px-2 py-1 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-600",children:"Grad"})]})]}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:r.map((p,y)=>{const S=y===0||r[y-1].category!==p.category,w=m[p.category],b=S?w.count:0,N=p.is_subtotal||p.category==="TOTAL"?"bg-gray-100 dark:bg-gray-700/50 font-semibold":"bg-white dark:bg-gray-800";return u.jsxs("tr",{className:N,children:[S&&u.jsx("td",{rowSpan:b,className:"px-3 py-2 text-sm font-medium text-gray-900 dark:text-gray-100 border-r border-gray-200 dark:border-gray-600 align-top",children:p.category}),u.jsx("td",{className:"px-3 py-2 text-sm border-r border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:p.subcategory||(p.category==="TOTAL"?"TOTAL":"")}),i.map(P=>{var R,I;const k=a(p);return u.jsxs(bt.Fragment,{children:[u.jsx("td",{className:"px-2 py-2 text-sm text-center border-r border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:((R=k[P])==null?void 0:R.enrollment)??0}),u.jsx("td",{className:"px-2 py-2 text-sm text-center border-r border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:((I=k[P])==null?void 0:I.graduates)??0})]},P)}),u.jsx("td",{className:"px-2 py-2 text-sm text-center font-semibold border-r border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:l(p)}),u.jsx("td",{className:"px-2 py-2 text-sm text-center font-semibold bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:c(p)})]},y)})})]})})},h=f=>{const g=o[f]||[];return g.length===0?u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic ml-4",children:"No services for this section."}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 border border-gray-200 dark:border-gray-700 text-sm",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-600",children:"Category"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-600",children:"Institutional Services/Programs/Activities"}),u.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-600",children:"No. of Beneficiaries/Participants"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Remarks"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:g.map((m,p)=>{var y;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-3 py-2 text-sm border-r border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:m.category||"-"}),u.jsx("td",{className:"px-3 py-2 text-sm border-r border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:m.institutional_services_programs_activities}),u.jsx("td",{className:"px-3 py-2 text-sm text-center border-r border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100",children:(y=m.number_of_beneficiaries_participants)==null?void 0:y.toLocaleString()}),u.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 dark:text-gray-100",children:m.remarks||"-"})]},p)})})]})})};return u.jsxs("div",{className:"space-y-6",children:[r.length>0&&u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Table 1: Statistics"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Enrollment and graduate statistics across the last three academic years."}),d()]}),n.length>0&&u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Table 2: Services"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Institutional services, programs, and activities for each category of students with special needs."}),u.jsx("div",{className:"space-y-4",children:s.map(f=>u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:f}),h(f)]},f))})]})]})},a5e=t=>{var r,n,i,s;const e=t.summary;return e?u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border border-gray-200 dark:border-gray-700",children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Summary"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Academic Year:"}),u.jsx("p",{className:"text-gray-900 dark:text-white",children:e.academic_year})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Status:"}),u.jsx("p",{className:"text-gray-900 dark:text-white capitalize",children:e.status})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Male Population:"}),u.jsx("p",{className:"text-gray-900 dark:text-white",children:(r=e.population_male)==null?void 0:r.toLocaleString()})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Female Population:"}),u.jsx("p",{className:"text-gray-900 dark:text-white",children:(n=e.population_female)==null?void 0:n.toLocaleString()})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Intersex Population:"}),u.jsx("p",{className:"text-gray-900 dark:text-white",children:(i=e.population_intersex)==null?void 0:i.toLocaleString()})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Total Population:"}),u.jsx("p",{className:"text-gray-900 dark:text-white",children:(s=e.population_total)==null?void 0:s.toLocaleString()})]}),e.hei_website&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"HEI Website:"}),u.jsx("p",{className:"text-gray-900 dark:text-white break-all",children:e.hei_website})]}),e.sas_website&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"SAS Website:"}),u.jsx("p",{className:"text-gray-900 dark:text-white break-all",children:e.sas_website})]}),e.student_handbook&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Student Handbook:"}),u.jsx("p",{className:"text-gray-900 dark:text-white",children:e.student_handbook})]}),e.student_publication&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Student Publication:"}),u.jsx("p",{className:"text-gray-900 dark:text-white",children:e.student_publication})]})]}),e.social_media_contacts&&e.social_media_contacts.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Social Media Contacts:"}),u.jsx("ul",{className:"list-disc list-inside text-gray-900 dark:text-white mt-1",children:e.social_media_contacts.map((o,a)=>u.jsx("li",{className:"break-all",children:o},a))})]})]}):u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No data available."})};function l5e(t,e,r){if(!dX[t])return u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading..."});const n=hX(t),i=e.entities||[];if(i.length===0)return u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No data available."});const s=n.columns.map(o=>({...o,readOnly:!0,width:o.width*.8}));return u.jsx("div",{children:u.jsx(xo,{data:i.map(n.dataMapper),columns:s,colHeaders:!0,rowHeaders:!0,height:"auto",licenseKey:"non-commercial-and-evaluation",readOnly:!0,stretchH:"all",className:r?"dark-table":""})})}function cA(t,e,r){return t==="SUMMARY"?a5e(e):t==="D"?n5e(e):t==="G"?i5e(e):t==="H"?s5e(e):t==="M"?o5e(e):l5e(t,e,r)}function c5e({submission:t,mode:e,isExpanded:r,batchData:n,isLoading:i,isDark:s,onToggle:o,onApprove:a,onReject:l,onCompare:c}){const d=`${t.annex}-${t.batch_id}`,h=n[d];return u.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[u.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center justify-between",onClick:()=>o(t.batch_id,t.annex),children:u.jsxs("div",{className:"flex-1 grid grid-cols-6 gap-4 items-center",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.annex==="SUMMARY"?"Summary":`Annex ${t.annex}`}),u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.annex==="SUMMARY"?"School Details":sf[t.annex]})]}),u.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:t.academic_year}),u.jsx("div",{className:"flex justify-center",children:u.jsx(aa,{status:t.status})}),u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r5e(t.submitted_at||t.created_at)}),u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:t.request_notes||"-"}),u.jsxs("div",{className:"flex justify-end items-center gap-2",children:[e==="hei"&&u.jsx(pi,{href:t.annex==="SUMMARY"?`/hei/summary/${t.id}/edit`:`/hei/annex-${t.annex.toLowerCase()}/${t.route_id}/edit`,onClick:f=>f.stopPropagation(),children:u.jsx(yo,{variant:"blue",title:"Edit",children:u.jsx(Qre,{size:20})})}),e==="admin"&&t.status==="request"&&u.jsxs("div",{className:"flex gap-2",onClick:f=>f.stopPropagation(),children:[u.jsx(yo,{variant:"blue",onClick:()=>c(t),title:"Compare",children:u.jsx(rz,{size:20})}),u.jsx(yo,{variant:"green",onClick:()=>a(t.id,t.annex),title:"Approve",children:u.jsx(ez,{size:20})}),u.jsx(yo,{variant:"red",onClick:()=>l(t.id,t.annex),title:"Reject",children:u.jsx(tz,{size:20})})]}),r?u.jsx(qre,{className:"text-gray-400",size:20}):u.jsx(HC,{className:"text-gray-400",size:20})]})]})}),r&&u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-900",children:i?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"}),u.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading data..."})]}):h?cA(t.annex,h,s):u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Failed to load data."})})]})}function u5e({compareModal:t,isDark:e,onClose:r,onApprove:n}){return t?u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:r}),u.jsx("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-7xl w-full max-h-[90vh] overflow-hidden",children:t.loading?u.jsxs("div",{className:"p-8 text-center",children:[u.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"}),u.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading comparison..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Compare: Annex ",t.newBatch.annex," - ",t.newBatch.academic_year]})}),u.jsx("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300",children:"Published"})," Current"]}),cA(t.oldBatch.annex,t.oldBatch.data,e)]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300",children:"Request"})," New"]}),cA(t.newBatch.annex,t.newBatch.data,e)]})]})}),u.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[u.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-white rounded hover:bg-gray-400",children:"Close"}),u.jsx("button",{onClick:()=>{r(),n(t.newBatch.id,t.newBatch.annex)},className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Approve Request"})]})]})})]})}):null}qw();function fX({mode:t="hei",submissions:e,academicYears:r,selectedAnnex:n,fetchDataUrl:i,onApprove:s,onReject:o,onCancel:a,showCreateButton:l=!1,createButtonUrl:c,selectedYear:d}){const h=JR(),{filterStatus:f,setFilterStatus:g,filterYear:m,setFilterYear:p,filterAnnex:y,handleAnnexChange:S,annexOptions:w,filteredSubmissions:b}=JBe({mode:t,submissions:e,selectedAnnex:n}),{expandedBatches:C,batchData:N,loadingBatch:P,toggleBatch:k}=ZBe({fetchDataUrl:i}),{compareModal:R,openCompareModal:I,closeCompareModal:O}=e5e({submissions:e,fetchDataUrl:i}),Z=e.length>0,q=b.length>0;return u.jsxs(u.Fragment,{children:[u.jsx("style",{children:Xw}),u.jsx(t5e,{mode:t,filterStatus:f,setFilterStatus:g,filterYear:m,setFilterYear:p,filterAnnex:y,handleAnnexChange:S,annexOptions:w,academicYears:r,showCreateButton:l,createButtonUrl:c,selectedYear:d}),u.jsx("div",{className:"space-y-2",children:Z?q?b.map(J=>{const re=`${J.annex}-${J.batch_id}`,ue=C[re],ve=P===re;return u.jsx(c5e,{submission:J,mode:t,isExpanded:ue,batchData:N,isLoading:ve,isDark:h,onToggle:k,onApprove:s,onReject:o,onCompare:I},re)}):u.jsx(lA,{title:"No Matching Submissions",message:"No submissions match your current filters. Try adjusting the filters above."}):u.jsx(lA,{title:"No Submissions Yet",message:"You haven't created any submissions yet. Get started by creating your first submission.",buttonText:l?"Create Your First Submission":void 0,buttonHref:l?`/hei/annex-${y.toLowerCase()}/submit`:void 0})}),t==="admin"&&u.jsx(u5e,{compareModal:R,isDark:h,onClose:O,onApprove:s})]})}function d5e({hei:t,submissions:e,academicYears:r}){const n=(o,a)=>{confirm("Approve this request? The current published batch will be overwritten and its remarks will be archived.")&&Gr.post(`/admin/submissions/${o}/approve`,{annex_type:a})},i=(o,a)=>{const l=prompt("Reason for rejection (optional):");l!==null&&Gr.post(`/admin/submissions/${o}/reject`,{annex_type:a,rejection_reason:l})},s=e.filter(o=>o.status==="request").length;return u.jsx(Ef,{title:`Submissions - ${t.name}`,pendingCount:s,children:u.jsxs("div",{children:[u.jsxs("div",{className:"mb-6",children:[u.jsx(pi,{href:"/admin/submissions",className:"text-blue-600 dark:text-blue-400 hover:underline mb-4 inline-block",children:" Back to HEI List"}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:t.name}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:["Code: ",t.code]})]}),u.jsx(fX,{mode:"admin",submissions:e,academicYears:r,fetchDataUrl:"/admin/submissions/:annex/:batchId/data",onApprove:n,onReject:i})]})})}const h5e=Object.freeze(Object.defineProperty({__proto__:null,default:d5e},Symbol.toStringTag,{value:"Module"})),wo=({label:t,name:e,type:r="text",value:n,onChange:i,error:s=null,placeholder:o="",required:a=!1,disabled:l=!1,className:c="",helperText:d=null})=>{const[h,f]=W.useState(!1),g=r==="password",m=g&&h?"text":r;return u.jsxs("div",{className:c,children:[t&&u.jsxs("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[t,a&&u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:m,id:e,name:e,value:n,onChange:i,placeholder:o,required:a,disabled:l,className:`w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 ${s?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"} ${l?"bg-gray-100 dark:bg-gray-800 cursor-not-allowed":""} ${g?"pr-12":""}`}),g&&u.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none transition-colors","aria-label":h?"Hide password":"Show password",children:h?u.jsx(dv,{size:20}):u.jsx(hv,{size:20})})]}),s&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s}),d&&!s&&u.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:d})]})},f5e=()=>{const{data:t,setData:e,put:r,processing:n,errors:i,reset:s}=Dc({current_password:"",password:"",password_confirmation:""}),o=a=>{a.preventDefault(),r("/change-password",{onSuccess:()=>s()})};return u.jsx(gw,{title:"Change Password",children:u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Change Password"}),u.jsxs("form",{onSubmit:o,className:"space-y-6",children:[u.jsx(wo,{label:"Current Password",name:"current_password",type:"password",value:t.current_password,onChange:a=>e("current_password",a.target.value),error:i.current_password,required:!0}),u.jsx(wo,{label:"New Password",name:"password",type:"password",value:t.password,onChange:a=>e("password",a.target.value),error:i.password,required:!0}),u.jsx(wo,{label:"Confirm New Password",name:"password_confirmation",type:"password",value:t.password_confirmation,onChange:a=>e("password_confirmation",a.target.value),error:i.password_confirmation,required:!0}),u.jsxs("div",{className:"flex justify-end gap-4",children:[u.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Updating...":"Update Password"})]})]})]})})})},g5e=Object.freeze(Object.defineProperty({__proto__:null,default:f5e},Symbol.toStringTag,{value:"Module"})),m5e=({status:t})=>{const{data:e,setData:r,post:n,processing:i,errors:s}=Dc({email:""}),o=a=>{a.preventDefault(),n("/forgot-password")};return u.jsxs(u.Fragment,{children:[u.jsx(O_,{title:"Forgot Password"}),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("img",{src:"/images/ched_logo.png",alt:"CHED Logo",className:"mx-auto h-20 w-20 object-contain"}),u.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:"Reset Password"}),u.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Enter your email to receive password reset instructions"})]}),u.jsx("form",{className:"mt-8 space-y-6",onSubmit:o,children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 space-y-4",children:[t&&u.jsx($c,{type:"success",message:t}),u.jsx(wo,{label:"Email Address",name:"email",type:"email",value:e.email,onChange:a=>r("email",a.target.value),error:s.email,required:!0,placeholder:"your.email@example.com"}),u.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Sending...":"Send Reset Link"}),u.jsx("div",{className:"text-center",children:u.jsx(pi,{href:"/login",className:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400",children:"Back to Login"})})]})})]})})]})},p5e=Object.freeze(Object.defineProperty({__proto__:null,default:m5e},Symbol.toStringTag,{value:"Module"})),y5e=({isOpen:t,onClose:e})=>t?u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),u.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full mx-4 p-6 animate-slide-in",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors","aria-label":"Close",children:u.jsx(H_,{size:24})}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:u.jsx(nz,{className:"text-blue-600 dark:text-blue-400",size:24})}),u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Contact Administrator"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Need access to the system? Please contact your administrator using the information below:"}),u.jsxs("div",{className:"space-y-3 pt-2",children:[u.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[u.jsx(MA,{className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0",size:20}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Email"}),u.jsx("a",{href:"mailto:admin@ched.gov.ph",className:"text-sm font-medium text-blue-600 dark:text-blue-400 hover:underline",children:"admin@ched.gov.ph"})]})]}),u.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[u.jsx(Xm,{className:"text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0",size:20}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Phone"}),u.jsx("a",{href:"tel:+6328441143",className:"text-sm font-medium text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"+63 (2) 8441-1143"})]})]})]}),u.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Please provide your institution details and contact information when requesting access."})})]}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{onClick:e,className:"w-full py-2.5 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Close"})})]})]}):null,v5e=()=>{const[t,e]=W.useState(!1),[r,n]=W.useState({x:0,y:0}),[i,s]=W.useState({x:0,y:0}),{data:o,setData:a,post:l,processing:c,errors:d}=Dc({email:"",password:"",remember:!1});W.useEffect(()=>{const f=g=>{const m=(g.clientX/window.innerWidth-.5)*20,p=(g.clientY/window.innerHeight-.5)*20;n({x:m,y:p});const y=(g.clientX/window.innerWidth-.5)*8,S=(g.clientY/window.innerHeight-.5)*8;s({x:y,y:S})};return window.addEventListener("mousemove",f),()=>window.removeEventListener("mousemove",f)},[]),W.useEffect(()=>{const f=document.getElementById("icosphere-container");if(!f)return;const g=window.THREE;if(!g){console.error("THREE.js not loaded");return}const m=new g.Scene,p=new g.PerspectiveCamera(75,f.clientWidth/f.clientHeight,.1,1e3),y=new g.WebGLRenderer({alpha:!0,antialias:!0});y.setSize(f.clientWidth,f.clientHeight),y.setClearColor(0,0),f.style.pointerEvents="none",f.appendChild(y.domElement);const S=new g.IcosahedronGeometry(2,1),w=new g.MeshPhongMaterial({color:16777215,flatShading:!0,shininess:30,transparent:!0,opacity:.3}),b=new g.Mesh(S,w);m.add(b);const C=new g.IcosahedronGeometry(2.5,0),N=new g.LineBasicMaterial({color:16711680,transparent:!0,opacity:.6,linewidth:1}),P=new g.LineSegments(new g.EdgesGeometry(C),N);m.add(P);const k=new g.BufferGeometry,R=C.attributes.position.array;k.setAttribute("position",new g.Float32BufferAttribute(R,3));const I=new g.PointsMaterial({color:16777215,size:.15,transparent:!0,opacity:.8}),O=new g.Points(k,I);m.add(O);const Z=new g.AmbientLight(16777215,.5);m.add(Z);const q=new g.DirectionalLight(16777215,.8);q.position.set(5,5,5),m.add(q);const J=new g.DirectionalLight(4491519,.4);J.position.set(-5,-5,-5),m.add(J),p.position.z=6;let re=0;const ue=()=>{requestAnimationFrame(ue),re+=7e-4,b.rotation.y=re,b.rotation.x=re*.5,P.rotation.y=re,P.rotation.x=re*.5,O.rotation.y=re,O.rotation.x=re*.5,y.render(m,p)};ue();const ve=()=>{p.aspect=f.clientWidth/f.clientHeight,p.updateProjectionMatrix(),y.setSize(f.clientWidth,f.clientHeight)};return window.addEventListener("resize",ve),()=>{window.removeEventListener("resize",ve),f.contains(y.domElement)&&f.removeChild(y.domElement),S.dispose(),w.dispose(),C.dispose(),N.dispose(),k.dispose(),I.dispose(),y.dispose()}},[]);const h=f=>{f.preventDefault(),l("/login")};return u.jsxs(u.Fragment,{children:[u.jsx(O_,{title:"Login - CHED HEI System"}),u.jsxs("div",{className:"min-h-screen flex overflow-hidden",children:[u.jsxs("div",{className:"hidden lg:block lg:w-2/3 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 transition-transform duration-300 ease-out",style:{backgroundImage:"url(/images/login_bg.jpg)",backgroundSize:"cover",backgroundPosition:"center",transform:`translate(${r.x}px, ${r.y}px) scale(1.1)`,filter:"blur(5px)"}}),u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute top-1/4 right-1/4 w-64 h-64 rounded-full bg-white/50 blur-[10px] animate-float",style:{animationDelay:"0s",animationDuration:"12s"}}),u.jsx("div",{className:"absolute top-20 left-1/4 w-56 h-56 rounded-full bg-white/50 blur-[9px] animate-float",style:{animationDelay:"2s",animationDuration:"15s"}}),u.jsx("div",{className:"absolute bottom-1/3 right-1/3 w-48 h-48 rounded-full bg-white/50 blur-[8px] animate-float",style:{animationDelay:"4s",animationDuration:"10s"}}),u.jsx("div",{className:"absolute top-1/3 right-1/6 w-52 h-52 rounded-full bg-white/50 blur-[9px] animate-float",style:{animationDelay:"1s",animationDuration:"13s"}}),u.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-60 h-60 rounded-full bg-white/50 blur-[10px] animate-float",style:{animationDelay:"3s",animationDuration:"14s"}}),u.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-72 h-72 rounded-full bg-white/8 blur-2xl animate-float",style:{animationDelay:"5s",animationDuration:"18s"}})]}),u.jsx("div",{id:"icosphere-container",className:"absolute inset-0 transition-transform duration-300 ease-out",style:{transform:`translate(${i.x}px, ${i.y}px)`,filter:"blur(0.5px)"}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-800/40 via-blue-900/60 to-blue-950/80 dark:from-blue-900/60 dark:via-blue-950/80 dark:to-blue-950/95"}),u.jsx("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white p-12",children:u.jsxs("div",{className:"max-w-lg text-center space-y-6",children:[u.jsx("h2",{className:"text-5xl font-bold leading-tight drop-shadow-2xl",children:"Empowering Education"}),u.jsx("p",{className:"text-xl text-white drop-shadow-lg",children:"Your gateway to comprehensive student affairs and services management"}),u.jsxs("div",{className:"mt-12 space-y-4 text-left",children:[u.jsxs("div",{className:"flex items-center gap-4 backdrop-blur-sm bg-white/20 p-4 rounded-xl",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:"Secure Access"}),u.jsx("p",{className:"text-sm text-white",children:"Enterprise-grade security for your data"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 backdrop-blur-sm bg-white/20 p-4 rounded-xl",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:"Real-time Updates"}),u.jsx("p",{className:"text-sm text-white",children:"Stay connected with instant notifications"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 backdrop-blur-sm bg-white/20 p-4 rounded-xl",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:"Comprehensive Analytics"}),u.jsx("p",{className:"text-sm text-white",children:"Make data-driven decisions"})]})]})]})]})})]}),u.jsx("div",{className:"w-full lg:w-1/3 flex items-center justify-center p-6 sm:p-8 bg-white dark:bg-gray-800 relative z-10 shadow-2xl",children:u.jsxs("div",{className:"max-w-md w-full",children:[u.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[u.jsx("img",{src:"/images/ched_logo.png",alt:"CHED Logo",className:"h-20 w-20 object-contain mx-auto mb-6"}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Welcome Back"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"CHED SASIS Management System - IX"})]}),u.jsxs("form",{className:"space-y-5 animate-slide-in",onSubmit:h,children:[u.jsx(wo,{label:"Email Address",name:"email",type:"email",value:o.email,onChange:f=>a("email",f.target.value),error:d.email,required:!0,placeholder:"your.email@example.com"}),u.jsx(wo,{label:"Password",name:"password",type:"password",value:o.password,onChange:f=>a("password",f.target.value),error:d.password,required:!0,placeholder:""}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"remember",name:"remember",type:"checkbox",checked:o.remember,onChange:f=>a("remember",f.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-2 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded transition-colors"}),u.jsx("label",{htmlFor:"remember",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300 select-none cursor-pointer",children:"Remember me"})]}),u.jsx("a",{href:"/forgot-password",className:"text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:"Forgot password?"})]}),u.jsx("button",{type:"submit",disabled:c,className:"w-full py-3.5 px-4 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none transition-all duration-200",children:c?u.jsxs("span",{className:"flex items-center justify-center",children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In to Your Account"})]}),u.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600 dark:text-gray-400",children:["Need an account?"," ",u.jsx("button",{type:"button",onClick:()=>e(!0),className:"font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors underline",children:"Contact administrator"})]}),u.jsxs("div",{className:"mt-8 text-center text-xs text-gray-500 dark:text-gray-500",children:[u.jsx("p",{children:"Commission on Higher Education"}),u.jsx("p",{className:"mt-1",children:"Republic of the Philippines"})]})]})}),u.jsx(y5e,{isOpen:t,onClose:()=>e(!1)})]}),u.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0px) translateX(0px); }
          33% { transform: translateY(-20px) translateX(10px); }
          66% { transform: translateY(10px) translateX(-10px); }
        }
        
        .animate-float {
          animation: float 8s ease-in-out infinite;
        }
      `})]})},w5e=Object.freeze(Object.defineProperty({__proto__:null,default:v5e},Symbol.toStringTag,{value:"Module"})),b5e=({hei:t,academicYears:e,selectedYear:r,onYearChange:n})=>{const i=s=>{const o=s.target.value;n?n(o):Gr.get(window.location.pathname,{year:o},{preserveState:!1,preserveScroll:!0})};return u.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 sticky top-0 z-10",children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[u.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"UII:"}),u.jsx("span",{children:t.uii}),u.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:""}),u.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:t.type}),u.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:""}),u.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"AY"}),u.jsx("select",{value:r,onChange:i,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:e.map(s=>u.jsx("option",{value:s,children:s},s))})]})})})},Cd=({title:t,children:e,showHeader:r=!0})=>{const{props:n,url:i}=bp(),{hei:s,academicYears:o,selectedYear:a}=n,l=new URLSearchParams(window.location.search).get("year")||a,c=l?`?year=${l}`:"",d=[{href:`/hei/dashboard${c}`,label:"Dashboard",icon:u.jsx(NA,{})},{href:`/hei/submissions/history${c}`,label:"Submissions",icon:u.jsx(Qm,{})}];return u.jsx(HA,{permission:cn.VIEW_OWN_SUBMISSIONS,children:u.jsx(gw,{title:t,children:u.jsxs("div",{className:"flex",children:[u.jsx(OA,{links:d}),u.jsxs("div",{className:"flex-1",children:[r&&s&&o&&a&&u.jsx(b5e,{hei:s,academicYears:o,selectedYear:l||a}),u.jsx("div",{className:"p-6",children:e})]})]})})})},S5e=({stats:t})=>u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(uc,{title:"Submitted",value:t.submitted,icon:u.jsx(mw,{className:"w-6 h-6"}),color:"bleue"}),u.jsx(uc,{title:"Under Review",value:t.underReview,icon:u.jsx(az,{className:"w-6 h-6"}),color:"yellow"}),u.jsx(uc,{title:"Not Started",value:t.notStarted,icon:u.jsx(Sp,{className:"w-6 h-6"}),color:"red"})]}),x5e=({annex:t,name:e,status:r,lastUpdated:n,selectedYear:i})=>{const s=()=>{const l="/hei/submissions/history",c=new URLSearchParams;return c.append("annex",t),i&&c.append("year",i),`${l}?${c.toString()}`},o=t==="SUMMARY"?Z5:Sp,a=["submitted","published","request","not_started"].includes(r);return u.jsxs(pi,{href:s(),className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-all cursor-pointer group",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsx("div",{className:"p-2 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:u.jsx(o,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t==="SUMMARY"?"General Information Summary":`Annex ${t}: ${e}`}),a&&u.jsx(aa,{status:r})]}),n&&u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Updated ",new Date(n).toLocaleDateString()]})]})]}),u.jsx(jC,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"})]})},C5e=({checklist:t,selectedYear:e})=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Submission Checklist"}),u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Track your progress for AY ",e]})]}),u.jsx("div",{className:"p-6 space-y-3",children:t.map(r=>u.jsx(x5e,{annex:r.annex,name:r.name,status:r.status,recordCount:r.recordCount,lastUpdated:r.lastUpdated,selectedYear:e},r.annex))})]}),_5e=({deadline:t,progressPercentage:e})=>{const n=t.isPastDeadline?{color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",icon:jN,message:"Deadline passed"}:t.daysRemaining<=30?{color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800",icon:jN,message:"Deadline approaching"}:{color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",icon:one,message:"On track"},i=n.icon;return u.jsxs("div",{className:`${n.bgColor} border rounded-xl p-6`,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 bg-white dark:bg-gray-800 rounded-lg ${n.color}`,children:u.jsx(i,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Annual Submission Deadline"}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[new Date(t.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),u.jsx("span",{className:"mx-2",children:""}),u.jsxs("span",{className:t.daysRemaining<=30?"font-semibold":"",children:[t.daysRemaining," days remaining"]})]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[e,"%"]}),u.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Complete"})]})]}),u.jsx("div",{className:"mt-4 bg-white dark:bg-gray-700 rounded-lg h-3 overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all duration-500",style:{width:`${e}%`}})})]})},R5e=({checklist:t,selectedYear:e})=>{const r=W.useMemo(()=>{if(!t||t.length===0)return null;const o=["SUMMARY","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O"];for(const a of o){const l=t.find(c=>c.annex===a);if(l&&l.status==="not_started")return l}return null},[t]),n=W.useMemo(()=>!t||t.length===0?!1:t.every(o=>o.status!=="not_started"),[t]),i=()=>{const o=e?`?year=${e}`:"";return r?r.annex==="SUMMARY"?`/hei/summary/create${o}`:`/hei/annex-${r.annex.toLowerCase()}/submit${o}`:`/hei/submissions/history${o}`},s=()=>r?r.annex==="SUMMARY"?"Continue Summary":`Continue Annex ${r.annex}`:"View All Forms";return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[u.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),u.jsxs("div",{className:"space-y-3",children:[n?u.jsxs("button",{disabled:!0,className:"w-full px-4 py-3 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-lg font-medium flex items-center justify-center gap-2 cursor-not-allowed",children:[u.jsx(mw,{className:"w-5 h-5"}),"All Forms Submitted"]}):u.jsxs(pi,{href:i(),className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center gap-2",children:[u.jsx(az,{className:"w-4 h-4"}),s()]}),u.jsxs(pi,{href:`/hei/submissions/history${e?`?year=${e}`:""}`,className:"w-full px-4 py-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors font-medium flex items-center justify-center gap-2",children:[u.jsx(Sp,{className:"w-4 h-4"}),"View All Forms"]})]})]})},E5e=()=>{const[t,e]=W.useState([]),[r,n]=W.useState(!0),[i,s]=W.useState(0);W.useEffect(()=>{o()},[]);const o=async()=>{try{const f=await rr.get("/hei/api/ched-contacts");e(f.data)}catch(f){console.error("Error fetching CHED contacts:",f)}finally{n(!1)}},a=()=>{s(f=>f===0?t.length-1:f-1)},l=()=>{s(f=>f===t.length-1?0:f+1)},c=f=>{s(f)};if(r)return u.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl border border-blue-200 dark:border-blue-800 p-6",children:u.jsxs("div",{className:"animate-pulse space-y-3",children:[u.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),u.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"}),u.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6"})]})});if(!t||t.length===0)return null;const d=t[i],h=t.length>1;return u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl border border-blue-200 dark:border-blue-800 p-6",children:[u.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[u.jsx(Xm,{className:"text-blue-600 dark:text-blue-400"}),"Need Help?"]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Contact CHED support for assistance with your submissions"}),u.jsx("div",{className:"relative overflow-hidden min-h-[180px]",children:u.jsx("div",{className:"transition-all duration-300 ease-in-out",children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"mb-2",children:u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-base",children:d.name})}),d.address&&u.jsxs("div",{className:"flex gap-2 items-start",children:[u.jsx(iz,{className:"text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Address"}),u.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:d.address})]})]}),d.phone&&u.jsxs("div",{className:"flex gap-2 items-start",children:[u.jsx(Xm,{className:"text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Phone"}),u.jsx("a",{href:`tel:${d.phone}`,className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:d.phone})]})]}),d.email&&u.jsxs("div",{className:"flex gap-2 items-start",children:[u.jsx(MA,{className:"text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Email"}),u.jsx("a",{href:`mailto:${d.email}`,className:"text-sm text-blue-600 dark:text-blue-400 hover:underline break-all",children:d.email})]})]})]})},d.id)}),h&&u.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 dark:border-blue-700",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("button",{onClick:a,className:"p-1.5 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 text-blue-600 dark:text-blue-400 transition-colors","aria-label":"Previous contact",children:u.jsx(Kre,{size:18})}),u.jsx("div",{className:"flex items-center gap-2",children:t.map((f,g)=>u.jsx("button",{onClick:()=>c(g),className:`transition-all duration-200 rounded-full ${g===i?"w-6 h-2 bg-blue-600 dark:bg-blue-400":"w-2 h-2 bg-gray-300 dark:bg-gray-600 hover:bg-blue-400 dark:hover:bg-blue-500"}`,"aria-label":`Go to contact ${g+1}`},g))}),u.jsx("button",{onClick:l,className:"p-1.5 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 text-blue-600 dark:text-blue-400 transition-colors","aria-label":"Next contact",children:u.jsx(jC,{size:18})})]}),u.jsxs("p",{className:"text-center text-xs text-gray-500 dark:text-gray-400 mt-2",children:["Viewing ",i+1," of ",t.length]})]})]})},T5e=({activities:t=[]})=>{const e=[{id:1,title:"Annex B Published",date:"2 days ago",status:"published"},{id:2,title:"Annex F Submitted",date:"3 days ago",status:"submitted"},{id:3,title:"Annex A Published",date:"5 days ago",status:"published"}],r=t.length>0?t:e,n=i=>{switch(i){case"published":return"bg-green-500";case"submitted":return"bg-blue-500";case"request":return"bg-orange-500";case"draft":return"bg-yellow-500";default:return"bg-gray-500"}};return r.length===0?u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[u.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-8",children:"No recent activity yet"})]}):u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[u.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),u.jsx("div",{className:"space-y-3",children:r.map(i=>u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{className:`w-2 h-2 ${n(i.status)} rounded-full mt-2`}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:i.title}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i.date})]})]},i.id))})]})},k5e=({hei:t,academicYears:e,selectedYear:r,stats:n,checklist:i,deadline:s,recentActivities:o})=>{const a=n.totalForms>0?Math.round(n.submitted/n.totalForms*100):0;return u.jsx(Cd,{title:"HEI Dashboard",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Overview of your submissions for AY ",r]})]}),s&&u.jsx(_5e,{deadline:s,progressPercentage:a}),u.jsx(S5e,{stats:n}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(C5e,{checklist:i,selectedYear:r})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(R5e,{checklist:i,selectedYear:r}),u.jsx(E5e,{}),u.jsx(T5e,{activities:o})]})]})]})})},P5e=Object.freeze(Object.defineProperty({__proto__:null,default:k5e},Symbol.toStringTag,{value:"Module"})),ZR=({value:t,onChange:e,maxLength:r=1e3})=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Additional Notes (Optional)"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes for this submission"}),u.jsx("textarea",{value:t,onChange:n=>e(n.target.value),rows:4,maxLength:r,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:`Optional: Any notes for this batch submission (max ${r} characters)`}),u.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:[t.length,"/",r," characters"]})]})]}),xa=t=>{if(!t)return{type:"info",message:"No submission yet for this academic year. You can create a new submission."};const e=t.status;return e==="published"?{type:"warning",message:"This academic year has a published submission. Any changes will create an update request that requires admin approval before replacing the published version."}:e==="submitted"||e==="request"?{type:"success",message:"This academic year has an existing submission. You can edit and resubmit - it will replace the previous version."}:{type:"info",message:"You can create or update submission for this academic year."}},Fp=(t=null)=>{const r=new URLSearchParams(window.location.search).get("year");if(r)return r;if(t)return t;const n=new Date().getFullYear();return new Date().getMonth()+1>=8?`${n}-${n+1}`:`${n-1}-${n}`},Vp=({value:t,onChange:e,error:r,availableYears:n=[],required:i=!0,label:s="Academic Year",disabled:o=!1})=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gre,{className:"text-xl text-blue-500"}),u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[s,i&&u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]}),u.jsxs("select",{value:t,onChange:e,required:i,disabled:o,className:`w-full px-4 py-2 border-2 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 border-blue-300 dark:border-blue-600 ${r?"border-red-500 dark:border-red-500":""} ${o?"opacity-50 cursor-not-allowed":""}`,children:[u.jsx("option",{value:"",children:"Select Academic Year"}),n.map(a=>u.jsx("option",{value:a,children:a},a))]}),r&&u.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:r}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"You can only submit for years where no published submission exists, or overwrite the current year if not yet published."})]}),Wp=({currentForm:t,disabled:e=!1})=>{const r=i=>{const s=i.target.value;if(s===t)return;if(!window.confirm("Are you sure you want to switch forms? Any unsaved changes will be lost.")){i.target.value=t;return}s==="SUMMARY"?Gr.visit("/hei/summary/create"):Gr.visit(`/hei/annex-${s.toLowerCase()}/submit`)},n=[{value:"SUMMARY",label:"Summary - School Details"},...Object.keys(sf).sort().map(i=>({value:i,label:`Annex ${i} - ${sf[i]}`}))];return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Qm,{className:"text-xl text-blue-500"}),u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Form Type"})]}),u.jsx("select",{value:t,onChange:r,disabled:e,className:`w-full px-4 py-2 border-2 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 border-blue-300 dark:border-blue-600 ${e?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:n.map(i=>u.jsx("option",{value:i.value,children:i.label},i.value))}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Switch between different forms. Unsaved changes will be lost."})]})};qw();const Ea=({annexLetter:t,availableYears:e=[],existingBatches:r={},defaultYear:n,isEditing:i=!1})=>{const s=hX(t),o=Fp(n),a=W.useRef(null);JR();const[l,c]=W.useState(""),[d,h]=W.useState(!1),[f,g]=W.useState(o),[m,p]=W.useState({}),y=r[f],S=(y==null?void 0:y[s.entityName])||[],w=S&&S.length>0?S.map(s.dataMapper):[],[b,C]=W.useState(w);W.useEffect(()=>{if(s.hasFormFields&&s.formFields){const I=(y==null?void 0:y.formData)||{},O={};s.formFields.forEach(Z=>{O[Z.key]=I[Z.key]||""}),p(O)}},[y,s.hasFormFields]),W.useEffect(()=>{const I=r[f],O=(I==null?void 0:I[s.entityName])||[];if(s.hasFormFields&&s.formFields){const Z=(I==null?void 0:I.formData)||{},q={};s.formFields.forEach(J=>{q[J.key]=Z[J.key]||""}),p(q)}if(O.length>0){const Z=O.map(s.dataMapper);C(Z)}else C([])},[f,r]);const N=[...s.columns,{data:"actions",title:"Actions",type:"text",readOnly:!0,width:60,renderer:function(I,O,Z){return O.innerHTML='<button class="delete-row-btn text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300" data-row="'+Z+'" title="Delete this row" style="padding:0;margin:0;border:none;background:none;cursor:pointer;line-height:1;display:flex;align-items:center;justify-content:center;width:100%;height:100%;"><svg style="width:16px;height:16px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg></button>',O.className="htCenter htMiddle",O.style.cssText="padding:0;vertical-align:middle;overflow:hidden;",O}}],P=()=>{var O;const I=(O=a.current)==null?void 0:O.hotInstance;I&&I.alter("insert_row_below",I.countRows())},k=I=>{var O;if(confirm("Are you sure you want to delete this row?")){const Z=(O=a.current)==null?void 0:O.hotInstance;Z&&Z.alter("remove_row",I)}};W.useEffect(()=>{var Z,q;const I=J=>{const re=J.target.closest(".delete-row-btn");if(re){const ue=parseInt(re.dataset.row);k(ue)}},O=(q=(Z=a.current)==null?void 0:Z.hotInstance)==null?void 0:q.rootElement;if(O)return O.addEventListener("click",I),()=>O.removeEventListener("click",I)},[b]);const R=()=>{var J;const I=(J=a.current)==null?void 0:J.hotInstance;if(!I)return;const O=I.getData(),Z=[];for(let re=0;re<O.length;re++){const ue=O[re];if(ue.every((ie,ee)=>ee===ue.length-1?!0:!ie||ie===""))continue;const be=s.requiredFields.filter((ie,ee)=>{const ce=s.columns.findIndex(ae=>ae.data===ie);return!ue[ce]||ue[ce]===""});if(be.length>0){const ie=be.map(ee=>{const ce=s.columns.find(ae=>ae.data===ee);return ce?ce.title:ee});alert(`Row ${re+1}: Please fill in all required fields (${ie.join(", ")})`);return}if(s.customValidation){const ie=s.customValidation(ue,re);if(ie){alert(ie);return}}Z.push(s.submitMapper(ue))}if(Z.length===0){alert(`Please add at least one ${s.entityLabel.toLowerCase()} to submit.`);return}h(!0);const q={academic_year:f,[s.entityName]:Z,request_notes:l};s.hasFormFields&&Object.keys(m).forEach(re=>{q[re]=m[re]}),Gr.post(s.endpoint,q,{onFinish:()=>h(!1)})};return u.jsxs(Cd,{title:`Submit Annex ${t}`,children:[u.jsx("style",{children:Xw}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{children:u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:s.title}),u.jsxs("span",{className:"text-xl font-semibold text-gray-500 dark:text-gray-400",children:["Annex ",t]})]})}),!i&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Vp,{value:f,onChange:I=>{const O=I.target.value;g(O)},availableYears:e,required:!0}),u.jsx(Wp,{currentForm:t})]}),i&&u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:u.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[u.jsx("strong",{children:"Academic Year:"})," ",f]})}),u.jsx($c,{type:xa(y).type,message:xa(y).message}),u.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700 space-y-6",children:[u.jsxs("div",{children:[s.hasFormFields&&s.formFields&&u.jsx("div",{className:"space-y-4 mb-6",children:s.formFields.map(I=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:I.label}),u.jsx("input",{type:I.type,value:m[I.key]||"",onChange:O=>p({...m,[I.key]:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:I.placeholder,maxLength:I.maxLength})]},I.key))}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:s.entityLabel}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Add multiple ",s.entityLabel.toLowerCase()," below. Each row represents one ",s.entityLabel.toLowerCase().replace(/s$/,""),"."]})]}),u.jsx("div",{className:"overflow-x-auto mb-4",children:u.jsx(xo,{ref:a,data:b,colHeaders:!0,rowHeaders:!0,columns:N,height:"auto",minRows:1,licenseKey:"non-commercial-and-evaluation",stretchH:"all",autoWrapRow:!0,autoWrapCol:!0,manualColumnResize:!0,contextMenu:["row_above","row_below","undo","redo","copy","cut"],className:Ec,afterChange:t==="L"?(I,O)=>{var q;if(!I||O==="loadData")return;const Z=(q=a.current)==null?void 0:q.hotInstance;Z&&(I.forEach(([J,re,ue,ve])=>{(re==="male"||re==="female"||re==="coed")&&ve===!0&&(re!=="male"&&Z.setDataAtRowProp(J,"male",!1,"internal"),re!=="female"&&Z.setDataAtRowProp(J,"female",!1,"internal"),re!=="coed"&&Z.setDataAtRowProp(J,"coed",!1,"internal"),Z.setDataAtRowProp(J,"others","","internal")),re==="others"&&ve&&(Z.setDataAtRowProp(J,"male",!1,"internal"),Z.setDataAtRowProp(J,"female",!1,"internal"),Z.setDataAtRowProp(J,"coed",!1,"internal"))}),Z.render())}:void 0})}),u.jsxs("button",{type:"button",onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[u.jsx(Qh,{className:"text-lg"}),s.addButtonText]})]}),u.jsx(ZR,{value:l,onChange:c}),u.jsxs("div",{className:"flex justify-end gap-4",children:[u.jsx("button",{type:"button",onClick:()=>Gr.visit(`${s.endpoint}/history`),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),u.jsxs("button",{type:"button",onClick:R,disabled:d,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u.jsx(pw,{className:"text-lg"}),d?"Submitting...":"Submit Batch"]})]})]})]})]})};function N5e(t){return u.jsx(Ea,{...t,annexLetter:"A"})}const M5e=Object.freeze(Object.defineProperty({__proto__:null,default:N5e},Symbol.toStringTag,{value:"Module"}));function I5e(t){return u.jsx(Ea,{...t,annexLetter:"B"})}const A5e=Object.freeze(Object.defineProperty({__proto__:null,default:I5e},Symbol.toStringTag,{value:"Module"}));function O5e(t){return u.jsx(Ea,{...t,annexLetter:"C"})}const H5e=Object.freeze(Object.defineProperty({__proto__:null,default:O5e},Symbol.toStringTag,{value:"Module"})),j5e=({availableYears:t=[],existingBatches:e={},defaultYear:r,isEditing:n=!1})=>{const i=Fp(r),[s,o]=W.useState(i),[a,l]=W.useState(!1),[c,d]=W.useState(i),h=e[s],f=h==null?void 0:h.formData,[g,m]=W.useState({version_publication_date:(f==null?void 0:f.version_publication_date)||"",officer_in_charge:(f==null?void 0:f.officer_in_charge)||"",handbook_committee:(f==null?void 0:f.handbook_committee)||"",dissemination_orientation:(f==null?void 0:f.dissemination_orientation)||!1,orientation_dates:(f==null?void 0:f.orientation_dates)||"",mode_of_delivery:(f==null?void 0:f.mode_of_delivery)||"",dissemination_uploaded:(f==null?void 0:f.dissemination_uploaded)||!1,dissemination_others:(f==null?void 0:f.dissemination_others)||!1,dissemination_others_text:(f==null?void 0:f.dissemination_others_text)||"",type_digital:(f==null?void 0:f.type_digital)||!1,type_printed:(f==null?void 0:f.type_printed)||!1,type_others:(f==null?void 0:f.type_others)||!1,type_others_text:(f==null?void 0:f.type_others_text)||"",has_academic_policies:(f==null?void 0:f.has_academic_policies)||!1,has_admission_requirements:(f==null?void 0:f.has_admission_requirements)||!1,has_code_of_conduct:(f==null?void 0:f.has_code_of_conduct)||!1,has_scholarships:(f==null?void 0:f.has_scholarships)||!1,has_student_publication:(f==null?void 0:f.has_student_publication)||!1,has_housing_services:(f==null?void 0:f.has_housing_services)||!1,has_disability_services:(f==null?void 0:f.has_disability_services)||!1,has_student_council:(f==null?void 0:f.has_student_council)||!1,has_refund_policies:(f==null?void 0:f.has_refund_policies)||!1,has_drug_education:(f==null?void 0:f.has_drug_education)||!1,has_foreign_students:(f==null?void 0:f.has_foreign_students)||!1,has_disaster_management:(f==null?void 0:f.has_disaster_management)||!1,has_safe_spaces:(f==null?void 0:f.has_safe_spaces)||!1,has_anti_hazing:(f==null?void 0:f.has_anti_hazing)||!1,has_anti_bullying:(f==null?void 0:f.has_anti_bullying)||!1,has_violence_against_women:(f==null?void 0:f.has_violence_against_women)||!1,has_gender_fair:(f==null?void 0:f.has_gender_fair)||!1,has_others:(f==null?void 0:f.has_others)||!1,has_others_text:(f==null?void 0:f.has_others_text)||""}),[p,y]=W.useState("");W.useEffect(()=>{const w=e[s],b=w==null?void 0:w.formData;m(b?{version_publication_date:(b==null?void 0:b.version_publication_date)||"",officer_in_charge:(b==null?void 0:b.officer_in_charge)||"",handbook_committee:(b==null?void 0:b.handbook_committee)||"",dissemination_orientation:(b==null?void 0:b.dissemination_orientation)||!1,orientation_dates:(b==null?void 0:b.orientation_dates)||"",mode_of_delivery:(b==null?void 0:b.mode_of_delivery)||"",dissemination_uploaded:(b==null?void 0:b.dissemination_uploaded)||!1,dissemination_others:(b==null?void 0:b.dissemination_others)||!1,dissemination_others_text:(b==null?void 0:b.dissemination_others_text)||"",type_digital:(b==null?void 0:b.type_digital)||!1,type_printed:(b==null?void 0:b.type_printed)||!1,type_others:(b==null?void 0:b.type_others)||!1,type_others_text:(b==null?void 0:b.type_others_text)||"",has_academic_policies:(b==null?void 0:b.has_academic_policies)||!1,has_admission_requirements:(b==null?void 0:b.has_admission_requirements)||!1,has_code_of_conduct:(b==null?void 0:b.has_code_of_conduct)||!1,has_scholarships:(b==null?void 0:b.has_scholarships)||!1,has_student_publication:(b==null?void 0:b.has_student_publication)||!1,has_housing_services:(b==null?void 0:b.has_housing_services)||!1,has_disability_services:(b==null?void 0:b.has_disability_services)||!1,has_student_council:(b==null?void 0:b.has_student_council)||!1,has_refund_policies:(b==null?void 0:b.has_refund_policies)||!1,has_drug_education:(b==null?void 0:b.has_drug_education)||!1,has_foreign_students:(b==null?void 0:b.has_foreign_students)||!1,has_disaster_management:(b==null?void 0:b.has_disaster_management)||!1,has_safe_spaces:(b==null?void 0:b.has_safe_spaces)||!1,has_anti_hazing:(b==null?void 0:b.has_anti_hazing)||!1,has_anti_bullying:(b==null?void 0:b.has_anti_bullying)||!1,has_violence_against_women:(b==null?void 0:b.has_violence_against_women)||!1,has_gender_fair:(b==null?void 0:b.has_gender_fair)||!1,has_others:(b==null?void 0:b.has_others)||!1,has_others_text:(b==null?void 0:b.has_others_text)||""}:{version_publication_date:"",officer_in_charge:"",handbook_committee:"",dissemination_orientation:!1,orientation_dates:"",mode_of_delivery:"",dissemination_uploaded:!1,dissemination_others:!1,dissemination_others_text:"",type_digital:!1,type_printed:!1,type_others:!1,type_others_text:"",has_academic_policies:!1,has_admission_requirements:!1,has_code_of_conduct:!1,has_scholarships:!1,has_student_publication:!1,has_housing_services:!1,has_disability_services:!1,has_student_council:!1,has_refund_policies:!1,has_drug_education:!1,has_foreign_students:!1,has_disaster_management:!1,has_safe_spaces:!1,has_anti_hazing:!1,has_anti_bullying:!1,has_violence_against_women:!1,has_gender_fair:!1,has_others:!1,has_others_text:""})},[s,e]);const S=w=>{w.preventDefault(),l(!0),Gr.post("/hei/annex-d",{academic_year:c,...g,request_notes:p},{onFinish:()=>l(!1)})};return u.jsx(Cd,{title:"Submit Annex D",children:u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{children:u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"UPDATES ON STUDENT HANDBOOK/MANUAL"}),u.jsx("span",{className:"text-xl font-semibold text-gray-500 dark:text-gray-400",children:"Annex D"})]})}),!n&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Vp,{value:c,onChange:w=>{const b=w.target.value;d(b),o(b)},availableYears:t,required:!0}),u.jsx(Wp,{currentForm:"D"})]}),n&&u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:u.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[u.jsx("strong",{children:"Academic Year:"})," ",c]})}),u.jsx($c,{type:xa(h).type,message:xa(h).message}),u.jsx("form",{onSubmit:S,className:"relative space-y-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Basic Information"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Version/ Publication date"}),u.jsx("input",{type:"text",value:g.version_publication_date,onChange:w=>m({...g,version_publication_date:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Second Revision 2023"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Officer-in-Charge"}),u.jsx("input",{type:"text",value:g.officer_in_charge,onChange:w=>m({...g,officer_in_charge:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Dean of Students Affair"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Composition of the Student Handbook Committee"}),u.jsx("textarea",{value:g.handbook_committee,onChange:w=>m({...g,handbook_committee:w.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"List committee members..."})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Mode of Dissemination"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.dissemination_orientation,onChange:w=>m({...g,dissemination_orientation:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Orientation"})]}),g.dissemination_orientation&&u.jsxs("div",{className:"ml-8 mt-3 space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Date/s of Orientation"}),u.jsx("input",{type:"text",value:g.orientation_dates,onChange:w=>m({...g,orientation_dates:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"Enter dates"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Mode of delivery (F2F/online or both)"}),u.jsx("input",{type:"text",value:g.mode_of_delivery,onChange:w=>m({...g,mode_of_delivery:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"e.g., F2F, Online, Both"})]})]})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.dissemination_uploaded,onChange:w=>m({...g,dissemination_uploaded:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Uploaded in Website"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.dissemination_others,onChange:w=>m({...g,dissemination_others:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Others, please specify"})]}),g.dissemination_others&&u.jsx("input",{type:"text",value:g.dissemination_others_text,onChange:w=>m({...g,dissemination_others_text:w.target.value}),className:"ml-8 mt-2 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"Specify other dissemination mode"})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Type of Student Handbook/Manual"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.type_digital,onChange:w=>m({...g,type_digital:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Digital Copy"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.type_printed,onChange:w=>m({...g,type_printed:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Printed"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.type_others,onChange:w=>m({...g,type_others:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Others, please specify"})]}),g.type_others&&u.jsx("input",{type:"text",value:g.type_others_text,onChange:w=>m({...g,type_others_text:w.target.value}),className:"ml-8 mt-2 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"Specify other type"})]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Contains the following information (check all applicable items/information)"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_academic_policies,onChange:w=>m({...g,has_academic_policies:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Academic and Institutional Policies"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_admission_requirements,onChange:w=>m({...g,has_admission_requirements:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Admission requirements"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_code_of_conduct,onChange:w=>m({...g,has_code_of_conduct:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Student Code of Conduct and Discipline"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_scholarships,onChange:w=>m({...g,has_scholarships:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Scholarships/Financial Assistance"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_student_publication,onChange:w=>m({...g,has_student_publication:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Student Publication"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_housing_services,onChange:w=>m({...g,has_housing_services:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Housing Services/Dormitories (if applicable)"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_disability_services,onChange:w=>m({...g,has_disability_services:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Services for Learners with Disabilities and Special Needs"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_student_council,onChange:w=>m({...g,has_student_council:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Student Council/Government/Organizations"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_refund_policies,onChange:w=>m({...g,has_refund_policies:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Refund policies"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_drug_education,onChange:w=>m({...g,has_drug_education:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Drug Education, prevention and control"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_foreign_students,onChange:w=>m({...g,has_foreign_students:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Foreign students (if applicable)"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_disaster_management,onChange:w=>m({...g,has_disaster_management:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Disaster Risk Reduction and Management"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_safe_spaces,onChange:w=>m({...g,has_safe_spaces:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Safe Spaces Act"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_anti_hazing,onChange:w=>m({...g,has_anti_hazing:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Anti-Hazing Act"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_anti_bullying,onChange:w=>m({...g,has_anti_bullying:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Anti-Bullying Act"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_violence_against_women,onChange:w=>m({...g,has_violence_against_women:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Violence against women and their children"})]}),u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_gender_fair,onChange:w=>m({...g,has_gender_fair:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Gender-fair education"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsxs("label",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"checkbox",checked:g.has_others,onChange:w=>m({...g,has_others:w.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:"Others, please specify"})]}),g.has_others&&u.jsx("input",{type:"text",value:g.has_others_text,onChange:w=>m({...g,has_others_text:w.target.value}),className:"ml-8 mt-2 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"Specify other information"})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Additional Notes (Optional)"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes for this submission"}),u.jsx("textarea",{value:p,onChange:w=>y(w.target.value),rows:4,maxLength:1e3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Optional: Any notes for this submission (max 1000 characters)"}),u.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:[p.length,"/1000 characters"]})]})]}),u.jsxs("div",{className:"flex justify-end gap-4",children:[u.jsx("button",{type:"button",onClick:()=>Gr.visit("/hei/annex-d/history"),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),u.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u.jsx(pw,{className:"text-lg"}),a?"Submitting...":"Submit"]})]})]})})]})})},D5e=Object.freeze(Object.defineProperty({__proto__:null,default:j5e},Symbol.toStringTag,{value:"Module"}));function $5e(t){return u.jsx(Ea,{...t,annexLetter:"E"})}const L5e=Object.freeze(Object.defineProperty({__proto__:null,default:$5e},Symbol.toStringTag,{value:"Module"}));function F5e(t){return u.jsx(Ea,{...t,annexLetter:"F"})}const V5e=Object.freeze(Object.defineProperty({__proto__:null,default:F5e},Symbol.toStringTag,{value:"Module"}));qw();const W5e=({availableYears:t=[],existingBatches:e={},defaultYear:r,isEditing:n=!1})=>{const i=Fp(r),[s,o]=W.useState(i),[a,l]=W.useState(i),c=e[s],d=(c==null?void 0:c.editorialBoards)||[],h=(c==null?void 0:c.otherPublications)||[],f=(c==null?void 0:c.programs)||[],g=W.useRef(null),m=W.useRef(null),p=W.useRef(null);JR();const[y,S]=W.useState(!1),[w,b]=W.useState(""),[C,N]=W.useState((c==null?void 0:c.official_school_name)||""),[P,k]=W.useState((c==null?void 0:c.student_publication_name)||""),[R,I]=W.useState((c==null?void 0:c.publication_fee_per_student)||""),[O,Z]=W.useState((c==null?void 0:c.frequency_monthly)||!1),[q,J]=W.useState((c==null?void 0:c.frequency_quarterly)||!1),[re,ue]=W.useState((c==null?void 0:c.frequency_annual)||!1),[ve,be]=W.useState((c==null?void 0:c.frequency_per_semester)||!1),[ie,ee]=W.useState((c==null?void 0:c.frequency_others)||!1),[ce,ae]=W.useState((c==null?void 0:c.frequency_others_specify)||""),[ye,Q]=W.useState((c==null?void 0:c.publication_type_newsletter)||!1),[F,v]=W.useState((c==null?void 0:c.publication_type_gazette)||!1),[x,E]=W.useState((c==null?void 0:c.publication_type_magazine)||!1),[D,Y]=W.useState((c==null?void 0:c.publication_type_others)||!1),[_,T]=W.useState((c==null?void 0:c.publication_type_others_specify)||""),[M,$]=W.useState((c==null?void 0:c.adviser_name)||""),[j,A]=W.useState((c==null?void 0:c.adviser_position_designation)||""),U=d&&d.length>0?d.map(te=>({name:te.name,position_in_editorial_board:te.position_in_editorial_board,degree_program_year_level:te.degree_program_year_level})):[],L=h&&h.length>0?h.map(te=>({name_of_publication:te.name_of_publication,department_unit_in_charge:te.department_unit_in_charge,type_of_publication:te.type_of_publication})):[],V=f&&f.length>0?f.map(te=>({title_of_program:te.title_of_program,implementation_date:te.implementation_date?te.implementation_date.split("T")[0]:"",implementation_venue:te.implementation_venue,target_group_of_participants:te.target_group_of_participants})):[],[X,K]=W.useState(U),[se,we]=W.useState(L),[pe,He]=W.useState(V);W.useEffect(()=>{const te=e[s],We=(te==null?void 0:te.editorialBoards)||[],Ye=(te==null?void 0:te.otherPublications)||[],Nt=(te==null?void 0:te.programs)||[];N((te==null?void 0:te.official_school_name)||""),k((te==null?void 0:te.student_publication_name)||""),I((te==null?void 0:te.publication_fee_per_student)||""),Z((te==null?void 0:te.frequency_monthly)||!1),J((te==null?void 0:te.frequency_quarterly)||!1),ue((te==null?void 0:te.frequency_annual)||!1),be((te==null?void 0:te.frequency_per_semester)||!1),ee((te==null?void 0:te.frequency_others)||!1),ae((te==null?void 0:te.frequency_others_specify)||""),Q((te==null?void 0:te.publication_type_newsletter)||!1),v((te==null?void 0:te.publication_type_gazette)||!1),E((te==null?void 0:te.publication_type_magazine)||!1),Y((te==null?void 0:te.publication_type_others)||!1),T((te==null?void 0:te.publication_type_others_specify)||""),$((te==null?void 0:te.adviser_name)||""),A((te==null?void 0:te.adviser_position_designation)||""),K(We.length>0?We.map(De=>({name:De.name,position_in_editorial_board:De.position_in_editorial_board,degree_program_year_level:De.degree_program_year_level})):[]),we(Ye.length>0?Ye.map(De=>({name_of_publication:De.name_of_publication,department_unit_in_charge:De.department_unit_in_charge,type_of_publication:De.type_of_publication})):[]),He(Nt.length>0?Nt.map(De=>({title_of_program:De.title_of_program,implementation_date:De.implementation_date?De.implementation_date.split("T")[0]:"",implementation_venue:De.implementation_venue,target_group_of_participants:De.target_group_of_participants})):[])},[s,e]);const Je=[{data:"name",title:"Name",type:"text",width:200,placeholder:"Full name"},{data:"position_in_editorial_board",title:"Position in Editorial Board",type:"text",width:200,placeholder:"Position"},{data:"degree_program_year_level",title:"Degree Program and Year Level",type:"text",width:250,placeholder:"e.g., BS Computer Science - 3rd Year"},{data:"actions",title:"Actions",type:"text",readOnly:!0,width:60,renderer:function(te,We,Ye){return We.innerHTML='<button class="delete-row-btn text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300" data-row="'+Ye+'" data-table="editorial" title="Delete this row" style="padding:0;margin:0;border:none;background:none;cursor:pointer;line-height:1;display:flex;align-items:center;justify-content:center;width:100%;height:100%;"><svg style="width:16px;height:16px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg></button>',We.className="htCenter htMiddle",We.style.cssText="padding:0;vertical-align:middle;overflow:hidden;",We}}],ht=[{data:"name_of_publication",title:"Name of Publication",type:"text",width:200,placeholder:"Publication name"},{data:"department_unit_in_charge",title:"Department/Unit in Charge",type:"text",width:200,placeholder:"Department/Unit"},{data:"type_of_publication",title:"Type of Publication",type:"text",width:150,placeholder:"Type"},{data:"actions",title:"Actions",type:"text",readOnly:!0,width:60,renderer:function(te,We,Ye){return We.innerHTML='<button class="delete-row-btn text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300" data-row="'+Ye+'" data-table="publications" title="Delete this row" style="padding:0;margin:0;border:none;background:none;cursor:pointer;line-height:1;display:flex;align-items:center;justify-content:center;width:100%;height:100%;"><svg style="width:16px;height:16px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg></button>',We.className="htCenter htMiddle",We.style.cssText="padding:0;vertical-align:middle;overflow:hidden;",We}}],Oe=[{data:"title_of_program",title:"Title of Program",type:"text",width:250,placeholder:"Program title"},{data:"implementation_date",title:"Implementation Date",type:"date",dateFormat:"YYYY-MM-DD",correctFormat:!0,width:150,placeholder:"YYYY-MM-DD"},{data:"implementation_venue",title:"Implementation Venue",type:"text",width:200,placeholder:"Venue"},{data:"target_group_of_participants",title:"Target Group of Participants",type:"text",width:200,placeholder:"Target group"},{data:"actions",title:"Actions",type:"text",readOnly:!0,width:60,renderer:function(te,We,Ye){return We.innerHTML='<button class="delete-row-btn text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300" data-row="'+Ye+'" data-table="programs" title="Delete this row" style="padding:0;margin:0;border:none;background:none;cursor:pointer;line-height:1;display:flex;align-items:center;justify-content:center;width:100%;height:100%;"><svg style="width:16px;height:16px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg></button>',We.className="htCenter htMiddle",We.style.cssText="padding:0;vertical-align:middle;overflow:hidden;",We}}],Ue=te=>{var Ye,Nt,De;let We;te==="editorial"?We=(Ye=g.current)==null?void 0:Ye.hotInstance:te==="publications"?We=(Nt=m.current)==null?void 0:Nt.hotInstance:te==="programs"&&(We=(De=p.current)==null?void 0:De.hotInstance),We&&We.alter("insert_row_below",We.countRows())},vt=(te,We)=>{var Ye,Nt,De;if(confirm("Are you sure you want to delete this row?")){let rt;te==="editorial"?rt=(Ye=g.current)==null?void 0:Ye.hotInstance:te==="publications"?rt=(Nt=m.current)==null?void 0:Nt.hotInstance:te==="programs"&&(rt=(De=p.current)==null?void 0:De.hotInstance),rt&&rt.alter("remove_row",We)}};W.useEffect(()=>{var De,rt,qe,Qn,Or,nr;const te=Gt=>{const fr=Gt.target.closest(".delete-row-btn");if(fr){const Rt=parseInt(fr.dataset.row),gr=fr.dataset.table;vt(gr,Rt)}},We=(rt=(De=g.current)==null?void 0:De.hotInstance)==null?void 0:rt.rootElement,Ye=(Qn=(qe=m.current)==null?void 0:qe.hotInstance)==null?void 0:Qn.rootElement,Nt=(nr=(Or=p.current)==null?void 0:Or.hotInstance)==null?void 0:nr.rootElement;return We&&We.addEventListener("click",te),Ye&&Ye.addEventListener("click",te),Nt&&Nt.addEventListener("click",te),()=>{We&&We.removeEventListener("click",te),Ye&&Ye.removeEventListener("click",te),Nt&&Nt.removeEventListener("click",te)}},[X,se,pe]);const _t=()=>{var qe,Qn,Or;const te=(qe=g.current)==null?void 0:qe.hotInstance,We=(Qn=m.current)==null?void 0:Qn.hotInstance,Ye=(Or=p.current)==null?void 0:Or.hotInstance,Nt=[],De=[],rt=[];if(te){const nr=te.getData();for(let Gt=0;Gt<nr.length;Gt++){const fr=nr[Gt],[Rt,gr,an]=fr;if(Rt||gr||an){if(!Rt||!gr||!an){alert(`Editorial Board Row ${Gt+1}: Please fill in all fields`);return}Nt.push({name:Rt,position_in_editorial_board:gr,degree_program_year_level:an})}}}if(We){const nr=We.getData();for(let Gt=0;Gt<nr.length;Gt++){const fr=nr[Gt],[Rt,gr,an]=fr;if(Rt||gr||an){if(!Rt||!gr||!an){alert(`Other Publications Row ${Gt+1}: Please fill in all fields`);return}De.push({name_of_publication:Rt,department_unit_in_charge:gr,type_of_publication:an})}}}if(Ye){const nr=Ye.getData();for(let Gt=0;Gt<nr.length;Gt++){const fr=nr[Gt],[Rt,gr,an,Kt]=fr;if(Rt||gr||an||Kt){if(!Rt||!gr||!an||!Kt){alert(`Programs Row ${Gt+1}: Please fill in all fields`);return}rt.push({title_of_program:Rt,implementation_date:gr,implementation_venue:an,target_group_of_participants:Kt})}}}S(!0),Gr.post("/hei/annex-g",{academic_year:a,official_school_name:C,student_publication_name:P,publication_fee_per_student:R,frequency_monthly:O,frequency_quarterly:q,frequency_annual:re,frequency_per_semester:ve,frequency_others:ie,frequency_others_specify:ce,publication_type_newsletter:ye,publication_type_gazette:F,publication_type_magazine:x,publication_type_others:D,publication_type_others_specify:_,adviser_name:M,adviser_position_designation:j,editorial_boards:Nt,other_publications:De,programs:rt,request_notes:w},{onFinish:()=>S(!1)})};return u.jsxs(Cd,{title:"Submit Annex G",children:[u.jsx("style",{children:Xw}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{children:u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"CAMPUS JOURNALISM ACT (RA 7079)"}),u.jsx("span",{className:"text-xl font-semibold text-gray-500 dark:text-gray-400",children:"Annex G"})]})}),!n&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Vp,{value:a,onChange:te=>{const We=te.target.value;l(We),o(We)},availableYears:t,required:!0}),u.jsx(Wp,{currentForm:"G"})]}),n&&u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:u.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[u.jsx("strong",{children:"Academic Year:"})," ",a]})}),u.jsx($c,{type:xa(c).type,message:xa(c).message}),u.jsx("div",{className:"relative space-y-6",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Official School Name"}),u.jsx("input",{type:"text",value:C,onChange:te=>N(te.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Enter official school name",maxLength:255})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Student Publication Name"}),u.jsx("input",{type:"text",value:P,onChange:te=>k(te.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Enter publication name",maxLength:255})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Publication Fee per Student"}),u.jsx("input",{type:"number",step:"0.01",value:R,onChange:te=>I(te.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Frequency of Publication"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:O,onChange:te=>Z(te.target.checked),className:"mr-2 rounded"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Monthly"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:q,onChange:te=>J(te.target.checked),className:"mr-2 rounded"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Quarterly"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:re,onChange:te=>ue(te.target.checked),className:"mr-2 rounded"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Annual"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:ve,onChange:te=>be(te.target.checked),className:"mr-2 rounded"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Per Semester"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:ie,onChange:te=>ee(te.target.checked),className:"mr-2 rounded"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Others (please specify)"})]}),ie&&u.jsx("input",{type:"text",value:ce,onChange:te=>ae(te.target.value),className:"ml-6 w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Specify frequency",maxLength:255})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type of Publication"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:ye,onChange:te=>Q(te.target.checked),className:"mr-2 rounded"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Newsletter"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:F,onChange:te=>v(te.target.checked),className:"mr-2 rounded"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Gazette"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:x,onChange:te=>E(te.target.checked),className:"mr-2 rounded"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Magazine"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:D,onChange:te=>Y(te.target.checked),className:"mr-2 rounded"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Others (please specify)"})]}),D&&u.jsx("input",{type:"text",value:_,onChange:te=>T(te.target.value),className:"ml-6 w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Specify type",maxLength:255})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Adviser Name"}),u.jsx("input",{type:"text",value:M,onChange:te=>$(te.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Enter adviser name",maxLength:255})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Adviser Position/Designation"}),u.jsx("input",{type:"text",value:j,onChange:te=>A(te.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Enter position/designation",maxLength:255})]})]})]})})}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Editorial Board Members"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Add members of the editorial board"})]}),u.jsx("div",{className:"overflow-x-auto mb-4",children:u.jsx(xo,{ref:g,data:X,colHeaders:!0,rowHeaders:!0,columns:Je,height:"auto",minRows:1,licenseKey:"non-commercial-and-evaluation",stretchH:"all",autoWrapRow:!0,autoWrapCol:!0,manualColumnResize:!0,contextMenu:["row_above","row_below","undo","redo","copy","cut"],className:Ec})}),u.jsxs("button",{type:"button",onClick:()=>Ue("editorial"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[u.jsx(Qh,{className:"text-lg"}),"Add Editorial Board Member"]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Other Publications"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"List other publications in the institution"})]}),u.jsx("div",{className:"overflow-x-auto mb-4",children:u.jsx(xo,{ref:m,data:se,colHeaders:!0,rowHeaders:!0,columns:ht,height:"auto",minRows:1,licenseKey:"non-commercial-and-evaluation",stretchH:"all",autoWrapRow:!0,autoWrapCol:!0,manualColumnResize:!0,contextMenu:["row_above","row_below","undo","redo","copy","cut"],className:Ec})}),u.jsxs("button",{type:"button",onClick:()=>Ue("publications"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[u.jsx(Qh,{className:"text-lg"}),"Add Publication"]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Training Programs"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"List training programs and seminars conducted"})]}),u.jsx("div",{className:"overflow-x-auto mb-4",children:u.jsx(xo,{ref:p,data:pe,colHeaders:!0,rowHeaders:!0,columns:Oe,height:"auto",minRows:1,licenseKey:"non-commercial-and-evaluation",stretchH:"all",autoWrapRow:!0,autoWrapCol:!0,manualColumnResize:!0,contextMenu:["row_above","row_below","undo","redo","copy","cut"],className:Ec})}),u.jsxs("button",{type:"button",onClick:()=>Ue("programs"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[u.jsx(Qh,{className:"text-lg"}),"Add Program"]})]}),u.jsx(ZR,{value:w,onChange:b}),u.jsxs("div",{className:"flex justify-end gap-4",children:[u.jsx("button",{type:"button",onClick:()=>Gr.visit("/hei/annex-g/history"),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),u.jsxs("button",{type:"button",onClick:_t,disabled:y,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u.jsx(pw,{className:"text-lg"}),y?"Submitting...":"Submit"]})]})]})]})},B5e=Object.freeze(Object.defineProperty({__proto__:null,default:W5e},Symbol.toStringTag,{value:"Module"}));qw();const z5e=({availableYears:t=[],existingBatches:e={},defaultYear:r,isEditing:n=!1})=>{const i=Fp(r),[s,o]=W.useState(i),[a,l]=W.useState(i),c=e[s],d=(c==null?void 0:c.admission_services)||[],h=(c==null?void 0:c.admission_statistics)||[],f=W.useRef(null),g=W.useRef(null);JR();const[m,p]=W.useState(!1),[y,S]=W.useState(""),w=["General admission guidelines","Admission guidelines including accepting persons with disabilities","Admission guidelines accepting foreign students (if applicable)","Drug testing","Medical Certificate","Online enrolment and payment system","Entrance examination","Assessment"],b=d&&d.length>0?d.map(re=>({service_type:re.service_type,with:re.with||!1,supporting_documents:re.supporting_documents||"",remarks:re.remarks||""})):w.map(re=>({service_type:re,with:!1,supporting_documents:"",remarks:""})),C=h&&h.length>0?h.map(re=>({program:re.program,applicants:re.applicants,admitted:re.admitted,enrolled:re.enrolled})):[],[N,P]=W.useState(b),[k,R]=W.useState(C);W.useEffect(()=>{const re=e[s],ue=(re==null?void 0:re.admission_services)||[],ve=(re==null?void 0:re.admission_statistics)||[];ue.length>0?P(ue.map(be=>({service_type:be.service_type,with:be.with||!1,supporting_documents:be.supporting_documents||"",remarks:be.remarks||""}))):P(w.map(be=>({service_type:be,with:!1,supporting_documents:"",remarks:""}))),R(ve.length>0?ve.map(be=>({program:be.program,applicants:be.applicants,admitted:be.admitted,enrolled:be.enrolled})):[])},[s,e]);const I=[{data:"service_type",title:"Service Type",type:"text",readOnly:!0,width:350,className:"htLeft"},{data:"with",title:"With",type:"checkbox",width:80,className:"htCenter"},{data:"supporting_documents",title:"Supporting Documents",type:"text",width:250,placeholder:"Document details"},{data:"remarks",title:"Remarks",type:"text",width:250,placeholder:"Additional notes"}],O=[{data:"program",title:"Program",type:"text",width:300,placeholder:"Program name"},{data:"applicants",title:"Applicants",type:"numeric",width:120,placeholder:"0"},{data:"admitted",title:"Admitted",type:"numeric",width:120,placeholder:"0"},{data:"enrolled",title:"Enrolled",type:"numeric",width:120,placeholder:"0"},{data:"actions",title:"Actions",type:"text",readOnly:!0,width:60,renderer:function(re,ue,ve){return ue.innerHTML='<button class="delete-row-btn text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300" data-row="'+ve+'" data-table="statistics" title="Delete this row" style="padding:0;margin:0;border:none;background:none;cursor:pointer;line-height:1;display:flex;align-items:center;justify-content:center;width:100%;height:100%;"><svg style="width:16px;height:16px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg></button>',ue.className="htCenter htMiddle",ue.style.cssText="padding:0;vertical-align:middle;overflow:hidden;",ue}}],Z=re=>{var ve;const ue=(ve=g.current)==null?void 0:ve.hotInstance;ue&&ue.alter("insert_row_below",ue.countRows())},q=(re,ue)=>{var ve,be;if(confirm("Are you sure you want to delete this row?")){const ie=re==="services"?(ve=f.current)==null?void 0:ve.hotInstance:(be=g.current)==null?void 0:be.hotInstance;ie&&ie.alter("remove_row",ue)}};W.useEffect(()=>{var be,ie,ee,ce;const re=ae=>{const ye=ae.target.closest(".delete-row-btn");if(ye){const Q=parseInt(ye.dataset.row),F=ye.dataset.table;q(F,Q)}},ue=(ie=(be=f.current)==null?void 0:be.hotInstance)==null?void 0:ie.rootElement,ve=(ce=(ee=g.current)==null?void 0:ee.hotInstance)==null?void 0:ce.rootElement;return ue&&ue.addEventListener("click",re),ve&&ve.addEventListener("click",re),()=>{ue&&ue.removeEventListener("click",re),ve&&ve.removeEventListener("click",re)}},[N,k]);const J=()=>{var ie,ee;const re=(ie=f.current)==null?void 0:ie.hotInstance,ue=(ee=g.current)==null?void 0:ee.hotInstance,ve=[],be=[];if(re){const ce=re.getData();if(ce.length!==8){alert("Error: Must have exactly 8 predefined service types.");return}for(let ae=0;ae<ce.length;ae++){const ye=ce[ae],[Q,F,v,x]=ye;ve.push({service_type:Q,with:F===!0,supporting_documents:v||null,remarks:x||null})}}if(ue){const ce=ue.getData();for(let ae=0;ae<ce.length;ae++){const ye=ce[ae],[Q,F,v,x]=ye;if(Q||F||v||x){if(!Q||F===null||v===null||x===null){alert(`Statistics Row ${ae+1}: All fields are required`);return}be.push({program:Q,applicants:parseInt(F)||0,admitted:parseInt(v)||0,enrolled:parseInt(x)||0})}}}p(!0),Gr.post("/hei/annex-h",{academic_year:a,admission_services:ve,admission_statistics:be,request_notes:y},{onFinish:()=>p(!1)})};return u.jsxs(Cd,{title:"Submit Annex H",children:[u.jsx("style",{children:Xw}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{children:u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"ADMISSION SERVICES"}),u.jsx("span",{className:"text-xl font-semibold text-gray-500 dark:text-gray-400",children:"Annex H"})]})}),!n&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Vp,{value:a,onChange:re=>{const ue=re.target.value;l(ue),o(ue)},availableYears:t,required:!0}),u.jsx(Wp,{currentForm:"H"})]}),n&&u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:u.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[u.jsx("strong",{children:"Academic Year:"})," ",a]})}),u.jsx($c,{type:xa(c).type,message:xa(c).message}),u.jsxs("div",{className:"relative space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Admission Services/Requirements"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Check the box if your institution provides the service/requirement"})]}),u.jsx("div",{className:"overflow-x-auto mb-4",children:u.jsx(xo,{ref:f,data:N,colHeaders:!0,rowHeaders:!0,columns:I,height:"auto",minRows:8,maxRows:8,licenseKey:"non-commercial-and-evaluation",stretchH:"all",autoWrapRow:!0,autoWrapCol:!0,manualColumnResize:!0,contextMenu:!1,className:Ec})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Admission Statistics"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Provide admission statistics per program"})]}),u.jsx("div",{className:"overflow-x-auto mb-4",children:u.jsx(xo,{ref:g,data:k,colHeaders:!0,rowHeaders:!0,columns:O,height:"auto",minRows:1,licenseKey:"non-commercial-and-evaluation",stretchH:"all",autoWrapRow:!0,autoWrapCol:!0,manualColumnResize:!0,contextMenu:["row_above","row_below","undo","redo","copy","cut"],className:Ec})}),u.jsxs("button",{type:"button",onClick:()=>Z(),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[u.jsx(Qh,{className:"text-lg"}),"Add Program Statistics"]})]}),u.jsx(ZR,{value:y,onChange:S}),u.jsxs("div",{className:"flex justify-end gap-4",children:[u.jsx("button",{type:"button",onClick:()=>Gr.visit("/hei/annex-h/history"),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),u.jsxs("button",{type:"button",onClick:J,disabled:m,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u.jsx(pw,{className:"text-lg"}),m?"Submitting...":"Submit Batch"]})]})]})]})]})},U5e=Object.freeze(Object.defineProperty({__proto__:null,default:z5e},Symbol.toStringTag,{value:"Module"}));function Y5e(t){return u.jsx(Ea,{...t,annexLetter:"I"})}const G5e=Object.freeze(Object.defineProperty({__proto__:null,default:Y5e},Symbol.toStringTag,{value:"Module"}));function K5e(t){return u.jsx(Ea,{...t,annexLetter:"J"})}const q5e=Object.freeze(Object.defineProperty({__proto__:null,default:K5e},Symbol.toStringTag,{value:"Module"}));function X5e(t){return u.jsx(Ea,{...t,annexLetter:"K"})}const Q5e=Object.freeze(Object.defineProperty({__proto__:null,default:X5e},Symbol.toStringTag,{value:"Module"}));function J5e(t){return u.jsx(Ea,{...t,annexLetter:"L"})}const Z5e=Object.freeze(Object.defineProperty({__proto__:null,default:J5e},Symbol.toStringTag,{value:"Module"})),dy=["A. Persons with Disabilities","B. Indigenous People","C. Dependents of Solo Parents / Solo Parents","D. Other students with special needs"],eze=["Psychosocial","Disability due to chronic illness","Learning","Visual / Hearing","Orthopedic","Communication","Medical"],tze=["Living with Mother/Father only","Young Parent"],rze=({availableYears:t=[],existingBatches:e={},defaultYear:r,isEditing:n=!1})=>{const i=Fp(r),[s,o]=W.useState(i),[a,l]=W.useState(i),c=e[s],d=(c==null?void 0:c.statistics)||[],h=(c==null?void 0:c.services)||{},[f,g]=W.useState(!1),[m,p]=W.useState(""),[y,S]=W.useState([]),[w,b]=W.useState({}),C=Q=>{const F=parseInt(Q.split("-")[0]);return[`${F-2}-${F-1}`,`${F-1}-${F}`,`${F}-${F+1}`]},[N,P]=W.useState(C(s));W.useEffect(()=>{P(C(s))},[s]),W.useEffect(()=>{d&&d.length>0?S(d):k()},[s]),W.useEffect(()=>{if(h&&h.length>0){const Q={};dy.forEach(F=>{Q[F]=h.filter(v=>v.section===F)}),b(Q)}else{const Q={};dy.forEach(F=>{Q[F]=[]}),b(Q)}},[s]);const k=()=>{const Q=[];let F=0;const v={};N.forEach(x=>{v[x]={enrollment:0,graduates:0}}),eze.forEach(x=>{Q.push({category:"A. Persons with Disabilities",subcategory:x,year_data:{...v},is_subtotal:!1,display_order:F++})}),Q.push(R("A. Persons with Disabilities",F++)),Q.push(R("B. Indigenous People",F++)),tze.forEach(x=>{Q.push({category:"C. Dependents of Solo Parents / Solo Parents",subcategory:x,year_data:{...v},is_subtotal:!1,display_order:F++})}),Q.push(R("C. Dependents of Solo Parents / Solo Parents",F++)),Q.push({category:"TOTAL",subcategory:null,year_data:{...v},is_subtotal:!0,display_order:999}),S(Q)},R=(Q,F)=>{const v={};return N.forEach(x=>{v[x]={enrollment:0,graduates:0}}),{category:Q,subcategory:"Sub-Total",year_data:v,is_subtotal:!0,display_order:F}},I=Q=>{const F=[...Q];["A. Persons with Disabilities","B. Indigenous People","C. Dependents of Solo Parents / Solo Parents"].forEach(x=>{const E=F.findIndex(D=>D.category===x&&D.is_subtotal);if(E!==-1){const D=F.filter(_=>_.category===x&&!_.is_subtotal),Y={};N.forEach(_=>{const T=D.reduce(($,j)=>{var A,U;return $+(parseInt((U=(A=j.year_data)==null?void 0:A[_])==null?void 0:U.enrollment)||0)},0),M=D.reduce(($,j)=>{var A,U;return $+(parseInt((U=(A=j.year_data)==null?void 0:A[_])==null?void 0:U.graduates)||0)},0);Y[_]={enrollment:T,graduates:M}}),F[E]={...F[E],year_data:Y}}});const v=F.findIndex(x=>x.category==="TOTAL");if(v!==-1){const x=F.filter(Y=>Y.is_subtotal&&Y.category!=="TOTAL"),E=F.filter(Y=>Y.category==="D. Other students with special needs"&&!Y.is_subtotal),D={};N.forEach(Y=>{const _=x.reduce((M,$)=>{var j,A;return M+(parseInt((A=(j=$.year_data)==null?void 0:j[Y])==null?void 0:A.enrollment)||0)},0)+E.reduce((M,$)=>{var j,A;return M+(parseInt((A=(j=$.year_data)==null?void 0:j[Y])==null?void 0:A.enrollment)||0)},0),T=x.reduce((M,$)=>{var j,A;return M+(parseInt((A=(j=$.year_data)==null?void 0:j[Y])==null?void 0:A.graduates)||0)},0)+E.reduce((M,$)=>{var j,A;return M+(parseInt((A=(j=$.year_data)==null?void 0:j[Y])==null?void 0:A.graduates)||0)},0);D[Y]={enrollment:_,graduates:T}}),F[v]={...F[v],year_data:D}}return F},O=(Q,F,v)=>{const x=[...y];x[Q]={...x[Q],[F]:v},S(I(x))},Z=Q=>{const F=[...y];let v;Q==="D. Other students with special needs"?v=F.findIndex(D=>D.category==="TOTAL"):v=F.findIndex(D=>D.category===Q&&D.is_subtotal);const x={};N.forEach(D=>{x[D]={enrollment:0,graduates:0}});const E={category:Q,subcategory:"",year_data:x,is_subtotal:!1,display_order:v};F.splice(v,0,E),F.forEach((D,Y)=>{D.display_order=Y}),S(I(F))},q=Q=>{if(confirm("Are you sure you want to remove this subcategory?")){const F=y.filter((v,x)=>x!==Q);F.forEach((v,x)=>{v.display_order=x}),S(I(F))}},J=Q=>{b({...w,[Q]:[...w[Q]||[],{section:Q,category:"",institutional_services_programs_activities:"",number_of_beneficiaries_participants:0,remarks:"",display_order:(w[Q]||[]).length}]})},re=(Q,F)=>{if(confirm("Are you sure you want to remove this service?")){const v=w[Q].filter((x,E)=>E!==F);v.forEach((x,E)=>{x.display_order=E}),b({...w,[Q]:v})}},ue=(Q,F,v,x)=>{const E=[...w[Q]];E[F]={...E[F],[v]:x},b({...w,[Q]:E})},ve=()=>{for(let F=0;F<y.length;F++){const v=y[F];if(!v.is_subtotal&&v.category!=="TOTAL"&&(!v.subcategory||v.subcategory.trim()==="")){alert(`Statistics Row ${F+1}: Subcategory is required`);return}}for(const F of dy){const v=w[F]||[];for(let x=0;x<v.length;x++){const E=v[x];if(!E.institutional_services_programs_activities||E.institutional_services_programs_activities.trim()===""){alert(`${F} - Service Row ${x+1}: Institutional Services/Programs/Activities is required`);return}if(E.number_of_beneficiaries_participants===null||E.number_of_beneficiaries_participants===""){alert(`${F} - Service Row ${x+1}: Number of Beneficiaries/Participants is required`);return}}}const Q=[];dy.forEach(F=>{w[F]&&Q.push(...w[F])}),g(!0),Gr.post("/hei/annex-m",{academic_year:a,statistics:y,services:Q,request_notes:m},{onFinish:()=>g(!1)})},be=Q=>Q.year_data?N.reduce((F,v)=>{var x;return F+(parseInt((x=Q.year_data[v])==null?void 0:x.enrollment)||0)},0):0,ie=Q=>Q.year_data?N.reduce((F,v)=>{var x;return F+(parseInt((x=Q.year_data[v])==null?void 0:x.graduates)||0)},0):0,ee=Q=>Q==="B. Indigenous People"||Q==="D. Other students with special needs",ce=Q=>Q.is_subtotal||Q.category==="TOTAL"?!1:ee(Q.category),ae=()=>{let Q=null,F=0;const v={};return y.forEach((x,E)=>{x.category!==Q?(Q!==null&&(v[Q]={start:E-F,count:F}),Q=x.category,F=1):F++}),Q!==null&&(v[Q]={start:y.length-F,count:F}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 border border-gray-200 dark:border-gray-700",children:[u.jsxs("thead",{className:"bg-gray-50 dark:bg-gray-700",children:[u.jsxs("tr",{children:[u.jsx("th",{rowSpan:"2",className:"px-3 py-2 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-b border-gray-200 dark:border-gray-600",children:"Category"}),u.jsx("th",{rowSpan:"2",className:"px-3 py-2 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-b border-gray-200 dark:border-gray-600",children:"Subcategory"}),N.map(x=>u.jsxs("th",{colSpan:"2",className:"px-2 py-2 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-b border-gray-200 dark:border-gray-600",children:["AY ",x]},x)),u.jsx("th",{colSpan:"2",className:"px-2 py-2 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-b border-gray-200 dark:border-gray-600",children:"Total"}),u.jsx("th",{rowSpan:"2",className:"px-2 py-2 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-b border-gray-200 dark:border-gray-600",children:"Actions"})]}),u.jsxs("tr",{children:[N.map(x=>u.jsxs(bt.Fragment,{children:[u.jsx("th",{className:"px-2 py-1 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-600",children:"Enroll"}),u.jsx("th",{className:"px-2 py-1 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-600",children:"Grad"})]},x)),u.jsx("th",{className:"px-2 py-1 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-600",children:"Enroll"}),u.jsx("th",{className:"px-2 py-1 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-600",children:"Grad"})]})]}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:y.map((x,E)=>{const D=E===0||y[E-1].category!==x.category,Y=v[x.category],_=D?Y.count:0,T=x.is_subtotal||x.category==="TOTAL",M=T?"bg-gray-100 dark:bg-gray-700 font-semibold":"bg-white dark:bg-gray-800";return u.jsxs("tr",{className:`${M} hover:bg-gray-50 dark:hover:bg-gray-750`,children:[D&&u.jsxs("td",{rowSpan:_,className:"px-3 py-2 text-sm font-medium text-gray-900 dark:text-gray-100 border-r border-gray-200 dark:border-gray-600 align-top",children:[x.category,ee(x.category)&&u.jsx("button",{type:"button",onClick:()=>Z(x.category),className:"ml-2 text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",title:"Add subcategory",children:u.jsx(Qh,{className:"inline text-lg"})})]}),u.jsx("td",{className:"px-3 py-2 text-sm border-r border-gray-200 dark:border-gray-600",children:T?u.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:x.subcategory||"TOTAL"}):u.jsx("input",{type:"text",value:x.subcategory||"",onChange:$=>O(E,"subcategory",$.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Enter subcategory",readOnly:!ee(x.category)})}),N.map($=>{var j,A,U,L;return u.jsxs(bt.Fragment,{children:[u.jsx("td",{className:"px-2 py-2 text-sm text-center border-r border-gray-200 dark:border-gray-600",children:u.jsx("input",{type:"number",value:((A=(j=x.year_data)==null?void 0:j[$])==null?void 0:A.enrollment)??"",onChange:V=>{if(T)return;const X=V.target.value===""?0:parseInt(V.target.value)||0,K=y.map((se,we)=>{var pe;return we!==E?se:{...se,year_data:{...se.year_data,[$]:{...(pe=se.year_data)==null?void 0:pe[$],enrollment:X}}}});S(I(K))},className:`w-full px-2 py-1 text-sm text-center border border-gray-300 dark:border-gray-600 rounded ${T?"bg-gray-100 dark:bg-gray-700 font-semibold cursor-not-allowed":"bg-white dark:bg-gray-800"} text-gray-900 dark:text-gray-100`,min:"0",placeholder:"0",readOnly:T})}),u.jsx("td",{className:"px-2 py-2 text-sm text-center border-r border-gray-200 dark:border-gray-600",children:u.jsx("input",{type:"number",value:((L=(U=x.year_data)==null?void 0:U[$])==null?void 0:L.graduates)??"",onChange:V=>{if(T)return;const X=V.target.value===""?0:parseInt(V.target.value)||0,K=y.map((se,we)=>{var pe;return we!==E?se:{...se,year_data:{...se.year_data,[$]:{...(pe=se.year_data)==null?void 0:pe[$],graduates:X}}}});S(I(K))},className:`w-full px-2 py-1 text-sm text-center border border-gray-300 dark:border-gray-600 rounded ${T?"bg-gray-100 dark:bg-gray-700 font-semibold cursor-not-allowed":"bg-white dark:bg-gray-800"} text-gray-900 dark:text-gray-100`,min:"0",placeholder:"0",readOnly:T})})]},$)}),u.jsx("td",{className:"px-2 py-2 text-sm text-center font-semibold border-r border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:be(x)}),u.jsx("td",{className:"px-2 py-2 text-sm text-center font-semibold border-r border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:ie(x)}),u.jsx("td",{className:"px-2 py-2 text-sm text-center",children:ce(x)&&u.jsx("button",{type:"button",onClick:()=>q(E),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Remove this row",children:u.jsx(DC,{className:"inline text-lg"})})})]},E)})})]})})},ye=Q=>{const F=w[Q]||[];return u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:Q}),u.jsxs("button",{type:"button",onClick:()=>J(Q),className:"flex items-center gap-2 px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[u.jsx(Qh,{className:"text-base"})," Add Service"]})]}),F.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 border border-gray-200 dark:border-gray-700",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-600",children:"Category"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-600",children:"Institutional Services/Programs/Activities"}),u.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-600",children:"No. of Beneficiaries/Participants"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-200 dark:border-gray-600",children:"Remarks"}),u.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:F.map((v,x)=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-750",children:[u.jsx("td",{className:"px-3 py-2 text-sm border-r border-gray-200 dark:border-gray-600",children:u.jsx("input",{type:"text",value:v.category||"",onChange:E=>ue(Q,x,"category",E.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Category"})}),u.jsx("td",{className:"px-3 py-2 text-sm border-r border-gray-200 dark:border-gray-600",children:u.jsx("input",{type:"text",value:v.institutional_services_programs_activities||"",onChange:E=>ue(Q,x,"institutional_services_programs_activities",E.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Services/Programs/Activities"})}),u.jsx("td",{className:"px-3 py-2 text-sm text-center border-r border-gray-200 dark:border-gray-600",children:u.jsx("input",{type:"number",value:v.number_of_beneficiaries_participants||"",onChange:E=>ue(Q,x,"number_of_beneficiaries_participants",E.target.value),className:"w-full px-2 py-1 text-sm text-center border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",min:"0",placeholder:"0"})}),u.jsx("td",{className:"px-3 py-2 text-sm border-r border-gray-200 dark:border-gray-600",children:u.jsx("input",{type:"text",value:v.remarks||"",onChange:E=>ue(Q,x,"remarks",E.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Remarks"})}),u.jsx("td",{className:"px-3 py-2 text-sm text-center",children:u.jsx("button",{type:"button",onClick:()=>re(Q,x),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Remove this service",children:u.jsx(DC,{className:"inline text-lg"})})})]},x))})]})}):u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:'No services added yet. Click "Add Service" to add one.'})]})};return u.jsx(Cd,{title:"Submit Annex M",children:u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{children:u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"STUDENTS WITH SPECIAL NEEDS/PWD"}),u.jsx("span",{className:"text-xl font-semibold text-gray-500 dark:text-gray-400",children:"Annex M"})]})}),!n&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Vp,{value:a,onChange:Q=>{const F=Q.target.value;l(F),o(F)},availableYears:t,required:!0}),u.jsx(Wp,{currentForm:"M"})]}),n&&u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:u.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[u.jsx("strong",{children:"Academic Year:"})," ",a]})}),u.jsx($c,{type:xa(c).type,message:xa(c).message}),u.jsxs("div",{className:"relative space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Table 1: Statistics"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Enrollment and graduate statistics across the last three academic years (including current). Categories A and C have fixed subcategories. Categories B and D allow adding custom subcategories."})]}),ae()]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Table 2: Services"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Institutional services, programs, and activities for each category of students with special needs."})]}),dy.map(Q=>u.jsx("div",{children:ye(Q)},Q))]}),u.jsx(ZR,{value:m,onChange:p}),u.jsxs("div",{className:"flex justify-end gap-4",children:[u.jsx("button",{type:"button",onClick:()=>Gr.visit("/hei/annex-m/history"),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),u.jsxs("button",{type:"button",onClick:ve,disabled:f,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u.jsx(pw,{className:"text-lg"}),f?"Submitting...":"Submit Batch"]})]})]})]})})},nze=Object.freeze(Object.defineProperty({__proto__:null,default:rze},Symbol.toStringTag,{value:"Module"}));function ize(t){return u.jsx(Ea,{...t,annexLetter:"N"})}const sze=Object.freeze(Object.defineProperty({__proto__:null,default:ize},Symbol.toStringTag,{value:"Module"}));function oze(t){return u.jsx(Ea,{...t,annexLetter:"O"})}const aze=Object.freeze(Object.defineProperty({__proto__:null,default:oze},Symbol.toStringTag,{value:"Module"})),lze=({label:t,name:e,value:r,onChange:n,options:i=[],error:s=null,required:o=!1,disabled:a=!1,className:l="",placeholder:c="Select an option"})=>u.jsxs("div",{className:l,children:[t&&u.jsxs("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[t,o&&u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u.jsxs("select",{id:e,name:e,value:r,onChange:n,required:o,disabled:a,className:`w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 ${s?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"} ${a?"bg-gray-100 dark:bg-gray-800 cursor-not-allowed":""}`,children:[u.jsx("option",{value:"",children:c}),i.map(d=>u.jsx("option",{value:d.value,children:d.label},d.value))]}),s&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s})]}),cze=({label:t,name:e,values:r=[],onChange:n,error:i=null,placeholder:s="",required:o=!1,disabled:a=!1,className:l="",type:c="text"})=>{const d=()=>{n([...r,""])},h=g=>{const m=r.filter((p,y)=>y!==g);n(m)},f=(g,m)=>{const p=[...r];p[g]=m,n(p)};return u.jsxs("div",{className:l,children:[t&&u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[t,o&&u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u.jsxs("div",{className:"space-y-2",children:[r.map((g,m)=>u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:c,name:`${e}[${m}]`,value:g,onChange:p=>f(m,p.target.value),placeholder:s,disabled:a,className:`flex-1 px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 ${i?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"} ${a?"bg-gray-100 dark:bg-gray-800 cursor-not-allowed":""}`}),u.jsx("button",{type:"button",onClick:()=>h(m),disabled:a,className:"px-3 py-2 h-full border border-red-300 dark:border-red-600 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Remove",children:u.jsx(H_,{size:20})})]},m)),u.jsxs("button",{type:"button",onClick:d,disabled:a,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u.jsx(J5,{size:20}),u.jsxs("span",{children:["Add ",t]})]})]}),i&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i})]})},uze=({availableYears:t=[],existingSubmissions:e={},defaultYear:r,isEditing:n=!1})=>{const i=Fp(r),[s,o]=W.useState(i),a=e[s],l=a||{},{data:c,setData:d,post:h,processing:f,errors:g}=Dc({academic_year:s,population_male:(l==null?void 0:l.population_male)||"",population_female:(l==null?void 0:l.population_female)||"",population_intersex:(l==null?void 0:l.population_intersex)||"",population_total:(l==null?void 0:l.population_total)||0,submitted_org_chart:(l==null?void 0:l.submitted_org_chart)||"",hei_website:(l==null?void 0:l.hei_website)||"",sas_website:(l==null?void 0:l.sas_website)||"",social_media_contacts:(l==null?void 0:l.social_media_contacts)||[""],student_handbook:(l==null?void 0:l.student_handbook)||"",student_publication:(l==null?void 0:l.student_publication)||"",request_notes:""});W.useEffect(()=>{const y=e[s];d(y?{academic_year:s,population_male:y.population_male||"",population_female:y.population_female||"",population_intersex:y.population_intersex||"",population_total:y.population_total||0,submitted_org_chart:y.submitted_org_chart||"",hei_website:y.hei_website||"",sas_website:y.sas_website||"",social_media_contacts:y.social_media_contacts||[""],student_handbook:y.student_handbook||"",student_publication:y.student_publication||"",request_notes:""}:{academic_year:s,population_male:"",population_female:"",population_intersex:"",population_total:0,submitted_org_chart:"",hei_website:"",sas_website:"",social_media_contacts:[""],student_handbook:"",student_publication:"",request_notes:""})},[s,e]),W.useEffect(()=>{const y=parseInt(c.population_male)||0,S=parseInt(c.population_female)||0,w=parseInt(c.population_intersex)||0,b=y+S+w;d("population_total",b)},[c.population_male,c.population_female,c.population_intersex]);const m=y=>{y.preventDefault(),h("/hei/summary")},p=xa(a);return u.jsx(Cd,{title:n?"Edit Summary":"Submit Summary",children:u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{children:u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:n?"Edit Summary":"Submit Summary"}),u.jsx("span",{className:"text-xl font-semibold text-gray-500 dark:text-gray-400",children:"SUMMARY"})]})}),!n&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Vp,{value:c.academic_year,onChange:y=>{const S=y.target.value;d("academic_year",S),o(S)},availableYears:t,error:g.academic_year,required:!0}),u.jsx(Wp,{currentForm:"SUMMARY"})]}),n&&u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:u.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[u.jsx("strong",{children:"Academic Year:"})," ",c.academic_year]})}),u.jsx($c,{type:p.type,message:p.message}),u.jsx("form",{onSubmit:m,className:"relative space-y-6",children:u.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700 space-y-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b-2 border-blue-500 dark:border-blue-400",children:[u.jsx(IA,{className:"text-2xl text-blue-600 dark:text-blue-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Student Population (First Semester)"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(rne,{className:"text-xl text-blue-500"}),u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Male ",u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]}),u.jsx("input",{type:"number",name:"population_male",value:c.population_male,onChange:y=>d("population_male",y.target.value),required:!0,placeholder:"0",className:"w-full px-4 py-2 border-2 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 border-blue-300 dark:border-blue-600"})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Jre,{className:"text-xl text-pink-500"}),u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Female ",u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]}),u.jsx("input",{type:"number",name:"population_female",value:c.population_female,onChange:y=>d("population_female",y.target.value),required:!0,placeholder:"0",className:"w-full px-4 py-2 border-2 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-pink-500 border-pink-300 dark:border-pink-600"})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(tne,{className:"text-xl text-purple-500"}),u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Intersex ",u.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]}),u.jsx("input",{type:"number",name:"population_intersex",value:c.population_intersex,onChange:y=>d("population_intersex",y.target.value),required:!0,placeholder:"0",className:"w-full px-4 py-2 border-2 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 border-purple-300 dark:border-purple-600"})]})]}),u.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-pink-50 dark:from-blue-900/20 dark:to-pink-900/20 rounded-lg p-4 border-2 border-blue-200 dark:border-blue-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Yre,{className:"text-2xl text-blue-600 dark:text-blue-400"}),u.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Total Population"})]}),u.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:c.population_total.toLocaleString()})]})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b-2 border-green-500 dark:border-green-400",children:[u.jsx(Qm,{className:"text-2xl text-green-600 dark:text-green-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Organizational Information"})]}),u.jsx(lze,{label:"Submitted Organization Chart/Structure",name:"submitted_org_chart",value:c.submitted_org_chart,onChange:y=>d("submitted_org_chart",y.target.value),options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],error:g.submitted_org_chart,required:!0,placeholder:"Select an option"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b-2 border-purple-500 dark:border-purple-400",children:[u.jsx(Zre,{className:"text-2xl text-purple-600 dark:text-purple-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Contact Information"})]}),u.jsx(wo,{label:"HEI Website",name:"hei_website",type:"url",value:c.hei_website,onChange:y=>d("hei_website",y.target.value),error:g.hei_website,placeholder:"https://example.edu.ph"}),u.jsx(wo,{label:"SAS Website",name:"sas_website",type:"url",value:c.sas_website,onChange:y=>d("sas_website",y.target.value),error:g.sas_website,placeholder:"https://sas.example.edu.ph (if applicable)"}),u.jsx(cze,{label:"Social Media/Email Contacts",name:"social_media_contacts",values:c.social_media_contacts,onChange:y=>d("social_media_contacts",y),error:g.social_media_contacts,placeholder:"e.g., facebook.com/yourpage, contact@example.edu.ph"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b-2 border-orange-500 dark:border-orange-400",children:[u.jsx(Z5,{className:"text-2xl text-orange-600 dark:text-orange-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Student Resources"})]}),u.jsx(wo,{label:"Student Handbook/Manual Edition/Date",name:"student_handbook",type:"text",value:c.student_handbook,onChange:y=>d("student_handbook",y.target.value),error:g.student_handbook,placeholder:"e.g., 2026 Edition, January 2026"}),u.jsx(wo,{label:"Title of Student Publication",name:"student_publication",type:"text",value:c.student_publication,onChange:y=>d("student_publication",y.target.value),error:g.student_publication,placeholder:"e.g., The Campus Herald"})]}),n&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b-2 border-blue-500 dark:border-blue-400",children:[u.jsx(Qm,{className:"text-2xl text-blue-600 dark:text-blue-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Request Notes (Optional)"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes for this update request"}),u.jsx("textarea",{name:"request_notes",value:c.request_notes,onChange:y=>d("request_notes",y.target.value),rows:4,maxLength:1e3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Optional: Provide context or reasons for this update request"}),g.request_notes&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:g.request_notes}),u.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:[c.request_notes.length,"/1000 characters"]})]})]}),u.jsxs("div",{className:"flex justify-end gap-4 border-t border-gray-200 dark:border-gray-700 pt-6",children:[u.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Submitting...":n?"Request Update":"Submit Information"})]})]})})]})})},dze=Object.freeze(Object.defineProperty({__proto__:null,default:uze},Symbol.toStringTag,{value:"Module"})),hze=t=>{const[e,r]=W.useState(!1),[n,i]=W.useState(null);return{showCancelModal:e,selectedId:n,handleCancel:l=>{i(l),r(!0)},handleCancelConfirm:(l,c)=>{Gr.post(`/hei/${t}/${l}/cancel`,{cancelled_notes:c}),r(!1),i(null)},handleCancelClose:()=>{r(!1),i(null)}}},fze=({isOpen:t,onClose:e,onConfirm:r,submissionId:n})=>{const[i,s]=W.useState("");if(!t)return null;const o=()=>{r(n,i),s("")},a=()=>{s(""),e()};return u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:a}),u.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Cancel Request"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"This action cannot be undone"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cancellation Notes (Optional)"}),u.jsx("textarea",{value:i,onChange:l=>s(l.target.value),rows:4,maxLength:1e3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",placeholder:"Provide a reason for cancelling this request (optional)"}),u.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[i.length,"/1000 characters"]})]}),u.jsxs("div",{className:"flex gap-3 justify-end",children:[u.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Keep Request"}),u.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Cancel Request"})]})]})})]})};function gze({submissions:t,selectedAnnex:e,academicYears:r,selectedYear:n}){const{showCancelModal:i,selectedId:s,handleCancel:o,handleCancelConfirm:a,handleCancelClose:l}=hze(`annex-${(e==null?void 0:e.toLowerCase())||"a"}`);return u.jsxs(Cd,{title:"Submissions",showHeader:!1,children:[u.jsxs("div",{children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Submissions"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"View and manage all your submissions"})]}),u.jsx(fX,{mode:"hei",submissions:t,academicYears:r,selectedAnnex:e||"A",fetchDataUrl:"/hei/submissions/:annex/:batchId/data",onCancel:o,showCreateButton:!0,createButtonUrl:`/hei/annex-${(e||"A").toLowerCase()}/submit`,selectedYear:n})]}),u.jsx(fze,{isOpen:i,onClose:l,onConfirm:a,submissionId:s})]})}const mze=Object.freeze(Object.defineProperty({__proto__:null,default:gze},Symbol.toStringTag,{value:"Module"})),pze=({user:t})=>{const{data:e,setData:r,put:n,processing:i,errors:s}=Dc({name:t.name||"",email:t.email||""}),o=a=>{a.preventDefault(),n("/profile")};return u.jsx(gw,{title:"Profile Settings",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Profile Settings"}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:u.jsxs("form",{onSubmit:o,className:"space-y-6",children:[u.jsx(wo,{label:"Name",name:"name",value:e.name,onChange:a=>r("name",a.target.value),error:s.name,required:!0}),u.jsx(wo,{label:"Email Address",name:"email",type:"email",value:e.email,onChange:a=>r("email",a.target.value),error:s.email,required:!0}),u.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[u.jsx("strong",{children:"Account Type:"})," ",t.account_type]})}),u.jsxs("div",{className:"flex justify-end gap-4 border-t border-gray-200 dark:border-gray-700 pt-6",children:[u.jsx("a",{href:"/change-password",className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Change Password"}),u.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Updating...":"Update Profile"})]})]})})]})})},yze=Object.freeze(Object.defineProperty({__proto__:null,default:pze},Symbol.toStringTag,{value:"Module"})),eE=({title:t,children:e})=>{const r=[{href:"/superadmin/dashboard",label:"Dashboard",icon:u.jsx(NA,{})},{href:"/superadmin/admin-management",label:"Admin Management",icon:u.jsx(IA,{})},{href:"/superadmin/system-audit-logs",label:"System Audit Logs",icon:u.jsx(Sp,{})},{href:"/superadmin/settings",label:"Settings",icon:u.jsx(sne,{})}];return u.jsx(HA,{permission:cn.MANAGE_ADMINS,children:u.jsx(gw,{title:t,children:u.jsxs("div",{className:"flex",children:[u.jsx(OA,{links:r}),u.jsx("div",{className:"flex-1 p-6",children:e})]})})})},vze=({admins:t=[]})=>{const[e,r]=W.useState(!1),[n,i]=W.useState(!1),[s,o]=W.useState(null),[a,l]=W.useState(null),[c,d]=W.useState(!1),[h,f]=W.useState(!1),{data:g,setData:m,post:p,put:y,delete:S,processing:w,errors:b,reset:C}=Dc({name:"",email:"",password:"",password_confirmation:"",is_active:!0}),N=I=>{I.preventDefault(),n&&s?y(`/superadmin/admins/${s.id}`,{onSuccess:()=>{r(!1),i(!1),o(null),C()}}):p("/superadmin/admins",{onSuccess:()=>{r(!1),C()}})},P=I=>{o(I),i(!0),m({name:I.name,email:I.email,password:"",password_confirmation:"",is_active:I.is_active}),r(!0)},k=I=>{S(`/superadmin/admins/${I}`,{onSuccess:()=>{l(null)}})},R=()=>{i(!1),o(null),C(),r(!0)};return u.jsx(eE,{title:"Admin Management",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin Management"}),u.jsx("button",{onClick:R,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add New Admin"})]}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[u.jsx("th",{className:"text-left py-3 px-4 text-gray-700 dark:text-gray-300 font-semibold",children:"Name"}),u.jsx("th",{className:"text-left py-3 px-4 text-gray-700 dark:text-gray-300 font-semibold",children:"Email"}),u.jsx("th",{className:"text-left py-3 px-4 text-gray-700 dark:text-gray-300 font-semibold",children:"Status"}),u.jsx("th",{className:"text-left py-3 px-4 text-gray-700 dark:text-gray-300 font-semibold",children:"Created Date"}),u.jsx("th",{className:"text-left py-3 px-4 text-gray-700 dark:text-gray-300 font-semibold",children:"Actions"})]})}),u.jsx("tbody",{children:t.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"5",className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No administrators found"})}):t.map(I=>u.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[u.jsx("td",{className:"py-3 px-4 text-gray-900 dark:text-white",children:I.name}),u.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:I.email}),u.jsx("td",{className:"py-3 px-4",children:u.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${I.is_active?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:I.is_active?"Active":"Inactive"})}),u.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:I.created_at}),u.jsx("td",{className:"py-3 px-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>P(I),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit admin",children:u.jsx(nne,{size:18})}),u.jsx("button",{onClick:()=>l(I.id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete admin",children:u.jsx(DC,{size:18})})]})})]},I.id))})]})})})}),e&&u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[u.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75",onClick:()=>r(!1)}),u.jsx("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:u.jsxs("form",{onSubmit:N,children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:n?"Edit Administrator":"Add New Administrator"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),u.jsx("input",{type:"text",value:g.name,onChange:I=>m("name",I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0}),b.name&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.name})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),u.jsx("input",{type:"email",value:g.email,onChange:I=>m("email",I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0}),b.email&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.email})]}),n&&u.jsx("div",{children:u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:g.is_active,onChange:I=>m("is_active",I.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),u.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]})}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Password ",n&&u.jsx("span",{className:"text-gray-500 text-xs",children:"(leave blank to keep current)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:c?"text":"password",value:g.password,onChange:I=>m("password",I.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!n}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none transition-colors",children:c?u.jsx(dv,{size:20}):u.jsx(hv,{size:20})})]}),b.password&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.password})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:h?"text":"password",value:g.password_confirmation,onChange:I=>m("password_confirmation",I.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!n}),u.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none transition-colors",children:h?u.jsx(dv,{size:20}):u.jsx(hv,{size:20})})]}),b.password_confirmation&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.password_confirmation})]})]})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[u.jsx("button",{type:"submit",disabled:w,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:w?n?"Updating...":"Creating...":n?"Update Admin":"Create Admin"}),u.jsx("button",{type:"button",onClick:()=>r(!1),className:"mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})}),a&&u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[u.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75",onClick:()=>l(null)}),u.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:u.jsxs("div",{className:"sm:flex sm:items-start",children:[u.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/20 sm:mx-0 sm:h-10 sm:w-10",children:u.jsx(DC,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),u.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Delete Administrator"}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Are you sure you want to delete this administrator? This action cannot be undone."})})]})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[u.jsx("button",{type:"button",onClick:()=>k(a),disabled:w,className:"w-full inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:w?"Deleting...":"Delete"}),u.jsx("button",{type:"button",onClick:()=>l(null),className:"mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})]})})},wze=Object.freeze(Object.defineProperty({__proto__:null,default:vze},Symbol.toStringTag,{value:"Module"})),bze=({stats:t})=>u.jsx(eE,{title:"Super Admin Dashboard",children:u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Super Admin Dashboard"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(uc,{title:"Total Admins",value:(t==null?void 0:t.total_admins)||0,icon:u.jsx(IA,{}),color:"blue"}),u.jsx(uc,{title:"Total HEIs",value:(t==null?void 0:t.total_heis)||0,icon:u.jsx(oz,{}),color:"green"}),u.jsx(uc,{title:"Total Submissions",value:(t==null?void 0:t.total_submissions)||0,icon:u.jsx(Qm,{}),color:"purple"}),u.jsx(uc,{title:"System Audit Logs",value:(t==null?void 0:t.total_audit_logs)||0,icon:u.jsx(Sp,{}),color:"yellow"})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"System Overview"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Welcome to the CHED HEI Information Management System. As a Super Administrator, you have full access to manage administrators, view system audit logs, and configure system settings."})]})]})}),Sze=Object.freeze(Object.defineProperty({__proto__:null,default:bze},Symbol.toStringTag,{value:"Module"})),xze=({settings:t})=>{const{data:e,setData:r,post:n,processing:i,errors:s}=Dc({annual_submission_deadline:(t==null?void 0:t.annual_submission_deadline)||"",maintenance_mode:(t==null?void 0:t.maintenance_mode)==="1"||(t==null?void 0:t.maintenance_mode)===!0}),o=a=>{a.preventDefault(),n("/superadmin/settings")};return u.jsx(eE,{title:"System Settings",children:u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"System Settings"}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:u.jsxs("form",{onSubmit:o,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Annual Submission Deadline ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"datetime-local",name:"annual_submission_deadline",value:e.annual_submission_deadline,onChange:a=>r("annual_submission_deadline",a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0}),s.annual_submission_deadline&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.annual_submission_deadline}),u.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Set the deadline date and time (e.g., September 1, 12:00 AM). The year shown is just for reference - only the month, day, and time matter. This deadline repeats annually."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"checkbox",id:"maintenance_mode",checked:e.maintenance_mode,onChange:a=>r("maintenance_mode",a.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"maintenance_mode",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Enable Maintenance Mode"})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Settings"})})]})})]})})},Cze=Object.freeze(Object.defineProperty({__proto__:null,default:xze},Symbol.toStringTag,{value:"Module"}));function _ze({logs:t,filters:e,queryParams:r}){return u.jsx(lz,{Layout:eE,pageTitle:"System Audit Logs",headerTitle:"System Audit Logs",headerDescription:"Comprehensive view of all administrative actions across the system.",logs:t,filters:e,queryParams:r,routeName:"superadmin.system-audit-logs",showUserRoleFilter:!0})}const Rze=Object.freeze(Object.defineProperty({__proto__:null,default:_ze},Symbol.toStringTag,{value:"Module"}));window.axios=rr;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var gX,cB=f8;gX=cB.createRoot,cB.hydrateRoot;var tE=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Eze={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Au,gA,vB,Tze=(vB=class{constructor(){Et(this,Au,Eze);Et(this,gA,!1)}setTimeoutProvider(t){Ke(this,Au,t)}setTimeout(t,e){return le(this,Au).setTimeout(t,e)}clearTimeout(t){le(this,Au).clearTimeout(t)}setInterval(t,e){return le(this,Au).setInterval(t,e)}clearInterval(t){le(this,Au).clearInterval(t)}},Au=new WeakMap,gA=new WeakMap,vB),uA=new Tze;function kze(t){setTimeout(t,0)}var rE=typeof window>"u"||"Deno"in globalThis;function ta(){}function Pze(t,e){return typeof t=="function"?t(e):t}function Nze(t){return typeof t=="number"&&t>=0&&t!==1/0}function Mze(t,e){return Math.max(t+(e||0)-Date.now(),0)}function dA(t,e){return typeof t=="function"?t(e):t}function Ize(t,e){return typeof t=="function"?t(e):t}function uB(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==XD(o,e.options))return!1}else if(!tw(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function dB(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(ew(e.options.mutationKey)!==ew(s))return!1}else if(!tw(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function XD(t,e){return((e==null?void 0:e.queryKeyHashFn)||ew)(t)}function ew(t){return JSON.stringify(t,(e,r)=>hA(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function tw(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>tw(t[r],e[r])):!1}var Aze=Object.prototype.hasOwnProperty;function mX(t,e,r=0){if(t===e)return t;if(r>500)return e;const n=hB(t)&&hB(e);if(!n&&!(hA(t)&&hA(e)))return e;const s=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),a=o.length,l=n?new Array(a):{};let c=0;for(let d=0;d<a;d++){const h=n?d:o[d],f=t[h],g=e[h];if(f===g){l[h]=f,(n?d<s:Aze.call(t,h))&&c++;continue}if(f===null||g===null||typeof f!="object"||typeof g!="object"){l[h]=g;continue}const m=mX(f,g,r+1);l[h]=m,m===f&&c++}return s===a&&c===s?t:l}function hB(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hA(t){if(!fB(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!fB(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fB(t){return Object.prototype.toString.call(t)==="[object Object]"}function Oze(t){return new Promise(e=>{uA.setTimeout(e,t)})}function Hze(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?mX(t,e):e}function jze(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Dze(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var QD=Symbol();function pX(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===QD?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function $ze(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var Bh,Ou,$m,wB,Lze=(wB=class extends tE{constructor(){super();Et(this,Bh);Et(this,Ou);Et(this,$m);Ke(this,$m,e=>{if(!rE&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){le(this,Ou)||this.setEventListener(le(this,$m))}onUnsubscribe(){var e;this.hasListeners()||((e=le(this,Ou))==null||e.call(this),Ke(this,Ou,void 0))}setEventListener(e){var r;Ke(this,$m,e),(r=le(this,Ou))==null||r.call(this),Ke(this,Ou,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){le(this,Bh)!==e&&(Ke(this,Bh,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof le(this,Bh)=="boolean"?le(this,Bh):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bh=new WeakMap,Ou=new WeakMap,$m=new WeakMap,wB),yX=new Lze;function Fze(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var Vze=kze;function Wze(){let t=[],e=0,r=a=>{a()},n=a=>{a()},i=Vze;const s=a=>{e?t.push(a):i(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var Ai=Wze(),Lm,Hu,Fm,bB,Bze=(bB=class extends tE{constructor(){super();Et(this,Lm,!0);Et(this,Hu);Et(this,Fm);Ke(this,Fm,e=>{if(!rE&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){le(this,Hu)||this.setEventListener(le(this,Fm))}onUnsubscribe(){var e;this.hasListeners()||((e=le(this,Hu))==null||e.call(this),Ke(this,Hu,void 0))}setEventListener(e){var r;Ke(this,Fm,e),(r=le(this,Hu))==null||r.call(this),Ke(this,Hu,e(this.setOnline.bind(this)))}setOnline(e){le(this,Lm)!==e&&(Ke(this,Lm,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return le(this,Lm)}},Lm=new WeakMap,Hu=new WeakMap,Fm=new WeakMap,bB),x_=new Bze;function zze(t){return Math.min(1e3*2**t,3e4)}function vX(t){return(t??"online")==="online"?x_.isOnline():!0}var fA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function wX(t){let e=!1,r=0,n;const i=Fze(),s=()=>i.status!=="pending",o=p=>{var y;if(!s()){const S=new fA(p);f(S),(y=t.onCancel)==null||y.call(t,S)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>yX.isFocused()&&(t.networkMode==="always"||x_.isOnline())&&t.canRun(),d=()=>vX(t.networkMode)&&t.canRun(),h=p=>{s()||(n==null||n(),i.resolve(p))},f=p=>{s()||(n==null||n(),i.reject(p))},g=()=>new Promise(p=>{var y;n=S=>{(s()||c())&&p(S)},(y=t.onPause)==null||y.call(t)}).then(()=>{var p;n=void 0,s()||(p=t.onContinue)==null||p.call(t)}),m=()=>{if(s())return;let p;const y=r===0?t.initialPromise:void 0;try{p=y??t.fn()}catch(S){p=Promise.reject(S)}Promise.resolve(p).then(h).catch(S=>{var P;if(s())return;const w=t.retry??(rE?0:3),b=t.retryDelay??zze,C=typeof b=="function"?b(r,S):b,N=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,S);if(e||!N){f(S);return}r++,(P=t.onFail)==null||P.call(t,r,S),Oze(C).then(()=>c()?void 0:g()).then(()=>{e?f(S):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?m():g().then(m),i)}}var zh,SB,bX=(SB=class{constructor(){Et(this,zh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nze(this.gcTime)&&Ke(this,zh,uA.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(rE?1/0:5*60*1e3))}clearGcTimeout(){le(this,zh)&&(uA.clearTimeout(le(this,zh)),Ke(this,zh,void 0))}},zh=new WeakMap,SB),Uh,Vm,so,Yh,Hn,rw,Gh,ra,ec,xB,Uze=(xB=class extends bX{constructor(e){super();Et(this,ra);Et(this,Uh);Et(this,Vm);Et(this,so);Et(this,Yh);Et(this,Hn);Et(this,rw);Et(this,Gh);Ke(this,Gh,!1),Ke(this,rw,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ke(this,Yh,e.client),Ke(this,so,le(this,Yh).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ke(this,Uh,mB(this.options)),this.state=e.state??le(this,Uh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=le(this,Hn))==null?void 0:e.promise}setOptions(e){if(this.options={...le(this,rw),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=mB(this.options);r.data!==void 0&&(this.setState(gB(r.data,r.dataUpdatedAt)),Ke(this,Uh,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&le(this,so).remove(this)}setData(e,r){const n=Hze(this.state.data,e,this.options);return ei(this,ra,ec).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){ei(this,ra,ec).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=le(this,Hn))==null?void 0:n.promise;return(i=le(this,Hn))==null||i.cancel(e),r?r.then(ta).catch(ta):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(le(this,Uh))}isActive(){return this.observers.some(e=>Ize(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===QD||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>dA(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Mze(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=le(this,Hn))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=le(this,Hn))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),le(this,so).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(le(this,Hn)&&(le(this,Gh)?le(this,Hn).cancel({revert:!0}):le(this,Hn).cancelRetry()),this.scheduleGc()),le(this,so).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ei(this,ra,ec).call(this,{type:"invalidate"})}async fetch(e,r){var l,c,d,h,f,g,m,p,y,S,w,b;if(this.state.fetchStatus!=="idle"&&((l=le(this,Hn))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(le(this,Hn))return le(this,Hn).continueRetry(),le(this,Hn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const C=this.observers.find(N=>N.options.queryFn);C&&this.setOptions(C.options)}const n=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(Ke(this,Gh,!0),n.signal)})},s=()=>{const C=pX(this.options,r),P=(()=>{const k={client:le(this,Yh),queryKey:this.queryKey,meta:this.meta};return i(k),k})();return Ke(this,Gh,!1),this.options.persister?this.options.persister(C,P,this):C(P)},a=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:le(this,Yh),state:this.state,fetchFn:s};return i(C),C})();(c=this.options.behavior)==null||c.onFetch(a,this),Ke(this,Vm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&ei(this,ra,ec).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),Ke(this,Hn,wX({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:C=>{C instanceof fA&&C.revert&&this.setState({...le(this,Vm),fetchStatus:"idle"}),n.abort()},onFail:(C,N)=>{ei(this,ra,ec).call(this,{type:"failed",failureCount:C,error:N})},onPause:()=>{ei(this,ra,ec).call(this,{type:"pause"})},onContinue:()=>{ei(this,ra,ec).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const C=await le(this,Hn).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(g=(f=le(this,so).config).onSuccess)==null||g.call(f,C,this),(p=(m=le(this,so).config).onSettled)==null||p.call(m,C,this.state.error,this),C}catch(C){if(C instanceof fA){if(C.silent)return le(this,Hn).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw ei(this,ra,ec).call(this,{type:"error",error:C}),(S=(y=le(this,so).config).onError)==null||S.call(y,C,this),(b=(w=le(this,so).config).onSettled)==null||b.call(w,this.state.data,C,this),C}finally{this.scheduleGc()}}},Uh=new WeakMap,Vm=new WeakMap,so=new WeakMap,Yh=new WeakMap,Hn=new WeakMap,rw=new WeakMap,Gh=new WeakMap,ra=new WeakSet,ec=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Yze(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...gB(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ke(this,Vm,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Ai.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),le(this,so).notify({query:this,type:"updated",action:e})})},xB);function Yze(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vX(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function gB(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function mB(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function pB(t){return{onFetch:(e,r)=>{var d,h,f,g,m;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let p=!1;const y=b=>{$ze(b,()=>e.signal,()=>p=!0)},S=pX(e.options,e.fetchOptions),w=async(b,C,N)=>{if(p)return Promise.reject();if(C==null&&b.pages.length)return Promise.resolve(b);const k=(()=>{const Z={client:e.client,queryKey:e.queryKey,pageParam:C,direction:N?"backward":"forward",meta:e.options.meta};return y(Z),Z})(),R=await S(k),{maxPages:I}=e.options,O=N?Dze:jze;return{pages:O(b.pages,R,I),pageParams:O(b.pageParams,C,I)}};if(i&&s.length){const b=i==="backward",C=b?Gze:yB,N={pages:s,pageParams:o},P=C(n,N);a=await w(N,P,b)}else{const b=t??s.length;do{const C=l===0?o[0]??n.initialPageParam:yB(n,a);if(l>0&&C==null)break;a=await w(a,C),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var p,y;return(y=(p=e.options).persister)==null?void 0:y.call(p,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function yB(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Gze(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var nw,cl,ui,Kh,ul,Su,CB,Kze=(CB=class extends bX{constructor(e){super();Et(this,ul);Et(this,nw);Et(this,cl);Et(this,ui);Et(this,Kh);Ke(this,nw,e.client),this.mutationId=e.mutationId,Ke(this,ui,e.mutationCache),Ke(this,cl,[]),this.state=e.state||qze(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){le(this,cl).includes(e)||(le(this,cl).push(e),this.clearGcTimeout(),le(this,ui).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ke(this,cl,le(this,cl).filter(r=>r!==e)),this.scheduleGc(),le(this,ui).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){le(this,cl).length||(this.state.status==="pending"?this.scheduleGc():le(this,ui).remove(this))}continue(){var e;return((e=le(this,Kh))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,d,h,f,g,m,p,y,S,w,b,C,N,P,k;const r=()=>{ei(this,ul,Su).call(this,{type:"continue"})},n={client:le(this,nw),meta:this.options.meta,mutationKey:this.options.mutationKey};Ke(this,Kh,wX({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,I)=>{ei(this,ul,Su).call(this,{type:"failed",failureCount:R,error:I})},onPause:()=>{ei(this,ul,Su).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>le(this,ui).canRun(this)}));const i=this.state.status==="pending",s=!le(this,Kh).canStart();try{if(i)r();else{ei(this,ul,Su).call(this,{type:"pending",variables:e,isPaused:s}),le(this,ui).config.onMutate&&await le(this,ui).config.onMutate(e,this,n);const I=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e,n));I!==this.state.context&&ei(this,ul,Su).call(this,{type:"pending",context:I,variables:e,isPaused:s})}const R=await le(this,Kh).start();return await((c=(l=le(this,ui).config).onSuccess)==null?void 0:c.call(l,R,e,this.state.context,this,n)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,R,e,this.state.context,n)),await((g=(f=le(this,ui).config).onSettled)==null?void 0:g.call(f,R,null,this.state.variables,this.state.context,this,n)),await((p=(m=this.options).onSettled)==null?void 0:p.call(m,R,null,e,this.state.context,n)),ei(this,ul,Su).call(this,{type:"success",data:R}),R}catch(R){try{await((S=(y=le(this,ui).config).onError)==null?void 0:S.call(y,R,e,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((b=(w=this.options).onError)==null?void 0:b.call(w,R,e,this.state.context,n))}catch(I){Promise.reject(I)}try{await((N=(C=le(this,ui).config).onSettled)==null?void 0:N.call(C,void 0,R,this.state.variables,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,R,e,this.state.context,n))}catch(I){Promise.reject(I)}throw ei(this,ul,Su).call(this,{type:"error",error:R}),R}finally{le(this,ui).runNext(this)}}},nw=new WeakMap,cl=new WeakMap,ui=new WeakMap,Kh=new WeakMap,ul=new WeakSet,Su=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ai.batch(()=>{le(this,cl).forEach(n=>{n.onMutationUpdate(e)}),le(this,ui).notify({mutation:this,type:"updated",action:e})})},CB);function qze(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cc,na,iw,_B,Xze=(_B=class extends tE{constructor(e={}){super();Et(this,cc);Et(this,na);Et(this,iw);this.config=e,Ke(this,cc,new Set),Ke(this,na,new Map),Ke(this,iw,0)}build(e,r,n){const i=new Kze({client:e,mutationCache:this,mutationId:++hb(this,iw)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){le(this,cc).add(e);const r=kx(e);if(typeof r=="string"){const n=le(this,na).get(r);n?n.push(e):le(this,na).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(le(this,cc).delete(e)){const r=kx(e);if(typeof r=="string"){const n=le(this,na).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&le(this,na).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=kx(e);if(typeof r=="string"){const n=le(this,na).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=kx(e);if(typeof r=="string"){const i=(n=le(this,na).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ai.batch(()=>{le(this,cc).forEach(e=>{this.notify({type:"removed",mutation:e})}),le(this,cc).clear(),le(this,na).clear()})}getAll(){return Array.from(le(this,cc))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>dB(r,n))}findAll(e={}){return this.getAll().filter(r=>dB(e,r))}notify(e){Ai.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Ai.batch(()=>Promise.all(e.map(r=>r.continue().catch(ta))))}},cc=new WeakMap,na=new WeakMap,iw=new WeakMap,_B);function kx(t){var e;return(e=t.options.scope)==null?void 0:e.id}var dl,RB,Qze=(RB=class extends tE{constructor(e={}){super();Et(this,dl);this.config=e,Ke(this,dl,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??XD(i,r);let o=this.get(s);return o||(o=new Uze({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){le(this,dl).has(e.queryHash)||(le(this,dl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=le(this,dl).get(e.queryHash);r&&(e.destroy(),r===e&&le(this,dl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ai.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return le(this,dl).get(e)}getAll(){return[...le(this,dl).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>uB(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>uB(e,n)):r}notify(e){Ai.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Ai.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ai.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},dl=new WeakMap,RB),Lr,ju,Du,Wm,Bm,$u,zm,Um,EB,Jze=(EB=class{constructor(t={}){Et(this,Lr);Et(this,ju);Et(this,Du);Et(this,Wm);Et(this,Bm);Et(this,$u);Et(this,zm);Et(this,Um);Ke(this,Lr,t.queryCache||new Qze),Ke(this,ju,t.mutationCache||new Xze),Ke(this,Du,t.defaultOptions||{}),Ke(this,Wm,new Map),Ke(this,Bm,new Map),Ke(this,$u,0)}mount(){hb(this,$u)._++,le(this,$u)===1&&(Ke(this,zm,yX.subscribe(async t=>{t&&(await this.resumePausedMutations(),le(this,Lr).onFocus())})),Ke(this,Um,x_.subscribe(async t=>{t&&(await this.resumePausedMutations(),le(this,Lr).onOnline())})))}unmount(){var t,e;hb(this,$u)._--,le(this,$u)===0&&((t=le(this,zm))==null||t.call(this),Ke(this,zm,void 0),(e=le(this,Um))==null||e.call(this),Ke(this,Um,void 0))}isFetching(t){return le(this,Lr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return le(this,ju).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=le(this,Lr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=le(this,Lr).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(dA(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return le(this,Lr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=le(this,Lr).get(n.queryHash),s=i==null?void 0:i.state.data,o=Pze(e,s);if(o!==void 0)return le(this,Lr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Ai.batch(()=>le(this,Lr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=le(this,Lr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=le(this,Lr);Ai.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=le(this,Lr);return Ai.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Ai.batch(()=>le(this,Lr).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(ta).catch(ta)}invalidateQueries(t,e={}){return Ai.batch(()=>(le(this,Lr).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Ai.batch(()=>le(this,Lr).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(ta)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(ta)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=le(this,Lr).build(this,e);return r.isStaleByTime(dA(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ta).catch(ta)}fetchInfiniteQuery(t){return t.behavior=pB(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ta).catch(ta)}ensureInfiniteQueryData(t){return t.behavior=pB(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return x_.isOnline()?le(this,ju).resumePausedMutations():Promise.resolve()}getQueryCache(){return le(this,Lr)}getMutationCache(){return le(this,ju)}getDefaultOptions(){return le(this,Du)}setDefaultOptions(t){Ke(this,Du,t)}setQueryDefaults(t,e){le(this,Wm).set(ew(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...le(this,Wm).values()],r={};return e.forEach(n=>{tw(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){le(this,Bm).set(ew(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...le(this,Bm).values()],r={};return e.forEach(n=>{tw(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...le(this,Du).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=XD(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===QD&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...le(this,Du).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){le(this,Lr).clear(),le(this,ju).clear()}},Lr=new WeakMap,ju=new WeakMap,Du=new WeakMap,Wm=new WeakMap,Bm=new WeakMap,$u=new WeakMap,zm=new WeakMap,Um=new WeakMap,EB),Zze=W.createContext(void 0),eUe=({client:t,children:e})=>(W.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(Zze.Provider,{value:t,children:e}));const tUe=new Jze({defaultOptions:{queries:{staleTime:5*60*1e3,cacheTime:10*60*1e3,refetchOnWindowFocus:!0,retry:1}}});_re({resolve:t=>Object.assign({"./Pages/Admin/AuditLogs.jsx":dne,"./Pages/Admin/CHEDContacts.jsx":fne,"./Pages/Admin/Dashboard.jsx":Sne,"./Pages/Admin/HEIAccounts.jsx":Cne,"./Pages/Admin/MER/Form1Index.jsx":UBe,"./Pages/Admin/MER/Form2Index.jsx":GBe,"./Pages/Admin/MER/Form3Index.jsx":qBe,"./Pages/Admin/Submissions/Index.jsx":QBe,"./Pages/Admin/Submissions/Show.jsx":h5e,"./Pages/Auth/ChangePassword.jsx":g5e,"./Pages/Auth/ForgotPassword.jsx":p5e,"./Pages/Auth/Login.jsx":w5e,"./Pages/HEI/Dashboard.jsx":P5e,"./Pages/HEI/Forms/AnnexACreate.jsx":M5e,"./Pages/HEI/Forms/AnnexBCreate.jsx":A5e,"./Pages/HEI/Forms/AnnexCCreate.jsx":H5e,"./Pages/HEI/Forms/AnnexDCreate.jsx":D5e,"./Pages/HEI/Forms/AnnexECreate.jsx":L5e,"./Pages/HEI/Forms/AnnexFCreate.jsx":V5e,"./Pages/HEI/Forms/AnnexGCreate.jsx":B5e,"./Pages/HEI/Forms/AnnexHCreate.jsx":U5e,"./Pages/HEI/Forms/AnnexICreate.jsx":G5e,"./Pages/HEI/Forms/AnnexJCreate.jsx":q5e,"./Pages/HEI/Forms/AnnexKCreate.jsx":Q5e,"./Pages/HEI/Forms/AnnexLCreate.jsx":Z5e,"./Pages/HEI/Forms/AnnexMCreate.jsx":nze,"./Pages/HEI/Forms/AnnexNCreate.jsx":sze,"./Pages/HEI/Forms/AnnexOCreate.jsx":aze,"./Pages/HEI/Forms/SummaryCreate.jsx":dze,"./Pages/HEI/Submissions/Index.jsx":mze,"./Pages/Profile/Edit.jsx":yze,"./Pages/SuperAdmin/AdminManagement.jsx":wze,"./Pages/SuperAdmin/Dashboard.jsx":Sze,"./Pages/SuperAdmin/Settings.jsx":Cze,"./Pages/SuperAdmin/SystemAuditLogs.jsx":Rze})[`./Pages/${t}.jsx`],setup({el:t,App:e,props:r}){gX(t).render(u.jsx(eUe,{client:tUe,children:u.jsx(Mre,{children:u.jsx(e,{...r})})}))}})});export default rUe();
